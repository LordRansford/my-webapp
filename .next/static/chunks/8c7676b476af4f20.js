;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="140a230a-841c-28e1-5500-ddb7bfb4c32e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,215125,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var l={VALID_LOADERS:function(){return r},imageConfigDefault:function(){return o}};for(var a in l)Object.defineProperty(s,a,{enumerable:!0,get:l[a]});let r=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},813521,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return r}});let l=e.r(741705)._(e.r(191788)),a=e.r(215125),r=l.default.createContext(a.imageConfigDefault)},699734,e=>{"use strict";var t=e.i(391398),s=e.i(191788),l=e.i(41158),a=e.i(830117);let r={js:[{title:"Hello world",code:'console.log("Hello world")'},{title:"Simple loop",code:`let sum = 0;
for (let i = 1; i <= 5; i++) sum += i;
console.log("sum", sum);`},{title:"Tiny transform",code:`const nums = [1, 2, 3, 4];
const doubled = nums.map((n) => n * 2);
console.log(doubled.join(", "));`}],py:[{title:"Hello world",code:'print("Hello world")'},{title:"Simple loop",code:`total = 0
for i in range(1, 6):
  total += i
print("sum", total)`},{title:"Tiny transform",code:`nums = [1, 2, 3, 4]
doubled = [n * 2 for n in nums]
print(",".join(str(n) for n in doubled))`}]};async function o(e){return new Promise(t=>setTimeout(t,e))}function n(){let[e,n]=(0,s.useState)("js"),[d,i]=(0,s.useState)(0),[c,u]=(0,s.useState)(r.js[0].code),[m,x]=(0,s.useState)(""),[b,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[g,j]=(0,s.useState)("idle"),[N,w]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[S,C]=(0,s.useState)(null),[T,P]=(0,s.useState)(null),k=(0,s.useMemo)(()=>r[e],[e]);(0,s.useEffect)(()=>{i(0),u(r[e][0].code),w(""),v(""),C(null),P(null),f(null),j("idle"),p(!1)},[e]),(0,s.useEffect)(()=>{let e=!0;async function t(t){j("queued");for(let s=0;s<60;s++){if(!e)return;let s=await fetch(`/api/jobs/${encodeURIComponent(t)}`),l=await s.json().catch(()=>null),a=l?.job?.status||null;if(a&&j(String(a)),"succeeded"===a){w(String(l?.job?.resultJson?.stdout||"")),v(String(l?.job?.resultJson?.stderr||"")),C({durationMs:Number(l?.job?.durationMs||0),freeTierAppliedMs:Number(l?.job?.freeTierAppliedMs||0),chargedCredits:Number(l?.job?.chargedCredits||0)}),p(!1);return}if("denied"===a||"failed"===a||"cancelled"===a){P(String(l?.job?.errorMessage||"Job did not complete.")),p(!1);return}await o(600)}P("Timed out waiting for job."),p(!1)}return h&&t(h),()=>{e=!1}},[h]);let _=async()=>{try{await navigator.clipboard.writeText(c)}catch{P("Could not copy to clipboard. Please copy manually.")}},M=async()=>{p(!0),P(null),w(""),v(""),C(null),j("creating"),f(null);let t=await fetch("/api/jobs/create",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({toolId:"code-runner",mode:"enqueue",inputBytes:c.length,payload:{language:e,code:c,input:m,presets:[]}})}),s=await t.json().catch(()=>null);if(!t.ok||!s?.jobId){P(String(s?.error||"Unable to create job.")),p(!1),j("idle");return}f(String(s.jobId))};return(0,t.jsx)(a.MarketingPageTemplate,{breadcrumbs:[{label:"Home",href:"/"},{label:"Tools",href:"/tools"},{label:"Code Lab"}],children:(0,t.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-12 md:px-6 lg:px-8 space-y-8",children:[(0,t.jsxs)("header",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-600",children:"Tools"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Code Lab"}),(0,t.jsx)("p",{className:"text-slate-700",children:"Run small snippets in a secure sandbox. No network. No filesystem. No OS shell access."}),(0,t.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-800",children:"Runs in a secure sandbox with limits: 8 seconds, 128 MB, no network. JS runs in-browser; Python runs in a remote locked-down runner."})]}),(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>n("js"),className:`rounded-full px-4 py-2 text-sm font-semibold border ${"js"===e?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-900 border-slate-300"}`,children:"JavaScript (runs in browser)"}),(0,t.jsx)("button",{type:"button",onClick:()=>n("py"),className:`rounded-full px-4 py-2 text-sm font-semibold border ${"py"===e?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-900 border-slate-300"}`,children:"Python (sandboxed runner)"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((e,s)=>(0,t.jsx)("button",{type:"button",onClick:()=>{i(s),u(k[s].code)},className:`rounded-full px-3 py-1 text-xs font-semibold border ${d===s?"bg-emerald-50 text-emerald-900 border-emerald-200":"bg-white text-slate-700 border-slate-200"}`,children:e.title},e.title))}),(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-700",children:"Code"}),(0,t.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:12,className:"w-full rounded-2xl border border-slate-200 bg-white p-3 font-mono text-sm text-slate-900"})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-700",children:"Input (optional)"}),(0,t.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),rows:12,className:"w-full rounded-2xl border border-slate-200 bg-white p-3 font-mono text-sm text-slate-900"})]})]}),T?(0,t.jsx)("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-900",children:T}):null,(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:M,disabled:b,className:"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:bg-slate-300",children:b?"Running...":"Run"}),(0,t.jsx)("button",{type:"button",onClick:()=>{u(k[d].code),x(""),w(""),v(""),C(null),P(null),j("idle"),f(null),p(!1)},disabled:b,className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-50 disabled:bg-slate-200",children:"Reset"}),(0,t.jsx)("button",{type:"button",onClick:_,className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-50",children:"Copy"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"No network. No filesystem. CPU/Memory/Time limited. Python runs in remote sandbox; JS runs in-browser."})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 space-y-1",children:[(0,t.jsx)("p",{className:"m-0 font-semibold text-slate-800",children:"Status"}),(0,t.jsx)("p",{className:"m-0",children:"idle"===g?"Idle":"creating"===g?"Submitting job":"queued"===g?"Queued (waiting for runner)":"running"===g?"Running in sandbox":g}),S?(0,t.jsxs)("p",{className:"m-0 text-slate-700",children:["Duration: ",S.durationMs," ms · Free tier: ",S.freeTierAppliedMs," ms · Charged credits: ",S.chargedCredits]}):null]})]}),(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Stdout"}),(0,t.jsx)("pre",{className:"mt-2 min-h-[140px] overflow-auto rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-900 whitespace-pre-wrap",children:N||"No output yet."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Stderr"}),(0,t.jsx)("pre",{className:"mt-2 min-h-[140px] overflow-auto rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-900 whitespace-pre-wrap",children:y||"No errors."})]})]}),S?(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"runtime (ms)"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:S.durationMs})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"free tier applied (ms)"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:S.freeTierAppliedMs})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"credits charged"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:S.chargedCredits})]})]}):null]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.default,{href:"/tools",className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Back to tools"}),(0,t.jsx)(l.default,{href:"/studios",className:"text-sm font-semibold text-slate-700 hover:underline",children:"Go to studios"})]})]})})}e.s(["default",()=>n])},569801,(e,t,s)=>{let l="/tools/code-lab";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(699734)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([l])})},648761,e=>{e.v(t=>Promise.all(["static/chunks/80c5fa914da25f08.js"].map(t=>e.l(t))).then(()=>t(493594)))},828805,e=>{e.v(t=>Promise.all(["static/chunks/9598a04aeb8d39c4.js"].map(t=>e.l(t))).then(()=>t(879466)))}]);

//# debugId=140a230a-841c-28e1-5500-ddb7bfb4c32e
//# sourceMappingURL=78f09f3e1df59f1c.js.map