;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3e447ee3-67bd-011c-ece5-db3139caffab")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,412092,e=>{"use strict";var s=e.i(391398);let t={sky:{border:"border-sky-400/40",bg:"bg-sky-500/15",ring:"focus-visible:ring-sky-300/40"},emerald:{border:"border-emerald-400/40",bg:"bg-emerald-500/15",ring:"focus-visible:ring-emerald-300/40"},violet:{border:"border-violet-400/40",bg:"bg-violet-500/15",ring:"focus-visible:ring-violet-300/40"},amber:{border:"border-amber-400/40",bg:"bg-amber-500/15",ring:"focus-visible:ring-amber-300/40"},rose:{border:"border-rose-400/40",bg:"bg-rose-500/15",ring:"focus-visible:ring-rose-300/40"},slate:{border:"border-slate-400/40",bg:"bg-slate-500/10",ring:"focus-visible:ring-slate-300/30"}};function r(...e){return e.filter(Boolean).join(" ")}function a({checked:e,onCheckedChange:a,children:l,after:n,tone:i="sky",className:o,size:c="sm",disabled:d=!1}){let m=t[i]||t.sky;return(0,s.jsxs)("button",{type:"button",role:"switch","aria-checked":e,disabled:d,onClick:()=>a(!e),className:r("inline-flex w-full items-center justify-between gap-3 rounded-2xl border transition","xs"===c?"px-3 py-2":"px-3.5 py-2.5","xs"===c?"text-[0.7rem]":"text-xs","bg-white/80 text-slate-900 hover:bg-white","dark:bg-slate-950/40 dark:text-slate-100 dark:hover:bg-slate-900/60 dark:border-slate-700",e?r(m.bg,m.border):"border-slate-200","focus-visible:outline-none focus-visible:ring-2",m.ring,d&&"cursor-not-allowed opacity-60",o),children:[(0,s.jsx)("span",{className:"min-w-0",children:l}),(0,s.jsxs)("span",{className:"inline-flex shrink-0 items-center gap-2",children:[n?(0,s.jsx)("span",{className:"shrink-0",children:n}):null,(0,s.jsx)("span",{className:r("relative inline-flex items-center rounded-full border transition","xs"===c?"h-5 w-9":"h-6 w-11",e?r(m.border,m.bg):"border-slate-300 bg-slate-200","dark:border-slate-600 dark:bg-slate-800"),"aria-hidden":"true",children:(0,s.jsx)("span",{className:r("inline-block transform rounded-full bg-white shadow-sm transition","xs"===c?"h-4 w-4":"h-5 w-5",e?"xs"===c?"translate-x-4":"translate-x-5":"translate-x-1")})})]})]})}e.s(["CheckPill",()=>a])},667791,e=>{"use strict";var s=e.i(391398),t=e.i(191788),r=e.i(412092);function a(){let[e,a]=(0,t.useState)([{id:1,name:"CustomerRegistered",consumers:3,critical:!0},{id:2,name:"TariffChanged",consumers:2,critical:!1}]);function l(e,s){a(t=>t.map(t=>t.id===e?{...t,...s}:t))}let n=(0,t.useMemo)(()=>{if(!e.length)return{totalConsumers:0,averageConsumers:0,maxConsumers:0,hotEvent:"",criticalCount:0};let s=e.reduce((e,s)=>e+s.consumers,0),t=Math.max(...e.map(e=>e.consumers)),r=e.find(e=>e.consumers===t),a=e.filter(e=>e.critical).length;return{totalConsumers:s,averageConsumers:s/e.length,maxConsumers:t,hotEvent:r?.name||"",criticalCount:a}},[e]);return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Events connect services together. This modeller helps you spot hotspots where a single event has many consumers or where too many events are treated as critical."}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-[2fr,1fr]",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Events"}),(0,s.jsx)("button",{type:"button",onClick:function(){let s=e.length?Math.max(...e.map(e=>e.id))+1:1;a(e=>[...e,{id:s,name:"",consumers:1,critical:!1}])},className:"rounded-full bg-slate-900 px-3 py-1 text-xs font-medium text-white hover:bg-slate-800",children:"Add event"})]}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:e.map(e=>(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between gap-2",children:[(0,s.jsx)("input",{className:"w-full rounded-xl border border-slate-200 px-2 py-1 text-sm font-semibold",placeholder:"Event name, for example InvoiceRaised",value:e.name,onChange:s=>l(e.id,{name:s.target.value})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var s;return s=e.id,void a(e=>e.filter(e=>e.id!==s))},className:"rounded-full px-2 py-1 text-xs text-slate-400 hover:bg-slate-100 hover:text-slate-700",children:"Remove"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("label",{className:"text-xs text-slate-600",children:["Number of consumers",(0,s.jsx)("input",{type:"range",min:1,max:10,value:e.consumers,onChange:s=>l(e.id,{consumers:Number(s.target.value)||1}),className:"mt-1 w-full"}),(0,s.jsxs)("span",{className:"mt-1 inline-block text-xs text-slate-700",children:[e.consumers," consumer",1===e.consumers?"":"s"]})]}),(0,s.jsx)("div",{className:"sm:max-w-xs",children:(0,s.jsx)(r.CheckPill,{checked:e.critical,onCheckedChange:s=>l(e.id,{critical:s}),tone:"amber",children:"Critical event that must not be lost"})})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm",children:[(0,s.jsx)("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Event flow summary"}),(0,s.jsxs)("p",{className:"text-xs text-slate-700",children:["Total consumers: ",(0,s.jsx)("span",{className:"font-semibold",children:n.totalConsumers})]}),(0,s.jsxs)("p",{className:"text-xs text-slate-700",children:["Average consumers per event: ",(0,s.jsx)("span",{className:"font-semibold",children:n.averageConsumers.toFixed(1)})]}),(0,s.jsxs)("p",{className:"text-xs text-slate-700",children:["Maximum consumers on a single event: ",(0,s.jsx)("span",{className:"font-semibold",children:n.maxConsumers})]}),n.hotEvent&&(0,s.jsxs)("p",{className:"text-xs text-slate-700",children:["Highest fan out event: ",(0,s.jsx)("span",{className:"font-semibold",children:n.hotEvent})]}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-slate-700",children:["Critical events: ",(0,s.jsx)("span",{className:"font-semibold",children:n.criticalCount})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700",children:[(0,s.jsx)("p",{className:"mb-1 font-medium",children:"What to discuss"}),(0,s.jsxs)("ul",{className:"list-disc space-y-1 pl-4",children:[(0,s.jsx)("li",{children:"Would any service be blocked if one event processing pipeline failed."}),(0,s.jsx)("li",{children:"Do you have too many events marked as critical for the team to manage."}),(0,s.jsx)("li",{children:"Is the highest fan out event a good candidate for extra observability and testing."})]})]})]})]})]})}e.s(["EventFlowModeler",()=>a])},436602,e=>{e.n(e.i(667791))}]);

//# debugId=3e447ee3-67bd-011c-ece5-db3139caffab
//# sourceMappingURL=aaf8726217100333.js.map