;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="985486e4-a9d9-78e4-04ea-a847203c7c54")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,728303,e=>{"use strict";let s=(0,e.i(369547).default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["default",()=>s])},335609,e=>{"use strict";var s=e.i(728303);e.s(["Square",()=>s.default])},507933,e=>{"use strict";let s=(0,e.i(369547).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);e.s(["default",()=>s])},112586,e=>{"use strict";var s=e.i(507933);e.s(["Pause",()=>s.default])},295431,e=>{"use strict";var s=e.i(391398),t=e.i(191788);e.i(285344);var a=e.i(192823),r=e.i(674519),l=e.i(431100),i=e.i(844220),c=e.i(644244),n=e.i(112586),o=e.i(335609),d=e.i(687072),u=e.i(891680);function m(){let[e,m]=(0,t.useState)(null),[x,p]=(0,t.useState)({status:"idle",epoch:0,totalEpochs:50,progress:0,metrics:{loss:[],accuracy:[],valLoss:[],valAccuracy:[]},currentMetrics:{loss:0,accuracy:0,valLoss:0,valAccuracy:0}}),[h,g]=(0,t.useState)(!1),[v,b]=(0,t.useState)({learningRate:.001,batchSize:32,epochs:50,validationSplit:.2}),y=(0,t.useCallback)(()=>{let e=a.sequential({layers:[a.layers.dense({inputShape:[10],units:64,activation:"relu",name:"dense1"}),a.layers.dropout({rate:.2}),a.layers.dense({units:32,activation:"relu",name:"dense2"}),a.layers.dense({units:1,activation:"sigmoid",name:"output"})]});return e.compile({optimizer:r.train.adam(v.learningRate),loss:"binaryCrossentropy",metrics:["accuracy"]}),m(e),e},[v.learningRate]),f=(0,t.useCallback)(()=>({xs:l.randomNormal([1e3,10]),ys:i.randomUniform([1e3,1],0,2).floor()}),[]),j=(0,t.useCallback)(async()=>{if(!e)return void m(y());p(e=>({...e,status:"training",epoch:0}));let{xs:s,ys:t}=f(),a=Math.floor(s.shape[0]*(1-v.validationSplit)),r=s.slice([0,0],[a,-1]),l=t.slice([0,0],[a,-1]),i=s.slice([a,0],[-1,-1]),c=t.slice([a,0],[-1,-1]);try{for(let s=0;s<v.epochs;s++)h&&(p(e=>({...e,status:"paused"})),await new Promise(e=>{let s=setInterval(()=>{h||(clearInterval(s),e(null))},100)}),p(e=>({...e,status:"training"}))),await e.fit(r,l,{epochs:1,batchSize:v.batchSize,validationData:[i,c],verbose:0,callbacks:{onEpochEnd:(e,t)=>{p(e=>({...e,epoch:s+1,progress:(s+1)/v.epochs*100,metrics:{loss:[...e.metrics.loss,t?.loss||0],accuracy:[...e.metrics.accuracy,t?.acc||0],valLoss:[...e.metrics.valLoss,t?.val_loss||0],valAccuracy:[...e.metrics.valAccuracy,t?.val_acc||0]},currentMetrics:{loss:t?.loss||0,accuracy:t?.acc||0,valLoss:t?.val_loss||0,valAccuracy:t?.val_acc||0}}))}}}),await new Promise(e=>setTimeout(e,100));p(e=>({...e,status:"completed"})),s.dispose(),t.dispose(),r.dispose(),l.dispose(),i.dispose(),c.dispose()}catch(e){console.error("Training error:",e),p(e=>({...e,status:"error"}))}},[e,v,h,y,f]),N=()=>{"paused"===x.status?g(!1):j()},w=async()=>{if(e)try{let s=await e.save("downloads://my-model");console.log("Model exported:",s)}catch(e){console.error("Export error:",e)}};return(0,t.useEffect)(()=>(y(),()=>{e&&e.dispose()}),[]),(0,s.jsxs)("div",{className:"space-y-6 p-6 bg-white rounded-2xl shadow-lg border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Browser Training POC"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Train a neural network directly in your browser using TensorFlow.js"})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:"completed"===x.status&&(0,s.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:[(0,s.jsx)(d.Download,{className:"w-4 h-4"}),"Export Model"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Learning Rate"}),(0,s.jsx)("input",{type:"number",step:"0.0001",value:v.learningRate,onChange:e=>b({...v,learningRate:parseFloat(e.target.value)}),disabled:"training"===x.status,className:"mt-1 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Batch Size"}),(0,s.jsx)("input",{type:"number",value:v.batchSize,onChange:e=>b({...v,batchSize:parseInt(e.target.value)}),disabled:"training"===x.status,className:"mt-1 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Epochs"}),(0,s.jsx)("input",{type:"number",value:v.epochs,onChange:e=>b({...v,epochs:parseInt(e.target.value)}),disabled:"training"===x.status,className:"mt-1 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:["idle"===x.status||"completed"===x.status?(0,s.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors font-semibold",children:[(0,s.jsx)(c.Play,{className:"w-5 h-5"}),"Start Training"]}):"paused"===x.status?(0,s.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors font-semibold",children:[(0,s.jsx)(c.Play,{className:"w-5 h-5"}),"Resume"]}):(0,s.jsxs)("button",{onClick:()=>{g(!0)},className:"flex items-center gap-2 px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors font-semibold",children:[(0,s.jsx)(n.Pause,{className:"w-5 h-5"}),"Pause"]}),"training"===x.status&&(0,s.jsxs)("button",{onClick:()=>{g(!1),p({status:"idle",epoch:0,totalEpochs:v.epochs,progress:0,metrics:{loss:[],accuracy:[],valLoss:[],valAccuracy:[]},currentMetrics:{loss:0,accuracy:0,valLoss:0,valAccuracy:0}}),e&&(e.stopTraining=!0)},className:"flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold",children:[(0,s.jsx)(o.Square,{className:"w-5 h-5"}),"Stop"]})]}),"idle"!==x.status&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"font-medium text-slate-700",children:["Epoch ",x.epoch," / ",v.epochs]}),(0,s.jsxs)("span",{className:"text-slate-600",children:[Math.round(x.progress),"%"]})]}),(0,s.jsx)("div",{className:"w-full h-3 bg-slate-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 transition-all duration-300",style:{width:`${x.progress}%`}})})]}),"training"===x.status&&(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Loss"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:x.currentMetrics.loss.toFixed(4)})]}),(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Accuracy"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(100*x.currentMetrics.accuracy).toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Val Loss"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:x.currentMetrics.valLoss.toFixed(4)})]}),(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:"Val Accuracy"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(100*x.currentMetrics.valAccuracy).toFixed(2),"%"]})]})]}),x.metrics.loss.length>0&&(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(u.TrendingUp,{className:"w-5 h-5 text-primary-500"}),(0,s.jsx)("h3",{className:"font-semibold text-slate-900",children:"Training Metrics"})]}),(0,s.jsxs)("div",{className:"h-64 flex items-center justify-center text-slate-500",children:[(0,s.jsx)("p",{children:"Chart visualization would go here (using Recharts or similar)"}),(0,s.jsxs)("p",{className:"text-xs mt-2",children:["Loss: ",x.metrics.loss.length," points | Accuracy:"," ",x.metrics.accuracy.length," points"]})]})]}),"completed"===x.status&&(0,s.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-green-800 font-medium",children:"Training completed successfully!"}),(0,s.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:["Final accuracy: ",(100*x.currentMetrics.accuracy).toFixed(2),"%"]})]}),"error"===x.status&&(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-red-800 font-medium",children:"Training error occurred"}),(0,s.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"Please check the console for details."})]})]})}e.s(["default",()=>m])},241502,e=>{e.n(e.i(295431))}]);

//# debugId=985486e4-a9d9-78e4-04ea-a847203c7c54
//# sourceMappingURL=aa369902057db010.js.map