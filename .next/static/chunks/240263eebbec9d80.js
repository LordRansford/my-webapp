;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="d608a10e-c92d-e1de-4725-afe7369e8baf")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,825055,e=>{"use strict";var t=e.i(391398),s=e.i(191788);let l=[{id:"maintain",label:"Maintain the site",description:"Keep hosting, monitoring, and backups running smoothly."},{id:"new-labs",label:"Fund new labs",description:"Support fresh walkthroughs, diagrams, and accessibility passes."},{id:"content-research",label:"Deep research",description:"Buy time for testing edge cases and writing clearer guidance."}],i=[{id:"keep-lights-on",label:"Keep the lights on",amount:5,description:"Covers hosting and monitoring for a week.",impact:["Keeps the labs online","Funds small bug fixes","Covers coffee for late-night testing"]},{id:"ship-new-labs",label:"Ship a new lab",amount:15,description:"Moves a new walkthrough or checklist from draft to published.",impact:["Funds test data and fixtures","Supports accessibility polish","Pays for diagram clean-up"]},{id:"sponsor-research",label:"Sponsor research time",amount:30,description:"Buys focused time to explore deeper topics and tighten guidance.",impact:["Funds security reviews of new content","Supports more edge case coverage","Offsets tool subscriptions"]}],n="£";function a(e){return`${n||""}${e.toFixed(2)}`}function o({open:e,onClose:o,successPath:r="/donate/success",cancelPath:d="/donate/cancel"}){let[c,u]=(0,s.useState)(i[1]),[m,f]=(0,s.useState)(l[0]),[x,b]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),j=(0,s.useRef)(null),w=(0,s.useRef)(null),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(e){y.current=document.activeElement;let e=setTimeout(()=>{w.current?.focus()},0);return()=>clearTimeout(e)}},[e]),(0,s.useEffect)(()=>{function t(e){if("Escape"===e.key&&(e.preventDefault(),o()),"Tab"===e.key&&j.current){let t=j.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!t.length)return;let s=t[0],l=t[t.length-1];e.shiftKey?document.activeElement===s&&(e.preventDefault(),l.focus()):document.activeElement===l&&(e.preventDefault(),s.focus())}}if(e)return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,o]),(0,s.useEffect)(()=>{!e&&y.current instanceof HTMLElement&&y.current.focus()},[e]);let N=(0,s.useMemo)(()=>{let e=parseFloat(x||"");return!Number.isNaN(e)&&e>0?e:c?.amount??i[0].amount},[x,c]),k=async()=>{try{throw h(!0),v(""),Error("Donations are not enabled in this build yet.")}catch(e){v(e.message||"Something went wrong.")}finally{h(!1)}};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4",role:"dialog","aria-modal":"true",children:(0,t.jsxs)("div",{ref:j,className:"w-full max-w-2xl rounded-3xl bg-white p-6 shadow-2xl ring-1 ring-slate-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Donations"}),(0,t.jsx)("h2",{className:"mt-1 text-2xl font-semibold text-slate-900",children:"Support this work"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-700 leading-relaxed",children:"This site takes a lot of time, coffee and testing. If you find it useful, you can support its maintenance and growth here."})]}),(0,t.jsx)("button",{ref:w,type:"button",onClick:o,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2","aria-label":"Close donation dialog",children:"Close"})]}),(0,t.jsx)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:i.map(e=>{let s=c?.id===e.id;return(0,t.jsxs)("button",{type:"button",onClick:()=>u(e),className:`h-full rounded-2xl border p-4 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${s?"border-slate-900 bg-slate-900/5 shadow-sm":"border-slate-200 bg-slate-50/60 hover:border-slate-300"}`,"aria-pressed":s,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:e.label}),(0,t.jsx)("span",{className:"rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-800 shadow-sm",children:a(e.amount)})]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:e.description}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:e.impact.map(e=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",children:"•"}),(0,t.jsx)("span",{children:e})]},e))})]},e.id)})}),(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.2fr_0.8fr]",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,t.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Custom amount (optional)"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800",children:n||"GBP"}),(0,t.jsx)("input",{type:"number",min:1,step:"1",inputMode:"decimal",value:x,onChange:e=>b(e.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",placeholder:c?c.amount.toString():"10"})]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-slate-700",children:["Suggested: ",a(N),". Custom amounts replace the selected tier."]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,t.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Intent (optional)"}),(0,t.jsx)("select",{value:m?.id,onChange:e=>f(l.find(t=>t.id===e.target.value)||l[0]),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",children:l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.label},e.id))}),(0,t.jsx)("p",{className:"mt-2 text-xs text-slate-700",children:m?.description})]})]}),g?(0,t.jsx)("p",{className:"mt-3 text-sm font-semibold text-rose-700",children:g}):null,(0,t.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-700",children:["Total: ",(0,t.jsx)("span",{className:"font-semibold text-slate-900",children:a(N)})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:o,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",disabled:p,children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:k,className:"rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:bg-slate-400",disabled:p,children:p?"Preparing...":"Donations coming soon"})]})]})]})}):null}e.s(["default",()=>o],825055)},79936,e=>{e.n(e.i(825055))}]);

//# debugId=d608a10e-c92d-e1de-4725-afe7369e8baf
//# sourceMappingURL=a9e4b7534cfdeb68.js.map