;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="460aceed-7880-7552-2059-320f768a57d5")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,928216,e=>{"use strict";e.i(247167);var t=e.i(843476),i=e.i(271645);function a(){let{supported:e,ready:a}=function(){let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e="serviceWorker"in navigator;if(l(e),!e)return;let i=!1;return navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(()=>navigator.serviceWorker.ready).then(()=>{i||t(!0)}).catch(()=>{i||t(!1)}),()=>{i=!0}},[]),{supported:a,ready:e}}();return e?(0,t.jsx)("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${a?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-slate-200 bg-white text-slate-700"}`,children:a?"Offline ready":"Preparing offline"}):null}let l="rn_games_dedication_seen";function d(){let[e,a]=(0,i.useState)(!1),d=(0,i.useMemo)(()=>`games-dedication-${Math.random().toString(16).slice(2)}`,[]);return((0,i.useEffect)(()=>{try{sessionStorage.getItem(l)||(sessionStorage.setItem(l,"1"),a(!0))}catch{a(!0)}},[]),e)?(0,t.jsx)("section",{"aria-label":"Dedication",className:"rounded-3xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:(0,t.jsx)("p",{className:"m-0 text-sm font-semibold text-slate-900",id:d,children:"Dedicated to Charis Chung Amponsah - my favourite Player One."})}):null}var s=e.i(522016),r=e.i(803039),h=e.i(982149),o=e.i(387746),c=e.i(726982);let n=[{id:"pulse-runner",title:"Pulse Runner",difficulty:"Easy",blurb:"Warm up timing and rhythm with simple dodges.",scene:()=>{let e,t,i,a,l,d,s,r,h,c,n,x,f,m,u,g,p,w,y,M;return e=0,t=0,i=12,a=0,l=0,d=!1,s=0,r=0,h=[],c=0,n=0,x=0,f=180,m=800,u=[],g=0,p=e=>e<1e4?{phase:1,intensity:.7+e/1e4*.15}:e<3e4?{phase:2,intensity:.85+(e-1e4)/2e4*.1}:e<45e3?{phase:3,intensity:.95+(e-3e4)/15e3*.03}:e<6e4?{phase:4,intensity:.98+(e-45e3)/15e3*.015}:{phase:5,intensity:.995+Math.min(.005,(e-6e4)/3e4*.005)},w=()=>{if(0===x)return 1;let e=n/x;return e>.85?1.15:e<.4?.92:1},y=i=>{let{intensity:a}=p(l),d=Math.min(1,a*w()),s=16+20*d,r=f*(.8+.6*d),o=Math.floor(4*Math.random()),c=0,n=0,m=s+10;0===o?(c=Math.random()*i.width,n=-m):1===o?(c=i.width+m,n=Math.random()*i.height):2===o?(c=Math.random()*i.width,n=i.height+m):(c=-m,n=Math.random()*i.height);let u=e>0?e:i.width/2,g=t>0?t:i.height/2,y=`hsla(${200+120*d}, ${70+30*d}%, 60%, 0.95)`;h.push({x:c,y:n,r:s/2,speed:r,color:y,dodged:!1}),x++},M=a=>{let l=a.x-e,d=a.y-t;return Math.sqrt(l*l+d*d)<i+a.r},{init(){e=0,t=0,i=12,a=0,l=0,d=!1,s=0,h.length=0,c=0,n=0,x=0,f=180,m=800,u.length=0,g=0;try{let e=localStorage.getItem("rn_pulse_runner_high");e&&(r=parseInt(e,10)||0)}catch{}},update(o){if(a||(a=o.nowMs,e=o.width/2,t=o.height/2),d)return;let{phase:x,intensity:b}=p(l=o.nowMs-a),v=w();f=180*(.8+.6*b*v),m=800*(1.1-.5*b/v);let S=o.settings.reduceMotion?220:280;e+=o.input.moveX*S*o.dtMs/1e3,t+=o.input.moveY*S*o.dtMs/1e3,e=Math.max(i,Math.min(o.width-i,e)),t=Math.max(i,Math.min(o.height-i,t)),l>=c+m&&(y(o),c=l,x>=4&&.4>Math.random()&&y(o),x>=5&&.3>Math.random()&&y(o));let j=e>0?e:o.width/2,N=t>0?t:o.height/2;for(let e=h.length-1;e>=0;e--){let t=h[e],a=j-t.x,c=N-t.y,x=Math.sqrt(a*a+c*c);if(x>.1)t.x+=a/x*t.speed*o.dtMs/1e3,t.y+=c/x*t.speed*o.dtMs/1e3;else{h.splice(e,1);continue}if(!t.dodged&&Math.sqrt((t.x-j)**2+(t.y-N)**2)>i+t.r+20){t.dodged=!0,n++;let e=Math.floor(10*(1+b));s+=e,u.push({time:l,type:"dodge",points:e}),g+=e}if(t.x<-100||t.x>o.width+100||t.y<-100||t.y>o.height+100){h.splice(e,1);continue}if(M(t)){if(d=!0,s>r){r=s;try{localStorage.setItem("rn_pulse_runner_high",String(r))}catch{}}break}}s+=Math.floor(o.dtMs/100)},render(a){(0,o.clear)(a.ctx2d,a.width,a.height),a.ctx2d.save(),a.ctx2d.fillStyle="#0a0e1a",a.ctx2d.fillRect(0,0,a.width,a.height),a.ctx2d.restore(),a.ctx2d.save(),a.ctx2d.strokeStyle="rgba(255, 255, 255, 0.08)",a.ctx2d.lineWidth=1;for(let e=0;e<a.width;e+=40)a.ctx2d.beginPath(),a.ctx2d.moveTo(e,0),a.ctx2d.lineTo(e,a.height),a.ctx2d.stroke();for(let e=0;e<a.height;e+=40)a.ctx2d.beginPath(),a.ctx2d.moveTo(0,e),a.ctx2d.lineTo(a.width,e),a.ctx2d.stroke();for(let e of(a.ctx2d.restore(),h))a.ctx2d.save(),a.ctx2d.shadowBlur=20,a.ctx2d.shadowColor=e.color,a.ctx2d.fillStyle=e.color,a.ctx2d.beginPath(),a.ctx2d.arc(e.x,e.y,e.r,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=2,a.ctx2d.stroke(),a.ctx2d.restore();a.ctx2d.save(),a.ctx2d.shadowBlur=15,a.ctx2d.shadowColor="#00ff88",a.ctx2d.fillStyle="#00ff88",a.ctx2d.beginPath(),a.ctx2d.arc(e,t,i,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=3,a.ctx2d.stroke(),a.ctx2d.fillStyle="#88ffcc",a.ctx2d.beginPath(),a.ctx2d.arc(e-3,t-3,.4*i,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.restore();let c=p(l).phase,n=(l/1e3).toFixed(1);(0,o.drawHudText)(a.ctx2d,"Pulse Runner",16,26),(0,o.drawHudText)(a.ctx2d,`Time: ${n}s | Score: ${s.toLocaleString()} | Phase ${c}`,16,48),r>0&&(0,o.drawHudText)(a.ctx2d,`High: ${r.toLocaleString()}`,16,70),d&&(a.ctx2d.save(),a.ctx2d.fillStyle="rgba(0, 0, 0, 0.75)",a.ctx2d.fillRect(0,0,a.width,a.height),a.ctx2d.restore(),(0,o.drawHudText)(a.ctx2d,"Game Over",a.width/2-60,a.height/2-40),(0,o.drawHudText)(a.ctx2d,`Final Score: ${s.toLocaleString()}`,a.width/2-80,a.height/2),(0,o.drawHudText)(a.ctx2d,`Time: ${n}s`,a.width/2-40,a.height/2+30),s===r&&(0,o.drawHudText)(a.ctx2d,"New High Score!",a.width/2-70,a.height/2+60))},dispose(){}}}},{id:"skyline-drift",title:"Skyline Drift",difficulty:"Normal",blurb:"Smooth turns and clean lines. Keep momentum.",scene:()=>{let e,t,i,a,l,d,s,r,h,c,n,x,f,m,u,g,p,w,y,M,b,v,S,j;return e=0,t=0,i=0,a=0,l=0,d=0,s=0,r=!1,h=0,c=0,n=[],x=[],f=0,m=0,u=0,g=0,p=600,w=120,y=.3,M=200,b=e=>e<1e4?{phase:1,intensity:.7+e/1e4*.15}:e<3e4?{phase:2,intensity:.85+(e-1e4)/2e4*.1}:e<45e3?{phase:3,intensity:.95+(e-3e4)/15e3*.03}:e<6e4?{phase:4,intensity:.98+(e-45e3)/15e3*.015}:{phase:5,intensity:.995+Math.min(.005,(e-6e4)/3e4*.005)},v=()=>{if(0===m)return 1;let e=u/m;return e>.8?1.2:e<.3?.9:1},S=(e,t,i,a,l,d,s,r)=>e<l+s&&e+i>l&&t<d+r&&t+a>d,j=i=>{let a=e-16,l=e+16,d=t-16,s=t+16;return a>=i.x&&l<=i.x+i.w&&d<=i.y+i.h&&s>=i.y},{init(){e=0,t=0,i=0,a=0,l=Math.PI/2,d=0,s=0,r=!1,h=0,n.length=0,x.length=0,f=0,m=0,u=0,g=0,p=600,w=120,y=.3,M=200;try{let e=localStorage.getItem("rn_skyline_drift_high");e&&(c=parseInt(e,10)||0)}catch{}},update(o){if(d||(d=o.nowMs,e=o.width/2,t=.75*o.height),r)return;let{phase:N,intensity:k}=b(s=o.nowMs-d),T=Math.min(1,k*v());p=600*(1.1-.5*T),y=.3*(1+1.5*T),M=200*(1+.8*T);let P=o.input.moveX;if(l+=.08*P,o.input.moveY<0||Math.abs(o.input.moveX)>0){let e=300*Math.sin(l),t=-(300*Math.cos(l));i+=e*o.dtMs/1e3,a+=t*o.dtMs/1e3}i*=Math.pow(.92,o.dtMs/16.67),a*=Math.pow(.92,o.dtMs/16.67),e+=i*o.dtMs/1e3,t+=a*o.dtMs/1e3,e<16&&(e=16,i*=-.5),e>o.width-16&&(e=o.width-16,i*=-.5),t<16&&(t=16,a*=-.5),t>o.height-16&&(t=o.height-16,a*=-.5),f+=M*o.dtMs/1e3;let $=M*o.dtMs/1e3;for(let t of n)if(t.y+=$,!t.passed&&j(t)){t.passed=!0,m++;let l=t.x+t.w/2,d=Math.abs(e-l)<t.w/4;d&&u++,h+=100+50*!!d+Math.floor(Math.sqrt(i*i+a*a)/10)}for(let e of(n=n.filter(e=>!e.passed||e.y<o.height+100),x))e.y+=$;x=x.filter(e=>e.y<o.height+100),f-g>=p&&(((e,t)=>{let{intensity:i}=b(t),a=Math.min(1,i*v());w=120*(1.2-.5*a);let l=e.width/2+(Math.random()-.5)*e.width*.4*a,d=f-.2*e.height;if(n.push({x:l-w/2,y:d,w:w,h:30,passed:!1}),a>.8){let t=Math.floor(4*a);for(let i=0;i<t;i++){let t=(Math.random()-.5)*e.width*.6;x.push({x:l+t,y:d+(Math.random()-.5)*100,w:20+20*Math.random(),h:20+20*Math.random()})}}})(o,s),g=f),T>.6&&Math.random()<y*o.dtMs/1e3&&x.push({x:Math.random()*o.width,y:f-50,w:25+30*Math.random(),h:25+30*Math.random()});let C={x:e-16,y:t-16,w:32,h:32};for(let e of x)if(S(C.x,C.y,C.w,C.h,e.x,e.y,e.w,e.h)){if(r=!0,h>c){c=h;try{localStorage.setItem("rn_skyline_drift_high",String(c))}catch{}}break}h+=Math.floor(o.dtMs/50)},render(d){(0,o.clear)(d.ctx2d,d.width,d.height),d.ctx2d.save();let f=d.ctx2d.createLinearGradient(0,0,0,d.height);for(let e of(f.addColorStop(0,"#0a0e27"),f.addColorStop(1,"#1a1f3a"),d.ctx2d.fillStyle=f,d.ctx2d.fillRect(0,0,d.width,d.height),d.ctx2d.restore(),n))d.ctx2d.save(),e.passed?d.ctx2d.fillStyle="rgba(0, 255, 136, 0.3)":(d.ctx2d.shadowBlur=20,d.ctx2d.shadowColor="#00ff88",d.ctx2d.fillStyle="rgba(0, 255, 136, 0.6)"),d.ctx2d.fillRect(e.x,e.y,e.w,e.h),d.ctx2d.strokeStyle="#00ff88",d.ctx2d.lineWidth=3,d.ctx2d.strokeRect(e.x,e.y,e.w,e.h),d.ctx2d.restore();for(let e of x)d.ctx2d.save(),d.ctx2d.shadowBlur=15,d.ctx2d.shadowColor="#ff6666",d.ctx2d.fillStyle="rgba(255, 100, 100, 0.9)",d.ctx2d.fillRect(e.x,e.y,e.w,e.h),d.ctx2d.strokeStyle="#ffffff",d.ctx2d.lineWidth=2,d.ctx2d.strokeRect(e.x,e.y,e.w,e.h),d.ctx2d.restore();d.ctx2d.save(),d.ctx2d.translate(e,t),d.ctx2d.rotate(l),d.ctx2d.shadowBlur=20,d.ctx2d.shadowColor="#00aaff",d.ctx2d.fillStyle="#00aaff",d.ctx2d.beginPath(),d.ctx2d.moveTo(0,-16),d.ctx2d.lineTo(-11.2,8),d.ctx2d.lineTo(0,4.8),d.ctx2d.lineTo(11.2,8),d.ctx2d.closePath(),d.ctx2d.fill(),d.ctx2d.strokeStyle="#ffffff",d.ctx2d.lineWidth=3,d.ctx2d.stroke();let g=Math.sqrt(i*i+a*a);g>50&&(d.ctx2d.fillStyle=`rgba(255, 200, 0, ${Math.min(1,g/200)})`,d.ctx2d.beginPath(),d.ctx2d.moveTo(-6.4,4.8),d.ctx2d.lineTo(0,11.2),d.ctx2d.lineTo(6.4,4.8),d.ctx2d.closePath(),d.ctx2d.fill()),d.ctx2d.restore();let p=b(s).phase,w=(s/1e3).toFixed(1);(0,o.drawHudText)(d.ctx2d,"Skyline Drift",16,26),(0,o.drawHudText)(d.ctx2d,`Time: ${w}s | Score: ${h.toLocaleString()} | Gates: ${m} | Phase ${p}`,16,48),(0,o.drawHudText)(d.ctx2d,`Speed: ${g.toFixed(0)} | Perfect: ${u}`,16,70),c>0&&(0,o.drawHudText)(d.ctx2d,`High: ${c.toLocaleString()}`,16,92),r&&(d.ctx2d.save(),d.ctx2d.fillStyle="rgba(0, 0, 0, 0.75)",d.ctx2d.fillRect(0,0,d.width,d.height),d.ctx2d.restore(),(0,o.drawHudText)(d.ctx2d,"Crash!",d.width/2-40,d.height/2-40),(0,o.drawHudText)(d.ctx2d,`Final Score: ${h.toLocaleString()}`,d.width/2-80,d.height/2),(0,o.drawHudText)(d.ctx2d,`Gates: ${m} | Perfect: ${u}`,d.width/2-100,d.height/2+30),h===c&&(0,o.drawHudText)(d.ctx2d,"New High Score!",d.width/2-70,d.height/2+60))},dispose(){}}}},{id:"vault-circuit",title:"Vault Circuit",difficulty:"Hard",blurb:"Tighter windows and faster patterns.",scene:()=>{let e,t,i,a,l,d,s,r,h,c,n,x,f,m,u,g,p,w,y,M,b,v,S,j,N;return e=0,t=0,i=10,a=0,l=0,d=!1,s=0,r=0,h=[],c=[],n=[],x=0,f=0,m=0,u=0,g=0,p=80,w=200,y=2e3,M=400,b=800,v=e=>e<1e4?{phase:1,intensity:.7+e/1e4*.15}:e<3e4?{phase:2,intensity:.85+(e-1e4)/2e4*.1}:e<45e3?{phase:3,intensity:.95+(e-3e4)/15e3*.03}:e<6e4?{phase:4,intensity:.98+(e-45e3)/15e3*.015}:{phase:5,intensity:.995+Math.min(.005,(e-6e4)/3e4*.005)},S=()=>{if(0===f)return 1;let e=f/Math.max(1,Math.floor(l/b));return e>.9?1.25:e<.4?.88:1},j=(e,t,i,a)=>{let l=Math.max(a.x,Math.min(e,a.x+a.w)),d=Math.max(a.y,Math.min(t,a.y+a.h)),s=e-l,r=t-d;return s*s+r*r<=i*i},N=(e,t,i,a,l,d)=>{let s=e-a,r=t-l;return s*s+r*r<=(i+d)*(i+d)},{init(){e=0,t=0,i=10,a=0,l=0,d=!1,s=0,h.length=0,c.length=0,n.length=0,x=0,f=0,m=0,u=0,g=0,p=80,w=200,y=2e3,M=400,b=800;try{let e=localStorage.getItem("rn_vault_circuit_high");e&&(r=parseInt(e,10)||0)}catch{}},update(o){if(a||(a=o.nowMs,e=80,t=o.height/2),d)return;let{phase:k,intensity:T}=v(l=o.nowMs-a),P=Math.min(1,T*S());M=400*(1.1-.5*P),y=2e3*(1.2-.7*P),b=800*(1.1-.4*P);let $=o.settings.reduceMotion?280:360;e+=o.input.moveX*$*o.dtMs/1e3,t+=o.input.moveY*$*o.dtMs/1e3,e=Math.max(i,Math.min(o.width-i,e)),t=Math.max(i,Math.min(o.height-i,t)),x+=250*o.dtMs/1e3;let C=250*o.dtMs/1e3;for(let e of h)e.x-=C;for(let a of(h=h.filter(e=>e.x>-100),c))a.x-=C,!a.collected&&N(e,t,i,a.x,a.y,a.r)&&(a.collected=!0,f++,s+=200);for(let a of(c=c.filter(e=>!e.collected||e.x>-100),n))if(a.x+=a.vx*o.dtMs/1e3,a.y+=a.vy*o.dtMs/1e3,a.ttl-=o.dtMs,N(e,t,i,a.x,a.y,a.r)){if(d=!0,s>r){r=s;try{localStorage.setItem("rn_vault_circuit_high",String(r))}catch{}}break}(n=n.filter(e=>e.ttl>0&&e.x>-50&&e.x<o.width+50&&e.y>-50&&e.y<o.height+50),x-m>=M&&(((e,t)=>{let{intensity:i}=v(t),a=Math.min(1,i*S());p=80*(1.2-.6*a);let l=Math.random()*(e.height-p-40)+20,d=20+15*a;if(h.push({x:e.width+20,y:0,w:d,h:l}),h.push({x:e.width+20,y:l+p,w:d,h:e.height-(l+p)}),a>.7){let t=Math.floor(3*a);for(let i=0;i<t;i++){let t=(Math.random()-.5)*p*.6;h.push({x:e.width+20+100*Math.random(),y:l+p/2+t,w:15+10*Math.random(),h:15+10*Math.random()})}}})(o,l),m=x),x-u>=b&&.7>Math.random())&&(c.push({x:o.width+50,y:o.height/2+(Math.random()-.5)*o.height*.4,r:15,collected:!1}),u=x);for(let a of(l-g>=y&&(((e,t)=>{let{intensity:i}=v(t),a=Math.min(1,i*S());w=200*(1+1.2*a);let l=Math.floor(4*Math.random()),d=0,s=0,r=0,h=0;0===l?(d=-20,s=Math.random()*e.height,r=w,h=(Math.random()-.5)*w*.5):1===l?(d=e.width+20,s=Math.random()*e.height,r=-w,h=(Math.random()-.5)*w*.5):2===l?(d=Math.random()*e.width,s=-20,r=(Math.random()-.5)*w*.5,h=w):(d=Math.random()*e.width,s=e.height+20,r=(Math.random()-.5)*w*.5,h=-w),n.push({x:d,y:s,vx:r,vy:h,r:6+4*a,ttl:5e3}),a>.8&&.4>Math.random()&&n.push({x:d+(Math.random()-.5)*50,y:s+(Math.random()-.5)*50,vx:r*(.8+.4*Math.random()),vy:h*(.8+.4*Math.random()),r:6+4*a,ttl:5e3})})(o,l),g=l),h))if(j(e,t,i,a)){if(d=!0,s>r){r=s;try{localStorage.setItem("rn_vault_circuit_high",String(r))}catch{}}break}s+=Math.floor(o.dtMs/30)},render(a){for(let e of((0,o.clear)(a.ctx2d,a.width,a.height),a.ctx2d.save(),a.ctx2d.fillStyle="#0f0f1f",a.ctx2d.fillRect(0,0,a.width,a.height),a.ctx2d.restore(),h))a.ctx2d.save(),a.ctx2d.fillStyle="#ff4444",a.ctx2d.fillRect(e.x,e.y,e.w,e.h),a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=3,a.ctx2d.strokeRect(e.x,e.y,e.w,e.h),a.ctx2d.restore();for(let e of c)a.ctx2d.save(),e.collected?a.ctx2d.fillStyle="rgba(0, 255, 136, 0.5)":(a.ctx2d.shadowBlur=20,a.ctx2d.shadowColor="#00ff88",a.ctx2d.fillStyle="#00ff88"),a.ctx2d.beginPath(),a.ctx2d.arc(e.x,e.y,e.r,0,2*Math.PI),a.ctx2d.fill(),e.collected||(a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=2,a.ctx2d.stroke()),a.ctx2d.restore();for(let e of n){a.ctx2d.save();let t=.8+.2*Math.sin(e.ttl/100);a.ctx2d.shadowBlur=15,a.ctx2d.shadowColor="#ff6600",a.ctx2d.fillStyle=`rgba(255, 150, 0, ${t})`,a.ctx2d.beginPath(),a.ctx2d.arc(e.x,e.y,e.r,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=2,a.ctx2d.stroke(),a.ctx2d.restore()}a.ctx2d.save(),a.ctx2d.shadowBlur=20,a.ctx2d.shadowColor="#00aaff",a.ctx2d.fillStyle="#00aaff",a.ctx2d.beginPath(),a.ctx2d.arc(e,t,i,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.strokeStyle="#ffffff",a.ctx2d.lineWidth=3,a.ctx2d.stroke(),a.ctx2d.fillStyle="#ffffff",a.ctx2d.beginPath(),a.ctx2d.arc(e,t,3,0,2*Math.PI),a.ctx2d.fill(),a.ctx2d.restore();let x=v(l).phase,m=(l/1e3).toFixed(1);(0,o.drawHudText)(a.ctx2d,"Vault Circuit",16,26),(0,o.drawHudText)(a.ctx2d,`Time: ${m}s | Score: ${s.toLocaleString()} | Checkpoints: ${f} | Phase ${x}`,16,48),r>0&&(0,o.drawHudText)(a.ctx2d,`High: ${r.toLocaleString()}`,16,70),d&&(a.ctx2d.save(),a.ctx2d.fillStyle="rgba(0, 0, 0, 0.75)",a.ctx2d.fillRect(0,0,a.width,a.height),a.ctx2d.restore(),(0,o.drawHudText)(a.ctx2d,"Circuit Failed",a.width/2-70,a.height/2-40),(0,o.drawHudText)(a.ctx2d,`Final Score: ${s.toLocaleString()}`,a.width/2-80,a.height/2),(0,o.drawHudText)(a.ctx2d,`Checkpoints: ${f}`,a.width/2-70,a.height/2+30),s===r&&(0,o.drawHudText)(a.ctx2d,"New High Score!",a.width/2-70,a.height/2+60))},dispose(){}}}},{id:"daily",title:"Daily Challenge",difficulty:"Daily",blurb:"One run. Same seed for everyone. Offline-safe.",scene:()=>{let e,t,i,a,l,d,s,r,h,n,x,f,m,u,g;return e=(void 0)??(0,c.utcDateId)(),t=(0,c.hashStringToUint32)(`rn:daily:${e}`),i=(0,c.mulberry32)(t),a=0,l=0,d=!1,s=!1,r=0,h=0,n=0,x=[],f=0,m=0,u=(e,t,a)=>{let l=Math.round(e/6*(Math.floor(5*i())+1)),d=(22+Math.round(26*i()))*(.95+.4*a),s=(120+160*i())*(.85+.8*a);x.push({x:l,y:-d-6,w:d,h:d,speed:s})},g=(e,t,i,a)=>{let l=a.x-a.w/2,d=a.y-a.h/2,s=Math.max(l,Math.min(e,l+a.w)),r=Math.max(d,Math.min(t,d+a.h)),h=e-s,o=t-r;return h*h+o*o<=i*i},{init(){i=(0,c.mulberry32)(t),a=0,l=0,d=!1,s=!1,n=0,x.length=0,f=300,r=0,h=0},update(e){var t;if(a||(a=e.nowMs,r=e.width/2,h=.75*e.height),s)return;let o=e.dtMs;n+=o;let{phase:c,intensity:p}=(t=l=e.nowMs-a)<1e4?{phase:1,intensity:.85+t/1e4*.1}:t<25e3?{phase:2,intensity:.95+(t-1e4)/15e3*.03}:t<4e4?{phase:3,intensity:.98+(t-25e3)/15e3*.015}:t<55e3?{phase:4,intensity:.995+(t-4e4)/15e3*.004}:{phase:5,intensity:.999+Math.min(.001,(t-55e3)/35e3*.001)};if(n>=f){u(e.width,e.height,p);let t=380+240*i();f=n+Math.min(Math.max(80,480-l/1e3*10*p),t),c>=3&&.4>i()&&u(e.width,e.height,p),c>=4&&(.6>i()&&u(e.width,e.height,p),.2>i()&&u(e.width,e.height,p)),c>=5&&(u(e.width,e.height,p),.5>i()&&u(e.width,e.height,p),.2>i()&&u(e.width,e.height,p))}Math.max(0,45e3-l)/12e3;let w=15*Math.floor(l/1e3/15);w>m&&(m=w);let y=e.settings.reduceMotion?200:260;for(let t of(r+=e.input.moveX*y*o/1e3,h+=e.input.moveY*y*o/1e3,r=Math.max(14,Math.min(e.width-14,r)),h=Math.max(14,Math.min(e.height-14,h)),x)){let i=t.speed*(e.settings.reduceMotion?.9:1);t.y+=i*o/1e3}for(;x.length&&x[0].y-x[0].h/2>e.height+40;)x.shift();for(let e of x)if(g(r,h,9,e)){s=!0,d=!1;break}!s&&l>=45e3&&(s=!0,d=!0)},render(t){(0,o.clear)(t.ctx2d,t.width,t.height),t.ctx2d.save(),t.ctx2d.fillStyle="rgba(2,6,23,0.96)",t.ctx2d.fillRect(0,0,t.width,t.height),t.ctx2d.restore(),t.ctx2d.save();let i=["#00ffff","#ffff00","#ff00ff","#00ff00","#ff8800","#ff0088"];for(let e=0;e<x.length;e++){let a=x[e],l=Math.floor((a.x+a.y)/50)%i.length,d=i[l];t.ctx2d.shadowBlur=25,t.ctx2d.shadowColor=d,t.ctx2d.fillStyle=d,t.ctx2d.fillRect(a.x-a.w/2,a.y-a.h/2,a.w,a.h),t.ctx2d.strokeStyle="#ffffff",t.ctx2d.lineWidth=3,t.ctx2d.strokeRect(a.x-a.w/2,a.y-a.h/2,a.w,a.h)}t.ctx2d.restore(),t.ctx2d.save(),t.ctx2d.shadowBlur=20,t.ctx2d.shadowColor="#6366f1",t.ctx2d.fillStyle="rgba(99,102,241,0.95)",t.ctx2d.beginPath(),t.ctx2d.arc(r,h,9,0,2*Math.PI),t.ctx2d.fill(),t.ctx2d.strokeStyle="#ffffff",t.ctx2d.lineWidth=3,t.ctx2d.stroke(),t.ctx2d.restore();let a=Math.max(0,Math.ceil(Math.max(0,45e3-l)/1e3));if((0,o.drawHudText)(t.ctx2d,`Daily Challenge - ${e}`,16,26),(0,o.drawHudText)(t.ctx2d,`Survive ${a}s`,16,48),s){t.ctx2d.save(),t.ctx2d.fillStyle="rgba(0,0,0,0.55)",t.ctx2d.fillRect(0,0,t.width,t.height),t.ctx2d.restore();let e=d?"Completed":"Failed";(0,o.drawHudText)(t.ctx2d,e,16,84),(0,o.drawHudText)(t.ctx2d,"Return to the hub for another mode.",16,106)}},dispose(){}}}},{id:"player-one",title:"Player One",difficulty:"Locked",blurb:"No instructions. You’re ready.",hidden:!0,requiresCharisTrophy:!0,scene:()=>{let e,t,i,a,l,d,s,r,h,n,x,f,m,u,g;return e=(0,c.hashStringToUint32)(`rn:player-one:${Math.floor(1e9*Math.random())}`),t=(0,c.mulberry32)(e),i=0,a=0,l=!1,d=0,s=0,r=0,h=0,n=[],x=0,f=0,m=0,u=e=>{let i=.66*e,a=(e-i)/2+t()*i,l=24+44*t(),d=14+26*t(),s=120+180*t();n.push({x:a,y:-40,w:l,h:d,speed:s})},g=(e,t,i,a)=>{let l=a.x-a.w/2,d=a.y-a.h/2,s=Math.max(l,Math.min(e,l+a.w)),r=Math.max(d,Math.min(t,d+a.h)),h=e-s,o=t-r;return h*h+o*o<=i*i},{init(){i=0,a=0,l=!1,d=0,s=0,r=0,h=0,n.length=0,x=350,f=0},update(e){if(i||(i=e.nowMs,d=e.width/2,s=.78*e.height),l)return;let o=e.dtMs;f+=o;let c=Math.max(140,520-(a=e.nowMs-i)/1e3*4.2);f>=x&&(u(e.width),a>18e3&&t()>.72&&u(e.width),x=f+c+180*t());let p=e.settings.reduceMotion?210:260;d+=e.input.moveX*p*o/1e3,s+=e.input.moveY*p*o/1e3,d=Math.max(12,Math.min(e.width-12,d)),s=Math.max(12,Math.min(e.height-12,s)),e.input.actionPressed&&a>=h&&(r=220,h=a+1200),r>0&&(r=Math.max(0,r-o));let w=Math.sin(a/1100)*(e.settings.reduceMotion?4:6);for(let e of(m=Math.max(m,Math.max(0,Math.min(1,a/75e3))),n)){let t=1+Math.min(1.25,a/6e4);e.y+=e.speed*t*o/1e3,e.x+=o/1e3*w}for(;n.length&&n[0].y-n[0].h/2>e.height+60;)n.shift();if(r<=0){for(let e of n)if(g(d,s,8,e)){l=!0;break}}},render(e){let t;for(let t of((0,o.clear)(e.ctx2d,e.width,e.height),e.ctx2d.save(),e.ctx2d.fillStyle="rgba(2,6,23,0.98)",e.ctx2d.fillRect(0,0,e.width,e.height),e.ctx2d.restore(),e.ctx2d.save(),e.ctx2d.fillStyle="rgba(255,255,255,0.10)",n))e.ctx2d.fillRect(t.x-t.w/2,t.y-t.h/2,t.w,t.h);e.ctx2d.restore(),e.ctx2d.save();let i=r>0;if(e.ctx2d.fillStyle=i?"rgba(16,185,129,0.95)":"rgba(244,63,94,0.92)",e.ctx2d.beginPath(),e.ctx2d.arc(d,s,8,0,2*Math.PI),e.ctx2d.fill(),e.ctx2d.restore(),!l)return;let h=(void 0)??null,c=null==h?"-":`${(h/1e3).toFixed(2)}s`,x=`${(a/1e3).toFixed(2)}s`;e.ctx2d.save(),e.ctx2d.fillStyle="rgba(0,0,0,0.62)",e.ctx2d.fillRect(0,0,e.width,e.height),e.ctx2d.restore(),e.ctx2d.save(),e.ctx2d.fillStyle="rgba(255,255,255,0.92)",e.ctx2d.font="700 18px system-ui, -apple-system, Segoe UI, sans-serif",e.ctx2d.fillText("Player One",18,44),e.ctx2d.font="600 14px system-ui, -apple-system, Segoe UI, sans-serif",e.ctx2d.fillText(`Run: ${x}`,18,72),e.ctx2d.fillText(`Best: ${c}`,18,94),e.ctx2d.font="700 14px system-ui, -apple-system, Segoe UI, sans-serif",e.ctx2d.fillText((t=a/1e3)<12?"Closer.":t<25?"Steady.":t<45?"Almost.":"Again.",18,128),e.ctx2d.restore()},dispose(){}}}},{id:"dev-room",title:"The Dev Room",difficulty:"Locked",blurb:"No UI. No hints. Just you.",hidden:!0,requiresDevRoomUnlock:!0,scene:()=>{let e,t,i,a,l,d,s;return e=0,t=0,i=!1,a=0,l=0,d=0,s=0,{init(){e=0,t=0,i=!1,a=0,l=0,d=0,s=0},update(r){if(e||(e=r.nowMs,d=r.width/2,s=r.height/2),i)return;t=r.nowMs-e;let h=r.dtMs/1e3,o=Math.min(1,Math.abs(r.input.moveX)+Math.abs(r.input.moveY)),c=+!!r.input.actionPressed;a+=(.6*o+1.2*c)*h,l+=(1-o)*h;let n=Math.sin(t/650)*(.6+Math.min(2.2,.25*a)),x=Math.cos(t/920)*(.5+Math.min(1.7,.18*a)),f=r.settings.reduceMotion?120:160;d+=(r.input.moveX*f+22*n)*h,s+=(r.input.moveY*f+22*x)*h,(d<18||s<18||d>r.width-18||s>r.height-18)&&(l=Math.max(0,l-1.6*h)),d=Math.max(10,Math.min(r.width-10,d)),s=Math.max(10,Math.min(r.height-10,s));let m=l-.45*a;t>4e4&&m>8&&(i=!0)},render(e){(0,o.clear)(e.ctx2d,e.width,e.height);let r=t/1e3,h=Math.min(1,a/14),c=Math.min(1,l/14);e.ctx2d.save();let n=e.ctx2d.createLinearGradient(0,0,e.width,e.height);if(n.addColorStop(0,`rgba(${Math.floor(8+40*h)},6,23,1)`),n.addColorStop(1,`rgba(2,${Math.floor(10+60*c)},23,1)`),e.ctx2d.fillStyle=n,e.ctx2d.fillRect(0,0,e.width,e.height),e.ctx2d.restore(),e.ctx2d.save(),e.ctx2d.fillStyle=`rgba(255,255,255,${.75+.2*c})`,e.ctx2d.beginPath(),e.ctx2d.arc(d,s,6,0,2*Math.PI),e.ctx2d.fill(),e.ctx2d.restore(),!e.settings.reduceMotion){let t=Math.floor(18+60*h);e.ctx2d.save(),e.ctx2d.fillStyle=`rgba(255,255,255,${.05+.08*h})`;for(let i=0;i<t;i+=1){let t=(.5*Math.sin(.7*r+i)+.5)*e.width,a=(.5*Math.cos(.9*r+1.3*i)+.5)*e.height;e.ctx2d.fillRect(t,a,2,2)}e.ctx2d.restore()}i&&(e.ctx2d.save(),e.ctx2d.fillStyle="rgba(0,0,0,0.55)",e.ctx2d.fillRect(0,0,e.width,e.height),e.ctx2d.fillStyle="rgba(255,255,255,0.92)",e.ctx2d.font="700 18px system-ui, -apple-system, Segoe UI, sans-serif",e.ctx2d.fillText("Now you understand.",18,44),e.ctx2d.restore())},dispose(){}}}}];function x(){let e=(0,i.useMemo)(()=>new r.PersistStore({prefix:"rn_games",version:"v1"}),[]),a=(0,i.useMemo)(()=>(0,h.createGamesProgressStore)(e),[e]),[l,d]=(0,i.useState)(!1),[o,x]=(0,i.useState)(!1),[f,m]=(0,i.useState)(null),[u,g]=(0,i.useState)(()=>({completed:!1,attempted:!1}));(0,i.useEffect)(()=>{let e=(0,c.utcDateId)();m(e),x(a.get().charisTrophyUnlocked),g(a.getDaily(e)),d(!0);let t=()=>{x(a.get().charisTrophyUnlocked),g(a.getDaily(e))};return window.addEventListener("focus",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",t)}},[a]);let p=(0,i.useMemo)(()=>n.filter(e=>!e.hidden||!!e.requiresCharisTrophy&&o),[o]),w=(0,i.useMemo)(()=>p.filter(e=>["pulse-runner","skyline-drift","vault-circuit"].includes(e.id)),[p]),y=(0,i.useMemo)(()=>p.filter(e=>!["pulse-runner","skyline-drift","vault-circuit"].includes(e.id)),[p]);return l&&f?(0,t.jsxs)("div",{className:"space-y-10",children:[(0,t.jsxs)("section",{"aria-label":"Featured games",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Featured"}),(0,t.jsx)("p",{className:"mt-2 text-base text-slate-700",children:"Three flagship games. Start here."})]}),(0,t.jsx)("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:w.map(e=>(0,t.jsxs)("div",{className:"group rounded-3xl border-2 border-slate-200 bg-white p-6 shadow-sm hover:border-slate-300 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.title}),(0,t.jsx)("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700 whitespace-nowrap",children:e.difficulty})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed mb-5",children:e.blurb}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(s.default,{className:"button primary inline-flex items-center justify-center min-w-[100px]",href:`/games/${e.id}`,children:"Play"}),(0,t.jsx)(s.default,{className:"button secondary inline-flex items-center justify-center",href:`/games/${e.id}#how-to-play`,children:"How to play"})]})]},e.id))})]}),(0,t.jsxs)("section",{"aria-label":"Campaign",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Campaign"}),(0,t.jsx)("p",{className:"mt-2 text-base text-slate-700",children:"12 challenging missions. Choose your character, complete objectives, earn stars."})]}),(0,t.jsx)("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:(0,t.jsxs)("div",{className:"group rounded-3xl border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 p-6 shadow-sm hover:border-purple-300 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:"Master Challenge"}),(0,t.jsx)("span",{className:"rounded-full bg-purple-100 px-3 py-1 text-xs font-semibold text-purple-700 whitespace-nowrap",children:"Campaign"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed mb-3",children:"12 mission-based levels with character selection, power-ups, collectibles, and side quests. Each mission takes ~5 minutes."}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,t.jsx)(s.default,{className:"button primary inline-flex items-center justify-center min-w-[100px]",href:"/games/missions",children:"Play"})})]})})]}),y.length>0&&(0,t.jsxs)("section",{"aria-label":"More games",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"More"}),(0,t.jsx)("p",{className:"mt-2 text-base text-slate-700",children:"Daily runs, unlocks, and extras."})]}),(0,t.jsx)("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:y.map(e=>(0,t.jsxs)("div",{className:"group rounded-3xl border-2 border-slate-200 bg-white p-6 shadow-sm hover:border-slate-300 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.title}),(0,t.jsx)("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700 whitespace-nowrap",children:e.difficulty})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed mb-3",children:e.blurb}),"daily"===e.id&&(0,t.jsxs)("p",{className:"text-xs font-semibold text-emerald-700 mb-4 py-2 px-3 rounded-lg bg-emerald-50 border border-emerald-200",children:["Daily Challenge"," - ",f," ",u.completed?"• Completed":u.attempted?`• Attempt used`:""]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(s.default,{className:"button primary inline-flex items-center justify-center min-w-[100px]",href:`/games/${e.id}`,children:"Play"}),(0,t.jsx)(s.default,{className:"button secondary inline-flex items-center justify-center",href:`/games/${e.id}#how-to-play`,children:"How to play"})]})]},e.id))})]})]}):(0,t.jsx)("div",{className:"space-y-8 animate-pulse",children:(0,t.jsxs)("section",{"aria-label":"Featured games",children:[(0,t.jsx)("div",{className:"h-7 w-32 rounded bg-slate-200 mb-2"}),(0,t.jsx)("div",{className:"h-4 w-48 rounded bg-slate-200 mb-4"}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-48 rounded-3xl border border-slate-200 bg-white/80 p-5 shadow-sm"},e))})]})})}var f=e.i(283086),m=e.i(972520);function u(){return(0,t.jsx)("section",{"aria-label":"Practice games",className:"mt-12",children:(0,t.jsx)("div",{className:"rounded-3xl border border-blue-200 bg-gradient-to-br from-blue-50/50 to-white p-8 shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg flex-shrink-0",children:(0,t.jsx)(f.Sparkles,{className:"h-8 w-8 text-white","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Practice Games"}),(0,t.jsx)("p",{className:"text-base leading-relaxed text-slate-700 mb-4",children:"All practice games have been moved to a dedicated page with improved organization, error handling, and accessibility. Explore cybersecurity, digitalisation, data, software architecture, and cross-topic games in one place."}),(0,t.jsxs)(s.default,{href:"/practice",className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300 focus-visible:ring-offset-2 transition-colors",children:["View All Practice Games",(0,t.jsx)(m.ArrowRight,{className:"h-4 w-4","aria-hidden":"true"})]})]})]})})})}var g=e.i(601616);function p({error:e,resetErrorBoundary:i}){return(0,t.jsx)("div",{className:"rounded-3xl border border-red-200 bg-red-50 p-6 shadow-sm",role:"alert",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-red-900",children:"Games section unavailable"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-red-700",children:"This section could not be loaded. This might be a temporary issue. Other games sections should still work."}),!1]}),(0,t.jsx)("button",{onClick:i,className:"rounded-full bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",type:"button",children:"Retry"})]})})}function w(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:"rounded-3xl border-2 border-slate-200 bg-gradient-to-br from-white to-slate-50/50 p-8 shadow-sm mb-8",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2",children:"Games"}),(0,t.jsx)("h1",{className:"text-4xl font-semibold text-slate-900 mb-3",children:"Canvas-based action games"}),(0,t.jsx)("p",{className:"text-base text-slate-700 leading-relaxed max-w-2xl",children:"Offline-first PWA games with arrow keys and swipe support. Load once, then play offline. Perfect for practicing on the go."})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(a,{})})]})}),(0,t.jsx)(d,{}),(0,t.jsx)(g.ErrorBoundary,{FallbackComponent:p,children:(0,t.jsx)(x,{})}),(0,t.jsx)(g.ErrorBoundary,{FallbackComponent:p,children:(0,t.jsx)(u,{})})]})}e.s(["default",()=>w],928216)}]);

//# debugId=460aceed-7880-7552-2059-320f768a57d5
//# sourceMappingURL=e9a273052ac2f4b8.js.map