;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="adecbf78-b396-b474-d8f8-99e51506a6b1")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,618348,e=>{"use strict";let t=(0,e.i(475254).default)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["HelpCircle",()=>t],618348)},431343,e=>{"use strict";let t=(0,e.i(475254).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>t],431343)},495242,e=>{"use strict";let t=(0,e.i(475254).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);e.s(["Pause",()=>t],495242)},962110,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(618348),l=e.i(495242),s=e.i(431343),n=e.i(475254);let i=(0,n.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var o=e.i(694351);let c=(0,n.default)("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),d=(0,n.default)("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);function u({config:e,status:n,onStart:u,onPause:h,onResume:g,onReset:m,onQuit:p,children:f,rightPanel:x,showHelp:y=!1,onToggleHelp:b}){let[v,S]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,t.jsx)("header",{className:"border-b border-slate-200 bg-white",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-slate-900 truncate",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-600 hidden sm:block",children:e.description})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:(0,t.jsx)("span",{className:`rounded-full px-3 py-1 text-xs font-medium whitespace-nowrap ${"playing"===n?"bg-green-100 text-green-800":"paused"===n?"bg-amber-100 text-amber-800":"finished"===n?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"}`,role:"status","aria-live":"polite","aria-label":`Game status: ${"playing"===n&&!v?"Playing":"paused"===n||v?"Paused":"finished"===n?"Finished":"Ready"}`,children:"playing"!==n||v?"paused"===n||v?"Paused":"finished"===n?"Finished":"Ready":"Playing"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[b&&(0,t.jsx)("button",{onClick:b,className:"rounded-lg p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500","aria-label":"Toggle help",type:"button",children:(0,t.jsx)(a.HelpCircle,{className:"h-5 w-5","aria-hidden":"true"})}),"idle"===n&&u&&(0,t.jsxs)("button",{onClick:u,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors",type:"button","aria-label":"Start game",children:[(0,t.jsx)(s.Play,{className:"h-4 w-4","aria-hidden":"true"}),"Start"]}),"playing"===n&&!v&&h&&(0,t.jsxs)("button",{onClick:()=>{S(!0),h?.()},className:"flex items-center gap-2 rounded-lg bg-slate-100 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors",type:"button","aria-label":"Pause game",children:[(0,t.jsx)(l.Pause,{className:"h-4 w-4","aria-hidden":"true"}),"Pause"]}),("paused"===n||v)&&g&&(0,t.jsxs)("button",{onClick:()=>{S(!1),g?.()},className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors",type:"button","aria-label":"Resume game",children:[(0,t.jsx)(s.Play,{className:"h-4 w-4","aria-hidden":"true"}),"Resume"]}),m&&(0,t.jsxs)("button",{onClick:m,className:"flex items-center gap-2 rounded-lg bg-slate-100 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors",type:"button","aria-label":"Reset game",children:[(0,t.jsx)(i,{className:"h-4 w-4","aria-hidden":"true"}),"Reset"]}),p&&(0,t.jsxs)("button",{onClick:p,className:"flex items-center gap-2 rounded-lg bg-slate-100 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors",type:"button","aria-label":"Quit game and return to games hub",children:[(0,t.jsx)(o.Home,{className:"h-4 w-4","aria-hidden":"true"}),"Quit"]})]})]})})}),(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-4",children:[(0,t.jsx)("main",{className:"lg:col-span-3",role:"main","aria-label":"Game area",children:(0,t.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",id:"game-main-area",children:f})}),x&&(0,t.jsx)("aside",{className:"lg:col-span-1",role:"complementary","aria-label":"Game information and statistics",children:(0,t.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",id:"game-sidebar",children:x})})]})}),(0,t.jsx)("footer",{className:"border-t border-slate-200 bg-white",role:"contentinfo",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-3 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 text-xs text-slate-600",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 flex-wrap",children:[(0,t.jsx)(c,{className:"h-4 w-4 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,t.jsxs)("span",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:[(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-xs",children:"Arrow keys"})," to move,"," ",(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-xs",children:"Space"})," to action,"," ",(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-xs",children:"P"})," to pause,"," ",(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-xs",children:"Q"})," to quit"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,t.jsx)("span",{children:"Touch: Swipe to move, Tap to action"})]})]})})})]})}e.s(["default",()=>u],962110)},539115,e=>{"use strict";class t{state;constructor(e){this.state=Math.abs(Math.floor(e))||1}next(){return this.state=(1664525*this.state+0x3c6ef35f)%0x100000000,this.state/0x100000000}nextInt(e,t){return Math.floor(this.next()*(t-e+1))+e}nextFloat(e,t){return e+this.next()*(t-e)}shuffle(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(this.next()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}weightedChoice(e,t){if(e.length!==t.length)throw Error("Items and weights arrays must have same length");let r=t.reduce((e,t)=>e+t,0);if(0===r)throw Error("Total weight must be greater than 0");let a=this.next()*r;for(let r=0;r<e.length;r++)if((a-=t[r])<=0)return e[r];return e[e.length-1]}choice(e){if(0===e.length)throw Error("Cannot choose from empty array");return e[this.nextInt(0,e.length-1)]}sample(e,t){if(t>e.length)throw Error("Sample size cannot be larger than array length");let r=new Set,a=[];for(;r.size<t;){let t=this.nextInt(0,e.length-1);r.has(t)||(r.add(t),a.push(e[t]))}return a}getState(){return this.state}setState(e){this.state=Math.abs(Math.floor(e))||1}clone(){return new t(this.state)}}function r(){let e=new Date,t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0"),l=`${t}-${r}-${a}`,s=0x811c9dc5;for(let e=0;e<l.length;e++)s^=l.charCodeAt(e),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return Math.abs(s>>>0)}function a(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)}e.s(["SeededRNG",()=>t,"getDailySeed",()=>r,"hashString",()=>a])},553969,e=>{"use strict";let t="ransford-daily-challenges";function r(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(e){console.error("Error loading daily challenges:",e)}return{challenges:{},lastUpdated:Date.now()}}function a(e){try{e.lastUpdated=Date.now(),localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Error saving daily challenges:",e)}}function l(e,t){let a=r(),l=`${e}-${t}`;return a.challenges[l]||null}function s(e){var t,l;let s=r(),n=(t=e.gameId,l=e.date,`${t}-${l}`);s.challenges[n]=e,a(s)}e.s(["getDailyChallenge",()=>l,"loadDailyChallenges",()=>r,"saveDailyChallenges",()=>a,"setDailyChallenge",()=>s])},980188,e=>{"use strict";var t=e.i(539115);let r={"daily-logic-gauntlet":"DLG","constraint-optimizer":"COPT","pattern-architect":"PATT","deduction-grid":"DEDU","flow-planner":"FLOW","memory-palace":"MEMO"},a={DLG:"daily-logic-gauntlet",COPT:"constraint-optimizer",PATT:"pattern-architect",DEDU:"deduction-grid",FLOW:"flow-planner",MEMO:"memory-palace",ALOC:"allocation-architect"};function l(e,a,l){let s=r[e];if(!s)throw Error(`Unknown game: ${e}`);let n=(0,t.hashString)(`challenge-${l}`).toString(36).slice(0,4).toUpperCase().padStart(4,"0");return{code:`${s}-${a}-${n}`,gameId:s,date:a,seed:l,hash:n}}function s(e,t){let r,a,s,n;return l(e,(a=(r=new Date).getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),n=String(r.getUTCDate()).padStart(2,"0"),`${a}-${s}-${n}`),t)}function n(e){return a[e]}function i(e){return r[e]||null}e.s(["generateChallengeCode",()=>l,"generateTodayChallengeCode",()=>s,"getGameId",()=>i,"getGameSlug",()=>n])},508592,e=>{"use strict";var t=e.i(539115);let r=/^([A-Z]{4})-(\d{4}-\d{2}-\d{2})-([A-Z0-9]{4})$/;function a(e){let a=e.match(r);if(!a)return{success:!1,error:`Invalid code format. Expected: GAME-YYYY-MM-DD-XXXX, got: ${e}`};let[,l,s,n]=a;if(!["DLG","COPT","PATT","DEDU","FLOW","MEMO"].includes(l))return{success:!1,error:`Unknown game ID: ${l}`};if(!s.match(/^(\d{4})-(\d{2})-(\d{2})$/))return{success:!1,error:`Invalid date format: ${s}`};let i=(0,t.hashString)(e);return{success:!0,code:{code:e,gameId:l,date:s,seed:i,hash:n}}}function l(e){return a(e).success}e.s(["parseChallengeCode",()=>a,"validateChallengeCode",()=>l])},98572,e=>{"use strict";let t=[{id:"first-game",name:"First Game",description:"Complete your first game",category:"progress",rarity:"common",icon:"ðŸŽ®",checkCondition:e=>(e.gamesCompleted||0)>=1},{id:"streak-3",name:"Getting Started",description:"Maintain a 3-day streak",category:"streak",rarity:"common",icon:"ðŸ”¥",checkCondition:e=>(e.currentStreak||0)>=3},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day streak",category:"streak",rarity:"uncommon",icon:"ðŸ’ª",checkCondition:e=>(e.currentStreak||0)>=7},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day streak",category:"streak",rarity:"rare",icon:"ðŸ‘‘",checkCondition:e=>(e.currentStreak||0)>=30},{id:"games-10",name:"Dedicated Player",description:"Complete 10 games",category:"milestone",rarity:"common",icon:"ðŸŽ¯",progressCondition:e=>Math.min(1,(e.gamesCompleted||0)/10),checkCondition:e=>(e.gamesCompleted||0)>=10},{id:"games-100",name:"Centurion",description:"Complete 100 games",category:"milestone",rarity:"epic",icon:"ðŸ†",progressCondition:e=>Math.min(1,(e.gamesCompleted||0)/100),checkCondition:e=>(e.gamesCompleted||0)>=100}];function r(){return t}function a(e){return t.find(t=>t.id===e)}function l(e){return t.filter(t=>t.gameId===e||!t.gameId&&null===e)}function s(){return t.filter(e=>!e.gameId)}e.s(["CROSS_GAME_ACHIEVEMENTS",0,t,"getAchievementDefinition",()=>a,"getAchievementsByGame",()=>l,"getAllAchievementDefinitions",()=>r,"getCrossGameAchievements",()=>s])},444499,e=>{"use strict";let t="ransford-achievements";function r(){try{let e=localStorage.getItem(t);if(e){let t=JSON.parse(e);if(1!==t.version)return l();return t.unlocked=t.unlocked||[],t.progress=t.progress||{},t}}catch(e){console.error("Error loading achievements:",e)}return l()}function a(e){try{e.version=1,localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Error saving achievements:",e)}}function l(){return{unlocked:[],progress:{},version:1}}function s(e,t){return t.unlocked.some(t=>t.achievementId===e)}function n(e,t,l){let n=l||r();return s(e,n)||(n.unlocked.push({achievementId:e,unlockedAt:Date.now(),gameId:t}),a(n)),n}function i(e,t,l){let s=l||r();return s.progress[e]=Math.max(0,Math.min(1,t)),a(s),s}function o(e,t){return t.progress[e]||0}function c(e,t){return t.unlocked.find(t=>t.achievementId===e)}function d(){localStorage.removeItem(t)}e.s(["clearAchievementStorage",()=>d,"createDefaultStorage",()=>l,"getAchievementProgress",()=>o,"getAchievementUnlock",()=>c,"isAchievementUnlocked",()=>s,"loadAchievementStorage",()=>r,"saveAchievementStorage",()=>a,"unlockAchievement",()=>n,"updateAchievementProgress",()=>i])},836494,266369,239403,250310,382228,538057,1062,282283,702559,686551,603473,910595,e=>{"use strict";var t=e.i(539115);function r(){let e=new Date,t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0");return`${t}-${r}-${a}`}function a(e,r){return((0,t.getDailySeed)()^(0,t.hashString)(e))>>>0}var l=e.i(553969);function s(e){let t=r(),s=(0,l.getDailyChallenge)(e,t);if(s)return s;let n=a(e,t),i={gameId:e,date:t,seed:n,completed:!1};return(0,l.setDailyChallenge)(i),i}function n(e,t){let s=r(),n=(0,l.getDailyChallenge)(e,s);if(!n){let r=a(e,s),n={gameId:e,date:s,seed:r,completed:!0,score:t.score,time:t.time,scoreValue:t.scoreValue,completedAt:Date.now()};(0,l.setDailyChallenge)(n);return}n.completed=!0,n.score=t.score,n.time=t.time,n.scoreValue=t.scoreValue,n.completedAt=Date.now(),(0,l.setDailyChallenge)(n)}e.s(["completeTodayChallenge",()=>n,"getOrGenerateTodayChallenge",()=>s],266369),e.s([],836494);var i=e.i(980188);e.i(508592);let o="ransford-challenge-codes";function c(e){var t,r={code:e.code,gameId:e.gameId,date:e.date,seed:e.seed};try{let e=(t=r.code,`${o}-${t}`);localStorage.setItem(e,JSON.stringify(r))}catch(e){console.error("Error storing challenge code:",e)}}function d(e){try{let t=`${o}-${e}`,r=localStorage.getItem(t);if(!r)return null;return JSON.parse(r)}catch(e){return console.error("Error retrieving challenge code:",e),null}}function u(){let e=[];try{for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);if(r?.startsWith(o)){let t=localStorage.getItem(r);if(t)try{e.push(JSON.parse(t))}catch(e){}}}}catch(e){console.error("Error retrieving all challenge codes:",e)}return e}function h(t){let r=d(t);if(!r){let{parseChallengeCode:r}=e.r(508592),a=r(t);if(!a.success||!a.code)return null;let l=(0,i.getGameSlug)(a.code.gameId),{getDailyChallenge:s}=e.r(553969),n=s(l,a.code.date);return n?{code:a.code,seed:n.seed,gameSlug:l}:{code:a.code,seed:a.code.seed,gameSlug:l}}let a=(0,i.getGameSlug)(r.gameId);return{code:{code:r.code,gameId:r.gameId,date:r.date,seed:r.seed,hash:r.code.split("-")[2]||""},seed:r.seed,gameSlug:a}}function g(){let e=new Date,t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${t}-${r}`}e.s(["getAllChallengeCodes",()=>u,"getChallengeCode",()=>d,"storeChallengeCode",()=>c],239403),e.s(["loadChallengeFromCode",()=>h],250310),e.s([],382228);let m="ransford-streaks";function p(){try{let e=localStorage.getItem(m);if(e)return JSON.parse(e)}catch(e){console.error("Error loading streaks:",e)}return{streaks:{},lastUpdated:Date.now()}}function f(e){return p().streaks[e]||null}function x(e,t){let r=p();r.streaks[e]=t;try{r.lastUpdated=Date.now(),localStorage.setItem(m,JSON.stringify(r))}catch(e){console.error("Error saving streaks:",e)}}function y(e){return f(e)||{gameId:e,currentStreak:0,longestStreak:0,lastPlayDate:null,streakFreezesUsed:0,lastFreezeReset:new Date().toISOString().slice(0,7)}}function b(e,t){return function(e,t){let r,a,l,s,n=(a=(r=new Date).getUTCFullYear(),l=String(r.getUTCMonth()+1).padStart(2,"0"),s=String(r.getUTCDate()).padStart(2,"0"),`${a}-${l}-${s}`),i=g(),o=f(e);if(o||(o={gameId:e,currentStreak:0,longestStreak:0,lastPlayDate:null,streakFreezesUsed:0,lastFreezeReset:g()}),o.lastFreezeReset!==i&&(o.streakFreezesUsed=0,o.lastFreezeReset=i),!t)return x(e,o),o;if(o.lastPlayDate)if(o.lastPlayDate===n);else{let e=function(e){let t=new Date;t.setUTCHours(0,0,0,0);let[r,a,l]=e.split("-").map(Number),s=new Date(Date.UTC(r,a-1,l));return Math.floor((t.getTime()-s.getTime())/864e5)}(o.lastPlayDate);1===e?(o.currentStreak+=1,o.lastPlayDate=n):0===e||(o.currentStreak=1,o.lastPlayDate=n)}else o.currentStreak=1,o.lastPlayDate=n;return o.currentStreak>o.longestStreak&&(o.longestStreak=o.currentStreak),x(e,o),o}(e,t)}e.s(["getStreakDataForGame",()=>y,"updateStreakForGame",()=>b],538057),e.s([],1062);var v=e.i(98572),S=e.i(444499);function C(e){let t=(0,S.loadAchievementStorage)(),r=(0,v.getAllAchievementDefinitions)(),a=[],l={},s=t;for(let t of r)if((!t.gameId||t.gameId===e.gameId)&&!(0,S.isAchievementUnlocked)(t.id,s)){if(t.progressCondition){let r=t.progressCondition(e);l[t.id]=r,s=(0,S.updateAchievementProgress)(t.id,r,s)}t.checkCondition&&t.checkCondition(e)&&(s=(0,S.unlockAchievement)(t.id,e.gameId,s),a.push(t.id))}return{newlyUnlocked:a,updatedProgress:l}}function k(e){let t=e.replace(/[^A-Z0-9-]/gi,"-");return`ransford-scores-${t}`}function w(e,t){try{let r=k(e),a=N(e);a.push(t),a.length>100&&a.shift(),localStorage.setItem(r,JSON.stringify(a))}catch(e){console.error("Error storing score:",e)}}function N(e){try{let t=k(e),r=localStorage.getItem(t);if(!r)return[];return JSON.parse(r)}catch(e){return console.error("Error retrieving scores:",e),[]}}function j(e,t,r){var a;if(0===r.length)return{averageScore:t.score,percentile:50,participantCount:1,playerScore:t.score,playerRank:1};let l=r.map(e=>e.score),s=[...l].sort((e,t)=>t-e),n=l.reduce((e,t)=>e+t,0)/l.length,i=(a=t.score,0===l.length?50:[...l].sort((e,t)=>e-t).filter(e=>e<=a).length/l.length*100),o=s.findIndex(e=>e<=t.score)+1;return 0===o&&(o=s.length),{averageScore:n,percentile:i,participantCount:r.length,playerScore:t.score,playerRank:o}}function M(e,t){w(e,t);let r=N(e);return j(e,t,r)}function D(e,t){let r=N(e);return 0===r.length?null:t?j(e,t,r):j(e,r[r.length-1],r)}e.s(["checkAndUnlockAchievements",()=>C],282283),e.s([],702559),e.s(["getScores",()=>N,"storeScore",()=>w],686551),e.s(["getScoreComparison",()=>D,"submitScore",()=>M],603473),e.s([],910595)},722190,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(962110),l=e.i(539115);function s(e,t){let r=[],a=0;for(let l of t.requiredSymmetry)!function(e,t){let r=e.grid,a=r.length;switch(t){case"horizontal":for(let e=0;e<Math.floor(a/2);e++)for(let t=0;t<a;t++)if(r[e][t]!==r[a-1-e][t])return!1;return!0;case"vertical":for(let e=0;e<a;e++)for(let t=0;t<Math.floor(a/2);t++)if(r[e][t]!==r[e][a-1-t])return!1;return!0;case"rotational":for(let e=0;e<a;e++)for(let t=0;t<a;t++)if(r[e][t]!==r[a-1-e][a-1-t])return!1;return!0;default:return!1}}(e,l)?r.push(`Missing ${l} symmetry`):a+=1;for(let a of t.rules)"count"===a.type&&a.requiredCount&&e.elements.length<a.requiredCount&&r.push(a.description);return{valid:0===r.length,violations:r,symmetryScore:a/t.requiredSymmetry.length}}let n="pattern-architect-profile";e.i(836494);var i=e.i(266369);e.i(382228);var o=e.i(980188),c=e.i(239403);e.i(1062);var d=e.i(538057);e.i(702559);var u=e.i(282283);e.i(910595);var h=e.i(603473);let g={id:"pattern-architect",title:"Pattern Architect",description:"Create beautiful symmetric patterns",category:"puzzle",modes:["solo","daily"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:10,tutorialAvailable:!0},m="pattern-architect";function p(){let[e,p]=(0,r.useState)("idle"),[f,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),[v,S]=(0,r.useState)(null),[C,k]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[j,M]=(0,r.useState)(null),[D,$]=(0,r.useState)(null),[I,A]=(0,r.useState)([]);(0,r.useEffect)(()=>{"idle"!==e||f||T()},[e,f]);let T=(0,r.useCallback)(()=>{try{var e,t,r;let a,s,n,o,c,d=(e={seed:(0,i.getOrGenerateTodayChallenge)(m).seed,difficulty:"designer"},s=new l.SeededRNG(e.seed),n=function(e){switch(e){case"novice":return{gridSize:4,ruleCount:2,symmetryCount:1};case"designer":return{gridSize:5,ruleCount:3,symmetryCount:1};case"architect":return{gridSize:6,ruleCount:4,symmetryCount:2};case"master-architect":return{gridSize:7,ruleCount:5,symmetryCount:2};case"pattern-master":return{gridSize:8,ruleCount:6,symmetryCount:3}}}(e.difficulty),o=function(e,t){let r=[],a=["horizontal","vertical","rotational"];for(let t=0;t<e.ruleCount;t++)0===t?r.push({id:`rule-${t}`,type:"symmetry",description:`Must have ${a[t%a.length]} symmetry`,symmetryType:a[t%a.length]}):r.push({id:`rule-${t}`,type:"count",description:`Must have at least ${3+t} elements`,requiredCount:3+t});return r}(n,0),t=n,r=s,a=["horizontal","vertical","rotational"],c=r.sample(a,Math.min(t.symmetryCount,a.length)),{id:`pattern-${e.seed}`,seed:e.seed,name:`Pattern Challenge ${e.seed}`,description:`Create a ${n.gridSize}x${n.gridSize} pattern following the rules with ${c.length} symmetry type(s).`,gridSize:n.gridSize,rules:o,requiredSymmetry:c,difficulty:e.difficulty,tier:function(e){switch(e){case"novice":return 0;case"designer":return 100;case"architect":return 300;case"master-architect":return 600;case"pattern-master":return 1e3}}(e.difficulty)});x(d);let u=[];for(let e=0;e<d.gridSize;e++){u[e]=[];for(let t=0;t<d.gridSize;t++)u[e][t]="dot"}b({grid:u,elements:[]}),S(null)}catch(e){console.error("Error initializing challenge:",e)}},[]),P=(0,r.useCallback)((t,r)=>{"playing"===e&&y&&f&&b(e=>{if(!e)return e;let a=e.grid.map(e=>[...e]),l=[...e.elements];if("dot"===a[t][r])a[t][r]="shape",l.push({row:t,col:r,type:"shape"});else{a[t][r]="dot";let e=l.findIndex(e=>e.row===t&&e.col===r);e>=0&&l.splice(e,1)}return{grid:a,elements:l}})},[e,y,f]),U=(0,r.useCallback)(()=>{let e,t,r,a,l,g,x;if(!f||!y||!C)return;let b=(e=s(y,f).symmetryScore,t=function(e){if(0===e.elements.length)return 0;let t=e.grid.length,r=t/2,a=t/2,l=0;for(let t of e.elements){let e=Math.abs(t.row-r),s=Math.abs(t.col-a);l+=Math.sqrt(e*e+s*s)}return Math.max(0,Math.min(1,1-2*Math.abs(l/e.elements.length/Math.sqrt(r*r+a*a)-.5)))}(y),D=y,I=f,a=D.elements.length,g=.3*(l=I.gridSize*I.gridSize),x=.5*l,{symmetry:100*e,balance:100*t,complexity:100*(r=a<g?a/g:a>x?1-(a-x)/(l-x):1),total:Math.round((.4*e+.3*t+.3*r)*1e4)/100});S(b.total),p("finished");let v=(0,o.generateTodayChallengeCode)(m,f.seed);(0,c.storeChallengeCode)(v),N(v);let k=Date.now()-C,w={score:b.total,time:k,scoreValue:b.total,timestamp:Date.now()};$(w),(0,h.submitScore)(v.code,w),M((0,h.getScoreComparison)(v.code,w)),(0,i.completeTodayChallenge)(m,{score:b.total,time:k,scoreValue:b.total}),(0,d.updateStreakForGame)(m,!0);let j=(0,d.getStreakDataForGame)(m);A((0,u.checkAndUnlockAchievements)({gameId:m,currentStreak:j.currentStreak,gamesCompleted:1}).newlyUnlocked);var D,I,T=f.id;try{let e=`pattern-architect-pattern-${T}`;localStorage.setItem(e,JSON.stringify(y))}catch(e){console.error("Error saving pattern:",e)}let P=function(){try{let e=localStorage.getItem(n);if(e)return JSON.parse(e)}catch(e){console.error("Error loading progress:",e)}return{xp:0,tier:"novice",challengesCompleted:0,personalBests:{},achievements:[]}}();P.challengesCompleted+=1;try{localStorage.setItem(n,JSON.stringify(P))}catch(e){console.error("Error saving progress:",e)}},[f,y,C]),z=(0,r.useCallback)(()=>{f?(p("playing"),S(null),k(Date.now())):T()},[f,T]),E=(0,r.useCallback)(()=>{p("idle"),S(null),k(null),x(null),b(null),N(null),M(null),A([]),$(null)},[]),O=y&&f?s(y,f):null,F=f?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Rules"}),(0,t.jsx)("div",{className:"space-y-2",children:f.rules.map(e=>(0,t.jsx)("div",{className:"text-sm text-slate-600",children:e.description},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Required Symmetry"}),(0,t.jsx)("div",{className:"text-sm text-slate-600",children:f.requiredSymmetry.join(", ")})]}),y&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Elements"}),(0,t.jsxs)("div",{className:"text-lg font-bold",children:[y.elements.length," placed"]})]}),O&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Status"}),(0,t.jsx)("div",{className:`text-sm font-medium ${O.valid?"text-green-600":"text-red-600"}`,children:O.valid?"âœ“ Valid":`âœ— ${O.violations.length} issues`})]}),null!==v&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Beauty Score"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:v.toFixed(1)})]})]}):null;return(0,t.jsx)(a.default,{config:g,status:e,onStart:z,onReset:E,rightPanel:F,children:(0,t.jsx)("div",{className:"p-4",children:f&&y?"idle"===e?(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:f.name}),(0,t.jsx)("p",{className:"text-slate-600",children:f.description}),(0,t.jsx)("button",{onClick:z,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Start Challenge"})]}):"playing"===e||"finished"===e?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Pattern Grid"}),(0,t.jsx)("div",{className:"inline-grid gap-1 p-4 bg-slate-100 rounded-lg",children:y.grid.map((r,a)=>(0,t.jsx)("div",{className:"flex gap-1",children:r.map((r,l)=>(0,t.jsx)("button",{onClick:()=>P(a,l),disabled:"finished"===e,className:`w-10 h-10 rounded border-2 transition-colors ${"shape"===r?"bg-purple-600 border-purple-700":"bg-white border-slate-300 hover:border-purple-400"}`,"aria-label":`Cell ${a},${l}`},`${a}-${l}`))},a))})]}),"playing"===e&&(0,t.jsx)("button",{onClick:U,className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Submit Pattern"}),"finished"===e&&null!==v&&(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:["Beauty Score: ",v.toFixed(1)]}),(0,t.jsx)("button",{onClick:E,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"New Challenge"})]})]}):null:(0,t.jsx)("div",{className:"text-center text-slate-600",children:"Loading challenge..."})})})}e.s(["default",()=>p],722190)},101761,e=>{e.n(e.i(722190))}]);

//# debugId=adecbf78-b396-b474-d8f8-99e51506a6b1
//# sourceMappingURL=8292615e6186ef92.js.map