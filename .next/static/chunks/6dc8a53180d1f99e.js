;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="64616526-b82c-80dc-8267-5b6f41ca928f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,212454,e=>{"use strict";let t=new class{storageKey="studio-audit-logs";maxLogs=1e3;log(e,t,r){try{let i={timestamp:Date.now(),action:e,studio:t,metadata:r||{}},a=this.getLogs();a.push(i),a.length>this.maxLogs&&a.splice(0,a.length-this.maxLogs),localStorage.setItem(this.storageKey,JSON.stringify(a))}catch(e){console.warn("Failed to log audit entry:",e)}}getLogs(){try{let e=localStorage.getItem(this.storageKey);if(!e)return[];return JSON.parse(e)}catch(e){return console.warn("Failed to read audit logs:",e),[]}}getLogsForStudio(e){return this.getLogs().filter(t=>t.studio===e)}clearLogs(){localStorage.removeItem(this.storageKey)}exportLogs(){return JSON.stringify(this.getLogs(),null,2)}};e.s(["AuditActions",0,{TOOL_OPENED:"tool_opened",FILE_UPLOADED:"file_uploaded",PROJECT_CREATED:"project_created",PROJECT_DELETED:"project_deleted",DEPLOYMENT_INITIATED:"deployment_initiated",CREDITS_CONSUMED:"credits_consumed",SETTINGS_CHANGED:"settings_changed",ERROR_OCCURRED:"error_occurred",ERROR_BOUNDARY_TRIGGERED:"error_boundary_triggered",ERROR_BOUNDARY_RESET:"error_boundary_reset",PERFORMANCE_ISSUE:"performance_issue",RETRY_ATTEMPTED:"retry_attempted"},"auditLogger",0,t])},526626,e=>{"use strict";var t=e.i(191788),r=e.i(438299),i=e.i(991461),a=e.i(270627),n=e.i(106043),s=e.i(703315),o=e.i(137890),l=e.i(204914),c=e.i(901841),u=["x1","y1","x2","y2","key"],d=["offset"];function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var i,a,n;i=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=h(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(a))in i?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(){return(m=Object.assign.bind()).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=function(e){var r=e.fill;if(!r||"none"===r)return null;var i=e.fillOpacity,a=e.x,n=e.y,s=e.width,o=e.height,l=e.ry;return t.default.createElement("rect",{x:a,y:n,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function v(e,i){var a;if(t.default.isValidElement(e))a=t.default.cloneElement(e,i);else if((0,r.default)(e))a=e(i);else{var s=i.x1,o=i.y1,l=i.x2,c=i.y2,h=i.key,p=x(i,u),f=(0,n.filterProps)(p,!1),y=(f.offset,x(f,d));a=t.default.createElement("line",m({},y,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:h}))}return a}function b(e){var r=e.x,i=e.width,a=e.horizontal,n=void 0===a||a,s=e.horizontalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(t,a){return v(n,f(f({},e),{},{x1:r,y1:t,x2:r+i,y2:t,key:"line-".concat(a),index:a}))});return t.default.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function g(e){var r=e.y,i=e.height,a=e.vertical,n=void 0===a||a,s=e.verticalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(t,a){return v(n,f(f({},e),{},{x1:t,y1:r,x2:t,y2:r+i,key:"line-".concat(a),index:a}))});return t.default.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function j(e){var r=e.horizontalFill,i=e.fillOpacity,a=e.x,n=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!r||!r.length)return null;var u=l.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=u[l+1]?u[l+1]-e:n+o-e;if(c<=0)return null;var d=l%r.length;return t.default.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.default.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function N(e){var r=e.vertical,i=e.verticalFill,a=e.fillOpacity,n=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!(void 0===r||r)||!i||!i.length)return null;var u=c.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==u[0]&&u.unshift(0);var d=u.map(function(e,r){var c=u[r+1]?u[r+1]-e:n+o-e;if(c<=0)return null;var d=r%i.length;return t.default.createElement("rect",{key:"react-".concat(r),x:e,y:s,width:c,height:l,stroke:"none",fill:i[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.default.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var O=function(e,t){var r=e.xAxis,i=e.width,a=e.height,n=e.offset;return(0,s.getCoordinatesOfGrid)((0,o.getTicks)(f(f(f({},l.CartesianAxis.defaultProps),r),{},{ticks:(0,s.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),n.left,n.left+n.width,t)},w=function(e,t){var r=e.yAxis,i=e.width,a=e.height,n=e.offset;return(0,s.getCoordinatesOfGrid)((0,o.getTicks)(f(f(f({},l.CartesianAxis.defaultProps),r),{},{ticks:(0,s.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),n.top,n.top+n.height,t)},A=[],S=[];function P(e){var n,s,o,l,u,d,p=(0,c.useChartWidth)(),x=(0,c.useChartHeight)(),v=(0,c.useOffset)(),P=f(f({},e),{},{stroke:null!=(n=e.stroke)?n:"#ccc",fill:null!=(s=e.fill)?s:"none",horizontal:null==(o=e.horizontal)||o,horizontalFill:null!=(l=e.horizontalFill)?l:S,vertical:null==(u=e.vertical)||u,verticalFill:null!=(d=e.verticalFill)?d:A,x:(0,a.isNumber)(e.x)?e.x:v.left,y:(0,a.isNumber)(e.y)?e.y:v.top,width:(0,a.isNumber)(e.width)?e.width:v.width,height:(0,a.isNumber)(e.height)?e.height:v.height}),E=P.x,k=P.y,C=P.width,T=P.height,D=P.syncWithTicks,F=P.horizontalValues,L=P.verticalValues,R=(0,c.useArbitraryXAxis)(),_=(0,c.useYAxisWithFiniteDomainOrRandom)();if(!(0,a.isNumber)(C)||C<=0||!(0,a.isNumber)(T)||T<=0||!(0,a.isNumber)(E)||E!==+E||!(0,a.isNumber)(k)||k!==+k)return null;var I=P.verticalCoordinatesGenerator||O,z=P.horizontalCoordinatesGenerator||w,M=P.horizontalPoints,B=P.verticalPoints;if((!M||!M.length)&&(0,r.default)(z)){var U=F&&F.length,V=z({yAxis:_?f(f({},_),{},{ticks:U?F:_.ticks}):void 0,width:p,height:x,offset:v},!!U||D);(0,i.warn)(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(h(V),"]")),Array.isArray(V)&&(M=V)}if((!B||!B.length)&&(0,r.default)(I)){var G=L&&L.length,K=I({xAxis:R?f(f({},R),{},{ticks:G?L:R.ticks}):void 0,width:p,height:x,offset:v},!!G||D);(0,i.warn)(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(h(K),"]")),Array.isArray(K)&&(B=K)}return t.default.createElement("g",{className:"recharts-cartesian-grid"},t.default.createElement(y,{fill:P.fill,fillOpacity:P.fillOpacity,x:P.x,y:P.y,width:P.width,height:P.height,ry:P.ry}),t.default.createElement(b,m({},P,{offset:v,horizontalPoints:M,xAxis:R,yAxis:_})),t.default.createElement(g,m({},P,{offset:v,verticalPoints:B,xAxis:R,yAxis:_})),t.default.createElement(j,m({},P,{horizontalPoints:M})),t.default.createElement(N,m({},P,{verticalPoints:B})))}P.displayName="CartesianGrid",e.s(["CartesianGrid",()=>P])},471394,385429,e=>{"use strict";var t=e.i(397250),r=e.i(191788),i=e.i(992984),a=e.i(438299),n=e.i(257140),s=e.i(949125),o=e.i(56206),l=e.i(366998),c=e.i(328233),u=e.i(379472),d=e.i(301426),h=e.i(692402),p=e.i(270627),f=e.i(106043),m=e.i(57216),x=e.i(703315),y=["type","layout","connectNulls","ref"],v=["key"];function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j(){return(j=Object.assign.bind()).apply(this,arguments)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function S(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,T(i.key),i)}}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P=function(){return!!e})()}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=b(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var D=function(e){var t,m;function N(){var e,t,r;if(!(this instanceof N))throw TypeError("Cannot call a class as a function");for(var i=arguments.length,a=Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=N,r=[].concat(a),t=E(t),C(e=function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,P()?Reflect.construct(t,r||[],E(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0,totalLength:0}),C(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),C(e,"getStrokeDasharray",function(t,r,i){var a=i.reduce(function(e,t){return e+t});if(!a)return e.generateSimpleStrokeDasharray(r,t);for(var n=Math.floor(t/a),s=t%a,o=r-t,l=[],c=0,u=0;c<i.length;u+=i[c],++c)if(u+i[c]>s){l=[].concat(w(i.slice(0,c)),[s-u]);break}var d=l.length%2==0?[0,o]:[o];return[].concat(w(N.repeat(i,n)),w(l),d).map(function(e){return"".concat(e,"px")}).join(", ")}),C(e,"id",(0,p.uniqueId)("recharts-line-")),C(e,"pathRef",function(t){e.mainCurve=t}),C(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),C(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return N.prototype=Object.create(e&&e.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),e&&k(N,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,n=i.xAxis,s=i.yAxis,o=i.layout,l=i.children,c=(0,f.findAllByType)(l,h.ErrorBar);if(!c)return null;var d=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,x.getValueByDataKey)(e.payload,t)}};return r.default.createElement(u.Layer,{clipPath:e?"url(#clipPath-".concat(t,")"):null},c.map(function(e){return r.default.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:n,yAxis:s,layout:o,dataPointFormatter:d})}))}},{key:"renderDots",value:function(e,t,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,n=a.dot,s=a.points,o=a.dataKey,l=(0,f.filterProps)(this.props,!1),c=(0,f.filterProps)(n,!0),d=s.map(function(e,t){var r=O(O(O({key:"dot-".concat(t),r:3},l),c),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:o,payload:e.payload,points:s});return N.renderDotItem(n,r)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(i,")"):null};return r.default.createElement(u.Layer,j({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,i,a){var n=this.props,s=n.type,o=n.layout,c=n.connectNulls,u=(n.ref,g(n,y)),d=O(O(O({},(0,f.filterProps)(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(i,")"):null,points:e},a),{},{type:s,layout:o,connectNulls:c});return r.default.createElement(l.Curve,j({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var a=this,n=this.props,s=n.points,o=n.strokeDasharray,l=n.isAnimationActive,c=n.animationBegin,u=n.animationDuration,d=n.animationEasing,h=n.animationId,f=n.animateNewValues,m=n.width,x=n.height,y=this.state,v=y.prevPoints,b=y.totalLength;return r.default.createElement(i.default,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i,n=r.t;if(v){var l=v.length/s.length,c=s.map(function(e,t){var r=Math.floor(t*l);if(v[r]){var i=v[r],a=(0,p.interpolateNumber)(i.x,e.x),s=(0,p.interpolateNumber)(i.y,e.y);return O(O({},e),{},{x:a(n),y:s(n)})}if(f){var o=(0,p.interpolateNumber)(2*m,e.x),c=(0,p.interpolateNumber)(x/2,e.y);return O(O({},e),{},{x:o(n),y:c(n)})}return O(O({},e),{},{x:e.x,y:e.y})});return a.renderCurveStatically(c,e,t)}var u=(0,p.interpolateNumber)(0,b)(n);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});i=a.getStrokeDasharray(u,b,d)}else i=a.generateSimpleStrokeDasharray(b,u);return a.renderCurveStatically(s,e,t,{strokeDasharray:i})})}},{key:"renderCurve",value:function(e,t){var r=this.props,i=r.points,a=r.isAnimationActive,n=this.state,o=n.prevPoints,l=n.totalLength;return a&&i&&i.length&&(!o&&l>0||!(0,s.default)(o,i))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(i,e,t)}},{key:"render",value:function(){var e,t=this.props,i=t.hide,a=t.dot,s=t.points,l=t.className,c=t.xAxis,h=t.yAxis,p=t.top,m=t.left,x=t.width,y=t.height,v=t.isAnimationActive,b=t.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,j=1===s.length,N=(0,o.default)("recharts-line",l),O=c&&c.allowDataOverflow,w=h&&h.allowDataOverflow,A=O||w,S=(0,n.default)(b)?this.id:b,P=null!=(e=(0,f.filterProps)(a,!1))?e:{r:3,strokeWidth:2},E=P.r,k=P.strokeWidth,C=((0,f.hasClipDot)(a)?a:{}).clipDot,T=void 0===C||C,D=2*(void 0===E?3:E)+(void 0===k?2:k);return r.default.createElement(u.Layer,{className:N},O||w?r.default.createElement("defs",null,r.default.createElement("clipPath",{id:"clipPath-".concat(S)},r.default.createElement("rect",{x:O?m:m-x/2,y:w?p:p-y/2,width:O?x:2*x,height:w?y:2*y})),!T&&r.default.createElement("clipPath",{id:"clipPath-dots-".concat(S)},r.default.createElement("rect",{x:m-D/2,y:p-D/2,width:x+D,height:y+D}))):null,!j&&this.renderCurve(A,S),this.renderErrorBar(A,S),(j||a)&&this.renderDots(A,T,S),(!v||g)&&d.LabelList.renderCallByParent(this.props,s))}}],m=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(w(e),[0]):e,i=[],a=0;a<t;++a)i=[].concat(w(i),w(r));return i}},{key:"renderDotItem",value:function(e,t){var i;if(r.default.isValidElement(e))i=r.default.cloneElement(e,t);else if((0,a.default)(e))i=e(t);else{var n=t.key,s=g(t,v),l=(0,o.default)("recharts-line-dot","boolean"!=typeof e?e.className:"");i=r.default.createElement(c.Dot,j({key:n},s,{className:l}))}return i}}],t&&S(N.prototype,t),m&&S(N,m),Object.defineProperty(N,"prototype",{writable:!1}),N}(r.PureComponent);C(D,"displayName","Line"),C(D,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!m.Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),C(D,"getComposedData",function(e){var t=e.props,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout;return O({points:c.map(function(e,t){var c=(0,x.getValueByDataKey)(e,o);return"horizontal"===d?{x:(0,x.getCateCoordinateOfLine)({axis:r,ticks:a,bandSize:l,entry:e,index:t}),y:(0,n.default)(c)?null:i.scale(c),value:c,payload:e}:{x:(0,n.default)(c)?null:r.scale(c),y:(0,x.getCateCoordinateOfLine)({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:c,payload:e}}),layout:d},u)}),e.s(["Line",()=>D],385429);var F=e.i(756902),L=e.i(976835),R=e.i(240626),_=(0,t.generateCategoricalChart)({chartName:"LineChart",GraphicalChild:D,axisComponents:[{axisType:"xAxis",AxisComp:F.XAxis},{axisType:"yAxis",AxisComp:L.YAxis}],formatAxisMap:R.formatAxisMap});e.s(["LineChart",()=>_],471394)},615756,e=>{"use strict";var t=e.i(391398),r=e.i(191788),i=e.i(225144),a=e.i(767785),n=e.i(472552),s=e.i(385429),o=e.i(471394),l=e.i(723451),c=e.i(694713),u=e.i(756902),d=e.i(976835),h=e.i(526626),p=e.i(685509),f=e.i(499505),m=e.i(562987);function x(e,t,r,i){let a=0,n=0,s=0,o=0;for(let l=0;l<e.length;l+=1){let c=String(e[l]).trim(),u=t[l],d=c===r,h=u>=i;d&&h?a+=1:!d&&h?n+=1:d||h?d&&!h&&(o+=1):s+=1}let l=a+o,c=s+n,u=l>0?a/l:0,d=c>0?n/c:0,h=c>0?s/c:0,p=a+n>0?a/(a+n):0,f=a+n+s+o>0?(a+s)/(a+n+s+o):0;return{threshold:i,tp:a,fp:n,tn:s,fn:o,tpr:u,fpr:d,tnr:h,precision:p,recall:u,accuracy:f,f1:p+u>0?2*p*u/(p+u):0}}function y(){let[e,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[N,O]=(0,r.useState)(""),[w,A]=(0,r.useState)(.5),[S,P]=(0,r.useState)("Upload a CSV with true labels and model scores to explore thresholds."),E=(0,r.useCallback)(e=>{let{safeFiles:t,errors:r}=(0,f.validateUpload)(e.target.files,{maxBytes:8388608,allowedExtensions:[".csv"]});r.length&&alert(r.join("\n"));let i=t[0];i&&(P("Parsing CSVâ€¦"),y(null),n.default.parse(i,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:e=>{let t=e.data;if(!t||0===t.length)return void P("The CSV file appears to be empty or malformed.");let r=Object.keys(t[0]);r.length?(y({columns:r,rows:t}),P("File loaded. Now choose the label column, the score column and the positive label."),v||b(r[0]),!g&&r.length>1&&j(r[1])):P("Could not detect any columns in the CSV file.")},error:e=>{P(`Failed to parse CSV: ${e.message}`)}}))},[v,g]),k=e?.columns??[],C=(0,r.useMemo)(()=>e&&v?e.rows.map(e=>e[v]).filter(e=>null!=e):[],[e,v]),T=(0,r.useMemo)(()=>{if(!e||!g)return[];let t=[];for(let r of e.rows){let e=function(e){if(null==e)return null;if("number"==typeof e&&Number.isFinite(e))return e;let t=Number(String(e).replace(",","."));return Number.isFinite(t)?t:null}(r[g]);null!==e&&t.push(e)}return t},[e,g]),D=(0,r.useMemo)(()=>{if(!C.length)return[];let e=new Set;for(let t of C){let r=String(t).trim();r.length>0&&e.add(r)}return Array.from(e.values())},[C]),F=e&&v&&g&&N&&C.length===T.length&&C.length>0,L=(0,r.useMemo)(()=>F?x(C,T,N,w):null,[F,C,T,N,w]),R=(0,r.useMemo)(()=>{if(!F)return[];let e=[];for(let t=0;t<=21;t+=1){let r=t/21,i=x(C,T,N,r);e.push({threshold:r,tpr:Number(i.tpr.toFixed(3)),fpr:Number(i.fpr.toFixed(3))})}return e},[F,C,T,N]);return(0,t.jsxs)(p.AiToolCard,{id:"threshold-evaluation-lab-title",title:"Threshold and evaluation cockpit",icon:(0,t.jsx)(i.Gauge,{className:"h-4 w-4","aria-hidden":"true"}),description:"Upload model outputs and explore how the confusion matrix and metrics change as you adjust the decision threshold.",children:[(0,t.jsx)(m.SecurityBanner,{}),(0,t.jsxs)("div",{className:"grid gap-6 xl:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 xl:col-span-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Step 1 - Upload model outputs"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Use a CSV file where each row is a prediction. Include a true label column and a model score column between 0 and 1. Only your browser sees this data."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"threshold-upload",className:"block text-sm font-medium text-slate-700",children:"CSV file"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("label",{htmlFor:"threshold-upload",className:"inline-flex cursor-pointer items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm hover:border-sky-300 hover:text-sky-700",children:[(0,t.jsx)(a.UploadCloud,{className:"h-4 w-4","aria-hidden":"true"}),(0,t.jsx)("span",{children:"Choose file"})]}),(0,t.jsx)("input",{id:"threshold-upload",type:"file",accept:".csv,text/csv",className:"hidden",onChange:E}),(0,t.jsx)("span",{className:"text-sm text-slate-500",children:"CSV only, max 8MB. Stays in your browser."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"label-column",className:"block text-sm font-medium text-slate-700",children:"Label column"}),(0,t.jsxs)("select",{id:"label-column",value:v,onChange:e=>b(e.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",children:[(0,t.jsx)("option",{value:"",children:"Select label column"}),k.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"score-column",className:"block text-sm font-medium text-slate-700",children:"Score or probability column"}),(0,t.jsxs)("select",{id:"score-column",value:g,onChange:e=>j(e.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",children:[(0,t.jsx)("option",{value:"",children:"Select score column"}),k.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Scores should be between 0 and 1. They are treated as the model's confidence that a case is positive."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"positive-label",className:"block text-sm font-medium text-slate-700",children:"Positive label"}),(0,t.jsxs)("select",{id:"positive-label",value:N,onChange:e=>O(e.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",children:[(0,t.jsx)("option",{value:"",children:"Select positive label"}),D.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"This is the outcome you most care about catching. For example, fraud, unsafe, complaint or churn."})]})]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:S})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 xl:col-span-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Step 2 - Move the threshold and watch the confusion matrix"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Use the slider or numeric box to change the decision threshold. The confusion matrix and metrics will update in real time."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"threshold-input",className:"block text-sm font-medium text-slate-700",children:"Decision threshold"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{id:"threshold-input",type:"range",min:0,max:1,step:.01,value:w,onChange:e=>A(Math.min(1,Math.max(0,Number(e.target.value)))),className:"flex-1"}),(0,t.jsx)("input",{type:"number",min:0,max:1,step:.01,value:w,onChange:e=>A(Math.min(1,Math.max(0,Number(e.target.value)))),className:"w-20 rounded-2xl border border-slate-200 bg-white px-2 py-1 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200"})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-700",children:[(0,t.jsx)("p",{className:"mb-2 text-sm font-semibold text-slate-900",children:"Confusion matrix"}),L?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Actual positive"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-center",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-emerald-50 px-2 py-1",children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500",children:"Predicted positive"}),(0,t.jsxs)("p",{className:"text-xs font-semibold text-emerald-700",children:["TP ",L.tp]})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-rose-50 px-2 py-1",children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500",children:"Predicted negative"}),(0,t.jsxs)("p",{className:"text-xs font-semibold text-rose-700",children:["FN ",L.fn]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Actual negative"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-center",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-amber-50 px-2 py-1",children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500",children:"Predicted positive"}),(0,t.jsxs)("p",{className:"text-xs font-semibold text-amber-700",children:["FP ",L.fp]})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-slate-50 px-2 py-1",children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500",children:"Predicted negative"}),(0,t.jsxs)("p",{className:"text-xs font-semibold text-slate-700",children:["TN ",L.tn]})]})]})]})]}):(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Once you upload data and choose the label, score and positive label, the confusion matrix will appear here."})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-700",children:[(0,t.jsx)("p",{className:"mb-1 text-sm font-semibold text-slate-900",children:"Metrics"}),L?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[(0,t.jsxs)("p",{children:["Accuracy: ",(0,t.jsx)("span",{className:"font-semibold",children:L.accuracy.toFixed(3)})]}),(0,t.jsxs)("p",{children:["Precision: ",(0,t.jsx)("span",{className:"font-semibold",children:L.precision.toFixed(3)})]}),(0,t.jsxs)("p",{children:["Recall: ",(0,t.jsx)("span",{className:"font-semibold",children:L.recall.toFixed(3)})]}),(0,t.jsxs)("p",{children:["F1: ",(0,t.jsx)("span",{className:"font-semibold",children:L.f1.toFixed(3)})]}),(0,t.jsxs)("p",{children:["True negative rate: ",(0,t.jsx)("span",{className:"font-semibold",children:L.tnr.toFixed(3)})]}),(0,t.jsxs)("p",{children:["False positive rate: ",(0,t.jsx)("span",{className:"font-semibold",children:L.fpr.toFixed(3)})]})]}):(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Metrics will appear here once a dataset, positive label and threshold are set."})]})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 xl:col-span-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Step 3 - ROC curve and trade offs"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"The ROC curve shows how the true positive rate and false positive rate move together as you scan thresholds from 0 to 1."}),(0,t.jsx)("div",{className:"h-44 rounded-2xl border border-slate-200 bg-white px-3 py-2",children:R.length>0?(0,t.jsx)(l.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(o.LineChart,{data:R,children:[(0,t.jsx)(h.CartesianGrid,{stroke:"#e5e7eb",strokeDasharray:"3 3"}),(0,t.jsx)(u.XAxis,{dataKey:"fpr",tick:{fontSize:9},label:{value:"False positive rate",position:"insideBottom",offset:-4,fontSize:10}}),(0,t.jsx)(d.YAxis,{tick:{fontSize:9},domain:[0,1],label:{value:"True positive rate",angle:-90,position:"insideLeft",fontSize:10}}),(0,t.jsx)(c.Tooltip,{contentStyle:{fontSize:10,borderRadius:12,padding:8},formatter:(e,t)=>"threshold"===t?[Number(e).toFixed(2),"Threshold"]:[e,t]}),(0,t.jsx)(s.Line,{type:"monotone",dataKey:"tpr",stroke:"#0f766e",strokeWidth:2,dot:!1,name:"ROC"})]})}):(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Once you have uploaded data and selected the positive label the ROC curve will appear here. Each point on the curve corresponds to a threshold between 0 and 1."})}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-700 space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"What this means"}),(0,t.jsx)("p",{children:function(e){if(!e)return"Once you upload data and choose the positive label this area will explain what your current threshold is doing.";if(!(e.tp+e.fp+e.tn+e.fn))return"There are no rows to evaluate. Check that the label and score columns are set correctly.";let t=e.recall.toFixed(3),r=e.precision.toFixed(3),i=e.fpr.toFixed(3),a=e.threshold.toFixed(2);return`At a threshold of ${a} the model correctly catches ${e.tp} positive cases and misses ${e.fn}. It also creates ${e.fp} false alarms for ${e.tn} true negatives. That gives a recall of ${t}, a precision of ${r} and a false positive rate of ${i}. Use this to decide whether you prefer to catch more positives, reduce false alarms or aim for a balance.`}(L)}),(0,t.jsx)("p",{className:"text-slate-500",children:"In practice you would choose a threshold based on cost of false positives and false negatives, operational capacity and the wider control environment. This lab helps you explore that space with real data before you make those decisions."})]})]})]})]})}e.s(["ThresholdEvaluationLab",()=>y])},175869,e=>{e.n(e.i(615756))}]);

//# debugId=64616526-b82c-80dc-8267-5b6f41ca928f
//# sourceMappingURL=0ecb7c3a5862a851.js.map