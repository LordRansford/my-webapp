;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="891b9269-6493-28b5-d798-ab7ffb1691ce")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,641377,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(962110),r=e.i(539115),i=e.i(455521);function n(e){return(e.logicSkill+e.patternSkill+e.deductionSkill+e.constraintSkill+e.speedSkill)/5}class l{playerModel;history;maxHistorySize=50;constructor(e){this.playerModel=e,this.history=[]}calculateNextDifficulty(e,t,a){var s;let r,i,l,o=.7*(s=this.playerModel,i=(r=({logic:"logicSkill",pattern:"patternSkill",deduction:"deductionSkill",constraint:"constraintSkill"})[e])?s[r]:n(s),l=(s.confidence-.5)*.2,Math.max(.1,Math.min(.95,i+.15+l+(s.weaknessAreas.includes(e)?-.1:0))))+.3*(.3+t/a*.5);if(this.history.length>0){let e=this.getRecentPerformance(5);return Math.max(.1,Math.min(.95,o+this.calculatePerformanceAdjustment(e)))}return o}update(e){this.playerModel=function(e,t){let a=e.dataPoints+1,s={logic:"logicSkill",pattern:"patternSkill",deduction:"deductionSkill",constraint:"constraintSkill"}[t.puzzleType];if(s){let a=e[s],r=+!!t.correct,i=t.correct?Math.max(0,1-t.timeSpent/6e4):0;e[s]=Math.max(0,Math.min(1,.9*a+r*(.7+.3*i)*.1))}let r=t.correct?Math.max(0,1-t.timeSpent/6e4):0;if(e.speedSkill=.9*e.speedSkill+.1*r,void 0!==t.hesitationTime){let a=Math.max(0,1-t.hesitationTime/1e4);e.confidence=.9*e.confidence+.1*a}let i=1-t.hintsUsed/3;e.riskTolerance=.9*e.riskTolerance+.1*i;let l=Math.min(1,t.attempts/3);e.persistence=.9*e.persistence+.1*l,t.correct?(e.strengthAreas.includes(t.puzzleType)||e.strengthAreas.push(t.puzzleType),e.weaknessAreas=e.weaknessAreas.filter(e=>e!==t.puzzleType)):(e.weaknessAreas.includes(t.puzzleType)||e.weaknessAreas.push(t.puzzleType),e.strengthAreas.includes(t.puzzleType)&&t.attempts>2&&(e.strengthAreas=e.strengthAreas.filter(e=>e!==t.puzzleType)));let o=n(e),c={...e};return s&&(c[s]=e[s]),e.improvementVelocity=(n(c)-o)/a,e.plateauDetected=.001>Math.abs(e.improvementVelocity)&&a>20,t.correct&&t.timeSpent<3e4&&"mixed"===e.learningStyle&&(e.learningStyle="pattern"===t.puzzleType?"visual":"interactive"),e.lastUpdated=Date.now(),e.dataPoints=a,e}(this.playerModel,e),this.history.push({timestamp:Date.now(),performance:e,difficulty:e.difficulty}),this.history.length>this.maxHistorySize&&this.history.shift()}getRecentPerformance(e){return this.history.slice(-e).map(e=>e.performance)}calculatePerformanceAdjustment(e){if(0===e.length)return 0;let t=e.filter(e=>e.correct).length/e.length,a=e.reduce((e,t)=>e+t.timeSpent,0)/e.length;return t>.9&&a<3e4?.1:t<.6||a>12e4?-.1:.05*(t>=.7&&t<=.9&&a>6e4)}getModel(){return{...this.playerModel}}reset(){this.history=[]}getStats(){if(0===this.history.length)return{totalPuzzles:0,accuracy:0,averageTime:0,averageDifficulty:0};let e=this.history.filter(e=>e.performance.correct).length,t=this.history.reduce((e,t)=>e+t.performance.timeSpent,0),a=this.history.reduce((e,t)=>e+t.difficulty,0);return{totalPuzzles:this.history.length,accuracy:e/this.history.length,averageTime:t/this.history.length,averageDifficulty:a/this.history.length}}}class o{STORAGE_KEY_PREFIX="ransford-games";CURRENT_VERSION="2.0.0";MAX_BACKUPS=5;migrations=new Map;constructor(e){this.gameId=e,this.registerMigrations()}gameId;registerMigrations(){this.migrations.set("1.0.0->2.0.0",e=>({...e,version:"2.0.0",metadata:{...e.metadata}}))}getStorageKey(e="save"){return"profile"===e?`${this.STORAGE_KEY_PREFIX}-profile`:"backup"===e?`${this.STORAGE_KEY_PREFIX}-${this.gameId}-backup-${Date.now()}`:`${this.STORAGE_KEY_PREFIX}-${this.gameId}`}async saveGameState(e,t){let a={version:this.CURRENT_VERSION,gameId:this.gameId,timestamp:Date.now(),state:e,metadata:t};try{let e=this.getStorageKey();localStorage.setItem(e,JSON.stringify(a))}catch(e){if(e instanceof DOMException&&"QuotaExceededError"===e.name){await this.cleanupOldSaves();try{localStorage.setItem(this.getStorageKey(),JSON.stringify(a))}catch(e){throw console.error("Failed to save game state after cleanup:",e),Error("Storage quota exceeded. Please free up space.")}}else throw console.error("Failed to save game state:",e),e}}async loadGameState(){try{let e=this.getStorageKey(),t=localStorage.getItem(e);if(!t)return null;let a=JSON.parse(t);return await this.migrateAndLoad(a)}catch(e){return console.error("Failed to load game state:",e),null}}async migrateAndLoad(e){if(e.version===this.CURRENT_VERSION)return e;await this.createBackup(e);let t=e;for(let a of this.getMigrationPath(e.version,this.CURRENT_VERSION)){let e=this.migrations.get(a);e&&(t=e(t))}return await this.saveGameState(t.state,t.metadata),t}getMigrationPath(e,t){let a=[];return"1.0.0"===e&&"2.0.0"===t&&a.push("1.0.0->2.0.0"),a}async createBackup(e){try{let t=this.getStorageKey("backup");localStorage.setItem(t,JSON.stringify(e)),await this.cleanupOldBackups()}catch(e){console.warn("Failed to create backup:",e)}}async cleanupOldBackups(){let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);if(a?.startsWith(`${this.STORAGE_KEY_PREFIX}-${this.gameId}-backup-`)){let t=parseInt(a.split("-").pop()||"0");e.push({key:a,timestamp:t})}}for(let{key:t}of(e.sort((e,t)=>e.timestamp-t.timestamp),e.slice(0,Math.max(0,e.length-this.MAX_BACKUPS))))localStorage.removeItem(t)}async cleanupOldSaves(){await this.cleanupOldBackups()}async deleteGameState(){try{localStorage.removeItem(this.getStorageKey())}catch(e){throw console.error("Failed to delete game state:",e),e}}async savePlayerProfile(e){try{let t={...e,version:this.CURRENT_VERSION,lastUpdated:Date.now()},a=this.getStorageKey("profile");localStorage.setItem(a,JSON.stringify(t))}catch(e){throw console.error("Failed to save player profile:",e),e}}async loadPlayerProfile(){try{let e=this.getStorageKey("profile"),t=localStorage.getItem(e);if(!t)return null;let a=JSON.parse(t);return a.version!==this.CURRENT_VERSION&&(a.version=this.CURRENT_VERSION,await this.savePlayerProfile(a)),a}catch(e){return console.error("Failed to load player profile:",e),null}}createDefaultProfile(e="Player"){return{version:this.CURRENT_VERSION,pseudonym:e,mastery:{},achievements:[],settings:{audioEnabled:!1,reducedMotion:!1,highContrast:!1,tutorialCompleted:!1},lastPlayed:{},createdAt:Date.now(),lastUpdated:Date.now()}}compareVersions(e,t){let a=e.split(".").map(Number),s=t.split(".").map(Number);for(let e=0;e<Math.max(a.length,s.length);e++){let t=a[e]||0,r=s[e]||0;if(t<r)return -1;if(t>r)return 1}return 0}}e.i(523285),e.i(295728),e.i(557663);var c=e.i(140492);e.i(247167),e.i(597327),e.i(295922);let d=[{id:"logic-ordering-simple",type:"logic",baseDifficulty:.2,entities:["First","Second","Third"],constraints:[{description:"First comes before Second, Second comes before Third",apply:e=>["First","Second","Third"]}],questionTemplate:"Three items (First, Second, Third) must be arranged. First comes before Second, and Second comes before Third. What is the correct order?",explanationTemplate:"The order must be First â†’ Second â†’ Third to satisfy all constraints."},{id:"logic-if-then",type:"logic",baseDifficulty:.3,entities:["If A then B"],constraints:[{description:"If A then B is true",apply:e=>e}],questionTemplate:'Given the statement "If it rains, then the ground is wet", which statement is always true?',explanationTemplate:'If the condition "it rains" occurs, then "the ground is wet" must follow. This is the logical implication.'},{id:"logic-exclusion",type:"logic",baseDifficulty:.35,entities:["A","B","C"],constraints:[{description:"Not A",apply:e=>e.filter(e=>"A"!==e)}],questionTemplate:"If you have A, B, and C, but not A, what do you have?",explanationTemplate:"Excluding A leaves B and C."},{id:"logic-transitive",type:"logic",baseDifficulty:.4,entities:["A","B","C"],constraints:[{description:"A > B and B > C implies A > C",apply:e=>e}],questionTemplate:"If A is taller than B, and B is taller than C, what can we conclude about A and C?",explanationTemplate:"By transitivity, A must be taller than C."},{id:"logic-chain",type:"logic",baseDifficulty:.5,entities:["A","B","C","D"],constraints:[{description:"A â†’ B â†’ C â†’ D",apply:e=>["A","B","C","D"]}],questionTemplate:"Given: A leads to B, B leads to C, C leads to D. What follows?",explanationTemplate:"By chaining the conditions, we can conclude A leads to D."},{id:"logic-negation",type:"logic",baseDifficulty:.35,entities:["True","False"],constraints:[{description:"Not False",apply:()=>["True"]}],questionTemplate:'If "not false" is true, what is the value?',explanationTemplate:"The negation of false is true."},{id:"logic-conjunction",type:"logic",baseDifficulty:.4,entities:["A and B"],constraints:[{description:"Both A and B must be true",apply:e=>e}],questionTemplate:'If "A and B" is true, what can we conclude?',explanationTemplate:'For "A and B" to be true, both A and B must be true.'},{id:"logic-disjunction",type:"logic",baseDifficulty:.3,entities:["A or B"],constraints:[{description:"At least one of A or B is true",apply:e=>e}],questionTemplate:'If "A or B" is true, what can we conclude?',explanationTemplate:'For "A or B" to be true, at least one of A or B must be true.'},{id:"logic-equivalence",type:"logic",baseDifficulty:.45,entities:["A","B"],constraints:[{description:"A if and only if B",apply:e=>e}],questionTemplate:'If "A if and only if B" is true, and A is true, what can we conclude about B?',explanationTemplate:'If A is true and "A if and only if B" is true, then B must also be true.'}],u=[{id:"pattern-arithmetic",type:"pattern",baseDifficulty:.2,sequence:[{generate:()=>2,pattern:"start"},{generate:(e,t)=>(t?t.nextInt(1,10):2)+e*(t?t.nextInt(1,5):2),pattern:"arithmetic progression"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"Each number increases by a constant amount, so the next number continues the pattern."},{id:"pattern-geometric",type:"pattern",baseDifficulty:.3,sequence:[{generate:()=>2,pattern:"start"},{generate:(e,t)=>{let a=t?t.nextInt(1,5):2,s=t?.5>t.next()?2:3:2;return a*s**e},pattern:"geometric progression"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"Each number is multiplied by a constant factor, so the next number continues the geometric pattern."},{id:"pattern-fibonacci",type:"pattern",baseDifficulty:.35,sequence:[{generate:()=>1,pattern:"fibonacci start"},{generate:e=>{let t=[1,1,2,3,5,8,13,21,34];return t[e]||t[t.length-1]},pattern:"fibonacci"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"Each number is the sum of the two previous numbers (Fibonacci sequence)."},{id:"pattern-squares",type:"pattern",baseDifficulty:.4,sequence:[{generate:()=>1,pattern:"start"},{generate:e=>(e+1)**2,pattern:"squares"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"Each number is a perfect square: 1Â², 2Â², 3Â², 4Â², so the next is 5Â² = 25."},{id:"pattern-even",type:"pattern",baseDifficulty:.25,sequence:[{generate:()=>2,pattern:"start"},{generate:(e,t)=>(t?2*t.nextInt(2,10):2)+2*e,pattern:"even numbers"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"The sequence consists of even numbers, each increasing by 2."},{id:"pattern-triangular",type:"pattern",baseDifficulty:.4,sequence:[{generate:()=>1,pattern:"start"},{generate:e=>(e+1)*(e+2)/2,pattern:"triangular numbers"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"These are triangular numbers: each number is the sum of all previous natural numbers plus the current position."},{id:"pattern-prime-gap",type:"pattern",baseDifficulty:.45,sequence:[{generate:()=>2,pattern:"start"},{generate:e=>{let t=[2,3,5,7,11,13,17,19,23,29];return t[e]||t[t.length-1]},pattern:"prime numbers"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"The sequence consists of prime numbers in ascending order."},{id:"pattern-cubes",type:"pattern",baseDifficulty:.35,sequence:[{generate:()=>1,pattern:"start"},{generate:e=>(e+1)**3,pattern:"cubes"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"Each number is a perfect cube: 1Â³, 2Â³, 3Â³, 4Â³, so the next is 5Â³ = 125."},{id:"pattern-alternating-sign",type:"pattern",baseDifficulty:.3,sequence:[{generate:()=>1,pattern:"start"},{generate:(e,t)=>(e%2==0?1:-1)*(t?t.nextInt(2,8):3)*(e+1),pattern:"alternating signs"}],questionTemplate:"What comes next in the sequence: ?",explanationTemplate:"The sequence alternates between positive and negative values, with increasing magnitude."}],m=[{id:"novice",name:"Novice",minXP:0,unlocks:["basic-puzzles","practice-mode"]},{id:"apprentice",name:"Apprentice",minXP:100,unlocks:["intermediate-puzzles","archive-access"]},{id:"adept",name:"Adept",minXP:300,unlocks:["advanced-puzzles","custom-seeds"]},{id:"expert",name:"Expert",minXP:600,unlocks:["expert-puzzles","puzzle-creator"]},{id:"master",name:"Master",minXP:1e3,unlocks:["master-puzzles","all-features"]}];function p(e,t,a=0){let s=e.every(e=>e.correct),r=0;for(let a=0;a<e.length;a++)r+=function(e,t,a){let s=0;return e.correct&&(s+=10,s+=Math.floor(Math.max(0,10-e.timeSpent/1e4))),s-=2*t,a&&(s+=50),Math.max(0,s)}(e[a],t[a]||0,!1);return s&&(r+=50),r+=5*a}function h(e){for(let t=m.length-1;t>=0;t--)if(e>=m[t].minXP)return m[t].id;return"novice"}function g(e){let t=h(e),a=m.findIndex(e=>e.id===t);return a>=m.length-1?null:m[a+1]}function y(){let e=new Date,t=e.getUTCFullYear(),a=String(e.getUTCMonth()+1).padStart(2,"0"),s=String(e.getUTCDate()).padStart(2,"0");return`${t}-${a}-${s}`}function f({report:e}){let a=e=>{let t=Math.round(e/1e3);if(t<60)return`${t}s`;let a=Math.floor(t/60);return`${a}m ${t%60}s`};return(0,t.jsxs)("div",{className:"space-y-6",role:"region","aria-label":"Game analysis report",children:[(0,t.jsxs)("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Session Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Accuracy"}),(0,t.jsxs)("div",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:[Math.round(100*e.summary.accuracy),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Score"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-slate-900",children:[e.summary.correct," / ",e.summary.totalPuzzles]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Total Time"}),(0,t.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:a(e.summary.totalTime)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Average Time"}),(0,t.jsx)("div",{className:"text-lg font-semibold text-slate-700",children:a(e.summary.averageTime)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"XP Gained"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-sky-600",children:["+",e.summary.xpGained]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-600",children:"Hints Used"}),(0,t.jsx)("div",{className:"text-lg font-semibold text-slate-700",children:e.summary.hintsUsed})]})]})]}),Object.keys(e.performance.byType).length>0&&(0,t.jsxs)("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Performance by Type"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(e.performance.byType).map(([e,s])=>(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-slate-900 capitalize",children:e}),(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:[s.correct,"/",s.count," (",Math.round(100*s.accuracy),"%)"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,t.jsx)("div",{className:`h-2 rounded-full transition-all ${s.accuracy>=.8?"bg-emerald-500":s.accuracy>=.6?"bg-sky-500":"bg-amber-500"}`,style:{width:`${100*s.accuracy}%`},role:"progressbar","aria-valuenow":100*s.accuracy,"aria-valuemin":0,"aria-valuemax":100})}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Avg time: ",a(s.averageTime)]})]})},e))})]}),e.performance.byDifficulty.length>0&&(0,t.jsxs)("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900 mb-4",children:"Performance by Difficulty"}),(0,t.jsx)("div",{className:"space-y-3",children:e.performance.byDifficulty.map(({difficulty:e,count:a,accuracy:s})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:[a," puzzles"]}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-slate-700",children:[Math.round(100*s),"%"]})]})]},e))})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Insights"}),e.insights.strengths.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-emerald-700 mb-2",children:"Strengths"}),(0,t.jsx)("ul",{className:"space-y-1",children:e.insights.strengths.map((e,a)=>(0,t.jsxs)("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-emerald-600","aria-hidden":"true",children:"âœ“"}),(0,t.jsx)("span",{children:e})]},a))})]}),e.insights.weaknesses.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-amber-700 mb-2",children:"Areas for Improvement"}),(0,t.jsx)("ul",{className:"space-y-1",children:e.insights.weaknesses.map((e,a)=>(0,t.jsxs)("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-amber-600","aria-hidden":"true",children:"!"}),(0,t.jsx)("span",{children:e})]},a))})]}),e.insights.recommendations.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-sky-700 mb-2",children:"Recommendations"}),(0,t.jsx)("ul",{className:"space-y-1",children:e.insights.recommendations.map((e,a)=>(0,t.jsxs)("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-sky-600","aria-hidden":"true",children:"â†’"}),(0,t.jsx)("span",{children:e})]},a))})]})]}),(0,t.jsxs)("div",{className:"rounded-lg bg-sky-50 border border-sky-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900 mb-4",children:"Progression"}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"text-sm text-slate-700",children:[(0,t.jsx)("strong",{children:"Next Milestone:"})," ",e.progression.nextMilestone]})})]})]})}let x="daily-logic-gauntlet-archive";function b(){try{let e=localStorage.getItem(x);if(!e)return{version:1,archivedSets:[],lastArchivedDate:""};let t=JSON.parse(e);if(1!==t.version)return{...t,version:1};return t}catch(e){return console.error("Failed to load archive:",e),{version:1,archivedSets:[],lastArchivedDate:""}}}let v=[{id:"welcome",title:"Welcome to Daily Logic Gauntlet!",content:"Test your logic and pattern recognition skills with daily challenges. Each day brings a new set of 10 puzzles with the same seed for all players."},{id:"objective",title:"Your Goal",content:"Answer all 10 puzzles correctly to maximize your score. You can take your time - accuracy matters more than speed. Each puzzle tests different logical reasoning skills."},{id:"puzzle-types",title:"Puzzle Types",content:"You'll encounter different puzzle types:\n\nâ€¢ Logic Puzzles: Deductive reasoning and logical inference\nâ€¢ Pattern Puzzles: Sequences, patterns, and number relationships\nâ€¢ Deduction Puzzles: Information gathering and elimination\nâ€¢ Constraint Puzzles: Rules and constraints that must be satisfied",highlights:["puzzle-type-badge"]},{id:"answering",title:"How to Answer",content:"Click or tap an answer option, or use keyboard keys 1-4. After selecting, you'll see if you're correct and get an explanation. The next puzzle will appear automatically.",highlights:["answer-options"],interactive:!0,actions:["Select an answer option to continue"]},{id:"hints",title:"Using Hints",content:"You have 3 hints per puzzle. Press H or click the hint button to get help. Hints reduce your XP but can help you learn. Use them wisely!",highlights:["hint-button"],interactive:!0,actions:["Try using a hint"]},{id:"progress",title:"Tracking Progress",content:"Watch your progress in the sidebar. You'll see:\n\nâ€¢ Current puzzle number\nâ€¢ Your score\nâ€¢ XP and mastery tier\nâ€¢ Daily streak\n\nProgress is saved automatically!",highlights:["progress-panel"]},{id:"analysis",title:"Post-Game Analysis",content:"After completing all 10 puzzles, you'll see a detailed analysis report showing:\n\nâ€¢ Performance by puzzle type\nâ€¢ Performance by difficulty\nâ€¢ Insights about your strengths\nâ€¢ Recommendations for improvement",highlights:["analysis-report"]},{id:"streaks",title:"Daily Streaks",content:"Play every day to build your streak! Longer streaks give XP bonuses. You can use free passes if you miss a day (1 per month).",highlights:["streak-display"]},{id:"complete",title:"Ready to Play!",content:"You're all set! Click \"Start\" to begin today's challenge. Good luck, and remember - practice makes perfect!",interactive:!1}];function S(){return{isActive:!1,currentStep:0,completedSteps:new Set,skipped:!1}}function k(){try{let e=localStorage.getItem("daily-logic-gauntlet-tutorial");if(!e)return S();let t=JSON.parse(e);return{...t,completedSteps:new Set(t.completedSteps||[])}}catch(e){return console.error("Failed to load tutorial state:",e),S()}}function N(e){try{let t={...e,completedSteps:Array.from(e.completedSteps)};localStorage.setItem("daily-logic-gauntlet-tutorial",JSON.stringify(t))}catch(e){console.error("Failed to save tutorial state:",e)}}function j(){let e=k();return e.isActive=!0,e.currentStep=0,N(e),e}let w=[{id:"first-puzzle",name:"First Steps",description:"Complete your first puzzle",category:"progress",icon:"ðŸŽ¯",rarity:"common"},{id:"first-complete",name:"Gauntlet Runner",description:"Complete your first daily gauntlet",category:"progress",icon:"ðŸ",rarity:"common"},{id:"perfect-score",name:"Perfect Score",description:"Answer all 10 puzzles correctly in a single day",category:"skill",icon:"â­",rarity:"rare"},{id:"streak-3",name:"Getting Started",description:"Maintain a 3-day streak",category:"streak",icon:"ðŸ”¥",rarity:"common"},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day streak",category:"streak",icon:"ðŸ’ª",rarity:"uncommon"},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day streak",category:"streak",icon:"ðŸ‘‘",rarity:"rare"},{id:"streak-100",name:"Centurion",description:"Maintain a 100-day streak",category:"streak",icon:"ðŸ†",rarity:"legendary"},{id:"xp-1000",name:"Aspiring Learner",description:"Reach 1,000 XP",category:"milestone",icon:"ðŸ“š",rarity:"common"},{id:"xp-5000",name:"Dedicated Scholar",description:"Reach 5,000 XP",category:"milestone",icon:"ðŸŽ“",rarity:"uncommon"},{id:"xp-10000",name:"Logic Legend",description:"Reach 10,000 XP",category:"milestone",icon:"ðŸŒŸ",rarity:"rare"},{id:"master-novice",name:"Novice",description:"Reach Novice tier",category:"progress",icon:"ðŸŒ±",rarity:"common"},{id:"master-apprentice",name:"Apprentice",description:"Reach Apprentice tier",category:"progress",icon:"ðŸŒ¿",rarity:"common"},{id:"master-adept",name:"Adept",description:"Reach Adept tier",category:"progress",icon:"ðŸŒ³",rarity:"uncommon"},{id:"master-expert",name:"Expert",description:"Reach Expert tier",category:"progress",icon:"ðŸŒ²",rarity:"rare"},{id:"master-master",name:"Master",description:"Reach Master tier",category:"progress",icon:"ðŸ‘‘",rarity:"epic"},{id:"speed-demon",name:"Speed Demon",description:"Complete a gauntlet in under 5 minutes",category:"special",icon:"âš¡",rarity:"uncommon"},{id:"persistent",name:"Persistent",description:"Complete 50 gauntlets",category:"special",icon:"ðŸ’Ž",rarity:"rare"},{id:"hint-free",name:"Hint-Free Hero",description:"Complete a gauntlet without using any hints",category:"special",icon:"ðŸŽ–ï¸",rarity:"uncommon"},{id:"archive-7",name:"Week Collector",description:"Archive 7 different daily sets",category:"milestone",icon:"ðŸ“¦",rarity:"common"},{id:"archive-30",name:"Monthly Archive",description:"Archive 30 different daily sets",category:"milestone",icon:"ðŸ“š",rarity:"uncommon"},{id:"archive-100",name:"Century Archive",description:"Archive 100 different daily sets",category:"milestone",icon:"ðŸ›ï¸",rarity:"rare"}];function T(){return{version:1,unlocked:new Set,progress:new Map,unlockedTimestamps:new Map}}function z(){try{let e=localStorage.getItem("daily-logic-gauntlet-achievements");if(!e)return T();let t=JSON.parse(e);return{...t,unlocked:new Set(t.unlocked||[]),progress:new Map(t.progress||[]),unlockedTimestamps:new Map(t.unlockedTimestamps||[])}}catch(e){return console.error("Failed to load achievements:",e),T()}}function A(e){let t=z();if(t.unlocked.has(e))return!1;t.unlocked.add(e),t.unlockedTimestamps.set(e,Date.now());try{let e={...t,unlocked:Array.from(t.unlocked),progress:Array.from(t.progress),unlockedTimestamps:Array.from(t.unlockedTimestamps)};localStorage.setItem("daily-logic-gauntlet-achievements",JSON.stringify(e))}catch(e){console.error("Failed to save achievements:",e)}return!0}let P={id:"daily-logic-gauntlet",title:"Daily Logic Gauntlet",description:"Multi-puzzle challenge with daily seeded challenges. Same seed for all users on the same day.",category:"puzzle",modes:["solo","daily"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:15,tutorialAvailable:!0};function M(){let[e,n]=(0,a.useState)("idle"),[S,T]=(0,a.useState)(0),[M,D]=(0,a.useState)([]),[C,I]=(0,a.useState)(null),[E,q]=(0,a.useState)([]),[R,O]=(0,a.useState)([]),[B,U]=(0,a.useState)(null),[$,F]=(0,a.useState)(null),[G,X]=(0,a.useState)(0),[_,W]=(0,a.useState)({logicSkill:.5,patternSkill:.5,deductionSkill:.5,constraintSkill:.5,speedSkill:.5,confidence:.5,riskTolerance:.5,persistence:.5,weaknessAreas:[],strengthAreas:[],improvementVelocity:0,plateauDetected:!1,learningStyle:"mixed",lastUpdated:Date.now(),dataPoints:0}),[H,K]=(0,a.useState)({currentStreak:0,longestStreak:0,lastPlayedDate:"",freePassesUsed:0,freePassesAvailable:1}),[Y,J]=(0,a.useState)(null),[L,V]=(0,a.useState)(()=>k()),[Q,Z]=(0,a.useState)(!1),ee=(0,a.useMemo)(()=>L.currentStep<0||L.currentStep>=v.length?null:v[L.currentStep],[L]),[et,ea]=(0,a.useState)([]),es=(0,a.useMemo)(()=>(0,r.getDailySeed)(),[]),er=(0,a.useMemo)(()=>y(),[]),ei=(0,a.useMemo)(()=>new i.StateManager({status:"idle"},es),[es]),en=(0,a.useMemo)(()=>new o(P.id),[]),el=(0,a.useMemo)(()=>new l(_),[_]);(0,a.useEffect)(()=>{!async function(){let e=await en.loadPlayerProfile();e&&(X(e.mastery[P.id]?.xp||0),e.mastery[P.id]?.playerModel&&W(e.mastery[P.id].playerModel));let t=localStorage.getItem("daily-logic-gauntlet-streak");if(t)try{K(JSON.parse(t))}catch(e){}}()},[en]),(0,a.useEffect)(()=>{localStorage.setItem("daily-logic-gauntlet-streak",JSON.stringify(H))},[H]),(0,a.useEffect)(()=>{let t;(t=k()).skipped||0!==t.completedSteps.size||"idle"!==e||(V(j()),Z(!0))},[e]);let eo=(0,a.useCallback)(()=>{let e=function(e,t="novice",a=10){var s;let i=new r.SeededRNG(e),n=[],l="novice"===(s=t)?[{logic:.4,pattern:.4,deduction:.1,constraint:.1}]:"apprentice"===s?[{logic:.3,pattern:.3,deduction:.2,constraint:.2}]:[{logic:.25,pattern:.25,deduction:.25,constraint:.25}],o=["logic","pattern","deduction","constraint"],c=l[0];for(let s=0;s<a;s++){let l=function(e){var t,a,s,i;let n=new r.SeededRNG(e.seed),l=(t=e.type,a=e.difficulty,"logic"===t?d.filter(e=>.2>Math.abs(e.baseDifficulty-a)):"pattern"===t?u.filter(e=>.2>Math.abs(e.baseDifficulty-a)):[]);return 0===l.length?function(e,t){let a=[String(5),String(6),String(4),String(10)],s=t.shuffle(a),r=s.indexOf(String(5));return{id:`fallback-${t.nextInt(1e3,9999)}`,type:e.type,difficulty:e.difficulty,question:"What is the next number in the sequence: 1, 2, 3, 4, ?",options:s,correctAnswer:r,explanation:"Each number increases by 1, so the next number is 5."}}(e,n):(s=n.choice(l),i=e.difficulty,"logic"===s.type?function(e,t,a){let s=[...e.entities];for(let t of e.constraints)s=t.apply(s,a);let r=e.questionTemplate,i=[],n=s.join("-");i.push(n);for(let t=0;t<3;t++){let t=a.shuffle([...e.entities]).join("-");t===n||i.includes(t)||i.push(t)}let l=a.shuffle(i),o=l.indexOf(n),c=e.explanationTemplate;return{id:`${e.id}-${a.nextInt(1e3,9999)}`,type:"logic",difficulty:t,question:r,options:l,correctAnswer:o,explanation:c,metadata:{constraints:e.constraints.length,problemSpaceSize:e.entities.length}}}(s,i,n):function(e,t,a){let s=[],r=e.sequence[1]||e.sequence[0];for(let e=0;e<4;e++){let t=r.generate(e,a);s.push(t)}let i=r.generate(4,a),n=e.questionTemplate.includes("?")?e.questionTemplate.replace("?",s.join(", ")+", ?"):e.questionTemplate,l=[],o=String(i);l.push(o);let c="number"==typeof i?i:parseInt(o)||0;for(let e of[c+1,c-1,"number"==typeof i?2*c:c+5,"number"==typeof i?Math.floor(c/2):c-2].map(String))if(!l.includes(e)&&e!==o&&(l.push(e),l.length>=4))break;for(;l.length<4;){let e=String(("number"==typeof i?i:parseInt(o)||0)+l.length);if(l.includes(e))break;l.push(e)}let d=a.shuffle(l),u=d.indexOf(o),m=e.explanationTemplate;return{id:`${e.id}-${a.nextInt(1e3,9999)}`,type:"pattern",difficulty:t,question:n,options:d,correctAnswer:u,explanation:m,metadata:{patternComplexity:e.sequence.length}}}(s,i,n))}({type:i.weightedChoice(o,o.map(e=>c[e]||0)),difficulty:Math.max(.1,Math.min(.95,.3+s/a*.4+({novice:-.2,apprentice:0,adept:.1,expert:.2,master:.3})[t])),seed:e+s,playerTier:t});n.push(l)}return n}(es,h(G),10);return D(e),e},[es,G]),ec=(0,a.useCallback)(()=>{let e=eo();n("playing"),T(0),I(null),q(Array(e.length).fill(0)),O([]),U(Date.now()),F(Date.now()),ei.updateState({status:"playing",timestamp:Date.now()}),ei.recordMove("start",{seed:es,date:er})},[eo,es,er,ei]),ed=(0,a.useCallback)(async()=>{var e;let t,a,s;n("finished");let i=p(R.length>0?R:[],E,H.currentStreak),l=G+i;if(X(l),M.length>0&&R.length>0){let e,t,a,s,r,n,l,o,c,d,u,m,p,h,g,y;J((e=R.filter(e=>e.correct).length,t=R.reduce((e,t)=>e+t.timeSpent,0),a=E.reduce((e,t)=>e+t,0),s=M.length>0?e/M.length:0,r=R.length>0?t/R.length:0,n={},M.forEach((e,t)=>{let a=R[t];a&&(n[e.type]||(n[e.type]={count:0,correct:0,accuracy:0,averageTime:0}),n[e.type].count++,a.correct&&n[e.type].correct++,n[e.type].averageTime+=a.timeSpent)}),Object.keys(n).forEach(e=>{let t=n[e];t.accuracy=t.count>0?t.correct/t.count:0,t.averageTime=t.count>0?t.averageTime/t.count:0}),l={"Easy (0.0-0.3)":{count:0,correct:0},"Medium (0.3-0.5)":{count:0,correct:0},"Hard (0.5-0.7)":{count:0,correct:0},"Expert (0.7+)":{count:0,correct:0}},M.forEach((e,t)=>{let a,s=R[t];s&&(a=e.difficulty<.3?"Easy (0.0-0.3)":e.difficulty<.5?"Medium (0.3-0.5)":e.difficulty<.7?"Hard (0.5-0.7)":"Expert (0.7+)",l[a].count++,s.correct&&l[a].correct++)}),o=Object.entries(l).filter(([e,t])=>t.count>0).map(([e,t])=>({difficulty:e,count:t.count,accuracy:t.count>0?t.correct/t.count:0})),d={fastest:(c=R.map(e=>e.timeSpent).filter(e=>e>0)).length>0?Math.min(...c):0,slowest:c.length>0?Math.max(...c):0,average:r},u=[],m=[],p=[],Object.entries(n).forEach(([e,t])=>{t.accuracy>=.8?u.push(`Excellent performance on ${e} puzzles (${Math.round(100*t.accuracy)}% accuracy)`):t.accuracy<.5&&(m.push(`Struggling with ${e} puzzles (${Math.round(100*t.accuracy)}% accuracy)`),p.push(`Practice more ${e} puzzles to improve your skills`))}),o.forEach(({difficulty:e,accuracy:t})=>{t>=.8?u.push(`Strong performance on ${e} puzzles`):t<.5&&e.includes("Easy")&&(m.push(`Found ${e} puzzles challenging`),p.push("Consider reviewing fundamental concepts"))}),d.average<3e4?u.push("Fast problem-solving speed"):d.average>9e4&&(m.push("Slow problem-solving (consider using hints)"),p.push("Try to work more efficiently or use hints when stuck")),s>=.9?u.push("High accuracy overall"):s<.6&&(m.push("Low accuracy - many mistakes"),p.push("Take more time to think through each puzzle carefully")),0===a&&s>=.8?u.push("Completed without hints"):a>.5*M.length&&(m.push("Relied heavily on hints"),p.push("Try to solve puzzles independently before using hints")),0===p.length&&(s>=.8?p.push("Great performance! Try increasing difficulty for more challenge"):p.push("Continue practicing to improve your skills")),h={},Object.entries(n).forEach(([e,t])=>{h[e]=t.accuracy}),y=(g=Math.ceil(Math.max(0,100-G%100)/(i>0?i:50)))<=1?"You're very close to your next tier!":`About ${g} more games until next tier`,{summary:{totalPuzzles:M.length,correct:e,accuracy:s,totalTime:t,averageTime:r,xpGained:i,hintsUsed:a},performance:{byType:n,byDifficulty:o,speed:d},insights:{strengths:u,weaknesses:m,recommendations:p},progression:{skillImprovements:h,nextMilestone:y,estimatedGamesToNextTier:g}}))}let o=function(e,t){let a,s,r,i,n=y();if(!t||e.lastPlayedDate===n)return e;let l=((a=new Date).setUTCDate(a.getUTCDate()-1),s=a.getUTCFullYear(),r=String(a.getUTCMonth()+1).padStart(2,"0"),i=String(a.getUTCDate()).padStart(2,"0"),`${s}-${r}-${i}`),o=e.currentStreak;e.lastPlayedDate===l?o+=1:e.lastPlayedDate!==n&&(o=1);let c=Math.max(e.longestStreak,o);return{currentStreak:o,longestStreak:c,lastPlayedDate:n,freePassesUsed:e.freePassesUsed,freePassesAvailable:e.freePassesAvailable}}(H,!0);if(K(o),M.length>0&&R.length>0){let e=R.reduce((e,t)=>e+t.timeSpent,0);!function(e,t,a,s){let i,n,l,o,c=(n=(i=new Date).getUTCFullYear(),l=String(i.getUTCMonth()+1).padStart(2,"0"),o=String(i.getUTCDate()).padStart(2,"0"),`${n}-${l}-${o}`),d=(0,r.getDailySeed)(),u=b(),m=u.archivedSets.findIndex(e=>e.date===c);-1!==m?u.archivedSets[m]={date:c,seed:d,puzzles:e.map(e=>({...e})),completedAt:Date.now(),score:t,totalPuzzles:e.length,accuracy:t/e.length,timeSpent:a,playerXP:s}:u.archivedSets.push({date:c,seed:d,puzzles:e.map(e=>({...e})),completedAt:Date.now(),score:t,totalPuzzles:e.length,accuracy:t/e.length,timeSpent:a,playerXP:s}),u.archivedSets.sort((e,t)=>t.date.localeCompare(e.date)),u.archivedSets.length>365&&(u.archivedSets=u.archivedSets.slice(0,365)),u.lastArchivedDate=c;try{localStorage.setItem(x,JSON.stringify(u))}catch(e){console.error("Failed to save archive:",e)}}(M,R.filter(e=>e.correct).length,e,l)}let c=function(){let e=b().archivedSets;if(0===e.length)return{totalArchived:0,totalPerfectScores:0,averageScore:0,averageAccuracy:0,bestScore:0,longestStreak:0,firstArchivedDate:null,lastArchivedDate:null};let t=e.filter(e=>e.score===e.totalPuzzles).length,a=e.reduce((e,t)=>e+t.score,0),s=e.reduce((e,t)=>e+t.accuracy,0),r=Math.max(...e.map(e=>e.score)),i=0,n=0,l=e.map(e=>e.date).sort().reverse();for(let e=0;e<l.length;e++)if(0===e)n=1;else{let t=new Date(l[e-1]),a=new Date(l[e]);1===Math.floor((t.getTime()-a.getTime())/864e5)?n++:(i=Math.max(i,n),n=1)}return i=Math.max(i,n),{totalArchived:e.length,totalPerfectScores:t,averageScore:a/e.length,averageAccuracy:s/e.length,bestScore:r,longestStreak:i,firstArchivedDate:l[l.length-1]||null,lastArchivedDate:l[0]||null}}(),d=null;try{d=await en.loadPlayerProfile()}catch(e){}d||(d=en.createDefaultProfile());let u=d.mastery[P.id],m=(e={totalXP:l,currentTier:h(l),currentStreak:o.currentStreak,gamesCompleted:(u?.stats?.gamesPlayed||0)+1,perfectScores:+!!R.every(e=>e.correct),archivedSets:c.totalArchived+ +(M.length>0),fastestCompletion:R.reduce((e,t)=>e+t.timeSpent,0),hintFreeCompletions:0===E.length||E.every(e=>0===e)?1:0},t=z(),a=[],e.totalXP>=1e3&&!t.unlocked.has("xp-1000")&&A("xp-1000")&&a.push("xp-1000"),e.totalXP>=5e3&&!t.unlocked.has("xp-5000")&&A("xp-5000")&&a.push("xp-5000"),e.totalXP>=1e4&&!t.unlocked.has("xp-10000")&&A("xp-10000")&&a.push("xp-10000"),(s=({novice:"master-novice",apprentice:"master-apprentice",adept:"master-adept",expert:"master-expert",master:"master-master"})[e.currentTier])&&!t.unlocked.has(s)&&A(s)&&a.push(s),e.currentStreak>=3&&!t.unlocked.has("streak-3")&&A("streak-3")&&a.push("streak-3"),e.currentStreak>=7&&!t.unlocked.has("streak-7")&&A("streak-7")&&a.push("streak-7"),e.currentStreak>=30&&!t.unlocked.has("streak-30")&&A("streak-30")&&a.push("streak-30"),e.currentStreak>=100&&!t.unlocked.has("streak-100")&&A("streak-100")&&a.push("streak-100"),e.archivedSets>=7&&!t.unlocked.has("archive-7")&&A("archive-7")&&a.push("archive-7"),e.archivedSets>=30&&!t.unlocked.has("archive-30")&&A("archive-30")&&a.push("archive-30"),e.archivedSets>=100&&!t.unlocked.has("archive-100")&&A("archive-100")&&a.push("archive-100"),e.gamesCompleted>=50&&!t.unlocked.has("persistent")&&A("persistent")&&a.push("persistent"),e.perfectScores>0&&!t.unlocked.has("perfect-score")&&A("perfect-score")&&a.push("perfect-score"),e.fastestCompletion&&e.fastestCompletion<3e5&&!t.unlocked.has("speed-demon")&&A("speed-demon")&&a.push("speed-demon"),e.hintFreeCompletions>0&&!t.unlocked.has("hint-free")&&A("hint-free")&&a.push("hint-free"),a);m&&m.length>0&&ea(m.map(e=>w.find(t=>t.id===e)).filter(Boolean));try{let e=u?.stats||{gamesPlayed:0,wins:0,bestScore:0,averageScore:0};d.mastery[P.id]={tier:h(l),xp:l,unlocks:u?.unlocks||[],stats:{gamesPlayed:e.gamesPlayed+1,wins:e.wins+(R.length>0&&R.every(e=>e.correct)?1:0),bestScore:Math.max(e.bestScore,R.filter(e=>e.correct).length),averageScore:e.gamesPlayed>0?(e.averageScore*(e.gamesPlayed-1)+R.filter(e=>e.correct).length)/e.gamesPlayed:R.filter(e=>e.correct).length},playerModel:_},d.lastPlayed[P.id]=Date.now(),await en.savePlayerProfile(d)}catch(e){console.error("Failed to save progress:",e)}ei.updateState({status:"finished"})},[R,E,H,G,M,en,ei,_]),eu=(0,a.useCallback)(t=>{if("playing"!==e||null!==C)return;let a=M[S];if(!a)return;let s=$?Date.now()-$:0,r=t===a.correctAnswer,i=E[S]||0,n={puzzleId:a.id,correct:r,timeSpent:s,attempts:1,hintsUsed:i,timestamp:Date.now()};el.update({...n,puzzleType:a.type,difficulty:a.difficulty}),W(el.getModel()),ei.recordMove("answer",{puzzleId:a.id,answerIndex:t,isCorrect:r,timeSpent:s}),I(t),O(e=>[...e,n]),setTimeout(()=>{S<M.length-1?(T(S+1),I(null),F(Date.now())):ed()},2e3)},[e,S,M,C,E,$,el,ei,ed]),em=(0,a.useCallback)(()=>{if("playing"!==e||null!==C)return;let t=E[S]||0;t>=3||(q(e=>{let a=[...e];return a[S]=t+1,a}),ei.recordMove("hint",{puzzleId:M[S]?.id}))},[e,S,E,M,C,ei]),ep=(0,a.useCallback)(()=>{n("idle"),T(0),I(null),D([]),q([]),O([]),U(null),F(null),J(null),ea([]),ei.updateState({status:"idle",moves:[],score:0}),el.reset()},[ei,el]),eh=(0,a.useCallback)(()=>{V(e=>{let t;return(t={...e}).currentStep<v.length-1?t.currentStep++:(t.isActive=!1,v.forEach(e=>t.completedSteps.add(e.id))),N(t),t})},[]),eg=(0,a.useCallback)(()=>{V(e=>{let t;return(t={...e}).currentStep>0&&t.currentStep--,N(t),t})},[]),ey=(0,a.useCallback)(()=>{let e;(e=k()).skipped=!0,e.isActive=!1,N(e),Z(!1),V(e=>({...e,isActive:!1}))},[]);(0,a.useCallback)(()=>{V(j()),Z(!0)},[]);let ef=M[S],ex=h(G),eb=function(e){let t=h(e),a=g(e);if(!a)return 1;let s=m.find(e=>e.id===t)||m[0];return Math.min(1,Math.max(0,(e-s.minXP)/(a.minXP-s.minXP)))}(G),ev=g(G),eS=R.filter(e=>e.correct).length,ek=3-(E[S]||0);return(0,c.useGameAnalytics)(P.id,e,ei.getState()),(0,a.useEffect)(()=>{if("playing"!==e)return;let t=e=>{if(null!==C)return;let t=e.key;if(t>="1"&&t<="4"){let a=parseInt(t)-1;ef&&a<ef.options.length&&(e.preventDefault(),eu(a))}("h"===t||"H"===t)&&(e.preventDefault(),em())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,C,ef,eu,em]),(0,t.jsxs)(t.Fragment,{children:[et.length>0&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm space-y-2",children:et.map(e=>(0,t.jsx)("div",{className:"rounded-lg border-2 border-amber-400 bg-amber-50 p-4 shadow-lg",role:"alert","aria-live":"polite",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-3xl flex-shrink-0","aria-hidden":"true",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-semibold text-amber-900 text-sm",children:"Achievement Unlocked!"}),(0,t.jsx)("div",{className:"font-bold text-amber-950 text-base",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-amber-800 mt-1",children:e.description}),(0,t.jsx)("div",{className:"mt-1 text-xs text-amber-700 capitalize",children:e.rarity})]}),(0,t.jsx)("button",{onClick:()=>ea(t=>t.filter(t=>t.id!==e.id)),className:"text-amber-600 hover:text-amber-800 flex-shrink-0","aria-label":"Dismiss notification",children:"âœ•"})]})},e.id))}),Q&&ee&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:(0,t.jsxs)("div",{className:"mx-4 max-w-2xl w-full rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h2",{id:"tutorial-title",className:"text-2xl font-bold text-slate-900 mb-4",children:ee.title}),(0,t.jsx)("div",{className:"text-slate-700 whitespace-pre-line mb-6",children:ee.content}),ee.interactive&&ee.actions&&(0,t.jsxs)("div",{className:"mb-6 rounded-lg bg-sky-50 border border-sky-200 p-4",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-sky-900 mb-2",children:"Try this:"}),(0,t.jsx)("ul",{className:"space-y-1",children:ee.actions.map((e,a)=>(0,t.jsxs)("li",{className:"text-sm text-sky-800",children:["â€¢ ",e]},a))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-500",children:["Step ",L.currentStep+1," of ",v.length]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[L.currentStep>0&&(0,t.jsx)("button",{onClick:eg,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500",children:"Previous"}),(0,t.jsx)("button",{onClick:ey,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500",children:"Skip"}),(0,t.jsx)("button",{onClick:eh,className:"px-4 py-2 text-sm font-medium text-white bg-sky-600 rounded-lg hover:bg-sky-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500",children:L.currentStep<v.length-1?"Next":"Start Playing"})]})]})]})}),(0,t.jsxs)(s.default,{config:P,status:e,onStart:"idle"===e?ec:void 0,onReset:ep,rightPanel:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Progress"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-slate-900",children:["playing"===e?S+1:0," / ",M.length||10]}),"playing"===e&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-slate-600",children:["Score: ",eS," / ",S+1]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Mastery"}),(0,t.jsx)("div",{className:"text-sm text-slate-700 mb-1",children:ex.charAt(0).toUpperCase()+ex.slice(1)}),ev&&(0,t.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-sky-600 h-2 rounded-full transition-all",style:{width:`${100*eb}%`},role:"progressbar","aria-valuenow":100*eb,"aria-valuemin":0,"aria-valuemax":100})}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[G," XP"]})]}),H.currentStreak>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Streak"}),(0,t.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:[H.currentStreak," days"]})]}),"playing"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Hints"}),(0,t.jsxs)("div",{className:"text-sm text-slate-700",children:[ek," remaining"]}),(0,t.jsx)("button",{onClick:em,disabled:0===ek||null!==C,className:"mt-2 px-4 py-2 text-sm bg-slate-100 text-slate-700 rounded hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation min-h-[44px] min-w-[44px]","aria-label":`Use hint. ${ek} hints remaining.`,children:"Use Hint (H)"})]})]}),children:["idle"===e&&(0,t.jsxs)("div",{className:"text-center py-8 sm:py-12",role:"region","aria-label":"Game introduction",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900 mb-4",children:"Daily Logic Gauntlet"}),(0,t.jsx)("p",{className:"text-slate-600 mb-4 text-sm sm:text-base",children:"Ready to start today's challenge?"}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-slate-500 mb-2 break-all",children:["Today's seed: ",(0,t.jsx)("span",{className:"font-mono",children:es})]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-4 px-2",children:"Use number keys (1-4) or tap to select answers. Press H for hint."})]}),"playing"===e&&ef&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-sky-100 text-sky-700 rounded",children:ef.type}),(0,t.jsxs)("span",{className:"text-sm text-slate-500",children:["Puzzle ",S+1," of ",M.length]})]}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900 mb-4 break-words",children:ef.question})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",role:"radiogroup","aria-label":"Answer options",children:ef.options.map((e,a)=>{let s=C===a,r=a===ef.correctAnswer,i=null!==C,n="bg-white border-slate-200 hover:bg-slate-50";return i&&(r?n="bg-emerald-100 border-emerald-300":s&&!r&&(n="bg-rose-100 border-rose-300")),(0,t.jsx)("button",{onClick:()=>eu(a),disabled:null!==C,className:`rounded-lg border-2 p-4 text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 ${n} ${null!==C?"cursor-not-allowed opacity-60":"cursor-pointer"}`,type:"button",role:"radio","aria-checked":s,"aria-label":`Option ${a+1}: ${e}${i?r?". Correct answer":s?". Incorrect answer":"":""}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-semibold text-slate-700","aria-hidden":"true",children:[a+1,"."]}),(0,t.jsx)("span",{className:"text-slate-900 flex-1",children:e}),i&&r&&(0,t.jsx)("span",{className:"text-emerald-700 font-semibold","aria-label":"Correct",children:"âœ“"}),i&&s&&!r&&(0,t.jsx)("span",{className:"text-rose-700 font-semibold","aria-label":"Incorrect",children:"âœ—"})]})},a)})}),null!==C&&(0,t.jsxs)("div",{className:"rounded-lg bg-sky-50 border border-sky-200 p-4",role:"region","aria-live":"polite",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-sky-900 mb-2",children:"Explanation"}),(0,t.jsx)("p",{className:"text-sm text-sky-800",children:ef.explanation})]})]}),"finished"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Challenge Complete!"}),(0,t.jsxs)("p",{className:"text-xl text-slate-600 mb-4",children:["Score: ",eS," / ",M.length]}),R.length>0&&(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["XP Gained: ",p(R,E,H.currentStreak)]})]}),Y&&(0,t.jsx)(f,{report:Y})]})]})]})}e.s(["default",()=>M],641377)}]);

//# debugId=891b9269-6493-28b5-d798-ab7ffb1691ce
//# sourceMappingURL=ebaec2d017c3ede4.js.map