;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a3c3be14-a36d-7b49-3cd3-215e9d646972")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let s=(0,e.i(475254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},25652,e=>{"use strict";let s=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},531278,e=>{"use strict";let s=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],531278)},851325,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(217255),l=e.i(618566);let i=(0,e.i(475254).default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=e.i(25652),r=e.i(87316),c=e.i(531278),n=e.i(63209),o=e.i(522016);function x(){let{data:e,status:x}=(0,a.useSession)(),m=(0,l.useRouter)(),[h,u]=(0,t.useState)(!0),[p,b]=(0,t.useState)(null),[g,j]=(0,t.useState)("30d"),[f,N]=(0,t.useState)(null);async function y(){try{u(!0),b(null);let e=await fetch(`/api/account/usage?period=${g}`);if(!e.ok)throw Error("Failed to load usage statistics");let s=await e.json();N(s)}catch(e){b(e instanceof Error?e.message:"Failed to load usage")}finally{u(!1)}}return((0,t.useEffect)(()=>{"unauthenticated"===x?m.push("/api/auth/signin?callbackUrl=/account/usage"):"authenticated"===x&&y()},[x,m,g]),"loading"===x||h)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Loader2,{className:"w-8 h-8 animate-spin text-sky-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Loading usage statistics..."})]})}):"unauthenticated"===x?null:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(i,{className:"w-8 h-8 text-sky-600"}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900",children:"Usage Analytics"})]}),(0,s.jsx)("p",{className:"text-lg text-slate-600",children:"Track your credit consumption and tool usage patterns"})]}),p&&(0,s.jsx)("div",{className:"mb-6 rounded-lg border border-amber-200 bg-amber-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(n.AlertCircle,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold text-amber-900",children:"Error"}),(0,s.jsx)("p",{className:"text-sm text-amber-800 mt-1",children:p})]})]})}),(0,s.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,s.jsx)(r.Calendar,{className:"w-5 h-5 text-slate-600"}),(0,s.jsx)("div",{className:"flex gap-2",children:["7d","30d","90d"].map(e=>(0,s.jsx)("button",{onClick:()=>j(e),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${g===e?"bg-sky-600 text-white":"bg-white text-slate-700 hover:bg-slate-100 border border-slate-300"}`,children:"7d"===e?"7 Days":"30d"===e?"30 Days":"90 Days"},e))})]}),f&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(d.TrendingUp,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-slate-700",children:"Total Credits Used"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.totalCreditsUsed.toLocaleString()})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(i,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-slate-700",children:"Total Tool Runs"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.totalToolRuns.toLocaleString()})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(d.TrendingUp,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-slate-700",children:"Average per Run"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.averageCreditsPerRun.toFixed(1)})]})]}),f&&f.toolBreakdown.length>0&&(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Tool Usage Breakdown"}),(0,s.jsx)("div",{className:"space-y-3",children:f.toolBreakdown.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-slate-900",children:e.toolName}),(0,s.jsxs)("p",{className:"text-sm text-slate-600",children:[e.runs," runs"]})]}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-slate-900",children:[e.credits.toLocaleString()," credits"]})]},e.toolId))})]}),(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)(o.default,{href:"/account/credits",className:"text-sm text-slate-600 hover:text-slate-900 font-medium",children:"â† Back to Credits"})})]})})}e.s(["default",()=>x],851325)}]);

//# debugId=a3c3be14-a36d-7b49-3cd3-215e9d646972
//# sourceMappingURL=4349c8c73869c96c.js.map