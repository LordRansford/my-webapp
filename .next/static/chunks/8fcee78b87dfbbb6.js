;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cc50478a-c681-26e9-8ccf-6bcb3d3ce4d2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,431343,e=>{"use strict";let t=(0,e.i(475254).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>t],431343)},495242,e=>{"use strict";let t=(0,e.i(475254).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);e.s(["Pause",()=>t],495242)},37727,e=>{"use strict";let t=(0,e.i(475254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},752044,e=>{"use strict";let t=(0,e.i(475254).default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["Square",()=>t],752044)},239616,e=>{"use strict";let t=(0,e.i(475254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],239616)},799577,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(440796),n=e.i(239616),r=e.i(475254);let a=(0,r.default)("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]),l=(0,r.default)("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),o=(0,r.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var h=e.i(37727);class c{synth;utterance=null;isPlaying=!1;currentChunkIndex=0;chunks=[];highlightClass="read-aloud-highlight";options;constructor(e={}){this.synth=window.speechSynthesis,this.options={rate:1,pitch:1,highlight:!0,...e}}selectBestVoice(){let e=this.synth.getVoices();if(0===e.length)return null;let t=(navigator.language||"en-US").split("-")[0],s=e.filter(e=>e.localService),i=s.length>0?s:e,n=i.find(e=>e.lang.startsWith(t));return n||(n=i.find(e=>e.lang.startsWith("en")))?n:i[0]||null}extractContent(e){let t;e||(e=document.body);let s=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:t=>{if(1===t.nodeType){let s=t.tagName.toLowerCase();if(["script","style","noscript","iframe","svg","canvas"].includes(s)||t.hasAttribute("hidden")||"true"===t.getAttribute("aria-hidden")||t.classList.contains("read-aloud-highlight")||e!==document.body&&null!==t.closest("nav, header, footer, aside[role='complementary'], .skip-link"))return NodeFilter.FILTER_REJECT;if(["h1","h2","h3","h4","h5","h6","p","li","blockquote","dd","dt","td","th","div","section","article"].includes(s)&&(t.textContent?.trim()||"").length>0&&!t.querySelector("script, style, canvas"))return NodeFilter.FILTER_ACCEPT}return 3===t.nodeType&&(t.textContent?.trim()||"").length>5?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t=i.nextNode();)if(1===t.nodeType){let e=t;(e.textContent?.trim()||"").length>0&&(!e.querySelector("h1, h2, h3, h4, h5, h6, p, li")||["h1","h2","h3","h4","h5","h6","p","li"].includes(e.tagName.toLowerCase()))&&s.push(e)}else if(3===t.nodeType){let e=t.textContent?.trim()||"";if(e.length>5){let i=document.createElement("span");i.textContent=e;let n=t.parentNode;n&&(n.replaceChild(i,t),s.push(i))}}return s}extractSelection(){let e=window.getSelection();if(!e||0===e.rangeCount)return[];let t=e.getRangeAt(0),s=t.commonAncestorContainer;if(!(3===s.nodeType?s.parentElement:s))return[];let i=t.toString().trim();if(0===i.length)return[];let n=document.createElement("span");return n.textContent=i,[n]}chunkText(e){let t=e.split(/([.!?]+\s+)/).filter(e=>e.trim().length>0),s=[],i="";for(let e=0;e<t.length;e++)i+=t[e],((e+1)%2==0||i.length>200)&&(s.push(i.trim()),i="");return i.trim().length>0&&s.push(i.trim()),s.length>0?s:[e]}async readContent(e,t=!1){if(this.isPlaying)return void this.stop();await this.waitForVoices();let s=t?this.extractSelection():this.extractContent(e);0===s.length?console.warn("No content to read"):(this.chunks=s,this.currentChunkIndex=0,this.isPlaying=!0,this.clearHighlights(),this.readNextChunk())}async waitForVoices(){return new Promise(e=>{this.synth.getVoices().length>0?e():(this.synth.onvoiceschanged=()=>{e()},setTimeout(e,1e3))})}readNextChunk(){if(this.currentChunkIndex>=this.chunks.length){this.isPlaying=!1,this.clearHighlights();return}let e=this.chunks[this.currentChunkIndex],t=e.textContent?.trim()||"";if(0===t.length){this.currentChunkIndex++,this.readNextChunk();return}this.options.highlight&&(e.classList.add(this.highlightClass),e.scrollIntoView({behavior:"smooth",block:"nearest"})),this.options.onChunkStart?.(e),this.utterance=new SpeechSynthesisUtterance(t),this.utterance.rate=this.options.rate||1,this.utterance.pitch=this.options.pitch||1,this.utterance.voice=this.options.voice||this.selectBestVoice(),this.utterance.rate=.95*(this.options.rate||1),this.utterance.onend=()=>{this.options.onChunkEnd?.(e),this.options.highlight&&e.classList.remove(this.highlightClass),this.currentChunkIndex++,setTimeout(()=>{this.isPlaying&&this.readNextChunk()},100)},this.utterance.onerror=e=>{console.error("Speech synthesis error:",e),this.stop()},this.synth.speak(this.utterance)}stop(){this.isPlaying=!1,this.synth.speaking&&this.synth.cancel(),this.clearHighlights(),this.utterance=null,this.currentChunkIndex=0,this.chunks=[]}pause(){this.synth.speaking&&!this.synth.paused&&this.synth.pause()}resume(){this.synth.paused&&this.synth.resume()}clearHighlights(){document.querySelectorAll(`.${this.highlightClass}`).forEach(e=>{e.classList.remove(this.highlightClass)})}get playing(){return this.isPlaying}}var d=e.i(431343),u=e.i(495242),g=e.i(752044);let m=(0,r.default)("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);function x(){let{prefs:e,setReadAloudEnabled:n,setReadAloudHighlight:r}=(0,i.useAccessibility)(),[a,l]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),f=(0,s.useRef)(null);(0,s.useRef)(null),(0,s.useEffect)(()=>{let t=()=>{let t=window.speechSynthesis.getVoices(),s=e.readAloudVoice?t.find(t=>t.name===e.readAloudVoice):void 0;f.current=new c({rate:e.readAloudRate,pitch:e.readAloudPitch,highlight:e.readAloudHighlight,voice:s,onChunkStart:()=>{l(!0),x(!1)},onChunkEnd:()=>{}})};return window.speechSynthesis.getVoices().length>0?t():window.speechSynthesis.onvoiceschanged=t,()=>{f.current&&f.current.stop(),window.speechSynthesis.onvoiceschanged=null}},[e.readAloudRate,e.readAloudPitch,e.readAloudVoice,e.readAloudHighlight]);let y=async()=>{if(f.current)if(a)f.current.stop(),l(!1),x(!1),n(!1);else{let e=document.getElementById("main-content");e||(e=document.querySelector("main")),e||(e=document.querySelector("article")),e||(e=document.body),n(!0),await f.current.readContent(e,!1)}},p=async()=>{if(!f.current)return;let e=window.getSelection();e&&0!==e.toString().trim().length?(n(!0),await f.current.readContent(null,!0)):y()};return((0,s.useEffect)(()=>{f.current&&!f.current.playing&&a&&(l(!1),x(!1),n(!1))},[a,n]),"speechSynthesis"in window)?(0,t.jsx)("div",{className:"read-aloud-controls fixed bottom-4 right-4 z-40 flex flex-col gap-3",children:(0,t.jsxs)("div",{className:"rounded-2xl border-2 border-slate-200 bg-white p-3 shadow-xl backdrop-blur-sm flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:y,className:`flex items-center justify-center h-12 w-12 rounded-xl transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-emerald-300 focus:ring-offset-2 ${a?"bg-gradient-to-br from-red-500 to-rose-600 text-white shadow-lg hover:shadow-xl hover:scale-110":"bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg hover:shadow-xl hover:scale-110"}`,"aria-label":a?"Stop reading":"Start reading everything on page","aria-pressed":a,title:a?"Stop reading":"Read everything on page",children:a?(0,t.jsx)(g.Square,{className:"h-5 w-5","aria-hidden":"true"}):(0,t.jsx)(d.Play,{className:"h-5 w-5","aria-hidden":"true"})}),a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>{f.current&&(h?(f.current.resume(),x(!1)):(f.current.pause(),x(!0)))},className:"flex items-center justify-center h-10 w-10 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200","aria-label":h?"Resume reading":"Pause reading","aria-pressed":h,title:h?"Resume reading":"Pause reading",children:h?(0,t.jsx)(o,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(u.Pause,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("button",{type:"button",onClick:()=>{f.current&&(f.current.stop(),l(!1),x(!1),n(!1))},className:"flex items-center justify-center h-10 w-10 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Stop reading",title:"Stop reading",children:(0,t.jsx)(g.Square,{className:"h-4 w-4","aria-hidden":"true"})})]}),(0,t.jsx)("button",{type:"button",onClick:p,className:"flex items-center justify-center h-10 w-10 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Read selected text",title:"Select text and click to read selection",children:(0,t.jsx)(m,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("button",{type:"button",onClick:()=>r(!e.readAloudHighlight),className:`flex items-center justify-center h-10 w-10 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 hover:scale-105 ${e.readAloudHighlight?"bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,"aria-label":e.readAloudHighlight?"Disable highlight":"Enable highlight","aria-pressed":e.readAloudHighlight,title:"Toggle text highlighting while reading",children:(0,t.jsx)(m,{className:"h-4 w-4","aria-hidden":"true"})})]})}):null}function f({checked:e,onChange:s,label:i,icon:n,description:r}){return(0,t.jsx)("div",{className:"group",children:(0,t.jsxs)("button",{type:"button",onClick:()=>s(!e),className:`w-full flex items-center justify-between gap-3 rounded-xl border-2 px-4 py-3.5 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 ${e?"border-sky-500 bg-gradient-to-br from-sky-50 to-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-sm"}`,"aria-pressed":e,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:`flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-xl transition-all duration-200 ${e?"bg-gradient-to-br from-sky-500 to-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"}`,children:(0,t.jsx)(n,{className:`h-5 w-5 ${e?"text-white":"text-slate-600"}`,"aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:`text-sm font-semibold ${e?"text-sky-900":"text-slate-900"}`,children:i}),r&&(0,t.jsx)("div",{className:`text-xs mt-0.5 ${e?"text-sky-700":"text-slate-600"}`,children:r})]})]}),(0,t.jsx)("div",{className:`relative flex-shrink-0 inline-flex h-6 w-11 items-center rounded-full border-2 transition-all duration-200 ${e?"border-sky-500 bg-gradient-to-r from-sky-500 to-blue-600 shadow-md":"border-slate-300 bg-slate-200"}`,"aria-hidden":"true",children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow-sm transition-all duration-200 ${e?"translate-x-5":"translate-x-0.5"}`})})]})})}function y(){let{prefs:e,setHighContrast:r,setReducedMotion:c}=(0,i.useAccessibility)(),[d,u]=(0,s.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[!d&&(0,t.jsx)("button",{type:"button",onClick:()=>u(!0),className:"fixed top-4 right-4 z-50 flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 text-white shadow-lg hover:shadow-xl hover:scale-110 focus:outline-none focus:ring-4 focus:ring-sky-300 focus:ring-offset-2 transition-all duration-200","aria-label":"Open accessibility settings","aria-expanded":d,children:(0,t.jsx)(n.Settings,{className:"h-6 w-6","aria-hidden":"true"})}),d&&(0,t.jsxs)("div",{className:"fixed top-4 right-4 z-50 w-96 max-w-[calc(100vw-2rem)] rounded-2xl border-2 border-slate-200 bg-white shadow-2xl backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-slate-200 bg-gradient-to-r from-sky-50 to-blue-50 rounded-t-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 text-white shadow-md",children:(0,t.jsx)(n.Settings,{className:"h-5 w-5","aria-hidden":"true"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Accessibility"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>u(!1),className:"rounded-lg p-1.5 text-slate-600 hover:bg-white/80 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors","aria-label":"Close accessibility settings",children:(0,t.jsx)(h.X,{className:"h-5 w-5","aria-hidden":"true"})})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsx)(f,{checked:e.highContrast,onChange:r,label:"High Contrast",icon:a,description:"Enhanced color contrast for better visibility"}),(0,t.jsx)(f,{checked:e.reducedMotion,onChange:c,label:"Reduce Motion",icon:l,description:"Minimize animations and transitions"}),(0,t.jsx)("div",{className:"pt-3 border-t-2 border-slate-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-md",children:(0,t.jsx)(o,{className:"h-5 w-5","aria-hidden":"true"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Read Aloud"}),(0,t.jsx)("div",{className:"text-xs text-slate-600 mt-0.5",children:"Browser SpeechSynthesis • Free • Privacy-preserving"})]})]})})]})]}),(0,t.jsx)(x,{})]})}e.s(["default",()=>y],799577)},979634,e=>{e.n(e.i(799577))}]);

//# debugId=cc50478a-c681-26e9-8ccf-6bcb3d3ce4d2
//# sourceMappingURL=eed1458c182b70cb.js.map