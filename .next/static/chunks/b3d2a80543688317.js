;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cf670dee-4490-4f80-919b-3cad521f0349")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,132786,e=>{"use strict";var t=e.i(843476),s=e.i(437902),a=e.i(271645),r=e.i(63209),l=e.i(595468),i=e.i(503116),n=e.i(952571),o=e.i(618348),d=e.i(475254);let c=(0,d.default)("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var u=e.i(16715),m=e.i(878894),x=e.i(681307);let h=x.z.enum(["OGL","CC0","public-domain-like","unknown","restrictive"]),b=x.z.enum(["dataset","advisory","rss","atom"]),p=x.z.object({exec_brief:x.z.string().min(1).max(500),engineer_detail:x.z.string().min(1).max(2e3),learner_explain:x.z.string().min(1).max(1e3)}),f=x.z.object({cve_id:x.z.string().regex(/^CVE-\d{4}-\d{4,}$/),cvss:x.z.object({v2:x.z.number().min(0).max(10).optional(),v3:x.z.number().min(0).max(10).optional(),v31:x.z.number().min(0).max(10).optional()}).optional(),cwe:x.z.array(x.z.string()).optional(),affected_products:x.z.array(x.z.string()).optional(),kev:x.z.boolean(),references:x.z.array(x.z.string().url())}),g=x.z.object({id:x.z.string().min(1),title:x.z.string().min(1).max(500),url:x.z.string().url(),publisher:x.z.string().min(1).max(200),published_at:x.z.string().datetime(),fetched_at:x.z.string().datetime(),source_id:x.z.string().min(1),source_type:b,licence_posture:h,content_hash:x.z.string().length(64),topic_tags:x.z.array(x.z.string()),audience_notes:p,raw:x.z.record(x.z.string(),x.z.unknown()),cve:f.optional()}),j=x.z.object({generated_at:x.z.string().datetime(),version:x.z.string(),source_count:x.z.number().int().min(0),item_count:x.z.number().int().min(0),per_source_counts:x.z.record(x.z.string(),x.z.number().int().min(0)),validation_passed:x.z.boolean(),errors:x.z.array(x.z.string()).optional()}),v=x.z.object({metadata:j,items:x.z.array(g)});async function N(){try{let e=await fetch("/api/updates/latest");if(!e.ok)throw Error(`Failed to load latest snapshot: ${e.status}`);let t=await e.json(),s=v.safeParse(t);if(s.success)return{success:!0,snapshot:s.data,isFallback:!1};console.warn("Latest snapshot validation failed, trying last-good snapshot");let a=await fetch("/api/updates/last-good");if(!a.ok)throw Error(`Failed to load last-good snapshot: ${a.status}`);let r=await a.json(),l=v.safeParse(r);if(l.success)return{success:!0,snapshot:l.data,isFallback:!0};return{success:!1,isFallback:!1,error:"Both latest and last-good snapshots failed validation"}}catch(e){return{success:!1,isFallback:!1,error:e instanceof Error?e.message:"Unknown error"}}}x.z.object({per_source_cursors:x.z.record(x.z.string(),x.z.object({last_fetched:x.z.string().datetime().optional(),last_etag:x.z.string().optional(),last_modified:x.z.string().datetime().optional(),last_item_id:x.z.string().optional()})),last_successful_run:x.z.string().datetime().optional()}),x.z.object({run_at:x.z.string().datetime(),duration_ms:x.z.number().int().min(0),sources_processed:x.z.number().int().min(0),sources_succeeded:x.z.number().int().min(0),sources_failed:x.z.number().int().min(0),items_added:x.z.number().int().min(0),items_updated:x.z.number().int().min(0),items_removed:x.z.number().int().min(0),validation_passed:x.z.boolean(),snapshot_written:x.z.boolean(),per_source_results:x.z.record(x.z.string(),x.z.object({success:x.z.boolean(),items_fetched:x.z.number().int().min(0),items_normalised:x.z.number().int().min(0),error:x.z.string().optional()})),errors:x.z.array(x.z.string())});var y=e.i(522016);let w=(0,d.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var k=e.i(87316);let _=(0,d.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),S=(0,a.memo)(function({licencePosture:e,sourceName:s,fetchedAt:a,className:r=""}){let l={OGL:"OGL",CC0:"CC0","public-domain-like":"Public Domain",unknown:"Unknown Licence",restrictive:"Restricted"};return(0,t.jsxs)("div",{className:`flex items-center gap-2 text-xs ${r}`,children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded border font-medium ${{OGL:"bg-blue-100 text-blue-800 border-blue-200",CC0:"bg-green-100 text-green-800 border-green-200","public-domain-like":"bg-emerald-100 text-emerald-800 border-emerald-200",unknown:"bg-amber-100 text-amber-800 border-amber-200",restrictive:"bg-rose-100 text-rose-800 border-rose-200"}[e]}`,"aria-label":`Licence: ${l[e]}`,children:l[e]}),(0,t.jsx)("span",{className:"text-slate-600","aria-label":`Source: ${s}`,children:s}),(0,t.jsx)("time",{dateTime:a,className:"text-slate-500","aria-label":`Fetched at: ${new Date(a).toLocaleString()}`,children:new Date(a).toLocaleDateString()})]})});var z=e.i(870273);let C="news-updates-bookmarks",$=(0,a.memo)(function({itemId:e,className:s=""}){let{isBookmarked:r,toggleBookmark:l}=function(){let[e,t]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(C);e&&t(new Set(JSON.parse(e)))}catch(e){console.warn("Failed to load bookmarks:",e)}},[]);let s=(0,a.useCallback)(e=>{t(t=>{let s=new Set(t);s.has(e)?s.delete(e):s.add(e);try{localStorage.setItem(C,JSON.stringify(Array.from(s)))}catch(e){console.warn("Failed to save bookmarks:",e)}return s})},[]),r=(0,a.useCallback)(t=>e.has(t),[e]),l=(0,a.useCallback)(()=>{t(new Set);try{localStorage.removeItem(C)}catch(e){console.warn("Failed to clear bookmarks:",e)}},[]);return{bookmarks:Array.from(e),toggleBookmark:s,isBookmarked:r,clearBookmarks:l}}(),i=r(e);return(0,t.jsx)("button",{onClick:()=>l(e),className:`p-2 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${i?"text-yellow-500 hover:text-yellow-600":"text-slate-400 hover:text-slate-600"} ${s}`,"aria-label":i?"Remove bookmark":"Add bookmark","aria-pressed":i,type:"button",children:(0,t.jsx)(z.Star,{className:`w-5 h-5 ${i?"fill-current":""}`,"aria-hidden":"true"})})});var E=e.i(662031),L=e.i(643531);async function D(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();let s=document.execCommand("copy");return document.body.removeChild(t),s}}catch(e){return console.warn("Failed to copy to clipboard:",e),!1}}let F=(0,a.memo)(function({item:e,className:s=""}){let[r,l]=(0,a.useState)(!1),i=async()=>{var t;let s;if(navigator.share)try{await navigator.share({title:e.title,text:e.title,url:e.url});return}catch(e){}let a=(t=e.id,s=window.location.origin,`${s}/updates?item=${t}`);await D(a)&&(l(!0),setTimeout(()=>l(!1),2e3))};return(0,t.jsx)("div",{className:`relative ${s}`,children:(0,t.jsx)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-slate-900 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":"Share item",type:"button",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.Check,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Copied!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Share2,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Share"})]})})})});function T(e){if(!e?.cvss)return 0;let t=e.cvss.v31,s=e.cvss.v3,a=e.cvss.v2;if("number"==typeof t)return t;if("number"==typeof s)return s;if("number"==typeof a)return a;if("string"==typeof t){let e=parseFloat(t);if(!isNaN(e))return e}if("string"==typeof s){let e=parseFloat(s);if(!isNaN(e))return e}if("string"==typeof a){let e=parseFloat(a);if(!isNaN(e))return e}return 0}function M(e){return e>=9?"critical":e>=7?"high":e>=4?"medium":e>0?"low":"none"}let R=(0,a.memo)(function({item:e,audienceMode:s,className:a=""}){return(0,t.jsxs)("article",{className:`rounded-2xl bg-white border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow ${a}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(_,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("span",{children:e.publisher})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(k.Calendar,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("time",{dateTime:e.published_at,children:new Date(e.published_at).toLocaleDateString()})]})]})]}),(()=>{if(!e.cve)return null;let s=M(T(e.cve));return({critical:(0,t.jsx)("span",{className:"px-2 py-1 bg-rose-100 text-rose-800 rounded text-xs font-medium",children:"Critical"}),high:(0,t.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:"High"}),medium:(0,t.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded text-xs font-medium",children:"Medium"}),low:(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:"Low"}),none:null})[s]})()]}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none mb-4",children:(0,t.jsx)("p",{className:"text-slate-700",children:(()=>{switch(s){case"exec":return e.audience_notes.exec_brief;case"engineer":return e.audience_notes.engineer_detail;case"learner":return e.audience_notes.learner_explain}})()})}),e.topic_tags&&e.topic_tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.topic_tags.slice(0,5).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:e},e))}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[(0,t.jsx)(S,{licencePosture:e.licence_posture,sourceName:e.source_id,fetchedAt:e.fetched_at}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($,{itemId:e.id}),(0,t.jsx)(F,{item:e}),(0,t.jsxs)(y.default,{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`View original source: ${e.title}`,children:["View Source",(0,t.jsx)(w,{className:"w-4 h-4","aria-hidden":"true"})]})]})]})]})});var A=e.i(797548),I=e.i(37727);let U=(0,a.memo)(function({items:e,onFilterChange:s,className:r=""}){let[l,i]=a.default.useState([]),[n,o]=a.default.useState([]),[d,c]=a.default.useState("all"),[u,m]=a.default.useState("all"),x=(0,a.useMemo)(()=>{let t=new Set;return e.forEach(e=>{e.topic_tags?.forEach(e=>t.add(e))}),Array.from(t).sort()},[e]),h=(0,a.useMemo)(()=>{let t=new Set;return e.forEach(e=>t.add(e.source_id)),Array.from(t).sort()},[e]);a.default.useEffect(()=>{let t=[...e];if(l.length>0&&(t=t.filter(e=>l.some(t=>e.topic_tags?.includes(t)))),n.length>0&&(t=t.filter(e=>n.includes(e.source_id))),"all"!==d){let e=Date.now()-24*parseInt(d)*36e5;t=t.filter(t=>new Date(t.published_at).getTime()>=e)}"all"!==u&&"none"!==u?t=t.filter(e=>!!e.cve&&M(T(e.cve))===u):"none"===u&&(t=t.filter(e=>!e.cve)),s(t)},[l,n,d,u,e,s]);let b=l.length>0||n.length>0||"all"!==d||"all"!==u;return(0,t.jsxs)("div",{className:`bg-white rounded-2xl border border-slate-200 p-4 ${r}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Filter,{className:"w-5 h-5 text-slate-600","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:"Filters"})]}),b&&(0,t.jsxs)("button",{onClick:()=>{i([]),o([]),c("all"),m("all")},className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-900","aria-label":"Clear all filters",type:"button",children:[(0,t.jsx)(I.X,{className:"w-4 h-4","aria-hidden":"true"}),"Clear"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Time Window"}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Time"}),(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Severity (CVEs)"}),(0,t.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All"}),(0,t.jsx)("option",{value:"none",children:"Non-CVE"}),(0,t.jsx)("option",{value:"critical",children:"Critical (9.0+)"}),(0,t.jsx)("option",{value:"high",children:"High (7.0-8.9)"}),(0,t.jsx)("option",{value:"medium",children:"Medium (4.0-6.9)"}),(0,t.jsx)("option",{value:"low",children:"Low (<4.0)"})]})]}),h.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Sources"}),(0,t.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-700 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{children:e})]},e))})]}),x.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Topics"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:x.slice(0,20).map(e=>(0,t.jsx)("button",{onClick:()=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-2 py-1 rounded text-xs font-medium transition-colors ${l.includes(e)?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,type:"button","aria-pressed":l.includes(e),children:e},e))})]})]})]})});var V=e.i(555436);let O=(0,a.memo)(function({items:e,onSearchChange:s,className:r="",inputRef:l}){let[i,n]=(0,a.useState)(""),o=(0,a.useMemo)(()=>{if(!i.trim())return e;let t=i.toLowerCase();return e.filter(e=>[e.title,e.publisher,...e.topic_tags||[],e.audience_notes.exec_brief,e.audience_notes.engineer_detail,e.audience_notes.learner_explain,e.cve?.cve_id].filter(Boolean).join(" ").toLowerCase().includes(t))},[i,e]);return a.default.useEffect(()=>{s(o)},[o,s]),(0,t.jsxs)("div",{className:`relative ${r}`,children:[(0,t.jsx)(V.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),(0,t.jsx)("input",{ref:l,type:"search",value:i,onChange:e=>n(e.target.value),placeholder:"Search updates... (Press / to focus)",className:"w-full pl-10 pr-10 py-3 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search updates"}),i&&(0,t.jsx)("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600","aria-label":"Clear search",type:"button",children:(0,t.jsx)(I.X,{className:"w-5 h-5","aria-hidden":"true"})})]})}),P=(0,d.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),q=(0,d.default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var H=e.i(32095);let J=(0,a.memo)(function({mode:e,onChange:s,className:a=""}){let r=[{id:"exec",label:"Executive",icon:(0,t.jsx)(P,{className:"w-4 h-4"})},{id:"engineer",label:"Engineer",icon:(0,t.jsx)(q,{className:"w-4 h-4"})},{id:"learner",label:"Learner",icon:(0,t.jsx)(H.GraduationCap,{className:"w-4 h-4"})}];return(0,t.jsxs)("div",{className:`flex items-center gap-2 ${a}`,children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"View as:"}),(0,t.jsx)("div",{className:"flex items-center gap-1 bg-slate-100 rounded-lg p-1",children:r.map(a=>(0,t.jsxs)("button",{onClick:()=>s(a.id),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${e===a.id?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,"aria-pressed":e===a.id,"aria-label":`Switch to ${a.label} mode`,type:"button",children:[a.icon,(0,t.jsx)("span",{className:"hidden sm:inline",children:a.label})]},a.id))})]})});var K=e.i(801171);let B=(0,a.memo)(function({variant:e="card",count:s=1,className:r="",ariaLabel:l="Loading content"}){let i=(0,a.useMemo)(()=>Array.from({length:s},(e,t)=>t),[s]);return"text"===e?(0,t.jsxs)("div",{className:`space-y-2 ${r}`,role:"status","aria-label":l,"aria-live":"polite",children:[i.map(e=>(0,t.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse",style:{width:e%2==0?"100%":"80%",animationDelay:`${100*e}ms`}},e)),(0,t.jsx)("span",{className:"sr-only",children:l})]}):"list"===e?(0,t.jsxs)("div",{className:`space-y-3 ${r}`,role:"status","aria-label":l,"aria-live":"polite",children:[i.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white border border-slate-200 rounded-lg",style:{animationDelay:`${100*e}ms`},children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-slate-200 rounded-full animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse w-1/2"})]})]},e)),(0,t.jsx)("span",{className:"sr-only",children:l})]}):"grid"===e?(0,t.jsxs)("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 ${r}`,role:"status","aria-label":l,"aria-live":"polite",children:[i.map(e=>(0,t.jsxs)("div",{className:"p-6 bg-white border border-slate-200 rounded-2xl space-y-3",style:{animationDelay:`${100*e}ms`},children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-slate-200 rounded-xl animate-pulse"}),(0,t.jsx)("div",{className:"h-5 bg-slate-200 rounded animate-pulse w-3/4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse w-5/6"})]})]},e)),(0,t.jsx)("span",{className:"sr-only",children:l})]}):(0,t.jsxs)("div",{className:`space-y-4 ${r}`,role:"status","aria-label":l,"aria-live":"polite",children:[i.map(e=>(0,t.jsxs)("div",{className:"p-6 bg-white border border-slate-200 rounded-2xl shadow-sm space-y-4",style:{animationDelay:`${100*e}ms`},children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-slate-200 rounded-xl animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-5 bg-slate-200 rounded animate-pulse w-2/3"}),(0,t.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-1/2"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-5/6"})]})]},e)),(0,t.jsx)("span",{className:"sr-only",children:l})]})}),G=(0,a.memo)(function({message:e,priority:s="polite",className:r=""}){let l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{e&&l.current&&(l.current.textContent="",setTimeout(()=>{l.current&&(l.current.textContent=e)},100))},[e]),(0,t.jsx)("div",{ref:l,role:"status","aria-live":s,"aria-atomic":"true",className:`sr-only ${r}`,children:e})}),X=(0,a.memo)(function(){return(0,t.jsx)(y.default,{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Skip to main content"})}),W=(0,d.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Z=(0,d.default)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),Y=(0,d.default)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);function Q(e,t,s){let a=new Blob([e],{type:s}),r=URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)}let ee=(0,a.memo)(function({items:e,className:s=""}){let[r,l]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&l(!1)};if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]),(0,t.jsxs)("div",{className:`relative ${s}`,ref:i,children:[(0,t.jsxs)("button",{onClick:()=>l(!r),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":"Export options","aria-haspopup":"true","aria-expanded":r,type:"button",children:[(0,t.jsx)(W,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),r&&(0,t.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("button",{onClick:()=>{Q(JSON.stringify(e,null,2),`news-updates-${new Date().toISOString().split("T")[0]}.json`,"application/json"),l(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",type:"button",children:[(0,t.jsx)(Z,{className:"w-4 h-4","aria-hidden":"true"}),"Export as JSON"]}),(0,t.jsxs)("button",{onClick:()=>{var t;Q(0===(t=e).length?"":["Title,Publisher,Published Date,Source,URL,Tags,CVE ID,Severity,KEV",...t.map(e=>{let t=M(T(e.cve)),s="none"===t?"":t.charAt(0).toUpperCase()+t.slice(1);return[`"${e.title.replace(/"/g,'""')}"`,`"${e.publisher.replace(/"/g,'""')}"`,e.published_at,e.source_id,e.url,`"${(e.topic_tags||[]).join(", ").replace(/"/g,'""')}"`,e.cve?.cve_id||"",s,e.cve?.kev?"Yes":"No"]}).map(e=>e.join(","))].join("\n"),`news-updates-${new Date().toISOString().split("T")[0]}.csv`,"text/csv"),l(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",type:"button",children:[(0,t.jsx)(Y,{className:"w-4 h-4","aria-hidden":"true"}),"Export as CSV"]})]})})]})}),et="news-updates-saved-filters";function es(){let[e,d]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[b,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1),[j,v]=(0,a.useState)("highlights"),[y,w]=(0,a.useState)("engineer"),[k,_]=(0,a.useState)([]),[S,z]=(0,a.useState)([]),[C,$]=(0,a.useState)(1),[E,L]=(0,a.useState)(!1),[D,F]=(0,a.useState)(""),[M,A]=(0,a.useState)(!1),[I,V]=(0,a.useState)(null),[P,q]=(0,a.useState)(null),H=(0,a.useRef)(null),W=(0,a.useRef)(null),Z=(0,a.useRef)(null),Y=(0,a.useRef)(0),{savedFilters:Q,saveFilter:es,loadFilter:ea}=function(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(et);e&&t(JSON.parse(e))}catch(e){console.warn("Failed to load saved filters:",e)}},[]);let s=(0,a.useCallback)(s=>{let a={...s,id:`filter-${Date.now()}`,createdAt:new Date().toISOString()},r=[...e,a];t(r);try{localStorage.setItem(et,JSON.stringify(r))}catch(e){console.warn("Failed to save filter:",e)}return a.id},[e]),r=(0,a.useCallback)(s=>{let a=e.filter(e=>e.id!==s);t(a);try{localStorage.setItem(et,JSON.stringify(a))}catch(e){console.warn("Failed to delete filter:",e)}},[e]),l=(0,a.useCallback)(t=>e.find(e=>e.id===t),[e]);return{savedFilters:e,saveFilter:s,deleteFilter:r,loadFilter:l}}(),er=(0,a.useCallback)(async(e=!1)=>{e&&(A(!0),V(null));try{let e=await N();e.success&&e.snapshot?(d(e.snapshot),g(e.isFallback),p(null),q(new Date),F(`Loaded ${e.snapshot.items.length} updates from ${e.snapshot.metadata.source_count} sources`)):(p(e.error||"Failed to load updates"),V(e.error||"Failed to load updates"),F("Failed to load updates"))}catch(t){let e=t instanceof Error?t.message:"Unknown error";p(e),V(e),F("Error loading updates")}finally{h(!1),A(!1)}},[]);(0,a.useEffect)(()=>{er()},[er]);let el=(0,a.useCallback)(()=>{er(!0)},[er]),ei=(0,a.useMemo)(()=>{if(!e)return[];let t=e.items;switch(j){case"highlights":return t.filter(e=>{let t=e.cve?.kev||!1,s=T(e.cve),a=Date.now()-new Date(e.published_at).getTime()<6048e5;return t||s>=7||a||e.topic_tags?.includes("highlight")}).sort((e,t)=>{let s=+!!e.cve?.kev,a=+!!t.cve?.kev;if(s!==a)return a-s;let r=T(e.cve),l=T(t.cve);return r!==l?l-r:new Date(t.published_at).getTime()-new Date(e.published_at).getTime()});case"vulnerabilities":return t.filter(e=>e.cve).sort((e,t)=>{let s=T(e.cve);return T(t.cve)-s});case"ai-regulation":return t.filter(e=>e.topic_tags?.some(e=>e.includes("ai")||e.includes("regulation")||e.includes("government"))).sort((e,t)=>new Date(t.published_at).getTime()-new Date(e.published_at).getTime());case"standards":return t.filter(e=>e.topic_tags?.some(e=>e.includes("standard")||e.includes("interoperability"))).sort((e,t)=>new Date(t.published_at).getTime()-new Date(e.published_at).getTime());default:return t.sort((e,t)=>new Date(t.published_at).getTime()-new Date(e.published_at).getTime())}},[e,j]),en=(0,a.useMemo)(()=>S.length>0?S:k.length>0?k:ei,[S,k,ei]),eo=Math.ceil(en.length/20),ed=(0,a.useMemo)(()=>{let e=(C-1)*20;return en.slice(e,e+20)},[en,C]);(0,a.useEffect)(()=>{$(1),Y.current=0},[en.length,j]),function(e){let{onFocusSearch:t,onFocusFilters:s,onExport:r,onShowHelp:l,onNavigateNext:i,onNavigatePrev:n,onRefresh:o,enabled:d=!0}=e,c=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!d)return;let e=e=>{if(!(c.current||e.target instanceof HTMLElement&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||e.target.isContentEditable))&&!e.ctrlKey&&!e.metaKey&&!e.altKey)switch(e.key){case"/":e.preventDefault(),t?.();break;case"f":e.preventDefault(),s?.();break;case"e":e.preventDefault(),r?.();break;case"?":e.preventDefault(),l?.();break;case"j":e.preventDefault(),i?.();break;case"k":e.preventDefault(),n?.();break;case"r":c.current||(e.preventDefault(),o?.())}},a=e=>{let t=e.target;c.current="INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable};return document.addEventListener("keydown",e),document.addEventListener("focusin",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("focusin",a)}},[d,t,s,r,l,i,n,o])}({onFocusSearch:()=>{H.current?.focus(),F("Search focused")},onFocusFilters:()=>{W.current?.focus(),F("Filters focused")},onExport:()=>{let e=document.querySelector('[aria-label="Export options"]');e?.click()},onShowHelp:()=>{L(e=>!e)},onRefresh:()=>{el()},onNavigateNext:()=>{if(Y.current<ed.length-1){Y.current++;let e=document.querySelector(`[data-item-index="${Y.current}"]`);e?.focus(),e?.scrollIntoView({behavior:"smooth",block:"center"}),F(`Item ${Y.current+1} of ${ed.length}`)}},onNavigatePrev:()=>{if(Y.current>0){Y.current--;let e=document.querySelector(`[data-item-index="${Y.current}"]`);e?.focus(),e?.scrollIntoView({behavior:"smooth",block:"center"}),F(`Item ${Y.current+1} of ${ed.length}`)}},enabled:!x&&!b});let ec=(0,a.useCallback)(e=>{$(e),Z.current?.scrollIntoView({behavior:"smooth"}),F(`Page ${e} of ${eo}`)},[eo]);return x?(0,t.jsxs)(K.default,{studio:"updates",children:[(0,t.jsx)(X,{}),(0,t.jsx)("div",{className:"min-h-screen bg-slate-50 py-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)(B,{variant:"card",count:5})})})]}):b||!e?(0,t.jsxs)(K.default,{studio:"updates",children:[(0,t.jsx)(X,{}),(0,t.jsx)("div",{className:"min-h-screen bg-slate-50 py-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"rounded-2xl bg-white border border-rose-200 p-8 text-center",children:[(0,t.jsx)(r.AlertCircle,{className:"w-12 h-12 text-rose-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Failed to Load Updates"}),(0,t.jsx)("p",{className:"text-slate-600 mb-4",children:b||"Unknown error"}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})})]}):(0,t.jsxs)(K.default,{studio:"updates",children:[(0,t.jsx)(X,{}),(0,t.jsx)(G,{message:D}),(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 min-h-screen bg-slate-50 py-12 print:bg-white print:py-0",children:(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("header",{className:"jsx-d605bee02c2e73f3 mb-8 print:hidden",children:(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 rounded-3xl bg-gradient-to-br from-white to-slate-50/50 border border-slate-200 p-8 shadow-lg",children:[(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("h1",{className:"jsx-d605bee02c2e73f3 text-4xl font-bold text-slate-900 mb-2",children:"News and Updates"}),(0,t.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-lg text-slate-600",children:"Curated index of authoritative sources for energy system digitalisation, cybersecurity, AI governance, and standards"})]}),(()=>{if(!e)return null;let s=new Date(e.metadata.generated_at),a=(Date.now()-s.getTime())/36e5;return f?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(r.AlertCircle,{className:"w-5 h-5 text-amber-600","aria-hidden":"true"}),(0,t.jsxs)("span",{className:"text-sm text-amber-800",children:["Showing last verified snapshot from ",s.toLocaleString()]})]}):a>12?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsx)(i.Clock,{className:"w-5 h-5 text-amber-600","aria-hidden":"true"}),(0,t.jsxs)("span",{className:"text-sm text-amber-800",children:["Stale (last updated ",a.toFixed(1),"h ago)"]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(l.CheckCircle2,{className:"w-5 h-5 text-green-600","aria-hidden":"true"}),(0,t.jsx)("span",{className:"text-sm text-green-800",children:"Live"})]})})()]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-between flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-4",children:[(0,t.jsx)(J,{mode:y,onChange:w}),(0,t.jsx)(ee,{items:en}),(0,t.jsxs)("button",{onClick:el,disabled:M,"aria-label":"Refresh updates",type:"button",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[(0,t.jsx)(u.RefreshCw,{className:`w-4 h-4 ${M?"animate-spin":""}`,"aria-hidden":"true"}),(0,t.jsx)("span",{className:"jsx-d605bee02c2e73f3 hidden sm:inline",children:M?"Refreshing...":"Refresh"})]}),(0,t.jsxs)("a",{href:"/api/updates/rss","aria-label":"RSS feed",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:[(0,t.jsx)(c,{className:"w-4 h-4","aria-hidden":"true"}),(0,t.jsx)("span",{className:"jsx-d605bee02c2e73f3 hidden sm:inline",children:"RSS"})]}),(0,t.jsx)("button",{onClick:()=>L(!E),"aria-label":"Keyboard shortcuts help",type:"button",className:"jsx-d605bee02c2e73f3 p-2 text-slate-600 hover:text-slate-900 rounded-lg transition-colors",children:(0,t.jsx)(o.HelpCircle,{className:"w-5 h-5","aria-hidden":"true"})})]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-4 text-sm text-slate-600",children:[(0,t.jsxs)("span",{className:"jsx-d605bee02c2e73f3",children:[e.metadata.item_count," items from ",e.metadata.source_count," sources"]}),P&&(0,t.jsxs)("span",{className:"jsx-d605bee02c2e73f3 text-xs text-slate-500",children:["Last refreshed: ",P.toLocaleTimeString()]})]})]})]})}),E&&(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 mb-6 rounded-2xl bg-blue-50 border border-blue-200 p-6 print:hidden",children:[(0,t.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-slate-900 mb-3",children:"Keyboard Shortcuts"}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"/"})," Focus search"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"f"})," Focus filters"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"e"})," Export"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"r"})," Refresh updates"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"?"})," Show/hide help"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"j"})," Next item"]}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,t.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"k"})," Previous item"]})]})]}),I&&(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 rounded-2xl bg-rose-50 border border-rose-200 p-4 print:hidden",children:(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-start gap-3",children:[(0,t.jsx)(m.AlertTriangle,{className:"w-5 h-5 text-rose-600 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex-1",children:[(0,t.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-rose-900 mb-1",children:"Refresh Failed"}),(0,t.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-rose-700 mb-2",children:I}),(0,t.jsx)("button",{onClick:el,type:"button",className:"jsx-d605bee02c2e73f3 text-sm text-rose-700 hover:text-rose-900 underline font-medium",children:"Try again"})]}),(0,t.jsx)("button",{onClick:()=>V(null),"aria-label":"Dismiss error",type:"button",className:"jsx-d605bee02c2e73f3 text-rose-600 hover:text-rose-800",children:"×"})]})}),(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-8 rounded-2xl bg-blue-50 border border-blue-200 p-6 print:hidden",children:(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-start gap-3",children:[(0,t.jsx)(n.Info,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex-1",children:[(0,t.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-slate-900 mb-2",children:"About this feed"}),(0,t.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-slate-700 mb-2",children:"We index authoritative sources and preserve provenance. We do not republish restricted content—we link out for full details. Every item shows its source, licence posture, and when it was fetched."}),(0,t.jsxs)("p",{className:"jsx-d605bee02c2e73f3 text-xs text-slate-600",children:["Last updated: ",new Date(e.metadata.generated_at).toLocaleString()]})]})]})}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("aside",{ref:W,tabIndex:-1,className:"jsx-d605bee02c2e73f3 lg:col-span-1 space-y-6 print:hidden",children:(0,t.jsx)(U,{items:ei,onFilterChange:_})}),(0,t.jsxs)("main",{id:"main-content",ref:Z,className:"jsx-d605bee02c2e73f3 lg:col-span-3",children:[(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 print:hidden",children:(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-2 border-b border-slate-200",children:[{id:"highlights",label:"Highlights"},{id:"vulnerabilities",label:"Vulnerabilities"},{id:"ai-regulation",label:"AI & Regulation"},{id:"standards",label:"Standards"},{id:"all",label:"All Updates"}].map(e=>(0,t.jsx)("button",{onClick:()=>v(e.id),"aria-pressed":j===e.id,type:"button",className:`jsx-d605bee02c2e73f3 px-4 py-2 text-sm font-medium border-b-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${j===e.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:e.label},e.id))})}),(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 print:hidden",children:(0,t.jsx)(O,{items:ei,onSearchChange:z,inputRef:H})}),(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 space-y-4",children:0===ed.length?(0,t.jsx)("div",{className:"jsx-d605bee02c2e73f3 rounded-2xl bg-white border border-slate-200 p-8 text-center",children:0===e.metadata.item_count?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Info,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"jsx-d605bee02c2e73f3 text-lg font-semibold text-slate-900 mb-2",children:"No Updates Available Yet"}),(0,t.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-slate-600 mb-4",children:"The news ingestion system is still initializing. Updates will appear here once the ingestion process completes."}),(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex flex-col sm:flex-row items-center justify-center gap-3 mt-4",children:[(0,t.jsxs)("button",{onClick:el,disabled:M,type:"button",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[(0,t.jsx)(u.RefreshCw,{className:`w-4 h-4 ${M?"animate-spin":""}`,"aria-hidden":"true"}),M?"Checking for updates...":"Check for updates"]}),(0,t.jsx)("a",{href:"https://github.com/LordRansford/my-webapp/actions/workflows/news-ingest.yml",target:"_blank",rel:"noopener noreferrer",className:"jsx-d605bee02c2e73f3 text-sm text-blue-600 hover:text-blue-700 underline",children:"View ingestion status"})]}),(0,t.jsxs)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-slate-500 mt-4",children:["Last check: ",new Date(e.metadata.generated_at).toLocaleString()]})]}):(0,t.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-slate-600",children:"No updates found matching your filters."})}):(0,t.jsxs)(t.Fragment,{children:[ed.map((e,s)=>(0,t.jsx)("div",{"data-item-index":s,tabIndex:0,className:"jsx-d605bee02c2e73f3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-2xl",children:(0,t.jsx)(R,{item:e,audienceMode:y})},e.id)),eo>1&&(0,t.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-center gap-2 mt-8 print:hidden",children:[(0,t.jsx)("button",{onClick:()=>ec(C-1),disabled:1===C,"aria-label":"Previous page",className:"jsx-d605bee02c2e73f3 px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Previous"}),(0,t.jsxs)("span",{className:"jsx-d605bee02c2e73f3 px-4 py-2 text-sm text-slate-600",children:["Page ",C," of ",eo]}),(0,t.jsx)("button",{onClick:()=>ec(C+1),disabled:C===eo,"aria-label":"Next page",className:"jsx-d605bee02c2e73f3 px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Next"})]})]})})]})]})]})}),(0,t.jsx)(s.default,{id:"d605bee02c2e73f3",children:"@media print{.print\\\\:hidden{display:none!important}.print\\\\:bg-white{background-color:#fff!important}.print\\\\:py-0{padding-top:0!important;padding-bottom:0!important}}"})]})}e.s(["default",()=>es],132786)}]);

//# debugId=cf670dee-4490-4f80-919b-3cad521f0349
//# sourceMappingURL=f2a2f6988b9dff90.js.map