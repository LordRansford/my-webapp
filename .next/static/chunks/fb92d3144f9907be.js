;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="172bcf2b-6371-892d-1079-b0b34248015d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,888880,e=>{"use strict";var t=e.i(391398),s=e.i(191788);function a(e=2e4,t=65e3){return Math.floor(Math.random()*(t-e+1))+e}function l(){return Math.floor(Date.now()/1e3)}function r(){let[e,r]=(0,s.useState)("192.168.1.10"),[d,o]=(0,s.useState)("203.0.113.5"),[n,i]=(0,s.useState)("93.184.216.34"),[x,c]=(0,s.useState)("443"),[m,h]=(0,s.useState)("TCP"),[p,u]=(0,s.useState)([]),b=(0,s.useMemo)(()=>Math.max(1,Math.min(65535,Math.floor(Number(x)||443))),[x]),g=(0,s.useMemo)(()=>{let e=l();return p.map(t=>{let s=e-t.createdAt,a=Math.max(0,t.ttlSeconds-s);return{...t,remaining:a}}).filter(e=>e.remaining>0).sort((e,t)=>t.createdAt-e.createdAt)},[p]);return(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Internal host"}),(0,t.jsx)("input",{value:e,onChange:e=>r(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"192.168.1.10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"External public IP"}),(0,t.jsx)("input",{value:d,onChange:e=>o(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"203.0.113.5"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Remote destination"}),(0,t.jsxs)("div",{className:"mt-1 grid grid-cols-3 gap-2",children:[(0,t.jsx)("input",{value:n,onChange:e=>i(e.target.value),className:"col-span-2 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"93.184.216.34"}),(0,t.jsx)("input",{value:x,onChange:e=>c(e.target.value),inputMode:"numeric",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"443","aria-label":"Remote port"})]})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Protocol"}),(0,t.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[(0,t.jsx)("option",{value:"TCP",children:"TCP"}),(0,t.jsx)("option",{value:"UDP",children:"UDP"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:function(){let t={id:`m-${Math.random().toString(16).slice(2)}`,createdAt:l(),internalIp:e.trim()||"192.168.1.10",internalPort:a(4e4,65e3),externalIp:d.trim()||"203.0.113.5",externalPort:a(2e4,65e3),remoteIp:n.trim()||"93.184.216.34",remotePort:b,protocol:m,ttlSeconds:"UDP"===m?30:120};u(e=>[t,...e].slice(0,24))},className:"rounded-full bg-slate-900 px-3 py-1.5 text-sm font-semibold text-white hover:bg-slate-800",children:"Add outbound flow"}),(0,t.jsx)("button",{type:"button",onClick:function(){let e=l();u(t=>t.filter(t=>e-t.createdAt<t.ttlSeconds))},className:"rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-semibold text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900/40",children:"Sweep expired"}),(0,t.jsx)("button",{type:"button",onClick:function(){u([])},className:"rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-semibold text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900/40",children:"Reset"})]})]}),(0,t.jsx)("div",{className:"mt-4 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-600 dark:bg-slate-950/40 dark:text-slate-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2",children:"Internal"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"NAT public"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Remote"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"Proto"}),(0,t.jsx)("th",{className:"px-3 py-2",children:"TTL left"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:[g.map(e=>(0,t.jsxs)("tr",{className:"bg-white dark:bg-transparent",children:[(0,t.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-900 dark:text-slate-100",children:[e.internalIp,":",e.internalPort]}),(0,t.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-900 dark:text-slate-100",children:[e.externalIp,":",e.externalPort]}),(0,t.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-700 dark:text-slate-200",children:[e.remoteIp,":",e.remotePort]}),(0,t.jsx)("td",{className:"px-3 py-2 font-semibold text-slate-900 dark:text-slate-100",children:e.protocol}),(0,t.jsxs)("td",{className:"px-3 py-2 text-slate-700 dark:text-slate-200",children:[e.remaining,"s"]})]},e.id)),0===g.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"px-3 py-4 text-slate-600 dark:text-slate-300",colSpan:5,children:"No active mappings. Add an outbound flow to see how a mapping is created."})}):null]})]})}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-slate-700 dark:text-slate-200",children:[(0,t.jsx)("p",{className:"m-0",children:"NAT often feels like magic until you treat it as a state table. If the state expires or the mapping changes, long lived sessions can break."}),(0,t.jsx)("p",{className:"mt-2 m-0 text-slate-600 dark:text-slate-300",children:"NAT is not a firewall. Many devices bundle NAT with stateful filtering, which is why people confuse them."})]})]})}e.s(["default",()=>r])},338668,e=>{e.n(e.i(888880))}]);

//# debugId=172bcf2b-6371-892d-1079-b0b34248015d
//# sourceMappingURL=44e674c48dc85326.js.map