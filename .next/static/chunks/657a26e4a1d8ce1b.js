;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fefbd73d-e8e6-c34e-1ef7-7ebb87df14ca")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,476705,e=>{"use strict";let t=(0,e.i(369547).default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["default",()=>t])},649249,e=>{"use strict";var t=e.i(476705);e.s(["Database",()=>t.default])},212454,e=>{"use strict";class t{storageKey="studio-audit-logs";maxLogs=1e3;log(e,t,s){try{let a={timestamp:Date.now(),action:e,studio:t,metadata:s||{}},r=this.getLogs();r.push(a),r.length>this.maxLogs&&r.splice(0,r.length-this.maxLogs),localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(e){console.warn("Failed to log audit entry:",e)}}getLogs(){try{let e=localStorage.getItem(this.storageKey);if(!e)return[];return JSON.parse(e)}catch(e){return console.warn("Failed to read audit logs:",e),[]}}getLogsForStudio(e){return this.getLogs().filter(t=>t.studio===e)}clearLogs(){localStorage.removeItem(this.storageKey)}exportLogs(){return JSON.stringify(this.getLogs(),null,2)}}let s=new t,a={TOOL_OPENED:"tool_opened",FILE_UPLOADED:"file_uploaded",PROJECT_CREATED:"project_created",PROJECT_DELETED:"project_deleted",DEPLOYMENT_INITIATED:"deployment_initiated",CREDITS_CONSUMED:"credits_consumed",SETTINGS_CHANGED:"settings_changed",ERROR_OCCURRED:"error_occurred",ERROR_BOUNDARY_TRIGGERED:"error_boundary_triggered",ERROR_BOUNDARY_RESET:"error_boundary_reset",PERFORMANCE_ISSUE:"performance_issue",RETRY_ATTEMPTED:"retry_attempted"};e.s(["AuditActions",0,a,"auditLogger",0,s])},388022,e=>{"use strict";let t=(0,e.i(369547).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["default",()=>t])},398957,e=>{"use strict";var t=e.i(388022);e.s(["RefreshCw",()=>t.default])},948592,e=>{"use strict";let t=(0,e.i(369547).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},322138,e=>{"use strict";var t=e.i(948592);e.s(["Loader2",()=>t.default])},162889,e=>{"use strict";var t=e.i(391398),s=e.i(322138);function a({size:e="md",message:a,className:r=""}){let i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center gap-3 ${r}`,role:"status","aria-live":"polite","aria-busy":"true",children:[(0,t.jsx)(s.Loader2,{className:`${i[e]} animate-spin text-primary-600`,"aria-hidden":"true"}),a&&(0,t.jsx)("p",{className:"text-sm text-slate-600",children:a}),(0,t.jsx)("span",{className:"sr-only",children:a||"Loading"})]})}e.s(["default",()=>a])},338951,e=>{"use strict";let t=(0,e.i(369547).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["default",()=>t])},533538,e=>{"use strict";var t=e.i(338951);e.s(["Search",()=>t.default])},509146,e=>{"use strict";function t(e){if(!e||"string"!=typeof e)return"file";let t=e.replace(/[\/\\]/g,"_").replace(/[<>:"|?*]/g,"_").replace(/\.\./g,"_").trim();if((t=t.replace(/^\.+/,"")).length>255){let e=t.split(".").pop(),s=t.slice(0,255-(e?e.length+1:0));t=e?`${s}.${e}`:s}return t||(t="file"),t}function s(e,t,s){if(t.length>0&&!t.includes(e.type))return{valid:!1,error:`File type ${e.type} is not allowed`};let a="."+e.name.split(".").pop()?.toLowerCase();return s.length>0&&!s.includes(a)?{valid:!1,error:`File extension ${a} is not allowed`}:{valid:!0}}e.s(["sanitizeFileName",()=>t,"validateFileType",()=>s])},115910,e=>{"use strict";let t=(0,e.i(369547).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},430788,e=>{"use strict";var t=e.i(115910);e.s(["CheckCircle",()=>t.default])},869494,e=>{"use strict";let t=(0,e.i(369547).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["default",()=>t])},244925,e=>{"use strict";let t=(0,e.i(369547).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["default",()=>t])},348521,e=>{"use strict";let t=(0,e.i(369547).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>t])},825583,e=>{"use strict";let t=(0,e.i(369547).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["default",()=>t])},457541,e=>{"use strict";var t=e.i(244925);e.s(["Filter",()=>t.default])},391756,e=>{"use strict";var t=e.i(348521);e.s(["XCircle",()=>t.default])},759279,e=>{"use strict";var t=e.i(825583);e.s(["Upload",()=>t.default])},215125,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{VALID_LOADERS:function(){return a},imageConfigDefault:function(){return r}});let a=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},813521,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let a=e.r(741705)._(e.r(191788)),r=e.r(215125),i=a.default.createContext(r.imageConfigDefault)},505597,__turbopack_context__=>{"use strict";var __TURBOPACK__imported__module__350461__=__turbopack_context__.i(350461),__TURBOPACK__imported__module__391398__=__turbopack_context__.i(391398),__TURBOPACK__imported__module__191788__=__turbopack_context__.i(191788),__TURBOPACK__imported__module__675878__=__turbopack_context__.i(675878),__TURBOPACK__imported__module__398957__=__turbopack_context__.i(398957),__TURBOPACK__imported__module__350461__1=__TURBOPACK__imported__module__350461__;let sentryModule=null,sentryLoadAttempted=!1;async function loadSentry(){if(sentryLoadAttempted)return sentryModule;sentryLoadAttempted=!0;try{let moduleName="@sentry/nextjs";return sentryModule=await eval(`import('${moduleName}')`)}catch{return sentryModule=null,null}}async function captureException(e,t){if(__TURBOPACK__imported__module__350461__1.default.env.NEXT_PUBLIC_SENTRY_DSN)try{let s=await loadSentry();s?.captureException&&s.captureException(e,t)}catch{}}function captureExceptionSync(e,t){if(__TURBOPACK__imported__module__350461__1.default.env.NEXT_PUBLIC_SENTRY_DSN)try{captureException(e,t)}catch{captureException(e,t)}}class AIStudioErrorBoundary extends __TURBOPACK__imported__module__191788__.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("[AI Studio Error Boundary]",e,t),captureException(e,{contexts:{react:{componentStack:t.componentStack}},tags:{component:"AIStudioErrorBoundary"}})}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):(0,__TURBOPACK__imported__module__391398__.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-8 shadow-sm",role:"alert",children:(0,__TURBOPACK__imported__module__391398__.jsxs)("div",{className:"flex items-start gap-4",children:[(0,__TURBOPACK__imported__module__391398__.jsx)("div",{className:"flex-shrink-0",children:(0,__TURBOPACK__imported__module__391398__.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-red-100",children:(0,__TURBOPACK__imported__module__391398__.jsx)(__TURBOPACK__imported__module__675878__.AlertCircle,{className:"h-6 w-6 text-red-600"})})}),(0,__TURBOPACK__imported__module__391398__.jsxs)("div",{className:"flex-1",children:[(0,__TURBOPACK__imported__module__391398__.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Something went wrong"}),(0,__TURBOPACK__imported__module__391398__.jsx)("p",{className:"text-sm text-red-700 mb-4",children:"An error occurred in the AI Studio component. This might be a temporary issue."}),!1,(0,__TURBOPACK__imported__module__391398__.jsxs)("button",{onClick:this.handleReset,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors",type:"button",children:[(0,__TURBOPACK__imported__module__391398__.jsx)(__TURBOPACK__imported__module__398957__.RefreshCw,{className:"h-4 w-4"}),"Try Again"]})]})]})}):this.props.children}}let __TURBOPACK__default__export__=AIStudioErrorBoundary;__turbopack_context__.s(["AIStudioErrorBoundary",()=>AIStudioErrorBoundary,"default",0,__TURBOPACK__default__export__],505597)},74895,85279,844714,e=>{"use strict";e.i(350461);var t=e.i(391398),s=e.i(675878),a=e.i(398957),r=e.i(868462);class i extends Error{code;status;details;constructor(e,t,s,a){super(t),this.code=e,this.status=s,this.details=a,this.name="AIStudioApiError"}}let l={baseUrl:"/api/ai-studio",timeout:3e4,retries:3,retryDelay:1e3};class o{config;constructor(e={}){this.config={...l,...e}}async request(e,t={},s=0){let a=`${this.config.baseUrl}${e}`,r=new AbortController,l=setTimeout(()=>r.abort(),this.config.timeout);try{let o=await fetch(a,{...t,signal:r.signal,headers:{"Content-Type":"application/json",...t.headers}});clearTimeout(l);let n=await o.json();if(!o.ok){let a=n.error||{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};if(o.status>=500&&s<this.config.retries)return await this.delay(this.config.retryDelay*(s+1)),this.request(e,t,s+1);throw new i(a.code,a.message,o.status,a.details)}return n}catch(a){if(clearTimeout(l),a instanceof i)throw a;if(s<this.config.retries)return await this.delay(this.config.retryDelay*(s+1)),this.request(e,t,s+1);throw new i("NETWORK_ERROR",a instanceof Error?a.message:"Network request failed",0)}}delay(e){return new Promise(t=>setTimeout(t,e))}async get(e,t){let s=t?"?"+new URLSearchParams(Object.entries(t).map(([e,t])=>[e,String(t)])):"";return(await this.request(`${e}${s}`,{method:"GET"})).data}async post(e,t){return(await this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})).data}async put(e,t){return(await this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})).data}async delete(e){return(await this.request(e,{method:"DELETE"})).data}async uploadFile(e,t,s){let a=new FormData;a.append("file",t),s&&Object.entries(s).forEach(([e,t])=>{a.append(e,t)});let r=`${this.config.baseUrl}${e}`,l=await fetch(r,{method:"POST",body:a});if(!l.ok){let e=await l.json();throw new i(e.error?.code||"UPLOAD_ERROR",e.error?.message||"File upload failed",l.status,e.error?.details)}return(await l.json()).data}}let n=new o,d={datasets:{list:e=>n.get("/datasets",e),get:e=>n.get(`/datasets/${e}`),create:e=>n.post("/datasets",e),update:(e,t)=>n.put(`/datasets/${e}`,t),delete:e=>n.delete(`/datasets/${e}`),upload:(e,t)=>n.uploadFile("/datasets/upload",e,t)},models:{list:e=>n.get("/models",e),get:e=>n.get(`/models/${e}`),create:e=>n.post("/models",e),update:(e,t)=>n.put(`/models/${e}`,t),delete:e=>n.delete(`/models/${e}`)},jobs:{list:e=>n.get("/jobs",e),get:e=>n.get(`/jobs/${e}`),create:e=>n.post("/models/train",e),cancel:e=>n.post(`/jobs/${e}/cancel`)},agents:{list:e=>n.get("/agents",e),get:e=>n.get(`/agents/${e}`),create:e=>n.post("/agents",e),update:(e,t)=>n.put(`/agents/${e}`,t),delete:e=>n.delete(`/agents/${e}`),run:e=>n.post("/agents/run",e)},compute:{estimate:e=>n.post("/compute/estimate",e)}};e.s(["AIStudioApiError",()=>i,"api",0,d],85279);let c={UNAUTHORIZED:"Please sign in to continue",FORBIDDEN:"You don't have permission to perform this action",VALIDATION_ERROR:"Please check your input and try again",INVALID_FILE_TYPE:"This file type is not supported",FILE_TOO_LARGE:"File size exceeds the maximum limit",NOT_FOUND:"The requested resource was not found",ALREADY_EXISTS:"This resource already exists",INTERNAL_ERROR:"An internal error occurred. Please try again later",SERVICE_UNAVAILABLE:"The service is temporarily unavailable",TIMEOUT:"The request timed out. Please try again",NETWORK_ERROR:"Network connection failed. Please check your internet",UPLOAD_ERROR:"File upload failed. Please try again",TRAINING_FAILED:"Model training failed. Please check your configuration",INSUFFICIENT_CREDITS:"Insufficient credits. Please upgrade your plan",AGENT_ERROR:"Agent execution failed. Please check the configuration",UNKNOWN_ERROR:"An unexpected error occurred"};function u(e){if(e instanceof i)return c[e.code]||e.message||c.UNKNOWN_ERROR;if(e instanceof Error){for(let[t,s]of Object.entries(c))if(e.message.toLowerCase().includes(t.toLowerCase()))return s;return e.message}return c.UNKNOWN_ERROR}function m(e){return e instanceof i?e.status>=500?"error":e.status>=400?"warning":"info":"error"}function h(e){return e instanceof i&&(e.status>=500||"NETWORK_ERROR"===e.code||"TIMEOUT"===e.code)}function p(e){let t=u(e),s=m(e),a=h(e);return e instanceof i?{message:t,severity:s,code:e.code,retryable:a,details:e.details}:{message:t,severity:s,retryable:a}}function f({error:e,onRetry:i,onDismiss:l,className:o=""}){let n=p(e),d=()=>{switch(n.severity){case"error":return"border-red-200 bg-red-50 text-red-900";case"warning":return"border-amber-200 bg-amber-50 text-amber-900";default:return"border-blue-200 bg-blue-50 text-blue-900"}};return(0,t.jsx)("div",{className:`rounded-2xl border p-4 ${d()} ${o}`,role:"alert",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(s.AlertCircle,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:n.message}),n.code&&(0,t.jsxs)("p",{className:"text-xs mt-1 opacity-75",children:["Error code: ",n.code]}),n.details&&!1]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.retryable&&i&&(0,t.jsx)("button",{onClick:i,className:"p-1.5 rounded-lg hover:bg-white/50 transition-colors",title:"Retry","aria-label":"Retry operation",children:(0,t.jsx)(a.RefreshCw,{className:"w-4 h-4"})}),l&&(0,t.jsx)("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-white/50 transition-colors",title:"Dismiss","aria-label":"Dismiss error",children:(0,t.jsx)(r.X,{className:"w-4 h-4"})})]})]})})}e.s(["default",()=>f],74895);var x=e.i(191788);function g(){let[e,t]=(0,x.useState)(null),s=(0,x.useCallback)(e=>{let s=p(e);return t(s),s},[]),a=(0,x.useCallback)(()=>{t(null)},[]),r=(0,x.useCallback)(async(e,t=3)=>{let a=null;for(let r=0;r<t;r++)try{return await e()}catch(e){if(a=e,!p(e).retryable)throw s(e),e;r<t-1&&await new Promise(e=>setTimeout(e,1e3*(r+1)))}throw s(a),a},[s]);return{error:e,handleError:s,clearError:a,retry:r}}e.s(["useApiError",()=>g],844714)},531805,e=>{"use strict";var t=e.i(391398),s=e.i(191788),a=e.i(168489),r=e.i(505597),i=t,l=s,o=e.i(759279),n=e.i(430788),d=e.i(391756),c=e.i(322138),u=e.i(509146),m=e.i(212454);function h({onUploadComplete:e,onError:t,maxSize:s=0x6400000,allowedTypes:a=[".csv",".json",".jsonl",".parquet"]}){let[r,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)(0),[x,g]=(0,l.useState)(null),[y,b]=(0,l.useState)(!1),j=(0,l.useCallback)(async r=>{let i=r.target.files?.[0];if(!i)return;g(null),b(!1);let l=(0,u.sanitizeFileName)(i.name),o=l!==i.name?new File([i],l,{type:i.type}):i;if(o.size>s){let e=`File size exceeds maximum of ${s/1048576}MB`;g(e),t&&t(Error(e)),m.auditLogger.log(m.AuditActions.ERROR_OCCURRED,"ai-studio",{error:"file_too_large",fileName:l,fileSize:o.size,maxSize:s});return}let n="."+o.name.split(".").pop()?.toLowerCase(),d=(0,u.validateFileType)(o,[],a);if(!d.valid){let e=d.error||`File type ${n} not allowed. Allowed types: ${a.join(", ")}`;g(e),t&&t(Error(e)),m.auditLogger.log(m.AuditActions.ERROR_OCCURRED,"ai-studio",{error:"invalid_file_type",fileName:l,fileType:o.type,extension:n});return}if([".exe",".bat",".cmd",".com",".pif",".scr",".vbs",".js",".jar"].includes(n)){let e="This file type is not allowed for security reasons.";g(e),t&&t(Error(e)),m.auditLogger.log(m.AuditActions.ERROR_OCCURRED,"ai-studio",{error:"dangerous_file_type",fileName:l,extension:n});return}h(!0),f(0);try{m.auditLogger.log(m.AuditActions.FILE_UPLOADED,"ai-studio",{fileName:l,fileSize:o.size,fileType:o.type,extension:n});let t=new FormData;t.append("file",o);let s=setInterval(()=>{f(e=>Math.min(e+10,90))},200),a=await fetch("/api/ai-studio/datasets/upload",{method:"POST",body:t});if(clearInterval(s),f(100),!a.ok){let e=await a.json();throw Error(e.error?.message||"Upload failed")}let i=await a.json();b(!0),e&&e(i.data),setTimeout(()=>{b(!1),f(0),r.target&&(r.target.value="")},2e3)}catch(s){let e=s instanceof Error?s:Error("Upload failed");g(e.message),t&&t(e)}finally{h(!1)}},[s,a,e,t]);return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"file",id:"dataset-upload",onChange:j,disabled:r,accept:a.join(","),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed"}),(0,i.jsx)("label",{htmlFor:"dataset-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-2xl transition-all ${r?"border-primary-500 bg-primary-50":y?"border-green-500 bg-green-50":x?"border-red-500 bg-red-50":"border-slate-300 bg-slate-50 hover:border-slate-400 hover:bg-slate-100"} ${r?"cursor-wait":"cursor-pointer"}`,children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Loader2,{className:"w-8 h-8 text-primary-600 animate-spin mb-2"}),(0,i.jsx)("span",{className:"text-sm font-medium text-primary-900",children:"Uploading..."}),(0,i.jsxs)("span",{className:"text-xs text-primary-700 mt-1",children:[p,"%"]})]}):y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.CheckCircle,{className:"w-8 h-8 text-green-600 mb-2"}),(0,i.jsx)("span",{className:"text-sm font-medium text-green-900",children:"Upload successful!"})]}):x?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.XCircle,{className:"w-8 h-8 text-red-600 mb-2"}),(0,i.jsx)("span",{className:"text-sm font-medium text-red-900",children:x})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Upload,{className:"w-8 h-8 text-slate-400 mb-2"}),(0,i.jsx)("span",{className:"text-sm font-medium text-slate-900",children:"Click to upload dataset"}),(0,i.jsxs)("span",{className:"text-xs text-slate-600 mt-1",children:["Max ",s/1048576,"MB • ",a.join(", ")]})]})})]}),r&&(0,i.jsx)("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${p}%`}})})]})}var p=t,f=s,x=s;function g({limit:e=50,offset:t=0,status:s,autoFetch:a=!0,onError:r}={}){let[i,l]=(0,x.useState)([]),[o,n]=(0,x.useState)(!1),[d,c]=(0,x.useState)(null),[u,m]=(0,x.useState)(0),h=(0,x.useCallback)(async()=>{try{n(!0),c(null);let a=new URLSearchParams({limit:e.toString(),offset:t.toString()});s&&a.append("status",s);let r=await fetch(`/api/ai-studio/datasets?${a}`);if(!r.ok)throw Error("Failed to fetch datasets");let i=await r.json();l(i.data.datasets),m(i.data.pagination.total)}catch(t){let e=t instanceof Error?t:Error("Unknown error");c(e),r&&r(e)}finally{n(!1)}},[e,t,s,r]);return(0,x.useEffect)(()=>{a&&h()},[a,h]),{datasets:i,isLoading:o,error:d,total:u,refetch:h,create:(0,x.useCallback)(async e=>{try{n(!0),c(null);let t=await fetch("/api/ai-studio/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create dataset");let s=await t.json();return l(e=>[s.data.dataset,...e]),s.data.dataset}catch(t){let e=t instanceof Error?t:Error("Unknown error");throw c(e),r&&r(e),e}finally{n(!1)}},[r])}}var y=e.i(649249),b=e.i(457541),j=e.i(533538),N=e.i(869494),N=N,w=c,E=e.i(41158);function v({onSelectDataset:e}){let[t,s]=(0,f.useState)(""),[a,r]=(0,f.useState)(""),{datasets:i,isLoading:l,error:o,refetch:n}=g({status:t||void 0,autoFetch:!0}),d=i.filter(e=>!a||e.name.toLowerCase().includes(a.toLowerCase())),c=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},u=e=>{switch(e){case"verified":return"bg-green-100 text-green-800 border-green-200";case"processing":return"bg-amber-100 text-amber-800 border-amber-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}};return o?(0,p.jsxs)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6",children:[(0,p.jsx)("p",{className:"text-sm font-semibold text-red-900",children:"Error loading datasets"}),(0,p.jsx)("p",{className:"text-sm text-red-700 mt-1",children:o.message}),(0,p.jsx)("button",{onClick:()=>n(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-semibold",children:"Retry"})]}):(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,p.jsxs)("div",{className:"flex-1 relative",children:[(0,p.jsx)(j.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,p.jsx)("input",{type:"text",placeholder:"Search datasets...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(b.Filter,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,p.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"pl-10 pr-8 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none bg-white",children:[(0,p.jsx)("option",{value:"",children:"All Status"}),(0,p.jsx)("option",{value:"verified",children:"Verified"}),(0,p.jsx)("option",{value:"processing",children:"Processing"}),(0,p.jsx)("option",{value:"uploaded",children:"Uploaded"}),(0,p.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),l?(0,p.jsxs)("div",{className:"text-center py-12",children:[(0,p.jsx)(w.Loader2,{className:"w-8 h-8 animate-spin text-slate-400 mx-auto"}),(0,p.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"Loading datasets..."})]}):0===d.length?(0,p.jsxs)("div",{className:"text-center py-12 rounded-2xl border border-slate-200 bg-slate-50",children:[(0,p.jsx)(y.Database,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,p.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"No datasets found"}),(0,p.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:a||t?"Try adjusting your filters":"Upload your first dataset to get started"})]}):(0,p.jsx)("div",{className:"space-y-3",children:d.map(t=>(0,p.jsx)("div",{className:"p-4 bg-white border border-slate-200 rounded-lg hover:border-slate-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>e?.(t.id),children:(0,p.jsxs)("div",{className:"flex items-start justify-between",children:[(0,p.jsxs)("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[(0,p.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg flex-shrink-0",children:(0,p.jsx)(y.Database,{className:"w-5 h-5 text-primary-600"})}),(0,p.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,p.jsx)("h3",{className:"font-semibold text-slate-900 truncate",children:t.name}),(0,p.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-600",children:[(0,p.jsx)("span",{className:"capitalize",children:t.type}),(0,p.jsx)("span",{className:"text-slate-300",children:"•"}),(0,p.jsx)("span",{children:c(t.size)}),(0,p.jsx)("span",{className:"text-slate-300",children:"•"}),(0,p.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${u(t.status)}`,children:t.status})]})]})]}),(0,p.jsx)(E.default,{href:`/ai-studio/datasets/${t.id}`,onClick:e=>e.stopPropagation(),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:(0,p.jsx)(N.default,{className:"w-5 h-5"})})]})},t.id))})]})}var R=e.i(74895),_=e.i(162889),S=e.i(844714),T=s;function k({datasetId:e,autoFetch:t=!0,onError:s}){let[a,r]=(0,T.useState)(null),[i,l]=(0,T.useState)(!1),[o,n]=(0,T.useState)(null),d=(0,T.useCallback)(async()=>{if(e)try{l(!0),n(null);let t=await fetch(`/api/ai-studio/datasets/${e}`);if(!t.ok)throw Error("Failed to fetch dataset");let s=await t.json();r(s.data.dataset)}catch(t){let e=t instanceof Error?t:Error("Unknown error");n(e),s&&s(e)}finally{l(!1)}},[e,s]);return(0,T.useEffect)(()=>{t&&e&&d()},[e,t,d]),{dataset:a,isLoading:i,error:o,refetch:d,update:(0,T.useCallback)(async t=>{if(e)try{l(!0),n(null);let s=await fetch(`/api/ai-studio/datasets/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update dataset");let a=await s.json();r(a.data.dataset)}catch(t){let e=t instanceof Error?t:Error("Unknown error");n(e),s&&s(e)}finally{l(!1)}},[e,s]),delete:(0,T.useCallback)(async()=>{if(e)try{if(l(!0),n(null),!(await fetch(`/api/ai-studio/datasets/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete dataset");r(null)}catch(t){let e=t instanceof Error?t:Error("Unknown error");n(e),s&&s(e)}finally{l(!1)}},[e,s])}}var C=y,O=o;let A=(0,a.default)(()=>e.A(120889).then(e=>({default:e.default})),{loadableGenerated:{modules:[488007]},ssr:!1,loading:()=>(0,t.jsx)(_.default,{message:"Loading dataset explorer..."})});function D(){let{error:e,handleError:a,clearError:i}=(0,S.useApiError)(),[l,o]=(0,s.useState)(null),[n,d]=(0,s.useState)(!1),{dataset:c}=k({datasetId:l,autoFetch:!!l,onError:a}),u=e=>{console.log("Dataset uploaded:",e),d(!1)},m=e=>{o(e)};return(0,t.jsx)(r.AIStudioErrorBoundary,{children:(0,t.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[(0,t.jsx)(C.Database,{className:"w-8 h-8 text-primary-600"}),"Datasets"]}),(0,t.jsx)("p",{className:"text-slate-600 mt-2",children:"Manage your training datasets. Upload, validate, and prepare data for AI model training."})]}),(0,t.jsxs)("button",{onClick:()=>d(!n),className:"button primary flex items-center gap-2",children:[(0,t.jsx)(O.Upload,{className:"w-4 h-4"}),"Upload Dataset"]})]})}),e&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(R.default,{error:e,onDismiss:i})}),n&&(0,t.jsxs)("div",{className:"mb-8 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Upload New Dataset"}),(0,t.jsx)(h,{onUploadComplete:u,onError:a})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Your Datasets"}),(0,t.jsx)(v,{onSelectDataset:m})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:l?(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm sticky top-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Dataset Details"}),c?(0,t.jsx)(A,{dataset:c,onSelect:m}):(0,t.jsx)(_.default,{message:"Loading dataset..."})]}):(0,t.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:(0,t.jsx)("p",{className:"text-sm text-slate-600 text-center py-8",children:"Select a dataset to view details"})})})]})]})})})}e.s(["default",()=>D],531805)},963234,(e,t,s)=>{let a="/ai-studio/datasets";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(531805)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},648761,e=>{e.v(t=>Promise.all(["static/chunks/80c5fa914da25f08.js"].map(t=>e.l(t))).then(()=>t(493594)))},828805,e=>{e.v(t=>Promise.all(["static/chunks/9598a04aeb8d39c4.js"].map(t=>e.l(t))).then(()=>t(879466)))},120889,e=>{e.v(t=>Promise.all(["static/chunks/bc11b9c37376e23a.js"].map(t=>e.l(t))).then(()=>t(488007)))}]);

//# debugId=fefbd73d-e8e6-c34e-1ef7-7ebb87df14ca
//# sourceMappingURL=d6892c972fa848cf.js.map