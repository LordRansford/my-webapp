;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f8fb2110-a26b-8515-dcfd-28b20038df60")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,269638,e=>{"use strict";let s=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],269638)},25652,e=>{"use strict";let s=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},531278,e=>{"use strict";let s=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],531278)},239616,e=>{"use strict";let s=(0,e.i(475254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>s],239616)},245423,e=>{"use strict";let s=(0,e.i(475254).default)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>s],245423)},356909,e=>{"use strict";let s=(0,e.i(475254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],356909)},520661,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(217255),l=e.i(618566),i=e.i(239616),r=e.i(245423),n=e.i(25652),c=e.i(356909),d=e.i(531278),o=e.i(63209),m=e.i(269638),x=e.i(522016);function h(){let{data:e,status:h}=(0,a.useSession)(),u=(0,l.useRouter)(),[p,f]=(0,t.useState)(!0),[y,g]=(0,t.useState)(!1),[b,j]=(0,t.useState)(null),[N,v]=(0,t.useState)(!1),[k,C]=(0,t.useState)(null),[w,S]=(0,t.useState)({maxDailyCredits:null,maxMonthlyCredits:null,perRunMaxCredits:null,alertThresholds:{daily:[50,80,100],monthly:[50,80,100]},notifications:{email:!0,inApp:!0}});async function T(){try{f(!0),j(null);let e=await fetch("/api/account/settings/credits");if(!e.ok)throw Error("Failed to load settings");let s=await e.json();S(s.controls||w),C(s.planLimits)}catch(e){j(e instanceof Error?e.message:"Failed to load settings")}finally{f(!1)}}async function M(){g(!0),j(null),v(!1);try{let e=await fetch("/api/account/settings/credits",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({controls:w})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to save settings")}v(!0),setTimeout(()=>v(!1),3e3)}catch(e){j(e instanceof Error?e.message:"Failed to save settings")}finally{g(!1)}}return((0,t.useEffect)(()=>{"unauthenticated"===h?u.push("/api/auth/signin?callbackUrl=/account/settings/credits"):"authenticated"===h&&T()},[h,u]),"loading"===h||p)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d.Loader2,{className:"w-8 h-8 animate-spin text-sky-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Loading settings..."})]})}):"unauthenticated"===h?null:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50",children:(0,s.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-8 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(i.Settings,{className:"w-8 h-8 text-sky-600"}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-slate-900",children:"Credit Settings"})]}),(0,s.jsx)("p",{className:"text-lg text-slate-600",children:"Configure spend limits, alerts, and notification preferences"})]}),N&&(0,s.jsx)("div",{className:"mb-6 rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(m.CheckCircle,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-emerald-800",children:"Settings saved successfully!"})]})}),b&&(0,s.jsx)("div",{className:"mb-6 rounded-lg border border-amber-200 bg-amber-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(o.AlertCircle,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold text-amber-900",children:"Error"}),(0,s.jsx)("p",{className:"text-sm text-amber-800 mt-1",children:b})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(n.TrendingUp,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Spend Limits"})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Set custom limits to control your credit spending. Leave empty to use your plan defaults."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Daily Credit Limit"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"number",min:"0",value:w.maxDailyCredits??"",onChange:e=>S({...w,maxDailyCredits:""===e.target.value?null:parseInt(e.target.value,10)}),placeholder:k?.maxDailyCredits.toString()||"Plan default",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"credits/day"})]}),k&&(0,s.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Plan default: ",k.maxDailyCredits.toLocaleString()," credits/day"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Monthly Credit Limit"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"number",min:"0",value:w.maxMonthlyCredits??"",onChange:e=>S({...w,maxMonthlyCredits:""===e.target.value?null:parseInt(e.target.value,10)}),placeholder:k?.maxMonthlyCredits.toString()||"Plan default",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"credits/month"})]}),k&&(0,s.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Plan default: ",k.maxMonthlyCredits.toLocaleString()," credits/month"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Per-Run Maximum"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"number",min:"0",value:w.perRunMaxCredits??"",onChange:e=>S({...w,perRunMaxCredits:""===e.target.value?null:parseInt(e.target.value,10)}),placeholder:"No limit",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"credits/run"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Maximum credits allowed per single tool run (optional)"})]})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(r.Bell,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Alert Thresholds"})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Get notified when you reach certain percentages of your limits."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Daily Limit Alerts (%)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[25,50,75,90,100].map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.alertThresholds.daily.includes(e),onChange:s=>{s.target.checked?S({...w,alertThresholds:{...w.alertThresholds,daily:[...w.alertThresholds.daily,e].sort((e,s)=>e-s)}}):S({...w,alertThresholds:{...w.alertThresholds,daily:w.alertThresholds.daily.filter(s=>s!==e)}})},className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,s.jsxs)("span",{className:"text-sm text-slate-700",children:[e,"%"]})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Monthly Limit Alerts (%)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[25,50,75,90,100].map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.alertThresholds.monthly.includes(e),onChange:s=>{s.target.checked?S({...w,alertThresholds:{...w.alertThresholds,monthly:[...w.alertThresholds.monthly,e].sort((e,s)=>e-s)}}):S({...w,alertThresholds:{...w.alertThresholds,monthly:w.alertThresholds.monthly.filter(s=>s!==e)}})},className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,s.jsxs)("span",{className:"text-sm text-slate-700",children:[e,"%"]})]},e))})]})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(r.Bell,{className:"w-5 h-5 text-sky-600"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Notifications"})]}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Choose how you want to receive alerts about your credit usage."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.notifications.email,onChange:e=>S({...w,notifications:{...w.notifications,email:e.target.checked}}),className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Email Notifications"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Receive alerts via email"})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:w.notifications.inApp,onChange:e=>S({...w,notifications:{...w.notifications,inApp:e.target.checked}}),className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"In-App Notifications"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Show alerts in the application"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,s.jsx)(x.default,{href:"/account/credits",className:"text-sm text-slate-600 hover:text-slate-900 font-medium",children:"â† Back to Credits"}),(0,s.jsx)("button",{onClick:M,disabled:y,className:"flex items-center gap-2 px-6 py-3 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Save,{className:"w-4 h-4"}),"Save Settings"]})})]})]})]})})}e.s(["default",()=>h])}]);

//# debugId=f8fb2110-a26b-8515-dcfd-28b20038df60
//# sourceMappingURL=436221efce42821f.js.map