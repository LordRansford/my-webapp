;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ca884fa8-0b4c-2b69-8823-3bd6fe286aa4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,802494,e=>{"use strict";var t=e.i(843476),s=e.i(271645),l=e.i(522016);function a({title:e,children:s}){return(0,t.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white/90 p-5 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:e}),(0,t.jsx)("div",{className:"mt-3",children:s})]})}function i(){let[e,i]=(0,s.useState)(null),[r,c]=(0,s.useState)("Loadingâ€¦");(0,s.useEffect)(()=>{let e=!1;return async function(){try{let t=await fetch("/api/admin/architecture-diagrams/metrics",{method:"GET"});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e?.error||"Could not load metrics.")}let s=await t.json();e||(i(s),c(""))}catch(t){e||c("Could not load metrics.")}}(),()=>{e=!0}},[]);let n=(0,s.useMemo)(()=>e?.variants&&[...e.variants].sort((e,t)=>(t.count||0)-(e.count||0))[0]||null,[e]);return(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-12 md:px-6 lg:px-8 space-y-6",children:[(0,t.jsxs)("header",{className:"space-y-2 rounded-3xl bg-gradient-to-br from-slate-50 via-emerald-50/40 to-slate-50 p-8 shadow-sm ring-1 ring-slate-100",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Admin"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Architecture Diagram Studio"}),(0,t.jsx)("p",{className:"text-sm text-slate-700",children:"Aggregated metrics only. No user content is collected or displayed here."}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(l.default,{href:"/admin/feedback",className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Admin home"})})]}),r?(0,t.jsx)("div",{className:"rounded-3xl border border-slate-200 bg-white/90 p-6 text-sm text-slate-700 shadow-sm",children:r}):null,e?(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[(0,t.jsx)(a,{title:"Generations",children:(0,t.jsx)("p",{className:"text-3xl font-semibold text-slate-900",children:e.generations??0})}),(0,t.jsxs)(a,{title:"Most selected variant",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:n?n.id:e.mostSelectedVariant||"minimal"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:n?`${n.count} selections`:""})]}),(0,t.jsx)(a,{title:"Exports",children:(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-slate-700",children:[(0,t.jsxs)("li",{children:["SVG: ",e.exports?.svg??0]}),(0,t.jsxs)("li",{children:["PNG: ",e.exports?.png??0]}),(0,t.jsxs)("li",{children:["PDF requested: ",e.exports?.pdfRequested??0]})]})}),(0,t.jsxs)(a,{title:"PDF health",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-700",children:["Success rate: ",(0,t.jsxs)("span",{className:"font-semibold text-slate-900",children:[Math.round(100*(e.pdf?.successRate||0)),"%"]})]}),(0,t.jsx)("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Common failures"}),(e.pdf?.commonFailures||[]).length?(0,t.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:e.pdf.commonFailures.map(e=>(0,t.jsxs)("li",{children:[e.reason,": ",e.count]},e.reason))}):(0,t.jsx)("p",{className:"mt-2 text-sm text-slate-700",children:"No failures recorded."})]}),(0,t.jsxs)(a,{title:"Performance",children:[(0,t.jsx)("p",{className:"text-sm text-slate-700",children:"Duration buckets (ms)"}),(0,t.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:(e.performance?.durationBuckets||[]).map(e=>(0,t.jsxs)("li",{children:[e.bucket,": ",e.count]},e.bucket))})]}),(0,t.jsx)(a,{title:"Common failures",children:(0,t.jsx)("p",{className:"text-sm text-slate-700",children:"This view is aggregated and intentionally minimal."})})]}):null]})}e.s(["default",()=>i])}]);

//# debugId=ca884fa8-0b4c-2b69-8823-3bd6fe286aa4
//# sourceMappingURL=b66ded9edb46dcde.js.map