{
  "version": 3,
  "sources": [],
  "debugId": "36d14235-6e86-24e8-ba59-f8550d0f5534",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/notes/tools/network-models/foundations/SubnettingLab.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nfunction parseIpv4(input: string): number | null {\n  const parts = input.trim().split(\".\");\n  if (parts.length !== 4) return null;\n  const nums = parts.map((p) => Number(p));\n  if (nums.some((n) => !Number.isInteger(n) || n < 0 || n > 255)) return null;\n  return ((nums[0] << 24) >>> 0) + (nums[1] << 16) + (nums[2] << 8) + nums[3];\n}\n\nfunction ipv4ToString(n: number): string {\n  const a = (n >>> 24) & 255;\n  const b = (n >>> 16) & 255;\n  const c = (n >>> 8) & 255;\n  const d = n & 255;\n  return `${a}.${b}.${c}.${d}`;\n}\n\nfunction prefixToMask(prefix: number): number {\n  if (prefix <= 0) return 0;\n  if (prefix >= 32) return 0xffffffff >>> 0;\n  return ((0xffffffff << (32 - prefix)) >>> 0) >>> 0;\n}\n\nfunction clampPrefix(n: number): number {\n  if (!Number.isFinite(n)) return 24;\n  return Math.max(0, Math.min(32, Math.floor(n)));\n}\n\nexport default function SubnettingLab() {\n  const [ip, setIp] = useState(\"192.168.10.42\");\n  const [prefixRaw, setPrefixRaw] = useState(\"24\");\n\n  const prefix = useMemo(() => clampPrefix(Number(prefixRaw)), [prefixRaw]);\n\n  const result = useMemo(() => {\n    const ipNum = parseIpv4(ip);\n    if (ipNum == null) return { ok: false as const, error: \"Enter a valid IPv4 address.\" };\n\n    const mask = prefixToMask(prefix);\n    const network = (ipNum & mask) >>> 0;\n    const broadcast = (network | (~mask >>> 0)) >>> 0;\n\n    const hostBits = 32 - prefix;\n    const totalAddresses = hostBits >= 32 ? 2 ** 32 : 2 ** hostBits;\n\n    const isHostSubnet = prefix <= 30;\n    const firstHost = isHostSubnet ? (network + 1) >>> 0 : network;\n    const lastHost = isHostSubnet ? (broadcast - 1) >>> 0 : broadcast;\n    const usableHosts = prefix >= 31 ? (prefix === 31 ? 2 : 1) : Math.max(0, totalAddresses - 2);\n\n    return {\n      ok: true as const,\n      ip: ipv4ToString(ipNum),\n      prefix,\n      mask: ipv4ToString(mask),\n      network: ipv4ToString(network),\n      broadcast: ipv4ToString(broadcast),\n      firstHost: ipv4ToString(firstHost),\n      lastHost: ipv4ToString(lastHost),\n      totalAddresses,\n      usableHosts,\n      notes:\n        prefix === 31\n          ? \"A /31 is commonly used on point to point links. There is no network and broadcast split in the usual sense.\"\n          : prefix === 32\n            ? \"A /32 is a single host route.\"\n            : null,\n    };\n  }, [ip, prefix]);\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60\">\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-end\">\n        <div className=\"flex-1\">\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">IPv4 address</label>\n          <input\n            value={ip}\n            onChange={(e) => setIp(e.target.value)}\n            inputMode=\"numeric\"\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n            placeholder=\"192.168.10.42\"\n            aria-label=\"IPv4 address\"\n          />\n        </div>\n        <div className=\"w-full sm:w-40\">\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">CIDR prefix</label>\n          <input\n            value={prefixRaw}\n            onChange={(e) => setPrefixRaw(e.target.value)}\n            inputMode=\"numeric\"\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n            placeholder=\"24\"\n            aria-label=\"CIDR prefix length\"\n          />\n          <div className=\"mt-1 text-xs text-slate-600 dark:text-slate-300\">Parsed as /{prefix}</div>\n        </div>\n      </div>\n\n      <div className=\"mt-4\">\n        {!result.ok ? (\n          <div className=\"rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800 dark:border-rose-900/40 dark:bg-rose-950/30 dark:text-rose-200\">\n            {result.error}\n          </div>\n        ) : (\n          <div className=\"grid gap-3 sm:grid-cols-2\">\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Network</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">\n                {result.network}/{result.prefix}\n              </div>\n            </div>\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Netmask</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">{result.mask}</div>\n            </div>\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Broadcast</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">{result.broadcast}</div>\n            </div>\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Usable hosts</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">{result.usableHosts}</div>\n            </div>\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">First host</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">{result.firstHost}</div>\n            </div>\n            <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Last host</div>\n              <div className=\"mt-1 font-mono text-sm text-slate-900 dark:text-slate-100\">{result.lastHost}</div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"mt-4 text-sm text-slate-700 dark:text-slate-200\">\n        <p className=\"m-0\">\n          A subnet is a range. Routing decisions use the prefix length. Local delivery uses ARP or NDP inside the local\n          link.\n        </p>\n        {result.ok && result.notes ? <p className=\"mt-2 m-0 text-slate-600 dark:text-slate-300\">{result.notes}</p> : null}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QAUA,SAAS,EAAa,CAAS,EAK7B,MAAO,CAAA,EAAG,AAJC,IAAM,GAAM,IAIX,CAAC,EAHF,AAGI,IAHE,GAAM,IAGN,CAAC,EAAE,AAFT,IAAM,EAAK,IAEA,CAAC,EAAE,AADf,AAAI,MACW,CAAG,AAC9B,CAae,SAAS,IACtB,GAAM,CAAC,EAAI,EAAM,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,iBACvB,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAErC,EAAS,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,KATV,CAAS,QAC5B,AAAK,IAAD,GAAQ,QAAQ,CAAC,EAQoB,EARhB,KAQuB,IAPzC,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,GAAI,KAAK,KAAK,CAAC,KADX,IAQ6B,CAAC,EAAU,EAElE,EAAS,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACrB,IAAM,EAAQ,AAlClB,SAAS,AAAU,CAAa,EAC9B,IAAM,EAAQ,EAAM,IAAI,GAAG,KAAK,CAAC,KACjC,GAAqB,IAAjB,EAAM,MAAM,CAAQ,OAAO,KAC/B,IAAM,EAAO,EAAM,GAAG,CAAC,AAAC,GAAM,OAAO,WACrC,AAAI,EAAK,IAAI,CAAE,AAAD,GAAO,CAAC,OAAO,SAAS,CAAC,IAAM,EAAI,GAAK,EAAI,KAAa,CAAP,IACzD,CAAE,CAAI,CAAC,EAAE,EAAI,MAAQ,CAAC,EAAK,CAAI,CAAL,AAAM,EAAE,EAAI,EAAA,CAAE,EAAK,CAAI,CAAL,AAAM,EAAE,GAAI,CAAC,CAAI,CAAI,CAAC,EAAE,AAC7E,EA4B4B,GACxB,GAAa,MAAT,EAAe,MAAO,CAAE,IAAI,EAAgB,MAAO,6BAA8B,EAErF,IAAM,EApBR,AAAI,GAAU,EAAU,AAoBT,CApBE,CACb,GAAU,GAAW,CAAP,UACT,IAD+B,QAChB,GAkBI,EAlBC,EAAa,IAAO,EAmBzC,EAAU,CAAC,EAAQ,CAAA,CAAI,GAAM,EAC7B,EAAY,AAAC,GAAW,CAAC,KAAS,CAAE,GAAM,EAE1C,EAAW,GAAK,EAChB,EAAiB,GAAY,GAAK,KAAK,OAAK,GAAK,EAEjD,EAAe,GAAU,GACzB,EAAY,EAAgB,EAAU,IAAO,EAAI,EACjD,EAAW,EAAgB,EAAY,IAAO,EAAI,EAClD,EAAc,GAAU,GAAiB,KAAX,EAAgB,EAAI,EAAK,KAAK,GAAG,CAAC,EAAG,EAAiB,GAE1F,MAAO,CACL,IAAI,EACJ,GAAI,EAAa,GACjB,SACA,KAAM,EAAa,GACnB,QAAS,EAAa,GACtB,UAAW,EAAa,GACxB,UAAW,EAAa,GACxB,SAAU,EAAa,kBACvB,cACA,EACA,MACa,KAAX,EACI,8GACW,KAAX,EACE,gCACA,IACV,CACF,EAAG,CAAC,EAAI,EAAO,EAEf,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,oEAA2D,iBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAM,EAAE,MAAM,CAAC,KAAK,EACrC,UAAU,UACV,UAAU,mMACV,YAAY,gBACZ,aAAW,oBAGf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,oEAA2D,gBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,UAAU,UACV,UAAU,mMACV,YAAY,KACZ,aAAW,uBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DAAkD,cAAY,WAIjF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACZ,AAAC,EAAO,EAAE,CAKT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,YAClG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACZ,EAAO,OAAO,CAAC,IAAE,EAAO,MAAM,OAGnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,YAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAO,IAAI,MAEzF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,cAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAO,SAAS,MAE9F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,iBAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAO,WAAW,MAEhG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,eAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAO,SAAS,MAE9F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAmF,cAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAO,QAAQ,SA7B/F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iJACZ,EAAO,KAAK,KAkCnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,eAAM,wHAIlB,EAAO,EAAE,EAAI,EAAO,KAAK,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAO,KAAK,GAAQ,UAIrH"}}]
}