;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3214c426-03cf-fa6d-9686-c1496393d51a")}catch(e){}}();
module.exports=[379996,112882,a=>{"use strict";a.s(["default",0,function(a){return function(){return a}}],379996);let b=Math.PI,c=2*b,d=c-1e-6;function e(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class f{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?e:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return e;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,c,d,e,f){if(a*=1,c*=1,d*=1,e*=1,(f*=1)<0)throw Error(`negative radius: ${f}`);let g=this._x1,h=this._y1,i=d-a,j=e-c,k=g-a,l=h-c,m=k*k+l*l;if(null===this._x1)this._append`M${this._x1=a},${this._y1=c}`;else if(m>1e-6)if(Math.abs(l*i-j*k)>1e-6&&f){let n=d-g,o=e-h,p=i*i+j*j,q=Math.sqrt(p),r=Math.sqrt(m),s=f*Math.tan((b-Math.acos((p+m-(n*n+o*o))/(2*q*r)))/2),t=s/r,u=s/q;Math.abs(t-1)>1e-6&&this._append`L${a+t*k},${c+t*l}`,this._append`A${f},${f},0,0,${+(l*n>k*o)},${this._x1=a+u*i},${this._y1=c+u*j}`}else this._append`L${this._x1=a},${this._y1=c}`}arc(a,e,f,g,h,i){if(a*=1,e*=1,f*=1,i=!!i,f<0)throw Error(`negative radius: ${f}`);let j=f*Math.cos(g),k=f*Math.sin(g),l=a+j,m=e+k,n=1^i,o=i?g-h:h-g;null===this._x1?this._append`M${l},${m}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-m)>1e-6)&&this._append`L${l},${m}`,f&&(o<0&&(o=o%c+c),o>d?this._append`A${f},${f},0,1,${n},${a-j},${e-k}A${f},${f},0,1,${n},${this._x1=l},${this._y1=m}`:o>1e-6&&this._append`A${f},${f},0,${+(o>=b)},${n},${this._x1=a+f*Math.cos(h)},${this._y1=e+f*Math.sin(h)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function g(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new f(b)}f.prototype,a.s(["withPath",()=>g],112882)},884885,a=>{"use strict";Array.prototype.slice,a.s(["default",0,function(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}])},398153,a=>{"use strict";var b=a.i(884885),c=a.i(379996),d=a.i(632794),e=a.i(112882);function f(a){return a[0]}function g(a){return a[1]}a.s(["line",0,function(a,h){var i=(0,c.default)(!0),j=null,k=d.default,l=null,m=(0,e.withPath)(n);function n(c){var d,e,f,g=(c=(0,b.default)(c)).length,n=!1;for(null==j&&(l=k(f=m())),d=0;d<=g;++d)!(d<g&&i(e=c[d],d,c))===n&&((n=!n)?l.lineStart():l.lineEnd()),n&&l.point(+a(e,d,c),+h(e,d,c));if(f)return l=null,f+""||null}return a="function"==typeof a?a:void 0===a?f:(0,c.default)(a),h="function"==typeof h?h:void 0===h?g:(0,c.default)(h),n.x=function(b){return arguments.length?(a="function"==typeof b?b:(0,c.default)(+b),n):a},n.y=function(a){return arguments.length?(h="function"==typeof a?a:(0,c.default)(+a),n):h},n.defined=function(a){return arguments.length?(i="function"==typeof a?a:(0,c.default)(!!a),n):i},n.curve=function(a){return arguments.length?(k=a,null!=j&&(l=k(j)),n):k},n.context=function(a){return arguments.length?(null==a?j=l=null:l=k(j=a),n):j},n}],398153)},133337,a=>{"use strict";var b=a.i(2085);a.s(["default",0,function(a){return(0,b.default)(a,4)}])},337369,a=>{"use strict";var b=a.i(123829);a.i(797774);var c=a.i(661256);a.i(975930);var d=a.i(671731),e=a.i(407860),f=a.i(336515);a.i(554757),a.i(951772),a.i(670773),a.i(737132),a.i(858762),a.i(230038);let g="rect",h="rectWithTitle",i="statediagram",j=`${i}-state`,k="transition",l=`${k} note-edge`,m=`${i}-note`,n=`${i}-cluster`,o=`${i}-cluster-alt`,p="parent",q="note",r="----",s=`${r}${q}`,t=`${r}${p}`,u="fill:none",v="fill: #333",w="text",x="normal",y={},z=0;function A(a="",b=0,c="",d=r){let e=null!==c&&c.length>0?`${d}${c}`:"";return`state-${a}${e}-${b}`}let B=(a,c,d,f,i,k)=>{var r;let B=d.id,E=null==(r=f[B])?"":r.classes?r.classes.join(" "):"";if("root"!==B){let c=g;!0===d.start&&(c="start"),!1===d.start&&(c="end"),d.type!==b.D&&(c=d.type),y[B]||(y[B]={id:B,shape:c,description:e.e.sanitizeText(B,(0,e.c)()),classes:`${E} ${j}`});let f=y[B];d.description&&(Array.isArray(f.description)?(f.shape=h,f.description.push(d.description)):f.description.length>0?(f.shape=h,f.description===B?f.description=[d.description]:f.description=[f.description,d.description]):(f.shape=g,f.description=d.description),f.description=e.e.sanitizeTextOrArray(f.description,(0,e.c)())),1===f.description.length&&f.shape===h&&(f.shape=g),!f.type&&d.doc&&(e.l.info("Setting cluster for ",B,D(d)),f.type="group",f.dir=D(d),f.shape=d.type===b.a?"divider":"roundedWithTitle",f.classes=f.classes+" "+n+" "+(k?o:""));let i={labelStyle:"",shape:f.shape,labelText:f.description,classes:f.classes,style:"",id:B,dir:f.dir,domId:A(B,z),type:f.type,padding:15};if(i.centerLabel=!0,d.note){let b={labelStyle:"",shape:"note",labelText:d.note.text,classes:m,style:"",id:B+s+"-"+z,domId:A(B,z,q),type:f.type,padding:15},c={labelStyle:"",shape:"noteGroup",labelText:d.note.text,classes:f.classes,style:"",id:B+t,domId:A(B,z,p),type:"group",padding:0};z++;let e=B+t;a.setNode(e,c),a.setNode(b.id,b),a.setNode(B,i),a.setParent(B,e),a.setParent(b.id,e);let g=B,h=b.id;"left of"===d.note.position&&(g=b.id,h=B),a.setEdge(g,h,{arrowhead:"none",arrowType:"",style:u,labelStyle:"",classes:l,arrowheadStyle:v,labelpos:"c",labelType:w,thickness:x})}else a.setNode(B,i)}c&&"root"!==c.id&&(e.l.trace("Setting node ",B," to be child of its parent ",c.id),a.setParent(B,c.id)),d.doc&&(e.l.trace("Adding nodes children "),C(a,d,d.doc,f,i,!k))},C=(a,c,d,f,g,h)=>{e.l.trace("items",d),d.forEach(d=>{switch(d.stmt){case b.b:case b.D:B(a,c,d,f,g,h);break;case b.S:{B(a,c,d.state1,f,g,h),B(a,c,d.state2,f,g,h);let b={id:"edge"+z,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:u,labelStyle:"",label:e.e.sanitizeText(d.description,(0,e.c)()),arrowheadStyle:v,labelpos:"c",labelType:w,thickness:x,classes:k};a.setEdge(d.state1.id,d.state2.id,b,z),z++}}})},D=(a,c=b.c)=>{let d=c;if(a.doc)for(let b=0;b<a.doc.length;b++){let c=a.doc[b];"dir"===c.stmt&&(d=c.value)}return d},E=async function(a,b,h,j){let k;e.l.info("Drawing state diagram (v2)",b),y={},j.db.getDirection();let{securityLevel:l,state:m}=(0,e.c)(),n=m.nodeSpacing||50,o=m.rankSpacing||50;e.l.info(j.db.getRootDocV2()),j.db.extract(j.db.getRootDocV2()),e.l.info(j.db.getRootDocV2());let p=j.db.getStates(),q=new c.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:D(j.db.getRootDocV2()),nodesep:n,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});B(q,void 0,j.db.getRootDocV2(),p,j.db,!0),"sandbox"===l&&(k=(0,d.select)("#i"+b));let r="sandbox"===l?(0,d.select)(k.nodes()[0].contentDocument.body):(0,d.select)("body"),s=r.select(`[id="${b}"]`),t=r.select("#"+b+" g");await (0,f.r)(t,q,["barb"],i,b),e.u.insertTitle(s,"statediagramTitleText",m.titleTopMargin,j.db.getDiagramTitle());let u=s.node().getBBox(),v=u.width+16,w=u.height+16;s.attr("class",i);let x=s.node().getBBox();(0,e.i)(s,w,v,m.useMaxWidth);let z=`${x.x-8} ${x.y-8} ${v} ${w}`;for(let a of(e.l.debug(`viewBox ${z}`),s.attr("viewBox",z),document.querySelectorAll('[id="'+b+'"] .edgeLabel .label'))){let b=a.getBBox(),c=document.createElementNS("http://www.w3.org/2000/svg",g);c.setAttribute("rx",0),c.setAttribute("ry",0),c.setAttribute("width",b.width),c.setAttribute("height",b.height),a.insertBefore(c,a.firstChild)}},F={parser:b.p,db:b.d,renderer:{setConf:function(a){for(let b of Object.keys(a))a[b]},getClasses:function(a,b){return b.db.extract(b.db.getRootDocV2()),b.db.getClasses()},draw:E},styles:b.s,init:a=>{a.state||(a.state={}),a.state.arrowMarkerAbsolute=a.arrowMarkerAbsolute,b.d.clear()}};a.s(["diagram",()=>F])}];

//# debugId=3214c426-03cf-fa6d-9686-c1496393d51a
//# sourceMappingURL=node_modules_8e73a29f._.js.map