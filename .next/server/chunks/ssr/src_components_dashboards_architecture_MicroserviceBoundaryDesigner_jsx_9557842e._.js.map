{
  "version": 3,
  "sources": [],
  "debugId": "e4b93e89-056a-1f78-3f69-1c1acfdd3a9d",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/architecture/MicroserviceBoundaryDesigner.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst initialCapabilities = [\n  { id: 1, name: \"Customer onboarding\", service: \"Customer\" },\n  { id: 2, name: \"Tariff management\", service: \"Pricing\" },\n  { id: 3, name: \"Billing\", service: \"Billing\" },\n  { id: 4, name: \"Meter data ingestion\", service: \"Metering\" },\n];\n\nconst suggestedServices = [\"Customer\", \"Pricing\", \"Billing\", \"Metering\", \"Shared\"];\n\nexport function MicroserviceBoundaryDesigner() {\n  const [capabilities, setCapabilities] = useState(initialCapabilities);\n\n  function assignService(id, service) {\n    setCapabilities((current) => current.map((c) => (c.id === id ? { ...c, service } : c)));\n  }\n\n  const serviceMap = useMemo(() => {\n    const map = new Map();\n    for (const cap of capabilities) {\n      const list = map.get(cap.service) ?? [];\n      list.push(cap);\n      map.set(cap.service, list);\n    }\n    return map;\n  }, [capabilities]);\n\n  const crossServiceInteractions = useMemo(() => {\n    const nounToServices = new Map();\n\n    for (const cap of capabilities) {\n      const tokens = cap.name.toLowerCase().split(/\\s+/);\n      for (const token of tokens) {\n        if (token.length < 4) continue;\n        const set = nounToServices.get(token) ?? new Set();\n        set.add(cap.service);\n        nounToServices.set(token, set);\n      }\n    }\n\n    let count = 0;\n    nounToServices.forEach((services) => {\n      if (services.size > 1) count += services.size - 1;\n    });\n    return count;\n  }, [capabilities]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Slice a small set of capabilities into services. This does not tell you the one correct\n        answer; it nudges you to notice where responsibilities clump together or where too many\n        cross service conversations appear.\n      </p>\n\n      <div className=\"grid gap-4 rounded-2xl border border-slate-200 bg-white p-3 text-sm md:grid-cols-2\">\n        <div className=\"space-y-2\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-slate-500\">Capabilities</p>\n          {capabilities.map((cap) => (\n            <div\n              key={cap.id}\n              className=\"flex items-center justify-between gap-2 rounded-2xl border border-slate-100 bg-slate-50 px-3 py-2\"\n            >\n              <span className=\"text-sm text-slate-800\">{cap.name}</span>\n              <select\n                className=\"rounded-xl border border-slate-200 px-2 py-1 text-xs\"\n                value={cap.service}\n                onChange={(e) => assignService(cap.id, e.target.value)}\n              >\n                {suggestedServices.map((service) => (\n                  <option key={service} value={service}>\n                    {service} service\n                  </option>\n                ))}\n              </select>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"space-y-3\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-slate-500\">Service view</p>\n          <div className=\"grid gap-3 md:grid-cols-2\">\n            {Array.from(serviceMap.entries()).map(([service, caps]) => (\n              <div\n                key={service}\n                className=\"rounded-2xl border border-slate-100 bg-slate-50 p-3 shadow-sm\"\n              >\n                <p className=\"mb-1 text-xs font-semibold uppercase tracking-wide text-slate-500\">\n                  {service} service\n                </p>\n                <ul className=\"list-disc pl-4 text-xs text-slate-700\">\n                  {caps.map((cap) => (\n                    <li key={cap.id}>{cap.name}</li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Cross service interactions</p>\n            <p className=\"mb-1\">\n              Estimated cross service conversations based on shared nouns in capability names:{\" \"}\n              <span className=\"font-semibold\">{crossServiceInteractions}</span>\n            </p>\n            <p>\n              You ideally want clear boundaries where most capabilities for a concept live in the\n              same service. If many services mention the same thing, such as customer or meter, you\n              may be spreading the domain too thin.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}