{
  "version": 3,
  "sources": [],
  "debugId": "7f0b5a13-9105-1dbb-bfa6-4365577bc367",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/games/cybersecurity/RiskBalancingGame.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst AREAS = [\n  { id: \"identity\", label: \"Identity and access\", base: 5 },\n  { id: \"network\", label: \"Network and perimeter\", base: 4 },\n  { id: \"appsec\", label: \"Application security\", base: 4 },\n  { id: \"monitoring\", label: \"Monitoring and response\", base: 5 },\n];\n\nconst BUDGET = 10;\n\nexport default function RiskBalancingGame() {\n  const [allocations, setAllocations] = useState(\n    AREAS.reduce((acc, a) => ({ ...acc, [a.id]: 0 }), {})\n  );\n  const [scenarioShift, setScenarioShift] = useState(\n    AREAS.reduce((acc, a) => ({ ...acc, [a.id]: 0 }), {})\n  );\n\n  const totalAllocated = useMemo(\n    () => Object.values(allocations).reduce((sum, v) => sum + v, 0),\n    [allocations]\n  );\n\n  const residuals = useMemo(() => {\n    const result = {};\n    AREAS.forEach((area) => {\n      const alloc = allocations[area.id] || 0;\n      const base = area.base + (scenarioShift[area.id] || 0);\n      const residual = Math.max(1, base - alloc);\n      result[area.id] = residual;\n    });\n    return result;\n  }, [allocations, scenarioShift]);\n\n  const weakest = useMemo(() => {\n    const entries = Object.entries(residuals);\n    const worst = entries.reduce((acc, [id, val]) => (val > acc.val ? { id, val } : acc), {\n      id: entries[0][0],\n      val: entries[0][1],\n    });\n    return AREAS.find((a) => a.id === worst.id)?.label || \"\";\n  }, [residuals]);\n\n  const adjust = (id, delta) => {\n    setAllocations((prev) => {\n      const next = { ...prev };\n      const newVal = (next[id] || 0) + delta;\n      if (newVal < 0) return prev;\n      const newTotal = totalAllocated + delta;\n      if (newTotal > BUDGET) return prev;\n      next[id] = newVal;\n      return next;\n    });\n  };\n\n  const randomScenario = () => {\n    const shifts = AREAS.reduce((acc, a) => ({ ...acc, [a.id]: Math.floor(Math.random() * 3) }), {});\n    setScenarioShift(shifts);\n    setAllocations(AREAS.reduce((acc, a) => ({ ...acc, [a.id]: 0 }), {}));\n  };\n\n  const reset = () => {\n    setAllocations(AREAS.reduce((acc, a) => ({ ...acc, [a.id]: 0 }), {}));\n    setScenarioShift(AREAS.reduce((acc, a) => ({ ...acc, [a.id]: 0 }), {}));\n  };\n\n  return (\n    <div className=\"rounded-2xl bg-white p-4 shadow-md ring-1 ring-slate-200\">\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-start\">\n        <div className=\"flex-1 space-y-3\">\n          <h4 className=\"text-base font-semibold text-slate-900\">Allocate your budget</h4>\n          <p className=\"text-sm text-slate-700\">You have {BUDGET} points. Reduce residual risk by investing in each area.</p>\n          <div className=\"text-sm font-semibold text-slate-900\">Allocated: {totalAllocated}/{BUDGET}</div>\n          <div className=\"space-y-2\">\n            {AREAS.map((area) => (\n              <div key={area.id} className=\"rounded-xl border border-slate-200 bg-white p-3 shadow-sm\">\n                <div className=\"flex items-center justify-between text-sm text-slate-900\">\n                  <span>{area.label}</span>\n                  <span className=\"font-semibold\">{allocations[area.id] || 0} pts</span>\n                </div>\n                <div className=\"mt-2 flex gap-2\">\n                  <button\n                    onClick={() => adjust(area.id, -1)}\n                    className=\"rounded-full border border-slate-300 px-3 py-1 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300 disabled:opacity-40\"\n                    disabled={(allocations[area.id] || 0) === 0}\n                  >\n                    âˆ’\n                  </button>\n                  <button\n                    onClick={() => adjust(area.id, 1)}\n                    className=\"rounded-full border border-slate-300 px-3 py-1 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300 disabled:opacity-40\"\n                    disabled={totalAllocated >= BUDGET}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={randomScenario}\n              className=\"rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n            >\n              Random scenario\n            </button>\n            <button\n              onClick={reset}\n              className=\"rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n            >\n              Reset\n            </button>\n          </div>\n        </div>\n\n        <div className=\"w-full max-w-sm space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n            <h5 className=\"text-sm font-semibold text-slate-900\">Residual risk (lower is better)</h5>\n            <div className=\"mt-2 space-y-2\">\n              {AREAS.map((area) => {\n                const val = residuals[area.id];\n                const width = `${(val / 7) * 100}%`;\n                return (\n                  <div key={area.id}>\n                    <div className=\"flex items-center justify-between text-sm text-slate-800\">\n                      <span>{area.label}</span>\n                      <span className=\"font-semibold\">{val}</span>\n                    </div>\n                    <div className=\"h-2 rounded-full bg-white\">\n                      <div className=\"h-full rounded-full bg-rose-400\" style={{ width }} />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-900 shadow-sm\">\n            <h5 className=\"mb-2 text-sm font-semibold text-slate-900\">Where to rebalance</h5>\n            <p>\n              The weakest area is currently <strong>{weakest}</strong>. Consider moving one or two points toward it to balance residual risk.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}