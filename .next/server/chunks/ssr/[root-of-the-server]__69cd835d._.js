;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="12a65614-4c35-229c-ff95-49992383ec65")}catch(e){}}();
module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},569264,a=>{a.n(a.i(354832))},881967,a=>{a.n(a.i(429735))},900827,a=>{a.n(a.i(995845))},918554,a=>{a.n(a.i(316801))},517537,a=>{a.n(a.i(903363))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},444067,a=>{a.n(a.i(436102))},989644,a=>{a.n(a.i(736900))},751579,a=>{"use strict";var b=a.i(907997),c=a.i(395936),d=a.i(929073);function e(a){let b=(a/100).toFixed(2);return`\xa3${b}`}async function f({params:a}){let{id:f}=await a,g=null;try{g=await d.prisma.toolRun.findUnique({where:{id:f},select:{id:!0,userId:!0,toolId:!0,courseId:!0,pageId:!0,inputSizeBytes:!0,computeUnits:!0,computeMs:!0,costPence:!0,freeTierCoveredPence:!0,paidTierChargedPence:!0,status:!0,createdAt:!0,metadata:!0}})}catch{g=null}return g?(0,b.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-10 md:px-6 lg:px-8 space-y-6",children:[(0,b.jsxs)("header",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-600",children:"Billing"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Tool run detail"}),(0,b.jsx)("p",{className:"text-slate-700",children:"Read-only breakdown with safe metadata only."})]}),(0,b.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Created"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:function(a){try{return new Date(a).toLocaleString()}catch{return String(a)}}(g.createdAt)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Status"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:g.status})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"User"}),(0,b.jsx)("p",{className:"mt-1 font-mono text-xs text-slate-700",children:g.userId||"anonymous"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Tool"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:g.toolId})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Compute"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-slate-900",children:[g.computeMs," ms"]}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Units: ",g.computeUnits]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Cost"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:e(Number(g.costPence||0))}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Free covered: ",e(Number(g.freeTierCoveredPence||0))]}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Paid charged: ",e(Number(g.paidTierChargedPence||0))]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Input"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:null!=g.inputSizeBytes?`${g.inputSizeBytes} bytes`:"Not recorded"}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Course: ",g.courseId||""]}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Page: ",g.pageId||""]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Safe metadata"}),(0,b.jsx)("pre",{className:"mt-2 overflow-auto rounded-xl bg-slate-50 p-3 text-xs text-slate-800",children:JSON.stringify(g.metadata||{},null,2)})]})]}),(0,b.jsx)(c.default,{href:"/admin/billing/usage",className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Back to usage and costs"})]}):(0,b.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-10 md:px-6 lg:px-8 space-y-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Run not found"}),(0,b.jsx)("p",{className:"text-slate-700",children:"This tool run does not exist."})]})}a.s(["default",()=>f,"dynamic",0,"force-dynamic","metadata",0,{title:"Admin: Tool run detail",robots:{index:!1,follow:!1}}])}];

//# debugId=12a65614-4c35-229c-ff95-49992383ec65
//# sourceMappingURL=%5Broot-of-the-server%5D__69cd835d._.js.map