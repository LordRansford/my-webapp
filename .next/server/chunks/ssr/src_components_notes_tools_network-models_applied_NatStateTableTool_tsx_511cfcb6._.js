;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fde0037c-70d9-feb0-ef22-ae14012923b5")}catch(e){}}();
module.exports=[28536,a=>{"use strict";var b=a.i(508171),c=a.i(127669);function d(a=2e4,b=65e3){return Math.floor(Math.random()*(b-a+1))+a}function e(){return Math.floor(Date.now()/1e3)}function f(){let[a,f]=(0,c.useState)("192.168.1.10"),[g,h]=(0,c.useState)("203.0.113.5"),[i,j]=(0,c.useState)("93.184.216.34"),[k,l]=(0,c.useState)("443"),[m,n]=(0,c.useState)("TCP"),[o,p]=(0,c.useState)([]),q=(0,c.useMemo)(()=>Math.max(1,Math.min(65535,Math.floor(Number(k)||443))),[k]),r=(0,c.useMemo)(()=>{let a=e();return o.map(b=>{let c=a-b.createdAt,d=Math.max(0,b.ttlSeconds-c);return{...b,remaining:d}}).filter(a=>a.remaining>0).sort((a,b)=>b.createdAt-a.createdAt)},[o]);return(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Internal host"}),(0,b.jsx)("input",{value:a,onChange:a=>f(a.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"192.168.1.10"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"External public IP"}),(0,b.jsx)("input",{value:g,onChange:a=>h(a.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"203.0.113.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Remote destination"}),(0,b.jsxs)("div",{className:"mt-1 grid grid-cols-3 gap-2",children:[(0,b.jsx)("input",{value:i,onChange:a=>j(a.target.value),className:"col-span-2 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"93.184.216.34"}),(0,b.jsx)("input",{value:k,onChange:a=>l(a.target.value),inputMode:"numeric",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:"443","aria-label":"Remote port"})]})]})]}),(0,b.jsxs)("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Protocol"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[(0,b.jsx)("option",{value:"TCP",children:"TCP"}),(0,b.jsx)("option",{value:"UDP",children:"UDP"})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:function(){let b={id:`m-${Math.random().toString(16).slice(2)}`,createdAt:e(),internalIp:a.trim()||"192.168.1.10",internalPort:d(4e4,65e3),externalIp:g.trim()||"203.0.113.5",externalPort:d(2e4,65e3),remoteIp:i.trim()||"93.184.216.34",remotePort:q,protocol:m,ttlSeconds:"UDP"===m?30:120};p(a=>[b,...a].slice(0,24))},className:"rounded-full bg-slate-900 px-3 py-1.5 text-sm font-semibold text-white hover:bg-slate-800",children:"Add outbound flow"}),(0,b.jsx)("button",{type:"button",onClick:function(){let a=e();p(b=>b.filter(b=>a-b.createdAt<b.ttlSeconds))},className:"rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-semibold text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900/40",children:"Sweep expired"}),(0,b.jsx)("button",{type:"button",onClick:function(){p([])},className:"rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-semibold text-slate-900 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900/40",children:"Reset"})]})]}),(0,b.jsx)("div",{className:"mt-4 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-600 dark:bg-slate-950/40 dark:text-slate-300",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2",children:"Internal"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"NAT public"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Remote"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"Proto"}),(0,b.jsx)("th",{className:"px-3 py-2",children:"TTL left"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:[r.map(a=>(0,b.jsxs)("tr",{className:"bg-white dark:bg-transparent",children:[(0,b.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-900 dark:text-slate-100",children:[a.internalIp,":",a.internalPort]}),(0,b.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-900 dark:text-slate-100",children:[a.externalIp,":",a.externalPort]}),(0,b.jsxs)("td",{className:"px-3 py-2 font-mono text-slate-700 dark:text-slate-200",children:[a.remoteIp,":",a.remotePort]}),(0,b.jsx)("td",{className:"px-3 py-2 font-semibold text-slate-900 dark:text-slate-100",children:a.protocol}),(0,b.jsxs)("td",{className:"px-3 py-2 text-slate-700 dark:text-slate-200",children:[a.remaining,"s"]})]},a.id)),0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-3 py-4 text-slate-600 dark:text-slate-300",colSpan:5,children:"No active mappings. Add an outbound flow to see how a mapping is created."})}):null]})]})}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-slate-700 dark:text-slate-200",children:[(0,b.jsx)("p",{className:"m-0",children:"NAT often feels like magic until you treat it as a state table. If the state expires or the mapping changes, long lived sessions can break."}),(0,b.jsx)("p",{className:"mt-2 m-0 text-slate-600 dark:text-slate-300",children:"NAT is not a firewall. Many devices bundle NAT with stateful filtering, which is why people confuse them."})]})]})}a.s(["default",()=>f])},525309,a=>{a.n(a.i(28536))}];

//# debugId=fde0037c-70d9-feb0-ef22-ae14012923b5
//# sourceMappingURL=src_components_notes_tools_network-models_applied_NatStateTableTool_tsx_511cfcb6._.js.map