{
  "version": 3,
  "sources": [],
  "debugId": "1dfda7f4-f494-d6f7-fc81-19d7b0ca0414",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/ui/CheckPill.tsx","../../../../src/components/dashboards/architecture/CQRSPlanner.jsx"],"sourcesContent":["import React from \"react\";\n\ntype Tone = \"sky\" | \"emerald\" | \"violet\" | \"amber\" | \"rose\" | \"slate\";\n\ntype Props = {\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  children: React.ReactNode;\n  after?: React.ReactNode;\n  tone?: Tone;\n  className?: string;\n  size?: \"sm\" | \"xs\";\n  disabled?: boolean;\n};\n\nconst toneClasses: Record<Tone, { border: string; bg: string; ring: string }> = {\n  sky: { border: \"border-sky-400/40\", bg: \"bg-sky-500/15\", ring: \"focus-visible:ring-sky-300/40\" },\n  emerald: { border: \"border-emerald-400/40\", bg: \"bg-emerald-500/15\", ring: \"focus-visible:ring-emerald-300/40\" },\n  violet: { border: \"border-violet-400/40\", bg: \"bg-violet-500/15\", ring: \"focus-visible:ring-violet-300/40\" },\n  amber: { border: \"border-amber-400/40\", bg: \"bg-amber-500/15\", ring: \"focus-visible:ring-amber-300/40\" },\n  rose: { border: \"border-rose-400/40\", bg: \"bg-rose-500/15\", ring: \"focus-visible:ring-rose-300/40\" },\n  slate: { border: \"border-slate-400/40\", bg: \"bg-slate-500/10\", ring: \"focus-visible:ring-slate-300/30\" },\n};\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nexport function CheckPill({\n  checked,\n  onCheckedChange,\n  children,\n  after,\n  tone = \"sky\",\n  className,\n  size = \"sm\",\n  disabled = false,\n}: Props) {\n  const toneStyle = toneClasses[tone] || toneClasses.sky;\n  const padding = size === \"xs\" ? \"px-3 py-2\" : \"px-3.5 py-2.5\";\n  const text = size === \"xs\" ? \"text-[0.7rem]\" : \"text-xs\";\n  const toggle = size === \"xs\" ? \"h-5 w-9\" : \"h-6 w-11\";\n  const knob = size === \"xs\" ? \"h-4 w-4\" : \"h-5 w-5\";\n  const knobOn = size === \"xs\" ? \"translate-x-4\" : \"translate-x-5\";\n  const knobOff = \"translate-x-1\";\n\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={checked}\n      disabled={disabled}\n      onClick={() => onCheckedChange(!checked)}\n      className={cx(\n        \"inline-flex w-full items-center justify-between gap-3 rounded-2xl border transition\",\n        padding,\n        text,\n        \"bg-white/80 text-slate-900 hover:bg-white\",\n        \"dark:bg-slate-950/40 dark:text-slate-100 dark:hover:bg-slate-900/60 dark:border-slate-700\",\n        checked ? cx(toneStyle.bg, toneStyle.border) : \"border-slate-200\",\n        \"focus-visible:outline-none focus-visible:ring-2\",\n        toneStyle.ring,\n        disabled && \"cursor-not-allowed opacity-60\",\n        className\n      )}\n    >\n      <span className=\"min-w-0\">{children}</span>\n      <span className=\"inline-flex shrink-0 items-center gap-2\">\n        {after ? <span className=\"shrink-0\">{after}</span> : null}\n        <span\n          className={cx(\n            \"relative inline-flex items-center rounded-full border transition\",\n            toggle,\n            checked ? cx(toneStyle.border, toneStyle.bg) : \"border-slate-300 bg-slate-200\",\n            \"dark:border-slate-600 dark:bg-slate-800\"\n          )}\n          aria-hidden=\"true\"\n        >\n          <span\n            className={cx(\n              \"inline-block transform rounded-full bg-white shadow-sm transition\",\n              knob,\n              checked ? knobOn : knobOff\n            )}\n          />\n        </span>\n      </span>\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { CheckPill } from \"@/components/ui/CheckPill\";\n\nexport function CQRSPlanner() {\n  const [writesPercent, setWritesPercent] = useState(20);\n  const [splitEnabled, setSplitEnabled] = useState(true);\n  const [consistency, setConsistency] = useState(\"Eventual\");\n\n  const result = useMemo(() => {\n    const readsPercent = 100 - writesPercent;\n\n    let complexity = splitEnabled ? 3 : 1;\n    let maintenance = splitEnabled ? 3 : 1;\n    let performanceBenefit = splitEnabled ? Math.max(0, readsPercent - 30) / 70 : 0;\n\n    const summary = [];\n\n    if (!splitEnabled) {\n      summary.push(\"Single model is simpler to maintain and reason about.\");\n      if (readsPercent > 80) {\n        summary.push(\"You might revisit CQRS if read load grows further.\");\n      }\n    } else {\n      summary.push(\"Commands and queries are separated. This adds moving parts.\");\n      if (performanceBenefit > 0.6) {\n        summary.push(\"Most load is on reads so CQRS can be a good fit.\");\n      } else {\n        summary.push(\"The benefit may not justify the extra complexity yet.\");\n      }\n    }\n\n    if (consistency === \"Eventual\") {\n      summary.push(\n        \"Eventual consistency is acceptable when readers can tolerate short delays and there are clear reconciliation rules.\",\n      );\n    } else {\n      summary.push(\n        \"Strong consistency keeps reads and writes aligned. This limits some scaling options but can simplify reasoning.\",\n      );\n    }\n\n    return {\n      readsPercent,\n      complexityScore: complexity,\n      maintenanceScore: maintenance,\n      performanceBenefit,\n      summary,\n    };\n  }, [writesPercent, splitEnabled, consistency]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Use this to feel when CQRS starts to make sense. It does not tell you what to do. It makes\n        the tradeoffs visible so you can argue with them.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <div className=\"space-y-4\">\n            <div>\n              <p className=\"mb-1 text-xs font-medium uppercase tracking-wide text-slate-500\">Traffic mix</p>\n              <label className=\"block text-xs text-slate-600\">\n                Percentage of write heavy commands\n                <input\n                  type=\"range\"\n                  min={0}\n                  max={80}\n                  value={writesPercent}\n                  onChange={(e) => setWritesPercent(Number(e.target.value) || 0)}\n                  className=\"mt-1 w-full\"\n                />\n              </label>\n              <p className=\"mt-1 text-xs text-slate-700\">\n                Writes: <span className=\"font-semibold\">{writesPercent}%</span> - Reads:{\" \"}\n                <span className=\"font-semibold\">{result.readsPercent}%</span>\n              </p>\n            </div>\n\n            <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\n              <div className=\"sm:max-w-xs\">\n                <CheckPill checked={splitEnabled} onCheckedChange={setSplitEnabled} tone=\"violet\">\n                  Use separate command and query models\n                </CheckPill>\n              </div>\n\n              <label className=\"text-xs text-slate-700\">\n                Read side consistency\n                <select\n                  className=\"ml-2 rounded-xl border border-slate-200 px-2 py-1 text-xs\"\n                  value={consistency}\n                  onChange={(e) => setConsistency(e.target.value)}\n                >\n                  <option value=\"Strong\">Strong</option>\n                  <option value=\"Eventual\">Eventual</option>\n                </select>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Quick scores</p>\n            <p className=\"text-xs text-slate-700\">\n              Design complexity: <span className=\"font-semibold\">{result.complexityScore} out of 3</span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Maintenance overhead: <span className=\"font-semibold\">{result.maintenanceScore} out of 3</span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Potential read performance gain:{\" \"}\n              <span className=\"font-semibold\">{(result.performanceBenefit * 100).toFixed(0)} percent</span>\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">How to use this</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              {result.summary.map((line, index) => (\n                <li key={index}>{line}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}