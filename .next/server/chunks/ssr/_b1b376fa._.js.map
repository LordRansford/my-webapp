{
  "version": 3,
  "sources": [],
  "debugId": "152669ba-5aaf-776b-f9a1-045257b26d73",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/pages/studios/llm-agent-lab/index.js","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo, useRef, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useStudiosStore } from \"@/stores/useStudiosStore\";\nimport { SecurityBanner } from \"@/components/dev-studios/SecurityBanner\";\nimport StudioNavigation from \"@/components/studios/StudioNavigation\";\nimport { StudioBreadcrumbs } from \"@/components/studios/StudioBreadcrumbs\";\n\nconst localModels = {\n  \"local-small\": \"Local small\",\n  \"local-instruct\": \"Local instruct\",\n};\n\nfunction runLocalModel({ model, prompt, temperature, maxTokens }) {\n  const trimmed = (prompt || \"\").trim();\n  const tokensIn = Math.max(5, Math.round(trimmed.length / 4));\n  const variation = temperature > 0.5 ? \" (a bit more creative)\" : \"\";\n  const prefix = model === \"local-instruct\" ? \"Instruction-style response:\" : \"Lightweight response:\";\n  const text =\n    trimmed.length === 0\n      ? \"No prompt provided.\"\n      : `${prefix}${variation} ${trimmed}\\n\\nKey points:\\n- ${trimmed.slice(0, 60)}...\\n- This is a local, deterministic sketch for teaching.`;\n  const tokensOut = Math.min(maxTokens, Math.max(20, Math.round(text.length / 4)));\n  return {\n    text,\n    tokensIn,\n    tokensOut,\n  };\n}\n\nfunction formatMs(ms) {\n  if (!ms && ms !== 0) return \"-\";\n  return `${ms.toFixed(0)} ms`;\n}\n\nfunction nowPretty() {\n  const d = new Date();\n  return d.toLocaleString(undefined, { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\", hour12: false });\n}\n\nfunction simpleDocsSearch(index, query) {\n  if (!query.trim() || !index.length) return [];\n  const q = query.toLowerCase();\n  return index\n    .map((c) => ({ ...c, score: c.text.toLowerCase().includes(q) ? 1 : Math.random() * 0.4 }))\n    .sort((a, b) => b.score - a.score)\n    .slice(0, 3);\n}\n\nconst defaultChunks = [\n  { id: \"s1\", doc: \"Sample note\", text: \"Hashing turns data into fixed length digests for integrity checks.\" },\n  { id: \"s2\", doc: \"Sample note\", text: \"Availability is often expressed as nines; 99.9% means ~8.76 hours down per year.\" },\n  { id: \"s3\", doc: \"Sample note\", text: \"In vector search, cosine similarity measures the angle between embeddings.\" },\n];\n\nexport default function LlmAgentLabPage() {\n  const addJob = useStudiosStore((s) => s.addJob);\n  const updateJob = useStudiosStore((s) => s.updateJob);\n  const jobs = useStudiosStore((s) => s.jobs);\n\n  // Prompt bench\n  const [promptModel, setPromptModel] = useState(\"local-small\");\n  const [temperature, setTemperature] = useState(0.2);\n  const [maxTokens, setMaxTokens] = useState(180);\n  const [promptText, setPromptText] = useState(\"Explain hashing to a twelve year old who likes football.\");\n  const [promptOutput, setPromptOutput] = useState(\"\");\n  const [promptMetrics, setPromptMetrics] = useState(null);\n\n  // Tool sandbox\n  const [toolPrompt, setToolPrompt] = useState(\"What is 2+2 and what time is it?\");\n  const [toolTrace, setToolTrace] = useState([]);\n  const [toolAnswer, setToolAnswer] = useState(\"\");\n\n  // Agent builder\n  const [agentPrompt, setAgentPrompt] = useState(\"What time is it and add 3+4?\");\n  const [agentPath, setAgentPath] = useState([]);\n  const [agentAnswer, setAgentAnswer] = useState(\"\");\n  const [allowCalc, setAllowCalc] = useState(true);\n  const [allowDocs, setAllowDocs] = useState(true);\n  const [allowClock, setAllowClock] = useState(true);\n\n  // Grounding\n  const [groundQuery, setGroundQuery] = useState(\"How does vector search work?\");\n  const [groundShowChunks, setGroundShowChunks] = useState(true);\n  const [groundAnswer, setGroundAnswer] = useState(\"\");\n  const [groundChunks, setGroundChunks] = useState(defaultChunks);\n  const [customChunk, setCustomChunk] = useState(\"\");\n\n  const groundingSource = useMemo(() => groundChunks, [groundChunks]);\n\n  const recentJobs = useMemo(() => jobs.filter((j) => j.studio === \"llm-agent-lab\").slice(-5).reverse(), [jobs]);\n\n  const resetPromptBench = () => {\n    setPromptModel(\"local-small\");\n    setTemperature(0.2);\n    setMaxTokens(180);\n    setPromptText(\"\");\n    setPromptOutput(\"\");\n    setPromptMetrics(null);\n  };\n\n  const handlePromptRun = () => {\n    const started = performance.now();\n    const res = runLocalModel({ model: promptModel, prompt: promptText, temperature, maxTokens });\n    const latencyMs = performance.now() - started;\n    setPromptOutput(res.text);\n    setPromptMetrics({ ...res, latencyMs });\n    const jobId = `llm-prompt-${Date.now()}`;\n    addJob({ id: jobId, name: \"LLM Lab - prompt bench\", studio: \"llm-agent-lab\", status: \"running\" });\n    updateJob(jobId, {\n      status: \"completed\",\n      finishedAt: new Date().toISOString(),\n      metrics: { tokensIn: res.tokensIn, tokensOut: res.tokensOut, latencyMs },\n    });\n  };\n\n  const runToolSandbox = () => {\n    const steps = [];\n    const jobId = `llm-tools-${Date.now()}`;\n    addJob({ id: jobId, name: \"LLM Lab - tools\", studio: \"llm-agent-lab\", status: \"running\" });\n\n    const text = toolPrompt.toLowerCase();\n    steps.push({ role: \"model\", text: \"Received prompt and checking for tools.\" });\n    let toolCalls = 0;\n    let answerParts = [];\n\n    if (text.includes(\"time\")) {\n      toolCalls += 1;\n      const t = nowPretty();\n      steps.push({ role: \"tool\", name: \"clock\", text: `Clock → ${t}` });\n      answerParts.push(`The current time is ${t}.`);\n    }\n    const mathMatch = text.match(/(-?\\d+)\\s*[\\+\\-\\*\\/]\\s*(-?\\d+)/);\n    if (mathMatch) {\n      toolCalls += 1;\n      const [a, b] = [Number(mathMatch[1]), Number(mathMatch[2])];\n      let op = toolPrompt.includes(\"-\") ? \"-\" : toolPrompt.includes(\"*\") ? \"*\" : toolPrompt.includes(\"/\") ? \"/\" : \"+\";\n      const val =\n        op === \"+\"\n          ? a + b\n          : op === \"-\"\n          ? a - b\n          : op === \"*\"\n          ? a * b\n          : b === 0\n          ? \"undefined\"\n          : a / b;\n      steps.push({ role: \"tool\", name: \"calculator\", text: `Calculator → ${val}` });\n      answerParts.push(`The math result is ${val}.`);\n    }\n    steps.push({ role: \"model\", text: \"Composed the final answer using tool results.\" });\n    if (answerParts.length === 0) {\n      answerParts = [\"No specific tool was used. Here's a simple echo of your request.\", toolPrompt];\n    }\n    const final = answerParts.join(\" \");\n    setToolTrace(steps);\n    setToolAnswer(final);\n    updateJob(jobId, {\n      status: \"completed\",\n      finishedAt: new Date().toISOString(),\n      metrics: { toolCallCount: toolCalls, tokensIn: Math.round(toolPrompt.length / 4), tokensOut: Math.round(final.length / 4) },\n    });\n  };\n\n  const runAgent = () => {\n    const path = [];\n    let steps = 1;\n    const jobId = `llm-agent-${Date.now()}`;\n    addJob({ id: jobId, name: \"LLM Lab - agent\", studio: \"llm-agent-lab\", status: \"running\" });\n\n    path.push(\"User input\");\n    const lower = agentPrompt.toLowerCase();\n    let intent = \"general\";\n    if (lower.includes(\"time\")) intent = \"time\";\n    else if (lower.match(/\\d+\\s*[\\+\\-\\*\\/]\\s*\\d+/)) intent = \"math\";\n    else if (lower.includes(\"doc\") || lower.includes(\"note\") || lower.includes(\"search\")) intent = \"docs\";\n    path.push(\"Intent classifier\");\n\n    let toolResult = \"\";\n    if (intent === \"math\" && allowCalc) {\n      steps += 1;\n      path.push(\"Use calculator\");\n      const mathMatch = lower.match(/(-?\\d+)\\s*([\\+\\-\\*\\/])\\s*(-?\\d+)/);\n      if (mathMatch) {\n        const a = Number(mathMatch[1]);\n        const op = mathMatch[2];\n        const b = Number(mathMatch[3]);\n        toolResult =\n          op === \"+\"\n            ? `${a + b}`\n            : op === \"-\"\n            ? `${a - b}`\n            : op === \"*\"\n            ? `${a * b}`\n            : b === 0\n            ? \"undefined\"\n            : `${a / b}`;\n      }\n    } else if (intent === \"time\" && allowClock) {\n      steps += 1;\n      path.push(\"Use clock\");\n      toolResult = nowPretty();\n    } else if (intent === \"docs\" && allowDocs) {\n      steps += 1;\n      path.push(\"Use Docs search\");\n      const res = simpleDocsSearch(groundingSource, agentPrompt);\n      toolResult = res.length ? `Found: ${res[0].text.slice(0, 80)}` : \"No doc snippets found.\";\n    }\n\n    path.push(\"Answer composer\");\n    const answer = toolResult\n      ? `Routed via intent \"${intent}\" and tool response: ${toolResult}`\n      : `Intent \"${intent}\" had no allowed tool. Echo: ${agentPrompt}`;\n    setAgentPath(path);\n    setAgentAnswer(answer);\n    updateJob(jobId, {\n      status: \"completed\",\n      finishedAt: new Date().toISOString(),\n      metrics: { steps: path.length, toolCallCount: toolResult ? 1 : 0 },\n    });\n  };\n\n  const addCustomChunk = () => {\n    if (!customChunk.trim()) return;\n    setGroundChunks((prev) => [...prev, { id: `c-${Date.now()}`, doc: \"Custom\", text: customChunk.trim() }]);\n    setCustomChunk(\"\");\n  };\n\n  const runGrounded = () => {\n    const jobId = `llm-ground-${Date.now()}`;\n    addJob({ id: jobId, name: \"LLM Lab - grounding\", studio: \"llm-agent-lab\", status: \"running\" });\n    const retrieved = simpleDocsSearch(groundingSource, groundQuery);\n    const context = retrieved.map((c) => c.text).join(\" | \");\n    const res = runLocalModel({\n      model: \"local-instruct\",\n      prompt: `Question: ${groundQuery}\\nContext: ${context}`,\n      temperature: 0.2,\n      maxTokens: 200,\n    });\n    setGroundAnswer(res.text);\n    setGroundShowChunks((prev) => prev); // no-op, keeps state\n    updateJob(jobId, {\n      status: \"completed\",\n      finishedAt: new Date().toISOString(),\n      metrics: { tokensIn: res.tokensIn, tokensOut: res.tokensOut, queryCount: 1, chunkCount: retrieved.length },\n    });\n  };\n\n  return (\n    <div className=\"mx-auto w-full max-w-5xl px-4 py-6 space-y-6 sm:px-6 sm:py-8 md:space-y-8\">\n      {/* Navigation */}\n      <div className=\"space-y-3\">\n        <StudioBreadcrumbs\n          items={[\n            { label: \"Studios Hub\", href: \"/studios/hub\" },\n            { label: \"LLM & Agent Lab\" }\n          ]}\n        />\n        <StudioNavigation\n          studioType=\"lab\"\n          showHome={true}\n          showHub={true}\n          currentStudio=\"LLM & Agent Lab\"\n          currentStudioHref=\"/studios/llm-agent-lab\"\n        />\n      </div>\n\n      <div className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-8 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-3\">\n        <div className=\"inline-flex items-center gap-2 rounded-2xl bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-800 ring-1 ring-amber-100\">\n          LLM &amp; Agent Lab\n        </div>\n        <h1 className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-slate-900\">LLM &amp; Agent Lab</h1>\n        <p className=\"text-xs sm:text-sm text-slate-700 max-w-3xl leading-relaxed\">\n          This is the part of the building where language models show their workings. Try prompts, wire simple tools together, watch an\n          agent pick a path and see where things break in a low risk way.\n        </p>\n      </div>\n\n      <SecurityBanner />\n\n      {/* 1. Prompt bench */}\n      <section\n        id=\"prompt-bench\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">1. Prompt bench</h2>\n        <div className=\"grid gap-4 lg:grid-cols-2\">\n          <div className=\"space-y-2 text-sm text-slate-700\">\n            <p>Prompts are instructions. Temperature nudges creativity; max tokens caps output length. Try variations to feel the shifts.</p>\n            <button\n              onClick={resetPromptBench}\n              className=\"text-xs font-semibold text-sky-700 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 rounded\"\n            >\n              Reset settings\n            </button>\n          </div>\n          <div className=\"space-y-3 rounded-2xl border border-slate-100 bg-white p-4\">\n            <div className=\"grid grid-cols-2 gap-3 text-sm text-slate-800\">\n              <label className=\"space-y-1 text-xs font-semibold text-slate-700\">\n                Model\n                <select\n                  value={promptModel}\n                  onChange={(e) => setPromptModel(e.target.value)}\n                  className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                >\n                  {Object.entries(localModels).map(([id, label]) => (\n                    <option key={id} value={id}>\n                      {label}\n                    </option>\n                  ))}\n                </select>\n              </label>\n              <label className=\"space-y-1 text-xs font-semibold text-slate-700\">\n                Temperature\n                <input\n                  type=\"range\"\n                  min={0}\n                  max={1}\n                  step={0.05}\n                  value={temperature}\n                  onChange={(e) => setTemperature(parseFloat(e.target.value))}\n                  className=\"w-full\"\n                />\n                <span className=\"text-xs text-slate-700\">Current: {temperature.toFixed(2)}</span>\n              </label>\n              <label className=\"space-y-1 text-xs font-semibold text-slate-700\">\n                Max tokens\n                <input\n                  type=\"number\"\n                  min={50}\n                  max={500}\n                  value={maxTokens}\n                  onChange={(e) => setMaxTokens(Number(e.target.value))}\n                  className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                />\n              </label>\n            </div>\n            <textarea\n              value={promptText}\n              onChange={(e) => setPromptText(e.target.value)}\n              rows={4}\n              className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              placeholder=\"Explain hashing to a twelve year old who likes football.\"\n            />\n            <button\n              onClick={handlePromptRun}\n              className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800\"\n            >\n              Run prompt\n            </button>\n            {promptOutput && (\n              <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-3 text-sm text-slate-800\">\n                <div className=\"flex flex-wrap gap-3 text-xs text-slate-700\">\n                  <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Tokens in: {promptMetrics?.tokensIn ?? \"-\"}</span>\n                  <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Tokens out: {promptMetrics?.tokensOut ?? \"-\"}</span>\n                  <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Latency: {formatMs(promptMetrics?.latencyMs)}</span>\n                </div>\n                <div className=\"whitespace-pre-wrap\">{promptOutput}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* 2. Tool calling sandbox */}\n      <section\n        id=\"tool-sandbox\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">2. Tool calling sandbox</h2>\n        <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n          Tools are abilities the model can call. We show each step so you can see when a tool is invoked and how the answer is composed.\n        </p>\n        <div className=\"space-y-3 rounded-2xl border border-slate-100 bg-white p-4\">\n          <textarea\n            value={toolPrompt}\n            onChange={(e) => setToolPrompt(e.target.value)}\n            rows={3}\n            className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n            placeholder=\"Ask something that needs a tool, e.g. time or arithmetic.\"\n          />\n          <button\n            onClick={runToolSandbox}\n            className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800\"\n          >\n            Run with tools\n          </button>\n          {toolTrace.length > 0 && (\n            <div className=\"space-y-3\">\n              <div className=\"space-y-2\">\n                {toolTrace.map((step, idx) => (\n                  <div key={idx} className=\"rounded-2xl border border-slate-100 bg-slate-50 px-3 py-2 text-sm text-slate-800\">\n                    <span className=\"text-xs font-semibold text-slate-600\">\n                      {step.role === \"tool\" ? `Tool: ${step.name}` : \"Model\"}\n                    </span>\n                    <p className=\"text-sm text-slate-800\">{step.text}</p>\n                  </div>\n                ))}\n              </div>\n              <div className=\"rounded-2xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-900\">\n                Final answer: {toolAnswer}\n              </div>\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* 3. Agent flow builder */}\n      <section\n        id=\"agent-builder\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">3. Agent flow builder</h2>\n        <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n          A sketch of routing logic: classify intent, pick a tool if allowed, then compose an answer. Good for building intuition before\n          heavier agent frameworks.\n        </p>\n        <div className=\"grid gap-4 lg:grid-cols-3\">\n          <div className=\"space-y-3 rounded-2xl border border-slate-100 bg-white p-4 lg:col-span-2\">\n            <div className=\"flex flex-wrap gap-3 text-sm text-slate-800\">\n              <label className=\"flex items-center gap-2 text-xs font-semibold text-slate-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={allowCalc}\n                  onChange={(e) => setAllowCalc(e.target.checked)}\n                  className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200\"\n                />\n                Allow calculator\n              </label>\n              <label className=\"flex items-center gap-2 text-xs font-semibold text-slate-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={allowClock}\n                  onChange={(e) => setAllowClock(e.target.checked)}\n                  className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200\"\n                />\n                Allow clock\n              </label>\n              <label className=\"flex items-center gap-2 text-xs font-semibold text-slate-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={allowDocs}\n                  onChange={(e) => setAllowDocs(e.target.checked)}\n                  className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200\"\n                />\n                Allow Docs search\n              </label>\n            </div>\n            <textarea\n              value={agentPrompt}\n              onChange={(e) => setAgentPrompt(e.target.value)}\n              rows={3}\n              className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              placeholder=\"Ask the agent something that needs routing.\"\n            />\n            <button\n              onClick={runAgent}\n              className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800\"\n            >\n              Ask the agent\n            </button>\n            {agentPath.length > 0 && (\n              <div className=\"space-y-3\">\n                <div className=\"flex flex-wrap gap-2 text-sm text-slate-800\">\n                  {agentPath.map((node, idx) => (\n                    <span\n                      key={idx}\n                      className=\"rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-800 ring-1 ring-emerald-100\"\n                    >\n                      {idx + 1}. {node}\n                    </span>\n                  ))}\n                </div>\n                <div className=\"rounded-2xl border border-slate-100 bg-slate-50 px-3 py-2 text-sm text-slate-800\">\n                  {agentAnswer}\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 text-sm text-slate-800 space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-900\">Flow sketch</p>\n            <ul className=\"space-y-2 text-xs text-slate-700\">\n              <li>1. User input</li>\n              <li>2. Intent classifier (math, time, docs, general)</li>\n              <li>3. Tool node (calculator, clock, docs search)</li>\n              <li>4. Answer composer</li>\n            </ul>\n            <p className=\"text-xs text-slate-600\">\n              This is a simplified routing demo. Real agents add memory, retries, guards and better selection logic.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* 4. Grounding on your own notes */}\n      <section\n        id=\"grounding\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">4. Grounding on your own notes</h2>\n        <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n          Ask a question, retrieve relevant chunks from your notes, and draft an answer. Stays in-browser for safety.\n        </p>\n        <div className=\"grid gap-4 lg:grid-cols-2\">\n          <div className=\"space-y-3 rounded-2xl border border-slate-100 bg-white p-4\">\n            <input\n              type=\"text\"\n              value={groundQuery}\n              onChange={(e) => setGroundQuery(e.target.value)}\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              placeholder=\"Ask about your uploaded notes...\"\n            />\n            <div className=\"flex items-center gap-2 text-xs text-slate-700\">\n              <input\n                type=\"checkbox\"\n                checked={groundShowChunks}\n                onChange={(e) => setGroundShowChunks(e.target.checked)}\n                className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200\"\n              />\n              <span>Show retrieved chunks</span>\n            </div>\n            <button\n              onClick={runGrounded}\n              className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800\"\n            >\n              Ask with grounding\n            </button>\n            <div className=\"space-y-2\">\n              <p className=\"text-xs font-semibold text-slate-800\">Add a custom chunk (optional)</p>\n              <textarea\n                value={customChunk}\n                onChange={(e) => setCustomChunk(e.target.value)}\n                rows={2}\n                className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                placeholder=\"Paste a short paragraph to include in retrieval.\"\n              />\n              <button\n                onClick={addCustomChunk}\n                className=\"inline-flex items-center rounded-2xl bg-slate-100 px-3 py-1.5 text-xs font-semibold text-slate-800 ring-1 ring-slate-200 hover:bg-slate-200\"\n              >\n                Add chunk\n              </button>\n            </div>\n          </div>\n          <div className=\"space-y-3 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-xs font-semibold text-slate-900\">Answer</p>\n            <div className=\"min-h-[80px] whitespace-pre-wrap text-sm text-slate-800\">{groundAnswer || \"No answer yet.\"}</div>\n            {groundShowChunks && (\n              <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-white p-3\">\n                <p className=\"text-xs font-semibold text-slate-900\">Retrieved chunks</p>\n                {simpleDocsSearch(groundingSource, groundQuery).map((c) => (\n                  <div key={c.id} className=\"rounded-xl border border-slate-100 bg-slate-50 px-3 py-2 text-xs text-slate-800\">\n                    <div className=\"text-xs text-slate-700 mb-1\">{c.doc}</div>\n                    {c.text.slice(0, 220)}\n                  </div>\n                ))}\n                {groundingSource.length === 0 && <p className=\"text-xs text-slate-600\">Add chunks to enable retrieval.</p>}\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* 5. Recent LLM runs */}\n      <section\n        id=\"llm-runs\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">5. Recent LLM runs</h2>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Prompt bench, tools, agents and grounding activity logged here.</p>\n          </div>\n          <Link href=\"/studios\" className=\"text-xs font-semibold text-emerald-700 hover:underline\">\n            Open Control Room\n          </Link>\n        </div>\n        {recentJobs.length === 0 && (\n          <div className=\"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 px-4 py-3 text-sm text-slate-700\">\n            No runs yet. Try the prompt bench to create your first log.\n          </div>\n        )}\n        {recentJobs.length > 0 && (\n          <div className=\"overflow-hidden rounded-2xl border border-slate-100 bg-white\">\n            <table className=\"min-w-full text-sm text-slate-800\">\n              <thead className=\"bg-slate-50 text-xs text-slate-600\">\n                <tr>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Job</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Tokens in</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Tokens out</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Tool calls</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentJobs.map((job) => (\n                  <tr key={job.id} className=\"border-t border-slate-100\">\n                    <td className=\"px-3 py-2 text-sm\">{job.name}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.metrics?.tokensIn ?? \"-\"}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.metrics?.tokensOut ?? \"-\"}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.metrics?.toolCallCount ?? \"-\"}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.status}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[1]}}]
}