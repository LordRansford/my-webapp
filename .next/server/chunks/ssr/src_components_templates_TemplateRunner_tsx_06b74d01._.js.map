{
  "version": 3,
  "sources": [],
  "debugId": "b8cea271-630a-46d1-27ac-fd112d918af4",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/templates/TemplateRunner.tsx","../../../../src/components/templates/fields/FieldWrapper.tsx","../../../../src/components/templates/fields/index.tsx","../../../../src/components/templates/results/index.tsx","../../../../src/components/templates/ExportBar.tsx","../../../../src/components/templates/charts/TemplateCharts.tsx","../../../../src/lib/cpdRecords.ts","../../../../src/components/cpd/CPDEvidencePanel.tsx","../../../../src/lib/templateRuns.ts"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { templateDefinitions } from \"../../../content/templates/definitions\";\nimport type { TemplateDefinition, TemplateField } from \"../../../content/templates/definitions/types\";\nimport { TEMPLATE_CATEGORIES } from \"@/data/templates/categories\";\nimport {\n  FieldText,\n  FieldTextarea,\n  FieldSelect,\n  FieldMultiSelect,\n  FieldNumber,\n  FieldSlider,\n  FieldToggle,\n  FieldDate,\n  FieldFileUpload,\n} from \"@/components/templates/fields\";\nimport { ScoreCard, RiskBadge, AssumptionsPanel, ExplanationBlock, NextStepsPanel } from \"@/components/templates/results\";\nimport ExportBar from \"@/components/templates/ExportBar\";\nimport { RiskMatrix, TemplateRadarChart, TemplateBarChart, TemplateLineChart } from \"@/components/templates/charts/TemplateCharts\";\nimport CPDEvidencePanel from \"@/components/cpd/CPDEvidencePanel\";\nimport { deleteRun, duplicateRun, loadRuns, saveRun, StoredRun } from \"@/lib/templateRuns\";\n\ntype RunnerProps = {\n  slug: string;\n};\n\nconst debounce = (fn: () => void, delay: number) => {\n  let timer: any;\n  return () => {\n    clearTimeout(timer);\n    timer = setTimeout(fn, delay);\n  };\n};\n\nfunction defaultValueForField(field: TemplateField) {\n  if (field.defaultValue !== undefined) return field.defaultValue;\n  if (field.type === \"toggle\") return false;\n  if (field.type === \"slider\" || field.type === \"number\") return 0;\n  if (field.type === \"multiselect\") return [];\n  return \"\";\n}\n\nconst definitionMap: Record<string, TemplateDefinition> = Object.fromEntries(\n  templateDefinitions.map((def) => [def.slug, def])\n);\n\nexport function TemplateRunner({ slug }: RunnerProps) {\n  const definition: TemplateDefinition | undefined = definitionMap[slug];\n  const router = useRouter();\n  const [values, setValues] = useState<Record<string, any>>({});\n  const [validation, setValidation] = useState<Record<string, string>>({});\n  const [resultSummary, setResultSummary] = useState(\"\");\n  const [assumptions, setAssumptions] = useState<string[]>([]);\n  const [nextSteps, setNextSteps] = useState<string[]>([]);\n  const [chartData, setChartData] = useState<Record<string, any>[]>([]);\n  const [matrixPlacement, setMatrixPlacement] = useState<{ row: number; col: number } | undefined>();\n  const [riskBand, setRiskBand] = useState<string | undefined>();\n  const [scores, setScores] = useState<Record<string, number>>({});\n  const [meaning, setMeaning] = useState<string>(\"\");\n  const [whyMatters, setWhyMatters] = useState<string>(\"\");\n  const [whenBreaks, setWhenBreaks] = useState<string>(\"\");\n  const [runs, setRuns] = useState<StoredRun[]>([]);\n  const [versionWarning, setVersionWarning] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!definition) return;\n    setRuns(loadRuns(definition.slug));\n    const initial: Record<string, any> = {};\n    definition.fields.forEach((field) => {\n      initial[field.id] = defaultValueForField(field);\n    });\n    setValues(initial);\n  }, [definition]);\n\n  const validate = (vals: Record<string, any>) => {\n    const v: Record<string, string> = {};\n    definition?.fields.forEach((f) => {\n      if (f.required && (vals[f.id] === \"\" || vals[f.id] === undefined || vals[f.id] === null || (Array.isArray(vals[f.id]) && vals[f.id].length === 0))) {\n        v[f.id] = \"Required\";\n      }\n      if (f.validation?.min !== undefined && typeof vals[f.id] === \"number\" && vals[f.id] < f.validation.min) {\n        v[f.id] = `Minimum ${f.validation.min}`;\n      }\n      if (f.validation?.max !== undefined && typeof vals[f.id] === \"number\" && vals[f.id] > f.validation.max) {\n        v[f.id] = `Maximum ${f.validation.max}`;\n      }\n    });\n    setValidation(v);\n    return Object.keys(v).length === 0;\n  };\n\n  const runCalc = useMemo(\n    () =>\n      debounce(() => {\n        if (!definition) return;\n        if (!validate(values)) return;\n        const res = definition.calcFn(values);\n        setScores(res.scores);\n        setRiskBand(res.riskBand);\n        setResultSummary(res.explanation);\n        setAssumptions(res.assumptions || []);\n        setNextSteps(res.nextSteps || []);\n        setChartData(res.chartData || []);\n        setMatrixPlacement(res.matrixPlacement);\n        setMeaning(res.meaning || \"\");\n        setWhyMatters(res.whyItMatters || \"\");\n        setWhenBreaks(res.whenItBreaks || \"\");\n        const stored = saveRun({\n          templateSlug: definition.slug,\n          templateVersion: definition.version,\n          inputs: values,\n          outputs: {\n            scores: res.scores,\n            riskBand: res.riskBand,\n            explanation: res.explanation,\n            assumptions: res.assumptions,\n            nextSteps: res.nextSteps,\n            chartData: res.chartData,\n            matrixPlacement: res.matrixPlacement,\n          },\n          summary: res.explanation || definition.title,\n        });\n        setRuns((prev) => {\n          const filtered = prev.filter((r) => r.id !== stored.id);\n          return [stored, ...filtered];\n        });\n      }, 250),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [definition, values]\n  );\n\n  useEffect(() => {\n    runCalc();\n  }, [values, runCalc]);\n\n  if (!definition) {\n    return (\n      <div className=\"mx-auto max-w-3xl px-4 py-10 text-slate-800\">\n        <p className=\"text-lg font-semibold\">Template not found.</p>\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/templates\")}\n          className=\"mt-4 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white\"\n        >\n          Back to templates\n        </button>\n      </div>\n    );\n  }\n\n  const handleChange = (id: string, val: any) => {\n    setValues((prev) => ({ ...prev, [id]: val }));\n  };\n\n  const handleReset = () => {\n    const confirmed = window.confirm(\"Reset all inputs?\");\n    if (!confirmed) return;\n    const initial: Record<string, any> = {};\n    definition.fields.forEach((f) => {\n      initial[f.id] = defaultValueForField(f);\n    });\n    setValues(initial);\n    setValidation({});\n    setScores({});\n    setRiskBand(undefined);\n    setAssumptions([]);\n    setNextSteps([]);\n    setResultSummary(\"\");\n    setChartData([]);\n    setMatrixPlacement(undefined);\n  };\n\n  const category = TEMPLATE_CATEGORIES.find((c) => c.id === definition.category);\n  const primaryScore = typeof scores.risk === \"number\" ? scores.risk : 0;\n  const normalizedScore = Math.max(0, Math.min(100, primaryScore * (primaryScore > 10 ? 1 : 10)));\n  const bandColor =\n    riskBand === \"Critical\"\n      ? \"bg-rose-500\"\n      : riskBand === \"High\"\n      ? \"bg-amber-500\"\n      : riskBand === \"Moderate\"\n      ? \"bg-yellow-500\"\n      : \"bg-emerald-500\";\n  const requiredMissing = definition.fields.some(\n    (f) =>\n      f.required &&\n      (values[f.id] === \"\" ||\n        values[f.id] === undefined ||\n        values[f.id] === null ||\n        (Array.isArray(values[f.id]) && values[f.id].length === 0))\n  );\n\n  return (\n    <div className=\"page-content mx-auto max-w-6xl space-y-6 px-4 py-8 sm:px-6\" data-mode=\"preview\">\n      <div className=\"flex items-center gap-2 text-sm text-slate-700\">\n        <Link href=\"/templates\" className=\"font-semibold text-slate-900 underline decoration-slate-300 decoration-2 underline-offset-4\">\n          Templates\n        </Link>\n        <span aria-hidden=\"true\">/</span>\n        {category ? (\n          <Link href={`/templates/${category.id}`} className=\"font-semibold text-slate-900 underline decoration-slate-300 decoration-2 underline-offset-4\">\n            {category.title}\n          </Link>\n        ) : (\n          <span className=\"text-slate-600\">Category</span>\n        )}\n        <span aria-hidden=\"true\">/</span>\n        <span className=\"text-slate-500\">{definition.title}</span>\n      </div>\n\n      <div className=\"space-y-3 rounded-3xl bg-gradient-to-br from-slate-50 via-sky-50/60 to-slate-50 px-6 py-6 ring-1 ring-slate-100 shadow-[0_18px_45px_rgba(15,23,42,0.06)]\">\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Template runner</p>\n            <h1 className=\"text-3xl font-semibold text-slate-900\">{definition.title}</h1>\n            <p className=\"text-sm text-slate-700\">{definition.description}</p>\n            <p className=\"text-xs text-slate-600\">Estimated {definition.estimatedMinutes} minutes. Processed locally in your browser.</p>\n            {versionWarning && <p className=\"text-xs font-semibold text-amber-700\">{versionWarning}</p>}\n          </div>\n          <div className=\"inline-flex flex-wrap items-center gap-2\">\n            <RiskBadge band={riskBand} />\n            <button\n              type=\"button\"\n              onClick={handleReset}\n              className=\"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            >\n              Reset\n            </button>\n          </div>\n        </div>\n        <p className=\"text-xs text-slate-700\">Disclaimer: informational only, not legal or professional advice. Results depend on inputs.</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-4 lg:grid-cols-[1.1fr_0.9fr]\">\n        <div className=\"space-y-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-sm font-semibold text-slate-900\">Inputs</p>\n            <span className=\"text-xs text-slate-700\">Keyboard and screen reader friendly</span>\n          </div>\n          <div className=\"space-y-4\">\n            {definition.fields.map((field) => {\n              const common = {\n                id: field.id,\n                label: field.label,\n                help: field.help,\n                example: field.example,\n                required: field.required,\n                validationMessage: validation[field.id],\n                why: field.why,\n                value: values[field.id],\n                onChange: (v: any) => handleChange(field.id, v),\n              };\n              if (field.type === \"text\") return <FieldText key={field.id} {...common} placeholder={field.placeholder} />;\n              if (field.type === \"textarea\") return <FieldTextarea key={field.id} {...common} placeholder={field.placeholder} rows={3} />;\n              if (field.type === \"select\") return <FieldSelect key={field.id} {...common} options={field.options || []} />;\n              if (field.type === \"multiselect\") return <FieldMultiSelect key={field.id} {...common} options={field.options || []} />;\n              if (field.type === \"number\") return <FieldNumber key={field.id} {...common} min={field.validation?.min} max={field.validation?.max} step={field.step} placeholder={field.placeholder} />;\n              if (field.type === \"slider\") return <FieldSlider key={field.id} {...common} min={field.validation?.min} max={field.validation?.max} step={field.step} />;\n              if (field.type === \"toggle\") return <FieldToggle key={field.id} {...common} />;\n              if (field.type === \"date\") return <FieldDate key={field.id} {...common} />;\n              if (field.type === \"file\") return <FieldFileUpload key={field.id} {...common} />;\n              return null;\n            })}\n          </div>\n        </div>\n\n        <div className=\"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-sm font-semibold text-slate-900\">Results</p>\n            <RiskBadge band={riskBand} />\n          </div>\n          <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n            <ScoreCard title=\"Primary score\" value={scores.risk ?? \"-\"} />\n            <ScoreCard title=\"Estimated time\" value={`${definition.estimatedMinutes} mins`} />\n          </div>\n          <ExplanationBlock text={resultSummary || \"Adjust inputs to see results update live.\"} />\n          {(meaning || whyMatters || whenBreaks) && (\n            <div className=\"grid gap-2 sm:grid-cols-3\">\n              <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800\">\n                <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">What this means</p>\n                <p className=\"mt-1\">{meaning || \"Updates as you change inputs.\"}</p>\n              </div>\n              <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800\">\n                <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Why it matters</p>\n                <p className=\"mt-1\">{whyMatters || \"Shows impact of your selections.\"}</p>\n              </div>\n              <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800\">\n                <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">When this breaks down</p>\n                <p className=\"mt-1\">{whenBreaks || \"Heuristics only; validate with real data.\"}</p>\n              </div>\n            </div>\n          )}\n          <AssumptionsPanel items={assumptions} />\n          <NextStepsPanel steps={nextSteps} />\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Score guide</p>\n            <div className=\"h-2 w-full overflow-hidden rounded-full bg-slate-100\">\n              <div className={`h-full ${bandColor}`} style={{ width: `${normalizedScore}%` }} />\n            </div>\n          </div>\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800\">\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">History</p>\n            {runs.length === 0 ? (\n              <p className=\"text-sm text-slate-700\">No runs saved yet. Fill inputs to save automatically.</p>\n            ) : (\n              <ul className=\"mt-2 space-y-2\">\n                {runs.map((run) => {\n                  const updatedVersion = run.templateVersion && definition.version && run.templateVersion !== definition.version;\n                  return (\n                    <li key={run.id} className=\"rounded-xl border border-slate-100 bg-slate-50 p-3\">\n                      <div className=\"flex items-center justify-between gap-2\">\n                        <div className=\"text-sm font-semibold text-slate-900\">{new Date(run.updatedAt).toLocaleString()}</div>\n                        <div className=\"flex gap-2\">\n                          <button\n                            type=\"button\"\n                            className=\"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700\"\n                            onClick={() => {\n                              if (updatedVersion) {\n                                setVersionWarning(\"This template has been updated since this run.\");\n                              } else {\n                                setVersionWarning(null);\n                              }\n                              setValues(run.inputs);\n                            }}\n                          >\n                            Resume\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700\"\n                            onClick={() => {\n                              const copy = duplicateRun(run.id);\n                              if (copy) setRuns(loadRuns(definition.slug));\n                            }}\n                          >\n                            Duplicate\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-800 hover:bg-rose-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-700\"\n                            onClick={() => {\n                              deleteRun(run.id);\n                              setRuns(loadRuns(definition.slug));\n                            }}\n                          >\n                            Delete\n                          </button>\n                        </div>\n                      </div>\n                      <p className=\"mt-1 text-xs text-slate-700\">{run.summary}</p>\n                      {updatedVersion ? (\n                        <p className=\"text-sm font-semibold text-amber-700\">This run used version {run.templateVersion}. Current version is {definition.version}.</p>\n                      ) : null}\n                    </li>\n                  );\n                })}\n              </ul>\n            )}\n          </div>\n          <CPDEvidencePanel\n            itemId={definition.slug}\n            activityType=\"template-submission\"\n            defaultObjectives={[definition.title]}\n            defaultMinutes={definition.estimatedMinutes * 2}\n            evidenceLinks={[resultSummary]}\n            templateVersion={definition.version}\n            category={definition.category}\n          />\n          <div className=\"space-y-2\">\n            {definition.charts.map((chart) => {\n              if (chart.type === \"matrix\") return <RiskMatrix key={chart.id} placement={matrixPlacement} />;\n              if (chart.type === \"radar\") return <TemplateRadarChart key={chart.id} data={chartData} />;\n              if (chart.type === \"bar\") return <TemplateBarChart key={chart.id} data={chartData} xKey={chart.xKey} yKeys={chart.yKeys} />;\n              if (chart.type === \"line\") return <TemplateLineChart key={chart.id} data={chartData} xKey={chart.xKey} yKey={chart.yKey} />;\n              return null;\n            })}\n          </div>\n        </div>\n      </div>\n\n      <ExportBar\n        disabled={requiredMissing || !resultSummary}\n        disabledReason={requiredMissing ? \"Fill required fields to enable exports.\" : undefined}\n        summary={resultSummary || \"No summary yet. Complete required fields first.\"}\n        assumptions={assumptions}\n        references={nextSteps}\n        fileBaseName={definition.slug}\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport React, { useState } from \"react\";\n\ntype FieldWrapperProps = {\n  id: string;\n  label: string;\n  help?: string;\n  example?: string;\n  required?: boolean;\n  validationMessage?: string;\n  why?: string;\n  children: React.ReactNode;\n};\n\nexport function FieldWrapper({ id, label, help, example, required, validationMessage, why, children }: FieldWrapperProps) {\n  const [showWhy, setShowWhy] = useState(false);\n  return (\n    <div className=\"space-y-1\">\n      <label htmlFor={id} className=\"flex items-center gap-2 text-sm font-semibold text-slate-900\">\n        <span>{label}</span>\n        {required ? <span className=\"rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-800\">Required</span> : null}\n      </label>\n      {help ? <p className=\"text-xs text-slate-700\">{help}</p> : null}\n      {children}\n      {example ? <p className=\"text-xs text-slate-600\">Example: {example}</p> : null}\n      {validationMessage ? <p className=\"text-xs font-semibold text-rose-700\">{validationMessage}</p> : null}\n      {why ? (\n        <button\n          type=\"button\"\n          onClick={() => setShowWhy((v) => !v)}\n          className=\"text-xs font-semibold text-slate-700 underline decoration-slate-300 underline-offset-4 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n          aria-expanded={showWhy}\n          aria-controls={`${id}-why`}\n        >\n          Why we ask this\n        </button>\n      ) : null}\n      {why && showWhy ? (\n        <div id={`${id}-why`} className=\"rounded-lg border border-slate-200 bg-slate-50/80 p-2 text-xs text-slate-700\">\n          {why}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","\"use client\";\n\nimport React from \"react\";\nimport { FieldWrapper } from \"./FieldWrapper\";\n\ntype BaseProps = {\n  id: string;\n  label: string;\n  value: any;\n  onChange: (value: any) => void;\n  help?: string;\n  example?: string;\n  required?: boolean;\n  validationMessage?: string;\n  why?: string;\n  placeholder?: string;\n};\n\nexport function FieldText(props: BaseProps & { type?: \"text\" | \"email\" }) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, placeholder, type = \"text\" } = props;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <input\n        id={id}\n        name={id}\n        type={type}\n        className=\"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n        value={value ?? \"\"}\n        placeholder={placeholder}\n        onChange={(e) => onChange(e.target.value)}\n      />\n    </FieldWrapper>\n  );\n}\n\nexport function FieldTextarea(props: BaseProps & { rows?: number }) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, placeholder, rows = 3 } = props;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <textarea\n        id={id}\n        name={id}\n        rows={rows}\n        className=\"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n        value={value ?? \"\"}\n        placeholder={placeholder}\n        onChange={(e) => onChange(e.target.value)}\n      />\n    </FieldWrapper>\n  );\n}\n\nexport function FieldSelect(\n  props: BaseProps & {\n    options: { label: string; value: string }[];\n  }\n) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, options } = props;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <select\n        id={id}\n        name={id}\n        className=\"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n        value={value ?? \"\"}\n        onChange={(e) => onChange(e.target.value)}\n      >\n        <option value=\"\">Select...</option>\n        {options.map((opt) => (\n          <option key={opt.value} value={opt.value}>\n            {opt.label}\n          </option>\n        ))}\n      </select>\n    </FieldWrapper>\n  );\n}\n\nexport function FieldMultiSelect(\n  props: BaseProps & {\n    options: { label: string; value: string }[];\n  }\n) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, options } = props;\n  const selected = Array.isArray(value) ? value : [];\n  const toggle = (val: string) => {\n    if (selected.includes(val)) onChange(selected.filter((v: string) => v !== val));\n    else onChange([...selected, val]);\n  };\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <div className=\"flex flex-wrap gap-2\">\n        {options.map((opt) => {\n          const active = selected.includes(opt.value);\n          return (\n            <button\n              key={opt.value}\n              type=\"button\"\n              onClick={() => toggle(opt.value)}\n              className={`rounded-full border px-3 py-1 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${\n                active ? \"border-slate-900 bg-slate-900 text-white\" : \"border-slate-200 bg-white text-slate-800 hover:bg-slate-50\"\n              }`}\n              aria-pressed={active}\n            >\n              {opt.label}\n            </button>\n          );\n        })}\n      </div>\n    </FieldWrapper>\n  );\n}\n\nexport function FieldNumber(props: BaseProps & { min?: number; max?: number; step?: number }) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, placeholder, min, max, step } = props;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <input\n        id={id}\n        name={id}\n        type=\"number\"\n        min={min}\n        max={max}\n        step={step || 1}\n        className=\"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n        value={value ?? \"\"}\n        placeholder={placeholder}\n        onChange={(e) => onChange(e.target.value === \"\" ? \"\" : Number(e.target.value))}\n      />\n    </FieldWrapper>\n  );\n}\n\nexport function FieldSlider(props: BaseProps & { min?: number; max?: number; step?: number }) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, min = 0, max = 10, step = 1 } = props;\n  const val = typeof value === \"number\" ? value : Number(value) || 0;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <div className=\"flex items-center gap-3\">\n        <input\n          id={id}\n          name={id}\n          type=\"range\"\n          min={min}\n          max={max}\n          step={step}\n          value={val}\n          onChange={(e) => onChange(Number(e.target.value))}\n          className=\"flex-1 accent-slate-900\"\n        />\n        <span className=\"w-10 text-right text-sm font-semibold text-slate-900\">{val}</span>\n      </div>\n    </FieldWrapper>\n  );\n}\n\nexport function FieldToggle(props: BaseProps & { onLabel?: string; offLabel?: string }) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why, onLabel = \"On\", offLabel = \"Off\" } = props;\n  const active = Boolean(value);\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <button\n        type=\"button\"\n        onClick={() => onChange(!active)}\n        className={`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${\n          active ? \"border-slate-900 bg-slate-900 text-white\" : \"border-slate-200 bg-white text-slate-800 hover:bg-slate-50\"\n        }`}\n        aria-pressed={active}\n      >\n        <span\n          aria-hidden=\"true\"\n          className={`relative inline-flex h-5 w-9 items-center rounded-full border ${active ? \"border-emerald-300 bg-emerald-500\" : \"border-slate-300 bg-slate-200\"}`}\n        >\n          <span\n            className={`inline-block h-4 w-4 rounded-full bg-white transition ${active ? \"translate-x-4\" : \"translate-x-0.5\"}`}\n          />\n        </span>\n        {active ? onLabel : offLabel}\n      </button>\n    </FieldWrapper>\n  );\n}\n\nexport function FieldDate(props: BaseProps) {\n  const { id, label, value, onChange, help, example, required, validationMessage, why } = props;\n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <input\n        id={id}\n        name={id}\n        type=\"date\"\n        className=\"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n        value={value ?? \"\"}\n        onChange={(e) => onChange(e.target.value)}\n      />\n    </FieldWrapper>\n  );\n}\n\nexport function FieldFileUpload(props: BaseProps & { accept?: string; onSafeParse?: (text: string) => void }) {\n  const { id, label, onChange, help, example, required, validationMessage, why, accept = \".txt,.csv,.json\", onSafeParse } = props;\n  const { sanitizeFileName, validateFileType } = require(\"@/lib/studios/security/inputSanitizer\");\n  const { auditLogger, AuditActions } = require(\"@/lib/studios/security/auditLogger\");\n  \n  // Parse allowed extensions from accept string\n  const allowedExtensions = accept.split(\",\").map(ext => ext.trim().startsWith(\".\") ? ext.trim() : `.${ext.trim()}`);\n  \n  return (\n    <FieldWrapper id={id} label={label} help={help} example={example} required={required} validationMessage={validationMessage} why={why}>\n      <input\n        id={id}\n        name={id}\n        type=\"file\"\n        accept={accept}\n        className=\"w-full text-sm text-slate-800\"\n        onChange={async (e) => {\n          const file = e.target.files?.[0];\n          if (!file) return;\n\n          // Sanitize file name\n          const sanitizedName = sanitizeFileName(file.name);\n          const sanitizedFile = sanitizedName !== file.name \n            ? new File([file], sanitizedName, { type: file.type })\n            : file;\n\n          // Validate file size\n          if (sanitizedFile.size > 2 * 1024 * 1024) {\n            auditLogger.log(AuditActions.ERROR_OCCURRED, \"template-field\", {\n              error: \"file_too_large\",\n              fileName: sanitizedName,\n              fileSize: sanitizedFile.size\n            });\n            onChange(null);\n            return;\n          }\n\n          // Validate file type\n          const ext = \".\" + sanitizedFile.name.split(\".\").pop()?.toLowerCase();\n          const validation = validateFileType(sanitizedFile, [], allowedExtensions);\n          if (!validation.valid) {\n            auditLogger.log(AuditActions.ERROR_OCCURRED, \"template-field\", {\n              error: \"invalid_file_type\",\n              fileName: sanitizedName,\n              extension: ext\n            });\n            onChange(null);\n            return;\n          }\n\n          // Check for dangerous file types\n          const dangerousExtensions = [\".exe\", \".bat\", \".cmd\", \".com\", \".pif\", \".scr\", \".vbs\", \".js\", \".jar\"];\n          if (dangerousExtensions.includes(ext)) {\n            auditLogger.log(AuditActions.ERROR_OCCURRED, \"template-field\", {\n              error: \"dangerous_file_type\",\n              fileName: sanitizedName,\n              extension: ext\n            });\n            onChange(null);\n            return;\n          }\n\n          auditLogger.log(AuditActions.FILE_UPLOADED, \"template-field\", {\n            fileName: sanitizedName,\n            fileSize: sanitizedFile.size\n          });\n\n          const text = await sanitizedFile.text();\n          onChange(sanitizedName);\n          onSafeParse?.(text);\n        }}\n      />\n      <p className=\"text-xs text-slate-700\">Processed locally in your browser. No uploads are stored.</p>\n    </FieldWrapper>\n  );\n}\n","\"use client\";\n\nimport React from \"react\";\n\nexport function ScoreCard({ title, value, subtitle }: { title: string; value: string | number; subtitle?: string }) {\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n      <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">{title}</p>\n      <p className=\"text-2xl font-semibold text-slate-900\">{value}</p>\n      {subtitle ? <p className=\"text-sm text-slate-700\">{subtitle}</p> : null}\n    </div>\n  );\n}\n\nexport function RiskBadge({ band }: { band?: string }) {\n  const color =\n    band === \"Critical\" ? \"bg-rose-100 text-rose-800\" : band === \"High\" ? \"bg-amber-100 text-amber-800\" : band === \"Moderate\" ? \"bg-yellow-100 text-yellow-800\" : \"bg-emerald-100 text-emerald-800\";\n  return (\n    <span className={`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${color}`}>\n      <span aria-hidden=\"true\" className=\"h-2 w-2 rounded-full bg-current\" />\n      {band || \"Not rated\"}\n    </span>\n  );\n}\n\nexport function ConfidenceChip({ confidence }: { confidence?: string }) {\n  if (!confidence) return null;\n  return <span className=\"rounded-full bg-sky-100 px-3 py-1 text-xs font-semibold text-sky-800\">Confidence: {confidence}</span>;\n}\n\nexport function AssumptionsPanel({ items }: { items: string[] }) {\n  if (!items.length) return null;\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-4\">\n      <p className=\"text-sm font-semibold text-slate-900\">Assumptions</p>\n      <ul className=\"mt-2 space-y-1 text-sm text-slate-700\">\n        {items.map((item) => (\n          <li key={item} className=\"flex items-start gap-2\">\n            <span aria-hidden=\"true\">â€¢</span>\n            <span>{item}</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport function ExplanationBlock({ text }: { text: string }) {\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n      <p className=\"text-sm font-semibold text-slate-900\">Explanation</p>\n      <p className=\"mt-1 text-sm text-slate-700 leading-relaxed\">{text}</p>\n    </div>\n  );\n}\n\nexport function NextStepsPanel({ steps }: { steps: string[] }) {\n  if (!steps.length) return null;\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n      <p className=\"text-sm font-semibold text-slate-900\">Next steps</p>\n      <ol className=\"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700\">\n        {steps.map((step) => (\n          <li key={step}>{step}</li>\n        ))}\n      </ol>\n    </div>\n  );\n}\n","\"use client\";\n\nimport React from \"react\";\n\ntype ExportBarProps = {\n  disabled?: boolean;\n  disabledReason?: string;\n  summary: string;\n  assumptions: string[];\n  references?: string[];\n  fileBaseName: string;\n};\n\nexport function ExportBar({ disabled = true, disabledReason = \"Export unlocked later\", summary, assumptions, references, fileBaseName }: ExportBarProps) {\n  const formats: Array<{ id: \"pdf\" | \"docx\" | \"csv\"; label: string }> = [\n    { id: \"pdf\", label: \"Export PDF\" },\n    { id: \"docx\", label: \"Export DOCX\" },\n    { id: \"csv\", label: \"Export CSV\" },\n  ];\n\n  const handle = () => {\n    // Exports locked for now (Stage 9D)\n    return;\n  };\n\n  return (\n    <div className=\"sticky bottom-0 z-10 flex flex-wrap items-center gap-2 rounded-2xl border border-slate-200 bg-white/90 p-3 shadow-sm backdrop-blur\">\n      <p className=\"text-sm font-semibold text-slate-900\">Export</p>\n      {formats.map((fmt) => (\n        <button\n          key={fmt.id}\n          type=\"button\"\n          onClick={handle}\n          disabled={disabled}\n          title={disabledReason}\n          className={`rounded-full px-3 py-1 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${\n            disabled ? \"cursor-not-allowed bg-slate-100 text-slate-400\" : \"bg-slate-900 text-white hover:bg-slate-800\"\n          }`}\n        >\n          {fmt.label}\n        </button>\n      ))}\n      <button\n        type=\"button\"\n        onClick={() => navigator.clipboard.writeText(summary)}\n        className=\"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n      >\n        Copy summary\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => navigator.clipboard.writeText(assumptions.join(\"\\n\"))}\n        className=\"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n      >\n        Copy assumptions\n      </button>\n      {references?.length ? (\n        <button\n          type=\"button\"\n          onClick={() => navigator.clipboard.writeText(references.join(\"\\n\"))}\n          className=\"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n        >\n          Copy references\n        </button>\n      ) : null}\n      {disabled ? <p className=\"text-xs text-amber-700\">{disabledReason}</p> : null}\n    </div>\n  );\n}\n\nexport default ExportBar;\n","\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport React from \"react\";\n\nconst RadarChartComp = dynamic(() => import(\"./parts/RadarChart\"), { ssr: false });\nconst LineChartComp = dynamic(() => import(\"./parts/LineChart\"), { ssr: false });\nconst BarChartComp = dynamic(() => import(\"./parts/BarChart\"), { ssr: false });\n\ntype MatrixProps = {\n  placement?: { row: number; col: number };\n};\n\nexport function RiskMatrix({ placement }: MatrixProps) {\n  const rows = [\"Very High\", \"High\", \"Medium\", \"Low\", \"Very Low\"];\n  const cols = [\"Very Low\", \"Low\", \"Medium\", \"High\", \"Very High\"];\n  return (\n    <div className=\"space-y-2\">\n      <p className=\"text-sm font-semibold text-slate-900\">Risk matrix</p>\n      <div className=\"overflow-x-auto\">\n        <div className=\"grid grid-cols-6 gap-1 min-w-[320px]\">\n          <div />\n          {cols.map((c) => (\n            <div key={c} className=\"text-center text-xs font-semibold text-slate-700\">\n              {c}\n            </div>\n          ))}\n          {rows.map((r, rowIdx) => (\n            <React.Fragment key={r}>\n              <div className=\"text-xs font-semibold text-slate-700\">{r}</div>\n              {cols.map((c, colIdx) => {\n                const active = placement && placement.row === rowIdx && placement.col === colIdx;\n                return (\n                  <div\n                    key={c}\n                    className={`h-10 rounded ${active ? \"bg-amber-200 border-2 border-amber-500\" : \"bg-slate-100\"} flex items-center justify-center text-sm text-slate-700`}\n                    aria-label={`${r} x ${c}`}\n                  >\n                    {active ? \"Current\" : \"\"}\n                  </div>\n                );\n              })}\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function TemplateRadarChart({ data }: { data: Record<string, any>[] }) {\n  if (!data?.length) return null;\n  return <RadarChartComp data={data} dataKey=\"name\" valueKey=\"value\" />;\n}\n\nexport function TemplateLineChart({ data, xKey, yKey }: { data: Record<string, any>[]; xKey: string; yKey: string }) {\n  if (!data?.length) return null;\n  return <LineChartComp data={data} xKey={xKey} yKey={yKey} />;\n}\n\nexport function TemplateBarChart({ data, xKey, yKeys }: { data: Record<string, any>[]; xKey: string; yKeys: string[] }) {\n  if (!data?.length) return null;\n  return <BarChartComp data={data} xKey={xKey} yKeys={yKeys} />;\n}\n","/* Local CPD record storage; frontend-only */\n\nexport type CpdActivityType = \"course-module\" | \"template-submission\" | \"assessment\";\n\nexport type CpdRecord = {\n  id: string;\n  userId: string;\n  itemId: string; // course or template id\n  activityType: CpdActivityType;\n  learningObjectives: string[];\n  timeMinutes: number;\n  completedAt: number;\n  reflection?: string;\n  evidenceLinks?: string[];\n  templateVersion?: string;\n  hoursCredited?: number;\n  category?: string;\n};\n\nconst STORAGE_KEY = \"cpd-records\";\nconst USER_KEY = \"template-run-user-id\";\nconst isBrowser = typeof window !== \"undefined\";\n\nexport function getCpdUserId() {\n  if (!isBrowser) return \"server\";\n  let id = window.localStorage.getItem(USER_KEY);\n  if (!id) {\n    id = crypto.randomUUID();\n    window.localStorage.setItem(USER_KEY, id);\n  }\n  return id;\n}\n\nfunction readAll(): CpdRecord[] {\n  if (!isBrowser) return [];\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    return raw ? (JSON.parse(raw) as CpdRecord[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeAll(records: CpdRecord[]) {\n  if (!isBrowser) return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(records));\n}\n\nexport function listCpdRecords(): CpdRecord[] {\n  const userId = getCpdUserId();\n  return readAll().filter((r) => r.userId === userId);\n}\n\nexport function saveCpdRecord(record: Omit<CpdRecord, \"id\" | \"userId\" | \"completedAt\"> & { id?: string; completedAt?: number }): CpdRecord {\n  const userId = getCpdUserId();\n  const id = record.id || `${userId}-${crypto.randomUUID()}`;\n  const completedAt = record.completedAt || Date.now();\n  const entry: CpdRecord = { ...record, id, userId, completedAt };\n  const existing = readAll().filter((r) => r.id !== id);\n  writeAll([entry, ...existing]);\n  return entry;\n}\n\nexport function deleteCpdRecord(id: string) {\n  writeAll(readAll().filter((r) => r.id !== id));\n}\n\nexport function totalHours(records: CpdRecord[]) {\n  return records.reduce((sum, rec) => sum + (rec.hoursCredited ?? rec.timeMinutes / 60), 0);\n}\n\nexport function exportCpdCsv(records: CpdRecord[]) {\n  const rows = [\"id,itemId,activityType,category,minutes,completedAt\"];\n  records.forEach((r) => rows.push(`${r.id},${r.itemId},${r.activityType},${r.category || \"\"},${r.timeMinutes},${new Date(r.completedAt).toISOString()}`));\n  return new Blob([rows.join(\"\\n\")], { type: \"text/csv\" });\n}\n\nexport function exportCpdJson(records: CpdRecord[]) {\n  return new Blob([JSON.stringify(records, null, 2)], { type: \"application/json\" });\n}\n","\"use client\";\n\nimport React, { useMemo, useState } from \"react\";\nimport { saveCpdRecord } from \"@/lib/cpdRecords\";\n\ntype Props = {\n  itemId: string;\n  activityType: \"course-module\" | \"template-submission\" | \"assessment\";\n  defaultObjectives?: string[];\n  defaultMinutes?: number;\n  evidenceLinks?: string[];\n  templateVersion?: string;\n  category?: string;\n};\n\nexport default function CPDEvidencePanel({ itemId, activityType, defaultObjectives = [], defaultMinutes = 20, evidenceLinks = [], templateVersion, category }: Props) {\n  const [objectives, setObjectives] = useState<string[]>(defaultObjectives);\n  const [reflection, setReflection] = useState(\"\");\n  const [message, setMessage] = useState<string | null>(null);\n\n  const minutes = Math.max(5, Math.round(Number(defaultMinutes) || 20));\n  const valid = useMemo(() => minutes > 0 && objectives.length > 0, [minutes, objectives]);\n\n  const handleSave = () => {\n    if (!valid) {\n      setMessage(\"Add at least one objective and minutes.\");\n      return;\n    }\n    saveCpdRecord({\n      itemId,\n      activityType,\n      learningObjectives: objectives,\n      timeMinutes: minutes,\n      reflection: reflection.trim() || undefined,\n      evidenceLinks,\n      templateVersion,\n      category,\n    });\n    setMessage(\"Saved to your CPD records locally.\");\n  };\n\n  return (\n    <div className=\"space-y-3 rounded-2xl border border-slate-200 bg-white/95 p-4 shadow-sm\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">CPD evidence</p>\n          <p className=\"text-sm text-slate-800\">Capture objectives, time, and a short reflection.</p>\n        </div>\n        <span className=\"rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold text-white\">Local only</span>\n      </div>\n\n      <div className=\"space-y-2\">\n        <label className=\"text-sm font-semibold text-slate-900\">Learning objectives met</label>\n        <textarea\n          className=\"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500 focus-visible:ring-offset-2\"\n          rows={2}\n          value={objectives.join(\"\\n\")}\n          onChange={(e) => setObjectives(e.target.value.split(\"\\n\").filter(Boolean))}\n          placeholder=\"List objectives achieved...\"\n        />\n      </div>\n\n      <div className=\"space-y-1\">\n        <label className=\"text-sm font-semibold text-slate-900\">Time spent (minutes)</label>\n        <div className=\"w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900\">\n          {minutes}\n        </div>\n        <p className=\"text-xs text-slate-600\">This is set by the site. Learners cannot edit time.</p>\n      </div>\n\n      <div className=\"space-y-1\">\n        <label className=\"text-sm font-semibold text-slate-900\">Reflection (optional)</label>\n        <textarea\n          className=\"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500 focus-visible:ring-offset-2\"\n          rows={3}\n          value={reflection}\n          onChange={(e) => setReflection(e.target.value)}\n          placeholder=\"What did you learn? How will you apply it?\"\n        />\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={handleSave}\n        className=\"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700\"\n      >\n        Save CPD record\n      </button>\n      {message && (\n        <p className=\"text-xs font-semibold text-emerald-700\" role=\"status\" aria-live=\"polite\">\n          {message}\n        </p>\n      )}\n    </div>\n  );\n}\n","/* Local persistence for template runs (client-side only) */\n\nexport type StoredRun = {\n  id: string;\n  templateSlug: string;\n  templateVersion?: string;\n  inputs: Record<string, unknown>;\n  outputs: {\n    scores: Record<string, number>;\n    riskBand?: string;\n    explanation?: string;\n    assumptions?: string[];\n    nextSteps?: string[];\n    chartData?: Record<string, unknown>[];\n    matrixPlacement?: { row: number; col: number };\n  };\n  summary: string;\n  createdAt: number;\n  updatedAt: number;\n};\n\nconst STORAGE_KEY = \"template-runs\";\nconst USER_KEY = \"template-run-user-id\";\n\nconst isBrowser = typeof window !== \"undefined\";\n\nfunction getUserId() {\n  if (!isBrowser) return \"server\";\n  let id = window.localStorage.getItem(USER_KEY);\n  if (!id) {\n    id = crypto.randomUUID();\n    window.localStorage.setItem(USER_KEY, id);\n  }\n  return id;\n}\n\nfunction readAll(): StoredRun[] {\n  if (!isBrowser) return [];\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    return raw ? (JSON.parse(raw) as StoredRun[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeAll(runs: StoredRun[]) {\n  if (!isBrowser) return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(runs));\n}\n\nexport function loadRuns(templateSlug: string): StoredRun[] {\n  const userId = getUserId();\n  return readAll().filter((run) => run.templateSlug === templateSlug && run.id.startsWith(userId));\n}\n\nexport function saveRun(run: Omit<StoredRun, \"id\" | \"createdAt\" | \"updatedAt\"> & { id?: string; createdAt?: number }): StoredRun {\n  const userId = getUserId();\n  const id = run.id || `${userId}-${crypto.randomUUID()}`;\n  const existing = readAll();\n  const now = Date.now();\n  const updated: StoredRun = {\n    ...run,\n    id,\n    createdAt: run.createdAt || now,\n    updatedAt: now,\n  };\n  const filtered = existing.filter((r) => r.id !== id);\n  filtered.unshift(updated);\n  writeAll(filtered);\n  return updated;\n}\n\nexport function deleteRun(id: string) {\n  const existing = readAll();\n  writeAll(existing.filter((r) => r.id !== id));\n}\n\nexport function duplicateRun(id: string): StoredRun | null {\n  const existing = readAll();\n  const found = existing.find((r) => r.id === id);\n  if (!found) return null;\n  const copy = saveRun({ ...found, id: undefined, createdAt: undefined });\n  return copy;\n}\n\nexport function exportRun(run: StoredRun, format: \"csv\" | \"json\"): Blob {\n  if (format === \"json\") {\n    return new Blob([JSON.stringify(run, null, 2)], { type: \"application/json\" });\n  }\n  const rows: string[] = [];\n  rows.push(\"Key,Value\");\n  Object.entries(run.inputs).forEach(([k, v]) => rows.push(`${k},${JSON.stringify(v)}`));\n  Object.entries(run.outputs.scores || {}).forEach(([k, v]) => rows.push(`${k},${v}`));\n  return new Blob([rows.join(\"\\n\")], { type: \"text/csv\" });\n}\n"],"names":[],"mappings":"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"}}]
}