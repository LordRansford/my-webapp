{
  "version": 3,
  "sources": [],
  "debugId": "f3b82c18-d9ec-b83b-08cc-7701eaa4bfb2",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/games/games/allocation-architect/AllocationArchitect.tsx","../../../../src/lib/games/games/allocation-architect/scenarioGenerator.ts","../../../../src/lib/games/games/allocation-architect/efficiencyCalculator.ts","../../../../src/lib/games/games/allocation-architect/allocationEngine.ts","../../../../src/lib/games/games/allocation-architect/eventEngine.ts","../../../../src/lib/games/games/allocation-architect/objectiveCalculator.ts","../../../../src/lib/games/games/allocation-architect/constraintEngine.ts","../../../../src/lib/games/games/allocation-architect/gameState.ts","../../../../src/lib/games/games/allocation-architect/persistence.ts","../../../../src/lib/games/games/allocation-architect/explainabilityAnalyzer.ts"],"sourcesContent":["/**\n * Allocation Architect - Main Game Component\n */\n\n\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport GameShell from \"@/lib/games/framework/GameShell\";\nimport type { GameConfig, GameStatus } from \"@/lib/games/framework/types\";\nimport type { GameState, Allocation, Scenario } from \"./types\";\nimport { generateScenario } from \"./scenarioGenerator\";\nimport { initializeGameState, startGame, executeRound, checkWinCondition } from \"./gameState\";\nimport { validateAllocation, calculateProjectedState } from \"./allocationEngine\";\nimport { getProgress, saveProgress, updateProgressAfterGame } from \"./persistence\";\nimport {\n  getOrGenerateTodayChallenge,\n  completeTodayChallenge,\n} from \"@/lib/games/shared/dailyChallenges\";\nimport {\n  generateTodayChallengeCode,\n  storeChallengeCode,\n} from \"@/lib/games/shared/challengeCodes\";\nimport {\n  updateStreakForGame,\n  getStreakDataForGame,\n} from \"@/lib/games/shared/streakTracking\";\nimport {\n  checkAndUnlockAchievements,\n} from \"@/lib/games/shared/achievements\";\nimport {\n  submitScore,\n} from \"@/lib/games/shared/scoreComparison\";\nimport {\n  ChallengeCodeShare,\n  ScoreComparisonDisplay,\n  AchievementDisplay,\n  LeaderboardView,\n} from \"@/lib/games/shared/components\";\nimport type { ChallengeCode } from \"@/lib/games/shared/challengeCodes/types\";\nimport { analyzeRun } from \"./explainabilityAnalyzer\";\nimport { calculateMetrics } from \"./efficiencyCalculator\";\nimport { calculateBaseXP, createRewardContext, generateRewardResult } from \"@/lib/games/shared/variableRewards\";\n\nconst GAME_CONFIG: GameConfig = {\n  id: \"allocation-architect\",\n  title: \"Allocation Architect\",\n  description: \"Build optimal resource allocation plans under constraints\",\n  category: \"strategy\",\n  modes: [\"solo\", \"daily\"],\n  supportsMultiplayer: false,\n  minPlayers: 1,\n  maxPlayers: 1,\n  estimatedMinutes: 12,\n  tutorialAvailable: true,\n};\n\nconst GAME_ID = \"allocation-architect\";\n\nexport default function AllocationArchitect() {\n  const [status, setStatus] = useState<GameStatus>(\"idle\");\n  const [gameState, setGameState] = useState<GameState | null>(null);\n  const [currentAllocation, setCurrentAllocation] = useState<Record<string, number>>({});\n  const [previewState, setPreviewState] = useState<any>(null);\n  const [challengeCodeData, setChallengeCodeData] = useState<ChallengeCode | null>(null);\n  const [scoreComparison, setScoreComparison] = useState<any>(null);\n  const [achievementIds, setAchievementIds] = useState<string[]>([]);\n  const [playerScoreData, setPlayerScoreData] = useState<any>(null);\n  const [analysis, setAnalysis] = useState<any>(null);\n  const [startTime, setStartTime] = useState<number | null>(null);\n\n  useEffect(() => {\n    if (status === \"idle\" && !gameState) {\n      initializeChallenge();\n    }\n  }, [status, gameState]);\n\n  const initializeChallenge = useCallback(() => {\n    try {\n      const dailyChallenge = getOrGenerateTodayChallenge(GAME_ID);\n      const scenario = generateScenario(\n        dailyChallenge.seed,\n        'budget-optimization',\n        'intermediate',\n        8\n      );\n      const state = initializeGameState(scenario, dailyChallenge.seed);\n      setGameState(state);\n      setCurrentAllocation({});\n      setPreviewState(null);\n      setChallengeCodeData(null);\n      setScoreComparison(null);\n      setAchievementIds([]);\n      setPlayerScoreData(null);\n      setAnalysis(null);\n    } catch (error) {\n      console.error(\"Error initializing challenge:\", error);\n    }\n  }, []);\n\n  const handleStart = useCallback(() => {\n    if (!gameState) {\n      initializeChallenge();\n      return;\n    }\n    const started = startGame(gameState);\n    setGameState(started);\n    setStatus(\"playing\");\n    setStartTime(Date.now());\n  }, [gameState, initializeChallenge]);\n\n  const handleAllocationChange = useCallback((projectId: string, resources: number) => {\n    if (status !== \"playing\" || !gameState) return;\n    \n    setCurrentAllocation(prev => ({\n      ...prev,\n      [projectId]: Math.max(0, resources),\n    }));\n    \n    // Calculate preview\n    const allocation: Allocation[] = Object.entries({\n      ...currentAllocation,\n      [projectId]: resources,\n    })\n      .filter(([_, value]) => value > 0)\n      .map(([id, value]) => ({ projectId: id, resources: value }));\n    \n    const preview = calculateProjectedState(gameState, allocation);\n    setPreviewState(preview);\n  }, [status, gameState, currentAllocation]);\n\n  const handleConfirmRound = useCallback(() => {\n    if (!gameState || status !== \"playing\") return;\n    \n    // Convert current allocation to Allocation[]\n    const allocation: Allocation[] = Object.entries(currentAllocation)\n      .filter(([_, value]) => value > 0)\n      .map(([id, value]) => ({ projectId: id, resources: value }));\n    \n    // Validate\n    const validation = validateAllocation(gameState, allocation);\n    if (!validation.valid) {\n      alert(validation.errors.join('\\n'));\n      return;\n    }\n    \n    // Execute round\n    const newState = executeRound(gameState, allocation);\n    setGameState(newState);\n    setCurrentAllocation({});\n    setPreviewState(null);\n    \n    // Check if finished\n    if (newState.status === 'finished') {\n      setStatus(\"finished\");\n      handleGameComplete(newState);\n    }\n  }, [gameState, status, currentAllocation]);\n\n  const handleGameComplete = useCallback((state: GameState) => {\n    if (!state.outcome || !startTime) return;\n    \n    const timeUsed = Date.now() - startTime;\n    const metrics = calculateMetrics(state);\n    const win = state.outcome === 'win';\n    \n    // Generate challenge code\n    const codeData = generateTodayChallengeCode(GAME_ID, state.seed);\n    storeChallengeCode(codeData);\n    setChallengeCodeData(codeData);\n    \n    // Calculate score\n    const score = win \n      ? Math.round(metrics.objectiveProgress * 0.4 + metrics.resourceEfficiency * 0.4 + metrics.constraintCompliance * 0.2)\n      : Math.round(metrics.objectiveProgress * 0.3 + metrics.resourceEfficiency * 0.3);\n    \n    // Calculate base XP\n    const baseXP = calculateBaseXP({\n      win,\n      score,\n      efficiency: metrics.resourceEfficiency,\n      time: timeUsed,\n      difficulty: state.scenario.difficulty,\n      tier: getProgress().currentTier,\n    });\n    \n    // Generate variable rewards\n    const streakData = getStreakDataForGame(GAME_ID);\n    const rewardContext = createRewardContext({\n      gameId: GAME_ID,\n      seed: state.seed,\n      baseXP,\n      performance: {\n        score,\n        efficiency: metrics.resourceEfficiency,\n        time: timeUsed,\n      },\n      streak: streakData.currentStreak,\n      tier: getProgress().currentTier,\n    });\n    const rewardResult = generateRewardResult(rewardContext);\n    \n    // Update progress\n    const progress = getProgress();\n    const updatedProgress = updateProgressAfterGame(\n      progress,\n      state,\n      score,\n      metrics.resourceEfficiency\n    );\n    updatedProgress.xp = rewardResult.totalXP; // Use reward XP\n    saveProgress(updatedProgress);\n    \n    // Submit score\n    const scoreData = {\n      score,\n      time: timeUsed,\n      scoreValue: score,\n      efficiency: metrics.resourceEfficiency,\n      timestamp: Date.now(),\n    };\n    setPlayerScoreData(scoreData);\n    const comparison = submitScore(codeData.code, scoreData);\n    setScoreComparison(comparison);\n    \n    // Complete daily challenge\n    completeTodayChallenge(GAME_ID, {\n      score,\n      time: timeUsed,\n      scoreValue: score,\n    });\n    \n    // Update streak\n    updateStreakForGame(GAME_ID, true);\n    \n    // Check achievements\n    const achievementResult = checkAndUnlockAchievements({\n      gameId: GAME_ID,\n      currentStreak: streakData.currentStreak + 1,\n      gamesCompleted: updatedProgress.stats.scenariosCompleted,\n      score,\n      time: timeUsed,\n    });\n    setAchievementIds(achievementResult.newlyUnlocked);\n    \n    // Generate analysis\n    const gameAnalysis = analyzeRun(state);\n    setAnalysis(gameAnalysis);\n  }, [startTime]);\n\n  const handleReset = useCallback(() => {\n    setStatus(\"idle\");\n    setGameState(null);\n    setCurrentAllocation({});\n    setPreviewState(null);\n    setChallengeCodeData(null);\n    setScoreComparison(null);\n    setAchievementIds([]);\n    setPlayerScoreData(null);\n    setAnalysis(null);\n    setStartTime(null);\n  }, []);\n\n  const rightPanel = gameState ? (\n    <div className=\"space-y-4\">\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Round</h3>\n        <div className=\"text-lg font-bold\">\n          {gameState.currentRound} / {gameState.totalRounds}\n        </div>\n      </div>\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Budget</h3>\n        <div className=\"text-lg font-bold\">\n          {gameState.resourceBudget}\n        </div>\n      </div>\n      {gameState.metrics && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Efficiency</h3>\n          <div className=\"text-lg font-bold text-green-600\">\n            {Math.round(gameState.metrics.resourceEfficiency)}%\n          </div>\n        </div>\n      )}\n      {gameState.constraints.some(c => c.violated) && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-red-600 mb-2\">⚠️ Constraints</h3>\n          <div className=\"text-sm text-red-600\">\n            {gameState.constraints.filter(c => c.violated).length} violated\n          </div>\n        </div>\n      )}\n    </div>\n  ) : null;\n\n  return (\n    <GameShell\n      config={GAME_CONFIG}\n      status={status}\n      onStart={handleStart}\n      onReset={handleReset}\n      rightPanel={rightPanel}\n    >\n      <div className=\"p-4\">\n        {!gameState ? (\n          <div className=\"text-center text-slate-600\">Loading scenario...</div>\n        ) : status === \"idle\" ? (\n          <div className=\"max-w-2xl mx-auto space-y-4\">\n            <h2 className=\"text-2xl font-bold text-slate-900\">{gameState.scenario.name}</h2>\n            <p className=\"text-slate-600\">{gameState.scenario.description}</p>\n            <div className=\"space-y-2\">\n              <div><strong>Projects:</strong> {gameState.projects.length}</div>\n              <div><strong>Objectives:</strong> {gameState.objectives.length}</div>\n              <div><strong>Constraints:</strong> {gameState.constraints.length}</div>\n              <div><strong>Rounds:</strong> {gameState.totalRounds}</div>\n            </div>\n            <button\n              onClick={handleStart}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Start Planning\n            </button>\n          </div>\n        ) : status === \"playing\" || status === \"finished\" ? (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* Objectives Panel */}\n            <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Objectives</h3>\n              <div className=\"space-y-2\">\n                {gameState.objectives.map(obj => (\n                  <div key={obj.id} className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"text-sm font-medium text-slate-900\">{obj.name}</div>\n                      <div className=\"text-xs text-slate-600\">{obj.description}</div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-32 bg-slate-200 rounded-full h-2\">\n                        <div\n                          className={`h-2 rounded-full ${\n                            obj.met ? 'bg-green-600' : 'bg-blue-600'\n                          }`}\n                          style={{ width: `${Math.min(100, (obj.current / obj.target) * 100)}%` }}\n                        />\n                      </div>\n                      <div className=\"text-sm font-medium w-16 text-right\">\n                        {Math.round(obj.current)} / {obj.target}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Projects Panel */}\n            <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Projects</h3>\n              <div className=\"space-y-3\">\n                {gameState.projects.map(project => {\n                  const allocated = currentAllocation[project.id] || 0;\n                  const canAllocate = project.dependencies.every(depId => {\n                    const dep = gameState.projects.find(p => p.id === depId);\n                    return !dep || dep.currentProgress >= 100;\n                  });\n                  \n                  return (\n                    <div\n                      key={project.id}\n                      className={`p-3 border-2 rounded-lg ${\n                        project.currentProgress >= 100\n                          ? 'border-green-500 bg-green-50'\n                          : canAllocate\n                          ? 'border-slate-300 bg-white'\n                          : 'border-slate-200 bg-slate-50 opacity-60'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <div>\n                          <div className=\"font-semibold text-slate-900\">{project.name}</div>\n                          <div className=\"text-xs text-slate-600\">{project.description}</div>\n                        </div>\n                        <div className=\"text-sm font-medium\">\n                          {Math.round(project.currentProgress)}%\n                        </div>\n                      </div>\n                      <div className=\"w-full bg-slate-200 rounded-full h-2 mb-2\">\n                        <div\n                          className=\"bg-blue-600 h-2 rounded-full transition-all\"\n                          style={{ width: `${project.currentProgress}%` }}\n                        />\n                      </div>\n                      {status === \"playing\" && canAllocate && (\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"range\"\n                            min=\"0\"\n                            max={gameState.resourceBudget}\n                            value={allocated}\n                            onChange={(e) => handleAllocationChange(project.id, parseInt(e.target.value))}\n                            className=\"flex-1\"\n                          />\n                          <div className=\"w-16 text-sm font-medium text-right\">\n                            {allocated}\n                          </div>\n                        </div>\n                      )}\n                      {!canAllocate && project.dependencies.length > 0 && (\n                        <div className=\"text-xs text-slate-500\">\n                          Depends on: {project.dependencies.join(', ')}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Constraints Panel */}\n            <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Constraints</h3>\n              <div className=\"space-y-2\">\n                {gameState.constraints.map(constraint => (\n                  <div key={constraint.id} className=\"flex items-center justify-between\">\n                    <div className=\"text-sm font-medium text-slate-900\">{constraint.name}</div>\n                    <div className={`text-sm font-medium ${\n                      constraint.violated ? 'text-red-600' : \n                      constraint.current > constraint.limit * constraint.warningThreshold ? 'text-yellow-600' : \n                      'text-green-600'\n                    }`}>\n                      {Math.round(constraint.current)} / {constraint.limit}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Action Panel */}\n            {status === \"playing\" && (\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={handleConfirmRound}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  Confirm Round {gameState.currentRound}\n                </button>\n              </div>\n            )}\n\n            {/* Results */}\n            {status === \"finished\" && challengeCodeData && (\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <div className={`text-3xl font-bold mb-2 ${\n                    gameState.outcome === 'win' ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {gameState.outcome === 'win' ? 'Success!' : 'Failed'}\n                  </div>\n                  {gameState.metrics && (\n                    <div className=\"text-sm text-slate-600\">\n                      Efficiency: {Math.round(gameState.metrics.resourceEfficiency)}% | \n                      Objectives: {Math.round(gameState.metrics.objectiveProgress)}%\n                    </div>\n                  )}\n                </div>\n\n                {/* Enhanced Results Screen Components */}\n                <ChallengeCodeShare code={challengeCodeData} score={playerScoreData?.score || 0} />\n\n                {scoreComparison && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <ScoreComparisonDisplay comparison={scoreComparison} />\n                  </div>\n                )}\n\n                <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                  <LeaderboardView\n                    challengeCode={challengeCodeData.code}\n                    playerScore={playerScoreData || undefined}\n                  />\n                </div>\n\n                {achievementIds.length > 0 && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <AchievementDisplay achievementIds={achievementIds} compact />\n                  </div>\n                )}\n\n                {analysis && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Post-Run Analysis</h3>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <h4 className=\"font-medium text-slate-900 mb-2\">Summary</h4>\n                        <p className=\"text-sm text-slate-600\">{analysis.summary}</p>\n                      </div>\n                      {analysis.keyDecisions && analysis.keyDecisions.length > 0 && (\n                        <div>\n                          <h4 className=\"font-medium text-slate-900 mb-2\">Key Decisions</h4>\n                          <ul className=\"text-sm text-slate-600 space-y-2\">\n                            {analysis.keyDecisions.slice(0, 3).map((decision: any, i: number) => (\n                              <li key={i} className=\"border-l-2 border-blue-300 pl-2\">\n                                <div className=\"font-medium\">Round {decision.round}: {decision.description}</div>\n                                <div className=\"text-xs text-slate-500\">{decision.reasoning}</div>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                      {analysis.mistakes && analysis.mistakes.length > 0 && (\n                        <div>\n                          <h4 className=\"font-medium text-slate-900 mb-2\">Mistakes & Inefficiencies</h4>\n                          <ul className=\"text-sm text-slate-600 space-y-2\">\n                            {analysis.mistakes.slice(0, 3).map((mistake: any, i: number) => (\n                              <li key={i} className=\"border-l-2 border-red-300 pl-2\">\n                                <div className=\"font-medium\">Round {mistake.round}: {mistake.description}</div>\n                                <div className=\"text-xs text-slate-500\">Cost: {mistake.cost}</div>\n                                <div className=\"text-xs text-blue-600\">Recommendation: {mistake.recommendation}</div>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                      {analysis.recommendations && analysis.recommendations.length > 0 && (\n                        <div>\n                          <h4 className=\"font-medium text-slate-900 mb-2\">Recommended Strategy Adjustment</h4>\n                          <ul className=\"text-sm text-slate-600 list-disc list-inside space-y-1\">\n                            {analysis.recommendations.map((rec: any, i: number) => (\n                              <li key={i}>\n                                <span className=\"font-medium\">{rec.type}:</span> {rec.description}\n                                <div className=\"text-xs text-slate-500 ml-4\">{rec.rationale}</div>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={handleReset}\n                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                  >\n                    New Challenge\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </GameShell>\n  );\n}\n","/**\n * Allocation Architect - Scenario Generator\n * \n * Generates deterministic scenarios based on seed.\n */\n\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\nimport type { Scenario, Project, Objective, Constraint, Event, Difficulty, ScenarioType, EventType } from './types';\n\n/**\n * Generate a scenario based on seed and parameters\n */\nexport function generateScenario(\n  seed: number,\n  scenarioType: ScenarioType,\n  difficulty: Difficulty,\n  totalRounds: number = 8\n): Scenario {\n  const rng = new SeededRNG(seed);\n  const config = getDifficultyConfig(difficulty, totalRounds);\n  \n  const projects = generateProjects(config.projectCount, config, rng);\n  const objectives = generateObjectives(config.objectiveCount, projects, config, rng);\n  const constraints = generateConstraints(config.constraintCount, config, rng);\n  const events = generateEvents(totalRounds, config, rng);\n  \n  return {\n    id: `scenario-${seed}`,\n    name: getScenarioName(scenarioType, difficulty),\n    description: getScenarioDescription(scenarioType, difficulty),\n    type: scenarioType,\n    difficulty,\n    totalRounds,\n    initialBudget: config.initialBudget,\n    budgetPerRound: config.budgetPerRound,\n    projects,\n    objectives,\n    constraints,\n    events,\n  };\n}\n\n/**\n * Difficulty configuration\n */\ninterface DifficultyConfig {\n  projectCount: number;\n  objectiveCount: number;\n  constraintCount: number;\n  initialBudget: number;\n  budgetPerRound: number;\n  eventFrequency: number; // 0-1, probability of event per round\n  constraintTightness: number; // 0-1, how tight constraints are\n  diminishingReturns: number; // 0-1, how strong diminishing returns are\n}\n\nfunction getDifficultyConfig(difficulty: Difficulty, totalRounds: number): DifficultyConfig {\n  const base = {\n    foundations: {\n      projectCount: 4,\n      objectiveCount: 1,\n      constraintCount: 1,\n      initialBudget: 100,\n      budgetPerRound: 50,\n      eventFrequency: 0.1,\n      constraintTightness: 0.7,\n      diminishingReturns: 0.2,\n    },\n    intermediate: {\n      projectCount: 6,\n      objectiveCount: 2,\n      constraintCount: 2,\n      initialBudget: 80,\n      budgetPerRound: 40,\n      eventFrequency: 0.2,\n      constraintTightness: 0.8,\n      diminishingReturns: 0.4,\n    },\n    advanced: {\n      projectCount: 8,\n      objectiveCount: 3,\n      constraintCount: 3,\n      initialBudget: 70,\n      budgetPerRound: 35,\n      eventFrequency: 0.3,\n      constraintTightness: 0.9,\n      diminishingReturns: 0.6,\n    },\n    expert: {\n      projectCount: 10,\n      objectiveCount: 4,\n      constraintCount: 4,\n      initialBudget: 60,\n      budgetPerRound: 30,\n      eventFrequency: 0.4,\n      constraintTightness: 0.95,\n      diminishingReturns: 0.8,\n    },\n  };\n  \n  return base[difficulty];\n}\n\n/**\n * Generate projects\n */\nfunction generateProjects(count: number, config: DifficultyConfig, rng: SeededRNG): Project[] {\n  const projects: Project[] = [];\n  const projectNames = ['Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa'];\n  \n  for (let i = 0; i < count; i++) {\n    const requiredResources = rng.nextInt(30, 80);\n    const progressPerResource = rng.nextFloat(0.5, 2.0);\n    const diminishingReturns = config.diminishingReturns * rng.nextFloat(0.8, 1.2);\n    const priority = rng.nextInt(1, 10);\n    const riskLevel = rng.nextFloat(0.1, 0.5);\n    \n    // Some projects have dependencies\n    const dependencies: string[] = [];\n    if (i > 0 && rng.next() < 0.3) {\n      dependencies.push(projects[rng.nextInt(0, i - 1)].id);\n    }\n    \n    // Some projects unlock others\n    const unlocks: string[] = [];\n    if (i < count - 1 && rng.next() < 0.3) {\n      unlocks.push(`project-${i + 1}`);\n    }\n    \n    projects.push({\n      id: `project-${i}`,\n      name: projectNames[i] || `Project ${i + 1}`,\n      description: `Project ${i + 1} requires ${requiredResources} resources to complete`,\n      requiredResources,\n      currentProgress: 0,\n      progressPerResource,\n      diminishingReturns,\n      dependencies,\n      unlocks,\n      priority,\n      riskLevel,\n      health: 0,\n    });\n  }\n  \n  return projects;\n}\n\n/**\n * Generate objectives\n */\nfunction generateObjectives(\n  count: number,\n  projects: Project[],\n  config: DifficultyConfig,\n  rng: SeededRNG\n): Objective[] {\n  const objectives: Objective[] = [];\n  const objectiveTypes: Array<'complete-projects' | 'maintain-efficiency' | 'meet-constraints' | 'minimize-risk'> = [\n    'complete-projects',\n    'maintain-efficiency',\n    'meet-constraints',\n    'minimize-risk',\n  ];\n  \n  for (let i = 0; i < count; i++) {\n    const type = objectiveTypes[i % objectiveTypes.length];\n    let target = 0;\n    let name = '';\n    let description = '';\n    \n    switch (type) {\n      case 'complete-projects':\n        target = Math.ceil(projects.length * (0.5 + rng.next() * 0.3)); // 50-80% of projects\n        name = 'Complete Projects';\n        description = `Complete at least ${target} projects`;\n        break;\n      case 'maintain-efficiency':\n        target = Math.round(70 + rng.next() * 20); // 70-90%\n        name = 'Maintain Efficiency';\n        description = `Maintain resource efficiency above ${target}%`;\n        break;\n      case 'meet-constraints':\n        target = 100; // All constraints\n        name = 'Meet All Constraints';\n        description = 'Meet all constraints throughout the planning horizon';\n        break;\n      case 'minimize-risk':\n        target = Math.round(20 + rng.next() * 30); // 20-50%\n        name = 'Minimize Risk';\n        description = `Keep risk level below ${target}%`;\n        break;\n    }\n    \n    objectives.push({\n      id: `objective-${i}`,\n      name,\n      description,\n      type,\n      target,\n      current: 0,\n      weight: rng.nextInt(1, 10),\n      met: false,\n    });\n  }\n  \n  return objectives;\n}\n\n/**\n * Generate constraints\n */\nfunction generateConstraints(count: number, config: DifficultyConfig, rng: SeededRNG): Constraint[] {\n  const constraints: Constraint[] = [];\n  const constraintTypes: Constraint['type'][] = ['budget', 'time', 'capacity', 'resource'];\n  \n  for (let i = 0; i < count; i++) {\n    const type = constraintTypes[i % constraintTypes.length];\n    const baseLimit = config.initialBudget + (config.budgetPerRound * 8); // Total budget over 8 rounds\n    const tightness = config.constraintTightness;\n    const limit = Math.round(baseLimit * tightness * rng.nextFloat(0.9, 1.1));\n    \n    constraints.push({\n      id: `constraint-${i}`,\n      type,\n      name: `${type.charAt(0).toUpperCase() + type.slice(1)} Constraint`,\n      description: `Total ${type} usage must not exceed ${limit}`,\n      limit,\n      current: 0,\n      warningThreshold: 0.8,\n      violated: false,\n    });\n  }\n  \n  return constraints;\n}\n\n/**\n * Generate events\n */\nfunction generateEvents(totalRounds: number, config: DifficultyConfig, rng: SeededRNG): Event[] {\n  const events: Event[] = [];\n  \n  for (let round = 2; round <= totalRounds; round++) {\n    if (rng.next() < config.eventFrequency) {\n      const eventTypes: EventType[] = ['budget-shock', 'requirement-change', 'resource-availability', 'external-pressure'];\n      const type = rng.choice(eventTypes);\n      \n      events.push({\n        id: `event-${round}`,\n        type,\n        name: getEventName(type),\n        description: getEventDescription(type),\n        round,\n        severity: rng.nextFloat(0.3, 0.8),\n        affectedProjects: [], // Will be set based on project count\n        effect: getEventEffect(type, config, rng),\n      });\n    }\n  }\n  \n  return events;\n}\n\nfunction getEventName(type: EventType): string {\n  const names = {\n    'budget-shock': 'Budget Reduction',\n    'requirement-change': 'Requirement Change',\n    'resource-availability': 'Resource Availability',\n    'external-pressure': 'External Pressure',\n  };\n  return names[type];\n}\n\nfunction getEventDescription(type: EventType): string {\n  const descriptions = {\n    'budget-shock': 'Unexpected budget reduction affects available resources',\n    'requirement-change': 'Project requirements have changed',\n    'resource-availability': 'Resource availability has changed',\n    'external-pressure': 'External pressure affects project priorities',\n  };\n  return descriptions[type];\n}\n\nfunction getEventEffect(type: EventType, config: DifficultyConfig, rng: SeededRNG): Event['effect'] {\n  switch (type) {\n    case 'budget-shock':\n      return {\n        resourceChange: -Math.round(config.budgetPerRound * rng.nextFloat(0.2, 0.5)),\n      };\n    case 'requirement-change':\n      return {\n        requirementChange: rng.nextFloat(0.1, 0.3),\n      };\n    case 'resource-availability':\n      return {\n        resourceChange: Math.round(config.budgetPerRound * rng.nextFloat(-0.3, 0.3)),\n      };\n    case 'external-pressure':\n      return {\n        progressLoss: rng.nextFloat(5, 15),\n      };\n    default:\n      return {};\n  }\n}\n\nfunction getScenarioName(type: ScenarioType, difficulty: Difficulty): string {\n  const typeNames = {\n    'budget-optimization': 'Budget Optimization',\n    'time-management': 'Time Management',\n    'capacity-planning': 'Capacity Planning',\n    'multi-objective': 'Multi-Objective Planning',\n  };\n  return `${typeNames[type]} - ${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}`;\n}\n\nfunction getScenarioDescription(type: ScenarioType, difficulty: Difficulty): string {\n  return `A ${difficulty} scenario focusing on ${type.replace('-', ' ')}. Allocate resources strategically to meet objectives while managing constraints.`;\n}\n","/**\n * Allocation Architect - Efficiency Calculator\n * \n * Calculates resource efficiency and metrics.\n */\n\nimport type { GameState, Metrics, Allocation } from './types';\n\n/**\n * Calculate metrics for current state\n */\nexport function calculateMetrics(state: GameState): Metrics {\n  const resourceEfficiency = calculateResourceEfficiency(state);\n  const objectiveProgress = calculateObjectiveProgress(state);\n  const constraintCompliance = calculateConstraintCompliance(state);\n  const riskLevel = calculateRiskLevel(state);\n  const waste = calculateWaste(state);\n  \n  return {\n    resourceEfficiency,\n    objectiveProgress,\n    constraintCompliance,\n    riskLevel,\n    waste,\n  };\n}\n\n/**\n * Calculate resource efficiency (0-100)\n */\nfunction calculateResourceEfficiency(state: GameState): number {\n  if (state.totalBudgetUsed === 0) return 100;\n  \n  // Calculate effective resource usage\n  const effectiveUsage = state.projects.reduce((sum, project) => {\n    // Progress gained per resource spent\n    const progressGain = project.currentProgress;\n    const resourcesSpent = state.allocationHistory\n      .filter(a => a.projectId === project.id)\n      .reduce((s, a) => s + a.resources, 0);\n    \n    if (resourcesSpent === 0) return sum;\n    \n    // Efficiency = progress / resources (normalized)\n    const efficiency = (progressGain / project.requiredResources) / (resourcesSpent / project.requiredResources);\n    return sum + efficiency;\n  }, 0);\n  \n  const averageEfficiency = state.projects.length > 0 ? effectiveUsage / state.projects.length : 0;\n  return Math.min(100, Math.max(0, averageEfficiency * 100));\n}\n\n/**\n * Calculate objective progress (0-100)\n */\nfunction calculateObjectiveProgress(state: GameState): number {\n  if (state.objectives.length === 0) return 100;\n  \n  const totalProgress = state.objectives.reduce((sum, obj) => {\n    const progress = Math.min(100, (obj.current / obj.target) * 100);\n    return sum + progress * obj.weight;\n  }, 0);\n  \n  const totalWeight = state.objectives.reduce((sum, obj) => sum + obj.weight, 0);\n  return totalWeight > 0 ? totalProgress / totalWeight : 0;\n}\n\n/**\n * Calculate constraint compliance (0-100)\n */\nfunction calculateConstraintCompliance(state: GameState): number {\n  if (state.constraints.length === 0) return 100;\n  \n  const compliantConstraints = state.constraints.filter(c => !c.violated).length;\n  return (compliantConstraints / state.constraints.length) * 100;\n}\n\n/**\n * Calculate risk level (0-100)\n */\nfunction calculateRiskLevel(state: GameState): number {\n  // Risk based on:\n  // 1. Projects with low health\n  // 2. Projects with high risk level\n  // 3. Upcoming events\n  // 4. Constraint proximity to limits\n  \n  let risk = 0;\n  \n  // Project risk\n  const projectRisk = state.projects.reduce((sum, project) => {\n    const healthRisk = (100 - project.health) / 100;\n    const inherentRisk = project.riskLevel;\n    return sum + (healthRisk * 0.5 + inherentRisk * 0.5);\n  }, 0);\n  risk += (projectRisk / state.projects.length) * 50;\n  \n  // Constraint risk (proximity to limits)\n  const constraintRisk = state.constraints.reduce((sum, constraint) => {\n    const proximity = constraint.current / constraint.limit;\n    return sum + Math.min(1, proximity);\n  }, 0);\n  risk += (constraintRisk / state.constraints.length) * 30;\n  \n  // Event risk (upcoming events)\n  const upcomingEvents = state.events.filter(e => e.round > state.currentRound);\n  risk += Math.min(20, upcomingEvents.length * 5);\n  \n  return Math.min(100, Math.max(0, risk));\n}\n\n/**\n * Calculate waste (resources wasted)\n */\nfunction calculateWaste(state: GameState): number {\n  // Waste = resources allocated but not effectively used\n  // This is resources allocated to projects that are complete or over-allocated\n  \n  let waste = 0;\n  \n  for (const project of state.projects) {\n    const allocated = state.allocationHistory\n      .filter(a => a.projectId === project.id)\n      .reduce((sum, a) => sum + a.resources, 0);\n    \n    if (project.currentProgress >= 100) {\n      // Project is complete, any additional allocation is waste\n      const required = project.requiredResources;\n      waste += Math.max(0, allocated - required);\n    } else {\n      // Calculate if over-allocated (diminishing returns make some allocation wasteful)\n      const progressRatio = project.currentProgress / 100;\n      const diminishingFactor = 1 - (progressRatio * project.diminishingReturns);\n      if (diminishingFactor < 0.1) {\n        // Very low efficiency, consider some allocation wasteful\n        waste += allocated * 0.2;\n      }\n    }\n  }\n  \n  return waste;\n}\n\n/**\n * Calculate projected metrics for preview\n */\nexport function calculateProjectedMetrics(state: GameState, allocation: Allocation[]): Metrics {\n  // Create temporary state with allocation\n  const tempState = {\n    ...state,\n    projects: state.projects.map(project => {\n      const alloc = allocation.find(a => a.projectId === project.id);\n      if (!alloc) return project;\n      \n      const progressGain = project.progressPerResource * alloc.resources;\n      const progressRatio = project.currentProgress / 100;\n      const diminishingFactor = 1 - (progressRatio * project.diminishingReturns);\n      const newProgress = Math.min(100, project.currentProgress + (progressGain * diminishingFactor));\n      \n      return {\n        ...project,\n        currentProgress: newProgress,\n      };\n    }),\n    allocationHistory: [...state.allocationHistory, ...allocation],\n    totalBudgetUsed: state.totalBudgetUsed + allocation.reduce((sum, a) => sum + a.resources, 0),\n  };\n  \n  return calculateMetrics(tempState);\n}\n","/**\n * Allocation Architect - Allocation Engine\n * \n * Handles allocation validation and application.\n */\n\nimport type { GameState, Allocation, ValidationResult, ProjectedState, Project } from './types';\nimport { calculateProjectedMetrics } from './efficiencyCalculator';\n\n/**\n * Validate allocation\n */\nexport function validateAllocation(state: GameState, allocation: Allocation[]): ValidationResult {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n  \n  // Check total allocation doesn't exceed budget\n  const totalAllocated = allocation.reduce((sum, a) => sum + a.resources, 0);\n  if (totalAllocated > state.resourceBudget) {\n    errors.push(`Total allocation (${totalAllocated}) exceeds available budget (${state.resourceBudget})`);\n  }\n  \n  // Check all allocations are non-negative\n  for (const alloc of allocation) {\n    if (alloc.resources < 0) {\n      errors.push(`Allocation for ${alloc.projectId} cannot be negative`);\n    }\n  }\n  \n  // Check projects exist\n  for (const alloc of allocation) {\n    const project = state.projects.find(p => p.id === alloc.projectId);\n    if (!project) {\n      errors.push(`Project ${alloc.projectId} not found`);\n    } else {\n      // Check dependencies\n      for (const depId of project.dependencies) {\n        const depProject = state.projects.find(p => p.id === depId);\n        if (depProject && depProject.currentProgress < 100) {\n          warnings.push(`Project ${alloc.projectId} depends on ${depId} which is not complete`);\n        }\n      }\n    }\n  }\n  \n  // Check for unused budget\n  if (totalAllocated < state.resourceBudget * 0.5) {\n    warnings.push('Less than 50% of budget is allocated');\n  }\n  \n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings,\n  };\n}\n\n/**\n * Apply allocation to game state\n */\nexport function applyAllocation(state: GameState, allocation: Allocation[]): GameState {\n  const newProjects = state.projects.map(project => {\n    const alloc = allocation.find(a => a.projectId === project.id);\n    if (!alloc || alloc.resources === 0) {\n      return { ...project };\n    }\n    \n    // Calculate progress gain with diminishing returns\n    const progressGain = calculateProgressGain(project, alloc.resources);\n    const newProgress = Math.min(100, project.currentProgress + progressGain);\n    \n    // Check if project completed\n    const completed = newProgress >= 100;\n    \n    return {\n      ...project,\n      currentProgress: newProgress,\n    };\n  });\n  \n  return {\n    ...state,\n    projects: newProjects,\n  };\n}\n\n/**\n * Calculate progress gain for a project with diminishing returns\n */\nfunction calculateProgressGain(project: Project, resources: number): number {\n  const baseProgress = project.progressPerResource * resources;\n  const progressRatio = project.currentProgress / 100;\n  const diminishingFactor = 1 - (progressRatio * project.diminishingReturns);\n  return baseProgress * diminishingFactor;\n}\n\n/**\n * Calculate projected state for preview\n */\nexport function calculateProjectedState(state: GameState, allocation: Allocation[]): ProjectedState {\n  // Create temporary state with allocation applied\n  const tempState = applyAllocation(state, allocation);\n  \n  // Calculate projected metrics\n  const projectedMetrics = calculateProjectedMetrics(tempState, allocation);\n  \n  // Generate warnings\n  const warnings: string[] = [];\n  const totalAllocated = allocation.reduce((sum, a) => sum + a.resources, 0);\n  if (totalAllocated > state.resourceBudget) {\n    warnings.push('Allocation exceeds budget');\n  }\n  \n  // Check constraint violations\n  tempState.constraints.forEach(constraint => {\n    if (constraint.current > constraint.limit) {\n      warnings.push(`${constraint.name} will be violated`);\n    } else if (constraint.current > constraint.limit * constraint.warningThreshold) {\n      warnings.push(`${constraint.name} is approaching limit`);\n    }\n  });\n  \n  return {\n    projects: tempState.projects,\n    objectives: tempState.objectives,\n    constraints: tempState.constraints,\n    metrics: projectedMetrics,\n    warnings,\n  };\n}\n","/**\n * Allocation Architect - Event Engine\n * \n * Handles event generation and application.\n */\n\nimport type { GameState, Event } from './types';\n\n/**\n * Apply events to game state\n */\nexport function applyEvents(state: GameState, events: Event[]): GameState {\n  let newState = { ...state };\n  \n  for (const event of events) {\n    newState = applyEvent(newState, event);\n  }\n  \n  return newState;\n}\n\n/**\n * Apply a single event to game state\n */\nfunction applyEvent(state: GameState, event: Event): GameState {\n  const newProjects = state.projects.map(project => {\n    // Check if project is affected\n    const isAffected = event.affectedProjects.includes(project.id) || \n                      event.affectedProjects.length === 0; // Empty means all projects\n    \n    if (!isAffected) {\n      return { ...project };\n    }\n    \n    let updatedProject = { ...project };\n    \n    // Apply event effects\n    if (event.effect.resourceChange) {\n      // Resource change affects project requirements\n      const change = event.effect.resourceChange * event.severity;\n      updatedProject.requiredResources = Math.max(10, updatedProject.requiredResources + change);\n    }\n    \n    if (event.effect.requirementChange) {\n      // Requirement change affects progress needed\n      const change = event.effect.requirementChange * event.severity;\n      const newRequired = updatedProject.requiredResources * (1 + change);\n      updatedProject.requiredResources = Math.max(10, newRequired);\n    }\n    \n    if (event.effect.progressLoss) {\n      // Progress loss\n      const loss = event.effect.progressLoss * event.severity;\n      if (updatedProject.health > 0) {\n        // Health buffer absorbs the loss\n        updatedProject.health = Math.max(0, updatedProject.health - loss);\n      } else {\n        // No health buffer, lose progress\n        updatedProject.currentProgress = Math.max(0, updatedProject.currentProgress - loss);\n      }\n    }\n    \n    return updatedProject;\n  });\n  \n  // Update resource budget if event affects it\n  let newResourceBudget = state.resourceBudget;\n  if (event.effect.resourceChange && event.affectedProjects.length === 0) {\n    // Global resource change\n    newResourceBudget = Math.max(0, newResourceBudget + (event.effect.resourceChange * event.severity));\n  }\n  \n  return {\n    ...state,\n    projects: newProjects,\n    resourceBudget: newResourceBudget,\n  };\n}\n\n/**\n * Get events for a specific round\n */\nexport function getEventsForRound(state: GameState, round: number): Event[] {\n  return state.events.filter(e => e.round === round);\n}\n\n/**\n * Get upcoming events\n */\nexport function getUpcomingEvents(state: GameState): Event[] {\n  return state.events.filter(e => e.round > state.currentRound);\n}\n","/**\n * Allocation Architect - Objective Calculator\n * \n * Calculates objective progress and checks if objectives are met.\n */\n\nimport type { GameState, Objective } from './types';\nimport { calculateMetrics } from './efficiencyCalculator';\n\n/**\n * Update objectives based on current state\n */\nexport function updateObjectives(state: GameState): GameState {\n  const metrics = calculateMetrics(state);\n  const newObjectives = state.objectives.map(objective => {\n    const current = calculateObjectiveCurrent(state, objective, metrics);\n    const met = current >= objective.target;\n    \n    return {\n      ...objective,\n      current,\n      met,\n    };\n  });\n  \n  return {\n    ...state,\n    objectives: newObjectives,\n  };\n}\n\n/**\n * Calculate current value for an objective\n */\nfunction calculateObjectiveCurrent(state: GameState, objective: Objective, metrics: GameState['metrics']): number {\n  switch (objective.type) {\n    case 'complete-projects':\n      return state.projects.filter(p => p.currentProgress >= 100).length;\n    case 'maintain-efficiency':\n      return metrics.resourceEfficiency;\n    case 'meet-constraints':\n      // Percentage of constraints met\n      const metConstraints = state.constraints.filter(c => !c.violated).length;\n      return state.constraints.length > 0 ? (metConstraints / state.constraints.length) * 100 : 100;\n    case 'minimize-risk':\n      return metrics.riskLevel;\n    default:\n      return 0;\n  }\n}\n\n/**\n * Calculate objective progress percentage\n */\nexport function calculateObjectiveProgress(state: GameState): number {\n  if (state.objectives.length === 0) return 100;\n  \n  const totalProgress = state.objectives.reduce((sum, obj) => {\n    const progress = Math.min(100, (obj.current / obj.target) * 100);\n    return sum + progress;\n  }, 0);\n  \n  return totalProgress / state.objectives.length;\n}\n\n/**\n * Check if all objectives are met\n */\nexport function areAllObjectivesMet(state: GameState): boolean {\n  return state.objectives.every(obj => obj.met);\n}\n\n/**\n * Get unmet objectives\n */\nexport function getUnmetObjectives(state: GameState): Objective[] {\n  return state.objectives.filter(obj => !obj.met);\n}\n","/**\n * Allocation Architect - Constraint Engine\n * \n * Handles constraint checking and validation.\n */\n\nimport type { GameState, Constraint } from './types';\n\n/**\n * Update constraints based on current state\n */\nexport function updateConstraints(state: GameState): GameState {\n  const newConstraints = state.constraints.map(constraint => {\n    // Calculate current value based on constraint type\n    const current = calculateConstraintValue(state, constraint);\n    const violated = current > constraint.limit;\n    \n    return {\n      ...constraint,\n      current,\n      violated,\n    };\n  });\n  \n  return {\n    ...state,\n    constraints: newConstraints,\n  };\n}\n\n/**\n * Calculate current value for a constraint\n */\nfunction calculateConstraintValue(state: GameState, constraint: Constraint): number {\n  switch (constraint.type) {\n    case 'budget':\n      return state.totalBudgetUsed;\n    case 'time':\n      return state.currentRound;\n    case 'capacity':\n      // Sum of resources allocated to all projects\n      return state.allocationHistory.reduce((sum, alloc) => sum + alloc.resources, 0);\n    case 'resource':\n      // Total resources used across all rounds\n      return state.totalBudgetUsed;\n    case 'dependency':\n      // Count of projects with unmet dependencies\n      return state.projects.filter(p => {\n        return p.dependencies.some(depId => {\n          const dep = state.projects.find(proj => proj.id === depId);\n          return !dep || dep.currentProgress < 100;\n        });\n      }).length;\n    default:\n      return 0;\n  }\n}\n\n/**\n * Check if any constraints are violated\n */\nexport function hasConstraintViolations(state: GameState): boolean {\n  return state.constraints.some(c => c.violated);\n}\n\n/**\n * Get constraint violations\n */\nexport function getConstraintViolations(state: GameState): Constraint[] {\n  return state.constraints.filter(c => c.violated);\n}\n\n/**\n * Get constraint warnings (approaching limit)\n */\nexport function getConstraintWarnings(state: GameState): Constraint[] {\n  return state.constraints.filter(c => {\n    if (c.violated) return false;\n    const threshold = c.limit * c.warningThreshold;\n    return c.current > threshold;\n  });\n}\n","/**\n * Allocation Architect - Game State Management\n * \n * Pure functions for state transitions.\n */\n\nimport type { GameState, Scenario, Allocation, RoundResult, Metrics } from './types';\nimport { applyAllocation } from './allocationEngine';\nimport { applyEvents } from './eventEngine';\nimport { calculateMetrics } from './efficiencyCalculator';\nimport { updateObjectives } from './objectiveCalculator';\nimport { updateConstraints } from './constraintEngine';\n\n/**\n * Initialize game state from scenario\n */\nexport function initializeGameState(scenario: Scenario, seed: number): GameState {\n  return {\n    scenario,\n    currentRound: 0,\n    totalRounds: scenario.totalRounds,\n    resourceBudget: scenario.initialBudget + scenario.budgetPerRound,\n    totalBudgetUsed: 0,\n    projects: scenario.projects.map(p => ({ ...p })),\n    objectives: scenario.objectives.map(o => ({ ...o })),\n    constraints: scenario.constraints.map(c => ({ ...c })),\n    events: [...scenario.events],\n    allocationHistory: [],\n    roundHistory: [],\n    metrics: {\n      resourceEfficiency: 0,\n      objectiveProgress: 0,\n      constraintCompliance: 100,\n      riskLevel: 0,\n      waste: 0,\n    },\n    seed,\n    status: 'idle',\n  };\n}\n\n/**\n * Start the game\n */\nexport function startGame(state: GameState): GameState {\n  return {\n    ...state,\n    status: 'playing',\n    currentRound: 1,\n  };\n}\n\n/**\n * Apply allocation and advance to next round\n */\nexport function executeRound(state: GameState, allocation: Allocation[]): GameState {\n  if (state.status !== 'playing') {\n    return state;\n  }\n  \n  // Validate allocation\n  const totalAllocated = allocation.reduce((sum, a) => sum + a.resources, 0);\n  if (totalAllocated > state.resourceBudget) {\n    return state; // Invalid allocation, don't advance\n  }\n  \n  // Apply allocation\n  let newState = applyAllocation(state, allocation);\n  \n  // Apply events for this round\n  const roundEvents = newState.events.filter(e => e.round === newState.currentRound);\n  if (roundEvents.length > 0) {\n    newState = applyEvents(newState, roundEvents);\n  }\n  \n  // Update objectives\n  newState = updateObjectives(newState);\n  \n  // Update constraints\n  newState = updateConstraints(newState);\n  \n  // Calculate metrics\n  newState.metrics = calculateMetrics(newState);\n  \n  // Record round result\n  const roundResult: RoundResult = {\n    round: newState.currentRound,\n    allocation,\n    projectProgress: {},\n    objectiveProgress: {},\n    constraintStatus: {},\n    events: roundEvents,\n    metrics: { ...newState.metrics },\n  };\n  \n  // Record project progress changes\n  state.projects.forEach((oldProject, i) => {\n    const newProject = newState.projects[i];\n    if (newProject) {\n      roundResult.projectProgress[oldProject.id] = newProject.currentProgress - oldProject.currentProgress;\n    }\n  });\n  \n  // Record objective progress changes\n  state.objectives.forEach((oldObjective, i) => {\n    const newObjective = newState.objectives[i];\n    if (newObjective) {\n      roundResult.objectiveProgress[oldObjective.id] = newObjective.current - oldObjective.current;\n    }\n  });\n  \n  // Record constraint status\n  newState.constraints.forEach(constraint => {\n    roundResult.constraintStatus[constraint.id] = constraint.violated;\n  });\n  \n  newState.roundHistory.push(roundResult);\n  newState.allocationHistory.push(...allocation);\n  \n  // Update budget\n  newState.totalBudgetUsed += totalAllocated;\n  newState.resourceBudget = newState.resourceBudget - totalAllocated + newState.scenario.budgetPerRound;\n  \n  // Advance to next round or finish\n  if (newState.currentRound >= newState.totalRounds) {\n    newState.status = 'finished';\n    newState.outcome = checkWinCondition(newState) ? 'win' : 'loss';\n  } else {\n    newState.currentRound += 1;\n  }\n  \n  return newState;\n}\n\n/**\n * Check win condition\n */\nexport function checkWinCondition(state: GameState): boolean {\n  // All objectives must be met\n  const allObjectivesMet = state.objectives.every(obj => obj.met);\n  \n  // No constraints violated\n  const noConstraintViolations = state.constraints.every(c => !c.violated);\n  \n  return allObjectivesMet && noConstraintViolations;\n}\n\n/**\n * Check loss condition\n */\nexport function checkLossCondition(state: GameState): boolean {\n  // Any constraint violated\n  const constraintViolated = state.constraints.some(c => c.violated);\n  \n  // Objectives not met at end\n  if (state.status === 'finished') {\n    const objectivesNotMet = state.objectives.some(obj => !obj.met);\n    return constraintViolated || objectivesNotMet;\n  }\n  \n  return constraintViolated;\n}\n\n/**\n * Reset game state\n */\nexport function resetGameState(state: GameState): GameState {\n  return initializeGameState(state.scenario, state.seed);\n}\n","/**\n * Allocation Architect - Persistence\n * \n * Handles localStorage persistence with versioning.\n */\n\nimport type { GameState } from './types';\nimport { hasConstraintViolations } from './constraintEngine';\n\nconst STORAGE_KEY = 'allocation-architect-progress';\nconst STORAGE_VERSION = 1;\n\nexport interface AllocationArchitectProgress {\n  version: number;\n  xp: number;\n  currentTier: 'planner' | 'strategist' | 'architect' | 'master' | 'legend';\n  tierProgress: number;\n  unlockedScenarios: string[];\n  unlockedHorizons: number[];\n  unlockedConstraints: string[];\n  personalBests: Record<string, {\n    bestScore: number;\n    bestEfficiency: number;\n    bestCompletionRounds: number;\n  }>;\n  currentStreak: number;\n  longestStreak: number;\n  lastPlayedDate: string;\n  completedChallenges: Array<{\n    challengeCode: string;\n    completedDate: string;\n    score: number;\n    efficiency: number;\n    planHash: string;\n  }>;\n  stats: {\n    scenariosCompleted: number;\n    averageEfficiency: number;\n    averageScore: number;\n    constraintViolations: number;\n    eventResilience: number;\n    scenarioTypeStats: Record<string, {\n      completed: number;\n      averageScore: number;\n      averageEfficiency: number;\n    }>;\n  };\n}\n\n/**\n * Load progress from localStorage\n */\nexport function loadProgress(): AllocationArchitectProgress | null {\n  if (typeof window === 'undefined') return null;\n  \n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) return null;\n    \n    const data = JSON.parse(stored) as AllocationArchitectProgress;\n    \n    // Migrate if needed\n    if (data.version !== STORAGE_VERSION) {\n      return migrateProgress(data);\n    }\n    \n    return data;\n  } catch (error) {\n    console.error('Error loading progress:', error);\n    return null;\n  }\n}\n\n/**\n * Save progress to localStorage\n */\nexport function saveProgress(progress: AllocationArchitectProgress): void {\n  if (typeof window === 'undefined') return;\n  \n  try {\n    const data = {\n      ...progress,\n      version: STORAGE_VERSION,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n  } catch (error) {\n    console.error('Error saving progress:', error);\n  }\n}\n\n/**\n * Initialize progress\n */\nexport function initializeProgress(): AllocationArchitectProgress {\n  return {\n    version: STORAGE_VERSION,\n    xp: 0,\n    currentTier: 'planner',\n    tierProgress: 0,\n    unlockedScenarios: ['budget-optimization'],\n    unlockedHorizons: [6],\n    unlockedConstraints: ['budget'],\n    personalBests: {},\n    currentStreak: 0,\n    longestStreak: 0,\n    lastPlayedDate: '',\n    completedChallenges: [],\n    stats: {\n      scenariosCompleted: 0,\n      averageEfficiency: 0,\n      averageScore: 0,\n      constraintViolations: 0,\n      eventResilience: 0,\n      scenarioTypeStats: {},\n    },\n  };\n}\n\n/**\n * Get or initialize progress\n */\nexport function getProgress(): AllocationArchitectProgress {\n  const progress = loadProgress();\n  return progress || initializeProgress();\n}\n\n/**\n * Migrate progress to new version\n */\nfunction migrateProgress(data: AllocationArchitectProgress): AllocationArchitectProgress {\n  // For now, just update version\n  // Future migrations can transform data here\n  return {\n    ...data,\n    version: STORAGE_VERSION,\n  };\n}\n\n/**\n * Update progress after game completion\n */\nexport function updateProgressAfterGame(\n  progress: AllocationArchitectProgress,\n  state: GameState,\n  score: number,\n  efficiency: number\n): AllocationArchitectProgress {\n  const newProgress = { ...progress };\n  \n  // Update XP (will be calculated with variable rewards)\n  // For now, just increment\n  newProgress.xp += 50;\n  \n  // Update tier\n  const tierThresholds = {\n    planner: 0,\n    strategist: 100,\n    architect: 300,\n    master: 600,\n    legend: 1000,\n  };\n  \n  const currentTierIndex = Object.keys(tierThresholds).indexOf(newProgress.currentTier);\n  const nextTier = Object.keys(tierThresholds)[currentTierIndex + 1] as keyof typeof tierThresholds | undefined;\n  \n  if (nextTier && newProgress.xp >= tierThresholds[nextTier]) {\n    newProgress.currentTier = nextTier as AllocationArchitectProgress['currentTier'];\n    newProgress.tierProgress = 0;\n  } else {\n    const currentThreshold = tierThresholds[newProgress.currentTier];\n    const nextThreshold = nextTier ? tierThresholds[nextTier] : Infinity;\n    newProgress.tierProgress = (newProgress.xp - currentThreshold) / (nextThreshold - currentThreshold);\n  }\n  \n  // Update personal bests\n  const scenarioId = state.scenario.id;\n  const currentBest = newProgress.personalBests[scenarioId];\n  if (!currentBest || score > currentBest.bestScore) {\n    newProgress.personalBests[scenarioId] = {\n      bestScore: score,\n      bestEfficiency: efficiency,\n      bestCompletionRounds: state.currentRound,\n    };\n  }\n  \n  // Update stats\n  newProgress.stats.scenariosCompleted += 1;\n  newProgress.stats.averageScore = \n    (newProgress.stats.averageScore * (newProgress.stats.scenariosCompleted - 1) + score) / \n    newProgress.stats.scenariosCompleted;\n  newProgress.stats.averageEfficiency = \n    (newProgress.stats.averageEfficiency * (newProgress.stats.scenariosCompleted - 1) + efficiency) / \n    newProgress.stats.scenariosCompleted;\n  \n  if (hasConstraintViolations(state)) {\n    newProgress.stats.constraintViolations += 1;\n  }\n  \n  // Update scenario type stats\n  const scenarioType = state.scenario.type;\n  if (!newProgress.stats.scenarioTypeStats[scenarioType]) {\n    newProgress.stats.scenarioTypeStats[scenarioType] = {\n      completed: 0,\n      averageScore: 0,\n      averageEfficiency: 0,\n    };\n  }\n  const typeStats = newProgress.stats.scenarioTypeStats[scenarioType];\n  typeStats.completed += 1;\n  typeStats.averageScore = (typeStats.averageScore * (typeStats.completed - 1) + score) / typeStats.completed;\n  typeStats.averageEfficiency = (typeStats.averageEfficiency * (typeStats.completed - 1) + efficiency) / typeStats.completed;\n  \n  return newProgress;\n}\n","/**\n * Allocation Architect - Explainability Analyzer\n * \n * Generates deterministic post-run analysis.\n */\n\nimport type { GameState, Analysis, KeyDecision, Mistake, Recommendation } from './types';\nimport { calculateMetrics } from './efficiencyCalculator';\nimport { areAllObjectivesMet, getUnmetObjectives } from './objectiveCalculator';\nimport { hasConstraintViolations, getConstraintViolations } from './constraintEngine';\n\n/**\n * Analyze game run and generate explainability report\n */\nexport function analyzeRun(state: GameState): Analysis {\n  const keyDecisions = identifyKeyDecisions(state);\n  const mistakes = identifyMistakes(state);\n  const recommendations = generateRecommendations(state, mistakes);\n  const summary = generateSummary(state, keyDecisions, mistakes);\n  \n  return {\n    keyDecisions,\n    mistakes,\n    recommendations,\n    summary,\n  };\n}\n\n/**\n * Identify key decision points\n */\nfunction identifyKeyDecisions(state: GameState): KeyDecision[] {\n  const decisions: KeyDecision[] = [];\n  \n  // Analyze each round for significant decisions\n  for (let i = 0; i < state.roundHistory.length; i++) {\n    const roundResult = state.roundHistory[i];\n    const prevRound = i > 0 ? state.roundHistory[i - 1] : null;\n    \n    // Decision: Resource concentration\n    const allocation = roundResult.allocation;\n    const totalAllocated = allocation.reduce((sum, a) => sum + a.resources, 0);\n    const maxAllocation = Math.max(...allocation.map(a => a.resources), 0);\n    const concentration = totalAllocated > 0 ? maxAllocation / totalAllocated : 0;\n    \n    if (concentration > 0.6) {\n      decisions.push({\n        round: roundResult.round,\n        description: `Concentrated ${Math.round(concentration * 100)}% of resources on single project`,\n        impact: concentration > 0.8 ? 'positive' : 'neutral',\n        reasoning: concentration > 0.8 \n          ? 'High concentration enabled fast project completion'\n          : 'Moderate concentration balanced speed and risk',\n      });\n    }\n    \n    // Decision: Constraint management\n    const constraintViolations = Object.values(roundResult.constraintStatus).filter(v => v).length;\n    if (prevRound) {\n      const prevViolations = Object.values(prevRound.constraintStatus).filter(v => v).length;\n      if (constraintViolations < prevViolations) {\n        decisions.push({\n          round: roundResult.round,\n          description: 'Resolved constraint violations',\n          impact: 'positive',\n          reasoning: 'Successfully addressed constraint issues from previous round',\n        });\n      } else if (constraintViolations > prevViolations) {\n        decisions.push({\n          round: roundResult.round,\n          description: 'New constraint violations occurred',\n          impact: 'negative',\n          reasoning: 'Allocation strategy led to constraint violations',\n        });\n      }\n    }\n    \n    // Decision: Event response\n    if (roundResult.events.length > 0) {\n      decisions.push({\n        round: roundResult.round,\n        description: `Responded to ${roundResult.events.length} event(s)`,\n        impact: roundResult.metrics.constraintCompliance > 80 ? 'positive' : 'negative',\n        reasoning: roundResult.metrics.constraintCompliance > 80\n          ? 'Successfully managed events without major impact'\n          : 'Events caused significant disruption',\n      });\n    }\n  }\n  \n  // Sort by impact and round\n  decisions.sort((a, b) => {\n    const impactOrder = { positive: 0, neutral: 1, negative: 2 };\n    const impactDiff = impactOrder[a.impact] - impactOrder[b.impact];\n    if (impactDiff !== 0) return impactDiff;\n    return b.round - a.round; // Later rounds first\n  });\n  \n  return decisions.slice(0, 3); // Top 3 decisions\n}\n\n/**\n * Identify mistakes and inefficiencies\n */\nfunction identifyMistakes(state: GameState): Mistake[] {\n  const mistakes: Mistake[] = [];\n  const metrics = calculateMetrics(state);\n  \n  // Low efficiency\n  if (metrics.resourceEfficiency < 70) {\n    mistakes.push({\n      round: state.currentRound,\n      description: `Low resource efficiency: ${Math.round(metrics.resourceEfficiency)}%`,\n      cost: `Wasted ${Math.round(metrics.waste)} resources`,\n      recommendation: 'Allocate resources more strategically, focus on projects with better returns',\n    });\n  }\n  \n  // Constraint violations\n  if (hasConstraintViolations(state)) {\n    const violations = getConstraintViolations(state);\n    mistakes.push({\n      round: state.currentRound,\n      description: `Constraint violations: ${violations.length} constraint(s) violated`,\n      cost: 'Failed scenario due to constraint violations',\n      recommendation: 'Monitor constraints more closely, allocate resources within limits',\n    });\n  }\n  \n  // Unmet objectives\n  if (!areAllObjectivesMet(state)) {\n    const unmet = getUnmetObjectives(state);\n    mistakes.push({\n      round: state.currentRound,\n      description: `Unmet objectives: ${unmet.length} objective(s) not achieved`,\n      cost: 'Failed scenario due to unmet objectives',\n      recommendation: 'Focus allocation on projects that contribute to objectives',\n    });\n  }\n  \n  // High waste\n  if (metrics.waste > state.totalBudgetUsed * 0.1) {\n    mistakes.push({\n      round: state.currentRound,\n      description: `High resource waste: ${Math.round(metrics.waste)} resources wasted`,\n      cost: `Lost ${Math.round(metrics.waste)} resources that could have been used`,\n      recommendation: 'Avoid over-allocating to completed projects, redistribute resources',\n    });\n  }\n  \n  // Late constraint management\n  const lateViolations = state.roundHistory\n    .filter(r => Object.values(r.constraintStatus).some(v => v))\n    .length;\n  if (lateViolations > 2) {\n    mistakes.push({\n      round: state.currentRound,\n      description: 'Late constraint management',\n      cost: 'Multiple rounds with constraint violations',\n      recommendation: 'Address constraint issues earlier, monitor constraints proactively',\n    });\n  }\n  \n  return mistakes.slice(0, 3); // Top 3 mistakes\n}\n\n/**\n * Generate recommendations\n */\nfunction generateRecommendations(state: GameState, mistakes: Mistake[]): Recommendation[] {\n  const recommendations: Recommendation[] = [];\n  const metrics = calculateMetrics(state);\n  \n  // Strategy recommendation based on performance\n  if (metrics.resourceEfficiency < 70) {\n    recommendations.push({\n      type: 'allocation',\n      description: 'Improve resource allocation efficiency',\n      rationale: 'Current efficiency is below optimal. Focus on projects with better progress-to-resource ratios and avoid over-allocation.',\n    });\n  }\n  \n  // Risk management recommendation\n  if (metrics.riskLevel > 50) {\n    recommendations.push({\n      type: 'risk-management',\n      description: 'Invest in project health buffers',\n      rationale: 'High risk level suggests vulnerability to events. Allocate extra resources to build health buffers on critical projects.',\n    });\n  }\n  \n  // Constraint management recommendation\n  if (hasConstraintViolations(state)) {\n    recommendations.push({\n      type: 'strategy',\n      description: 'Adopt more conservative allocation strategy',\n      rationale: 'Constraint violations indicate need for more careful resource management. Monitor constraints closely and stay within limits.',\n    });\n  }\n  \n  // Objective-focused recommendation\n  if (!areAllObjectivesMet(state)) {\n    const unmet = getUnmetObjectives(state);\n    recommendations.push({\n      type: 'strategy',\n      description: 'Prioritize objective-critical projects',\n      rationale: `Focus allocation on projects that directly contribute to unmet objectives: ${unmet.map(o => o.name).join(', ')}`,\n    });\n  }\n  \n  return recommendations.slice(0, 3); // Top 3 recommendations\n}\n\n/**\n * Generate summary\n */\nfunction generateSummary(\n  state: GameState,\n  keyDecisions: KeyDecision[],\n  mistakes: Mistake[]\n): string {\n  const outcome = state.outcome === 'win' ? 'successful' : 'unsuccessful';\n  const metrics = calculateMetrics(state);\n  \n  let summary = `This ${outcome} run achieved ${Math.round(metrics.objectiveProgress)}% objective progress `;\n  summary += `with ${Math.round(metrics.resourceEfficiency)}% resource efficiency. `;\n  \n  if (keyDecisions.length > 0) {\n    const positiveDecisions = keyDecisions.filter(d => d.impact === 'positive').length;\n    summary += `Key strategic decisions included ${positiveDecisions} positive choices. `;\n  }\n  \n  if (mistakes.length > 0) {\n    summary += `Areas for improvement include ${mistakes[0].description.toLowerCase()}. `;\n  }\n  \n  if (state.outcome === 'win') {\n    summary += 'Overall, the allocation strategy successfully balanced objectives, constraints, and resource efficiency.';\n  } else {\n    summary += 'The allocation strategy needs refinement to better balance competing priorities.';\n  }\n  \n  return summary;\n}\n"],"names":[],"mappings":"0DAMA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QCDA,EAAA,EAAA,CAAA,CAAA,QCKO,SAAS,EAAiB,CAAgB,cA4E3C,EA3EE,EAAqB,AAkB7B,SAAS,AAA4B,CAAgB,EACnD,GAA8B,IAA1B,EAAM,eAAe,CAAQ,OAAO,IAGxC,IAAM,EAAiB,EAAM,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAK,KAEjD,IAAM,EAAe,EAAQ,eAAe,CACtC,EAAiB,EAAM,iBAAiB,CAC3C,MAAM,CAAC,GAAK,EAAE,SAAS,GAAK,EAAQ,EAAE,EACtC,MAAM,CAAC,CAAC,EAAG,IAAM,EAAI,EAAE,SAAS,CAAE,UAErC,AAAuB,GAAG,CAAtB,EAA6B,EAI1B,EADa,EAAe,EACtB,AAD8B,iBAAiB,EAAK,CAAD,CAAkB,EAAQ,iBAAA,AAAiB,CAE7G,EAAG,GAGH,OAAO,KAAK,GAAG,CAAC,IAAK,KAAK,GAAG,CAAC,EAAG,AAAoB,KAD3B,EAAM,QAAQ,CAAC,MAAM,CAAG,EAAI,EAAiB,EAAM,QAAQ,CAAC,MAAM,EAAG,GAEjG,EAtCyD,GACjD,EAAoB,AA0C5B,SAAS,AAA2B,CAAgB,EAClD,GAAgC,IAA5B,EAAM,UAAU,CAAC,MAAM,CAAQ,OAAO,IAE1C,IAAM,EAAgB,EAAM,UAAU,CAAC,MAAM,CAAC,CAAC,EAAK,IAE3C,EADU,AACJ,KADS,GAAG,CAAC,IAAM,EAAI,OAAO,CAAG,EAAI,MAAM,CAAI,KACpC,EAAI,MAAM,CACjC,GAEG,EAAc,EAAM,UAAU,CAAC,MAAM,CAAC,CAAC,EAAK,IAAQ,EAAM,EAAI,MAAM,CAAE,GAC5E,OAAO,EAAc,EAAI,EAAgB,EAAc,CACzD,EApDuD,GAC/C,EAyDN,AAAiC,GAAG,CAAhC,CADiC,EAxDsB,GAwDN,AAC3C,WAAW,AAzDQ,CAyDP,MAAM,CAAe,IAEd,AACrB,EAD2B,WAAW,CAAC,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAAE,MAAM,CAC/C,EAAM,WAAW,CAAC,MAAM,CAAI,IAxD3D,MAAO,oBACL,oBACA,EACA,uBACA,SAAA,CAsFK,KAAK,GAAG,CAAC,IAAK,KAAK,GAAG,CAAC,EAF9B,CAEiC,CArBtB,EAQF,AALW,CAVM,EAjEW,GAiEK,AAUhB,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAK,IAGvC,GAAO,AAAa,GAAd,CAFM,CAAC,IAAM,EAAQ,MAAA,AAAM,EAAI,GAAA,EAEX,AAAe,GAD3B,EAAQ,SACmB,AADV,CACa,CAClD,GACoB,EAAM,QAAQ,CAAC,MAAM,CAAI,GAOvC,AAJc,EAAM,WAAW,CAAC,MAAM,CAAC,CAAC,EAAK,IAE7C,EAAM,KAAK,GAAG,CAAC,EADJ,CACO,CADI,OAAO,CAAG,EAAW,KAAK,EAEtD,GACuB,EAAM,WAAW,CAAC,MAAM,CAAI,GAI9C,KAAK,GAAG,CAAC,GAAI,AAAwB,EADtB,EAAM,MAAM,CAAC,MAAM,CAAC,GAAK,EAAE,KAAK,CAAG,EAAM,YAAY,EACxC,MAAM,IAnFxC,MAPY,AAkGhB,SAAS,AAAe,CAAgB,EAItC,IAAI,EAAQ,EAEZ,IAAK,IAAM,KAAW,EAAM,QAAQ,CAAE,CACpC,IAAM,EAAY,EAAM,iBAAiB,CACtC,MAAM,CAAC,GAAK,EAAE,SAAS,GAAK,EAAQ,EAAE,EACtC,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,EAErC,GAAQ,eAAe,EAAI,IAG7B,CAHkC,EAGzB,KAAK,GAAG,CAAC,EAAG,EADJ,EAAQ,QACQ,SADS,EAKhB,AACtB,EAFkB,AACS,EADD,eAAe,CAAG,IACD,EAAQ,kBAAkB,CACjD,KAAK,AAE3B,GAAqB,GAAZ,CAAY,CAG3B,CAEA,OAAO,CACT,EA7H+B,EAQ7B,CACF,CCmCO,SAAS,EAAgB,CAAgB,CAAE,CAAwB,EACxE,IAAM,EAAc,EAAM,QAAQ,CAAC,GAAG,CAAC,YACrC,IAAM,EAAQ,EAAW,IAAI,CAAC,GAAK,EAAE,SAAS,GAAK,EAAQ,EAAE,EAC7D,GAAI,CAAC,GAA6B,GAAG,CAAvB,EAAM,SAAS,CAC3B,MAAO,CAAE,GAAG,CAAO,AAAC,EAItB,IAAM,GAqBqB,EArBgB,EAqBE,EArBO,CAqBT,CArBe,IAArC,CAqByC,IArBK,CAsBhD,AAGd,EAHsB,aAGP,MAH0B,CAAG,GAEzB,EADJ,AACS,EADD,eAAe,CAAG,IACD,EAAQ,kBAAA,AAAkB,GAvBjE,EAAc,KAAK,GAAG,CAAC,IAAK,EAAQ,eAAe,CAAG,GAK5D,MAAO,CACL,GAAG,CAAO,CACV,gBAAiB,CACnB,CACF,GAEA,MAAO,CACL,GAAG,CAAK,CACR,SAAU,CACZ,CACF,CEhBO,SAAS,EAAoB,CAAgB,EAClD,OAAO,EAAM,UAAU,CAAC,KAAK,CAAC,GAAO,EAAI,GAAG,CAC9C,CAKO,SAAS,EAAmB,CAAgB,EACjD,OAAO,EAAM,UAAU,CAAC,MAAM,CAAC,GAAO,CAAC,EAAI,GAAG,CAChD,CChBO,SAAS,EAAwB,CAAgB,EACtD,OAAO,EAAM,WAAW,CAAC,IAAI,CAAC,GAAK,EAAE,QAAQ,CAC/C,CE0DO,SAAS,IAEd,MA7BO,CA6BA,AA5BL,QArFoB,CAqFX,CACT,EA2BiB,CA3Bb,EACJ,YAAa,UACb,aAAc,EACd,kBAAmB,CAAC,sBAAsB,CAC1C,iBAAkB,CAAC,EAAE,CACrB,oBAAqB,CAAC,SAAS,CAC/B,cAAe,CAAC,EAChB,cAAe,EACf,cAAe,EACf,eAAgB,GAChB,oBAAqB,EAAE,CACvB,MAAO,CACL,mBAAoB,EACpB,kBAAmB,EACnB,aAAc,EACd,qBAAsB,EACtB,gBAAiB,EACjB,kBAAmB,CAAC,CACtB,CACF,CASF,CR9GA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAIA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAIA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAIA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAGA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAGA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QASA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAEA,IAAM,EAA0B,CAC9B,GAAI,uBACJ,MAAO,uBACP,YAAa,4DACb,SAAU,WACV,MAAO,CAAC,OAAQ,QAAQ,CACxB,qBAAqB,EACrB,WAAY,EACZ,WAAY,EACZ,iBAAkB,GAClB,mBAAmB,CACrB,EAEM,EAAU,uBAED,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,QAC3C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,MACvD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,CAAC,GAC9E,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAChD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,MAC3E,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MACtD,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAC3D,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MACtD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MACxC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAE1D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACO,SAAX,CAAqB,EAAC,GACxB,GAEJ,EAAG,CAAC,EAHmC,AAG3B,EAAU,EAEtB,IAAM,EAAsB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACtC,GAAI,KO7D4B,IP8D9B,IO9DgD,AP8D1C,EAAiB,CAAA,EAAA,EAAA,2BAAA,AAA2B,EAAC,GAO7C,KCzEL,ADmEgB,GAMH,MCzEJ,AACd,CAAY,CACZ,CAA0B,CAC1B,CAAsB,CACtB,EAAsB,CAAC,KDqEe,CC7BX,EA2PJ,IAAkB,IAjSzC,AAsCiD,EAAE,EAtC7C,EAAM,IAAI,EAAA,CAsCsD,QAtC7C,CAAC,GACpB,KAA6B,EAsCtB,AA2CN,EA1CL,AAvCa,QAAgC,IAuChC,CACX,aAAc,EACd,eAAgB,EAChB,gBAAiB,EACjB,cAAe,IACf,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,GACrB,mBAAoB,EACtB,EACA,aAAc,CACZ,aAAc,EACd,eAAgB,EAChB,gBAAiB,EACjB,cAAe,GACf,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,GACrB,mBAAoB,EACtB,EACA,SAAU,CACR,aAAc,EACd,eAAgB,EAChB,gBAAiB,EACjB,cAAe,GACf,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,GACrB,mBAAoB,EACtB,EACA,OAAQ,CACN,aAAc,GACd,eAAgB,EAChB,gBAAiB,EACjB,cAAe,GACf,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,IACrB,mBAAoB,EACtB,EACF,CAEW,CAAC,EAAW,EA/EjB,EAAW,AAqFnB,SAAS,AAAiB,CAAa,CAAE,CAAwB,CAAE,CAAc,EAC/E,IAAM,EAAsB,EAAE,CACxB,EAAe,CAAC,QAAS,OAAQ,QAAS,QAAS,UAAW,OAAQ,MAAO,QAAS,OAAQ,QAAQ,CAE5G,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IAAK,CAC9B,IAAM,EAAoB,EAAI,OAAO,CAAC,GAAI,IACpC,EAAsB,EAAI,SAAS,CAAC,GAAK,GACzC,EAAqB,EAAO,kBAAkB,CAAG,EAAI,SAAS,CAAC,GAAK,KACpE,EAAW,EAAI,OAAO,CAAC,EAAG,IAC1B,EAAY,EAAI,SAAS,CAAC,GAAK,IAG/B,EAAyB,EAAE,CAC7B,EAAI,GAAK,AAAa,KAAT,AAAc,IAAV,IACnB,EAAa,IAAI,CAAC,CAAQ,CAAC,EAAI,OAAO,CAAC,EAAG,EAAI,GAAG,CAAC,EAAE,EAItD,IAAM,EAAoB,EAAE,CACxB,EAAI,EAAQ,GAAkB,GAAb,EAAI,AAAc,IAAV,IAC3B,EAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAI,EAAA,CAAG,EAGjC,EAAS,IAAI,CAAC,CACZ,GAAI,CAAC,QAAQ,EAAE,EAAA,CAAG,CAClB,KAAM,CAAY,CAAC,EAAE,EAAI,CAAC,QAAQ,EAAE,EAAI,EAAA,CAAG,CAC3C,YAAa,CAAC,QAAQ,EAAE,EAAI,EAAE,UAAU,EAAE,EAAkB,sBAAsB,CAAC,mBACnF,EACA,gBAAiB,sBACjB,qBACA,eACA,UACA,WACA,EACA,YACA,OAAQ,CACV,EACF,CAEA,OAAO,CACT,EA7HoC,EAAO,YAAY,CAAE,EAAQ,GACzD,EAAa,AAiIrB,SAAS,AACP,CAAa,CACb,CAAmB,CACnB,CAAwB,CACxB,CAAc,EAEd,IAAM,EAA0B,EAAE,CAC5B,EAA4G,CAChH,oBACA,sBACA,mBACA,gBACD,CAED,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IAAK,CAC9B,IAAM,EAAO,CAAc,CAAC,EAAI,EAAe,MAAM,CAAC,CAClD,EAAS,EACT,EAAO,GACP,EAAc,GAElB,OAAQ,GACN,IAAK,oBACH,EAAS,KAAK,IAAI,CAAC,EAAS,MAAM,CAAI,EAAD,EAAoB,GAAb,EAAI,IAAI,EAAK,CAAG,EAC5D,EADgE,AACzD,oBACP,CAFqF,CAEvE,CAAC,kBAAkB,EAAE,EAAO,SAAS,CAAC,CACpD,KACF,KAAK,sBACH,EAAS,KAAK,KAAK,CAAC,GAAkB,GAAb,EAAI,AAAc,IAAV,IACjC,CADoD,CAC7C,sBACP,EAAc,CAAC,mCAAmC,EAAE,EAAO,CAAC,CAAC,CAC7D,KACF,KAAK,mBACH,EAAS,IACT,CADc,CACP,iBADyB,MAEhC,EAAc,uDACd,KACF,KAAK,gBACH,EAAS,KAAK,KAAK,CAAC,GAAkB,GAAb,EAAI,AAAc,IAAV,IACjC,CADoD,CAC7C,gBACP,EAAc,CAAC,sBAAsB,EAAE,EAAO,CAAC,CAAC,AAEpD,CAEA,EAAW,IAAI,CAAC,CACd,GAAI,CAAC,UAAU,EAAE,EAAA,CAAG,CACpB,mBACA,OACA,SACA,EACA,QAAS,EACT,OAAQ,EAAI,OAAO,CAAC,EAAG,IACvB,KAAK,CACP,EACF,CAEA,OAAO,CACT,EAzLwC,EAAO,cAAc,CAAE,EAAU,EAAQ,GACzE,EAAc,AA6LtB,SAAS,AAAoB,CAAa,CAAE,CAAwB,CAAE,CAAc,EAClF,IAAM,EAA4B,EAAE,CAC9B,EAAwC,CAAC,SAAU,OAAQ,WAAY,WAAW,CAExF,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IAAK,CAC9B,IAAM,EAAO,CAAe,CAAC,EAAI,EAAgB,MAAM,CAAC,CAClD,EAAY,EAAO,aAAa,CAA4B,EAAxB,CAA4B,CAArB,cAAc,CAEzD,EAAQ,KAAK,KAAK,CAAC,AAF0E,EACjF,EAAO,QACY,WADO,CACK,EAAI,SAAS,CAAC,GAAK,MAEpE,EAAY,IAAI,CAAC,CACf,GAAI,CAAC,WAAW,EAAE,EAAA,CAAG,MACrB,EACA,KAAM,CAAA,EAAG,EAAK,MAAM,CAAC,GAAG,WAAW,GAAK,EAAK,KAAK,CAAC,GAAG,WAAW,CAAC,CAClE,YAAa,CAAC,MAAM,EAAE,EAAK,uBAAuB,EAAE,EAAA,CAAO,OAC3D,EACA,QAAS,EACT,iBAAkB,GAClB,UAAU,CACZ,EACF,CAEA,OAAO,CACT,EApN0C,EAAO,eAAe,CAAE,EAAQ,GAClE,EAAS,AAwNjB,SAAS,AAAe,CAAmB,CAAE,CAAwB,CAAE,CAAc,EACnF,IAAM,EAAkB,EAAE,CAE1B,IAAK,IAAI,EAAQ,EAAG,GAAS,EAAa,IACxC,GAAI,CAD6C,CACzC,IAAI,GAAK,EAAO,cAAc,CAAE,CACtC,IAAM,EAA0B,CAAC,eAAgB,qBAAsB,wBAAyB,oBAAoB,CAC9G,EAAO,EAAI,MAAM,CAAC,GAExB,EAAO,IAAI,CAAC,CACV,GAAI,CAAC,MAAM,EAAE,EAAA,CAAO,MACpB,EACA,KAoBC,AANO,CACZ,AAfU,eAeM,mBAChB,qBAAsB,qBACtB,wBAAyB,wBACzB,oBAAqB,mBACvB,CACY,CAAC,AApBY,EAoBP,CAnBZ,YAuBe,AAMd,CALL,AAxBiB,eAwBD,0DAChB,qBAAsB,oCACtB,wBAAyB,oCACzB,oBAAqB,8CACvB,CACmB,CAAC,AA7BmB,EA6Bd,OA5BnB,EACA,SAAU,EAAI,SAAS,CAAC,GAAK,IAC7B,iBAAkB,EAAE,CACpB,OA4BR,AA5BgB,SA4BP,AAAe,CAAe,CAAE,CAAwB,CAAE,CAAc,EAC/E,OAAQ,GACN,IAAK,eACH,MAAO,CACL,eAAgB,CAAC,KAAK,KAAK,CAAC,EAAO,cAAc,CAAG,EAAI,SAAS,CAAC,GAAK,IACzE,CACF,KAAK,qBACH,MAAO,CACL,kBAAmB,EAAI,SAAS,CAAC,GAAK,GACxC,CACF,KAAK,wBACH,MAAO,CACL,eAAgB,KAAK,KAAK,CAAC,EAAO,cAAc,CAAG,EAAI,SAAS,CAAC,CAAC,GAAK,IACzE,CACF,KAAK,oBACH,MAAO,CACL,aAAc,EAAI,SAAS,CAAC,EAAG,GACjC,CACF,SACE,MAAO,CAAC,CACZ,CACF,EAjD+B,EAAM,EAAQ,EACvC,EACF,CAGF,OAAO,CACT,EA9OgC,EAAa,EAAQ,GAEnD,MAAO,CACL,GAAI,CAAC,SAAS,EAAE,EAAA,CAAM,CACtB,IAAA,EAAM,EAAgB,EAuRmB,EAvRL,EA8R/B,CAAA,EAAG,AANQ,EAChB,CAF+D,qBAExC,sBACvB,kBAAmB,kBACnB,oBAAqB,oBACrB,kBAAmB,2BACrB,CACmB,CAAC,EAAK,CAAC,GAAG,EAAE,EAAW,MAAM,CAAC,GAAG,WAAW,GAAK,EAAW,KAAK,CAAC,GAAA,CAAI,EA7RvF,WAAA,EAgS4B,AAhSf,EAAuB,EAgSU,AAAE,EAhSE,EAiS7C,CAAC,EAAE,EAAE,CAD4D,CACjD,sBAAsB,EAAE,EAAK,OAAO,CAAC,IAAK,KAAK,iFAAiF,CAAC,EAhStJ,KAAM,aACN,cACA,EACA,cAAe,EAAO,aAAa,CACnC,eAAgB,EAAO,cAAc,UACrC,aACA,cACA,SACA,CACF,CACF,EDwCQ,EAAe,IAAI,CACnB,sBACA,eACA,GOnEgD,EPqEN,EOrEkB,APqEH,IAAI,COpE5D,UACL,EACA,aAAc,EACd,YAAa,EAAS,WAAW,CACjC,eAAgB,EAAS,aAAa,CAAG,EAAS,cAAc,CAChE,gBAAiB,EACjB,SAAU,EAAS,QAAQ,CAAC,GAAG,CAAC,IAAK,AAAC,CAAE,GAAG,CAAC,CAAC,CAAC,EAC9C,WAAY,EAAS,UAAU,CAAC,GAAG,CAAC,IAAK,AAAC,CAAE,GAAG,CAAC,CAAC,CAAC,EAClD,YAAa,EAAS,WAAW,CAAC,GAAG,CAAC,GAAM,CAAD,CAAG,GAAG,CAAC,CAAC,CAAC,EACpD,OAAQ,IAAI,EAAS,MAAM,CAAC,CAC5B,kBAAmB,EAAE,CACrB,aAAc,EAAE,CAChB,QAAS,CACP,mBAAoB,EACpB,kBAAmB,EACnB,qBAAsB,IACtB,UAAW,EACX,MAAO,CACT,OACA,EACA,OAAQ,MACV,GPgDI,EAAa,GACb,EAAqB,CAAC,GACtB,EAAgB,MAChB,EAAqB,MACrB,EAAmB,MACnB,EAAkB,EAAE,EACpB,EAAmB,MACnB,EAAY,KACd,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gCAAiC,EACjD,CACF,EAAG,EAAE,EAEC,EAAc,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC9B,AAAK,GAKL,CALI,COvDC,CACL,GP0D0B,AO1DvB,CP0DuB,CAJV,AOrDhB,GADQ,EP2DK,EO1DL,UACR,aAAc,CAChB,GPyDE,EAAU,WACV,EAAa,KAAK,GAAG,KANnB,GAOJ,EAAG,CAAC,EAAW,EAAoB,EAE7B,EAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAmB,aGHzD,EHIJ,GAAI,AAAW,eAAa,CAAC,EAAW,OAExC,EAAqB,GAAS,EAC5B,EAD2B,CACxB,CAAI,CACP,CAAC,EAAU,CAAE,KAAK,GAAG,CAAC,EAAG,GAC3B,CAAC,EAGD,IAAM,EAA2B,OAAO,OAAO,CAAC,CAC9C,GAAG,CAAiB,CACpB,CAAC,EAAU,CAAE,CACf,GACG,MAAM,CAAC,CAAC,CAAC,EAAG,EAAM,GAAK,EAAQ,GAC/B,GAAG,CAAC,CAAC,CAAC,EAAI,EAAM,GAAK,CAAC,CAAE,UAAW,EAAI,UAAW,EAAM,CAAC,EAG5D,GG1BI,EAAY,OAGZ,EDgEC,EApBW,AFrBA,CEsBhB,GAAG,AC7C8C,CAHjB,AAGiB,CD8CjD,CC9C4D,ED6CpD,GChD+B,GDmEjB,AChEC,AD8Cb,EAAM,QAAQ,CAAC,GAAG,CAAC,IAC3B,IAAM,EAAQ,EAAW,IAAI,CAAC,GAAK,EAAE,SAAS,GAAK,EAAQ,EAAE,EAC7D,GAAI,CAAC,EAAO,OAAO,EAEnB,IAAM,EAAe,EAAQ,mBAAmB,CAAG,EAAM,SAAS,CAE5D,EAAoB,EAAK,AADT,EAAQ,eAAe,CAAG,IACD,EAAQ,kBAAkB,CACnE,EAAc,KAAK,GAAG,CAAC,IAAK,EAAQ,eAAe,CAAI,EAAe,GAE5E,MAAO,CACL,GAAG,CAAO,CACV,gBAAiB,CACnB,CACF,GACA,kBAAmB,IAAI,EAAM,iBAAiB,MAAgB,CAC9D,gBAAiB,EAAM,eAAe,CAAG,AFvCU,EEuCC,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,EAC5F,KC3D2B,EAAE,CAEzB,AADmB,EAAW,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,GHkB9B,AGjBrB,EAAM,cAAc,EAAE,AACzC,EAAS,IAAI,CAAC,6BAIhB,EAAU,WAAW,CAAC,OAAO,CAAC,IACxB,EAAW,OAAO,CAAG,EAAW,KAAK,CACvC,CADyC,CAChC,IAAI,CAAC,CAAA,EAAG,EAAW,IAAI,CAAC,iBAAiB,CAAC,EAC1C,EAAW,OAAO,CAAG,EAAW,KAAK,CAAG,EAAW,gBAAgB,EAAE,AAC9E,EAAS,IAAI,CAAC,CAAA,EAAG,EAAW,IAAI,CAAC,qBAAqB,CAAC,CAE3D,GAEO,CACL,SAAU,EAAU,QAAQ,CAC5B,WAAY,EAAU,UAAU,CAChC,YAAa,EAAU,WAAW,CAClC,QAAS,WACT,CACF,GHAA,EAAG,CAAC,EAAQ,EAAW,EAAkB,EAEnC,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACrC,GAAI,CAAC,GAAa,AAAW,cAAW,OAGxC,IAAM,EAA2B,OAAO,OAAO,CAAC,GAC7C,MAAM,CAAC,CAAC,CAAC,EAAG,EAAM,GAAK,EAAQ,GAC/B,GAAG,CAAC,CAAC,CAAC,EAAI,EAAM,GAAK,CAAC,CAAE,UAAW,EAAI,UAAW,EAAM,CAAC,EAGtD,EG/HH,AH+HgB,SG/HP,AAAmB,CAAgB,CAAE,CAAwB,EAC3E,IAAM,EAAmB,EAAE,CACrB,EAAqB,EAAE,CAGvB,EAAiB,EAAW,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,GAMxE,IAAK,IAAM,KALP,EAAiB,EAAM,cAAc,EAAE,AACzC,EAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,EAAe,4BAA4B,EAAE,EAAM,cAAc,CAAC,CAAC,CAAC,EAInF,GACd,EAAM,MADoB,GACX,CAAG,GAAG,AACvB,EAAO,IAAI,CAAC,CAAC,eAAe,EAAE,EAAM,SAAS,CAAC,mBAAmB,CAAC,EAKtE,IAAK,IAAM,KAAS,EAAY,CAC9B,IAAM,EAAU,EAAM,QAAQ,CAAC,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,EAAM,SAAS,EACjE,GAAK,CAAD,CAIF,IAAK,GAJO,CAID,KAAS,EAAQ,YAAY,CAAE,CACxC,IAAM,EAAa,EAAM,QAAQ,CAAC,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,GACjD,GAAc,EAAW,eAAe,CAAG,KAAK,AAClD,EAAS,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAM,SAAS,CAAC,YAAY,EAAE,EAAM,sBAAsB,CAAC,CAExF,MARA,EAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAM,SAAS,CAAC,UAAU,CAAC,CAUtD,CAOA,OAJI,EAAwC,GAAvB,EAAM,AAAsB,cAAR,EACvC,EAAS,IAAI,CAAC,wCAGT,CACL,MAAyB,IAAlB,EAAO,MAAM,QACpB,WACA,CACF,CACF,EHoF0C,EAAW,GACjD,GAAI,CAAC,EAAW,KAAK,CAAE,YACrB,MAAM,EAAW,MAAM,CAAC,IAAI,CAAC,OAK/B,IAAM,EO3FH,AP2Fc,SO3FL,AAAa,CAAgB,CAAE,CAAwB,MF3CtC,ECDC,EC8HA,CF7He,ECDC,EC8HA,GF3H1C,ECFA,MC4CN,GAAqB,WAAW,CAA5B,EAAM,MAAM,CACd,OAAO,EAIT,IAAM,EAAiB,EAAW,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,GACxE,GAAI,EAAiB,EAAM,cAAc,CACvC,CADyC,MAClC,EAIT,IAAI,CAJY,CAID,EAAgB,EAAO,GAGhC,EAAc,EAAS,MAAM,CAAC,MAAM,CAAC,GAAK,EAAE,KAPE,AAOG,GAAK,EAAS,YAAY,EAC7E,EAAY,MAAM,CAAG,GAAG,CAC1B,EAAW,AH7DR,SAAS,AAAY,CAAgB,CAAE,CAAe,EAC3D,IAAI,EAAW,CAAE,GAAG,CAAK,AAAC,EAE1B,IAAK,IAAM,KAAS,EAClB,EAAW,AASf,GAV8B,MAUrB,AAAW,CAAgB,CAAE,CAAY,EAChD,IAAM,EAAc,EAAM,QAAQ,CAAC,GAAG,CAAC,IAKrC,GAAI,CAAC,CAHc,EAAM,SAGR,OAHwB,CAAC,QAAQ,CAAC,EAAQ,EAAE,OAC3C,EAAM,gBAAgB,CAAC,MAAM,AAAK,EAGlD,CAHqD,KAG9C,CAAE,GAAG,CAAO,AAAC,EAGtB,IAAI,EAAiB,CAAE,GAAG,CAAO,AAAC,EAGlC,EATkF,CAS9E,EAAM,MAAM,CAAC,cAAc,CAAE,CAE/B,IAAM,EAAS,EAAM,MAAM,CAAC,cAAc,CAAG,EAAM,QAAQ,CAC3D,EAAe,iBAAiB,CAAG,KAAK,GAAG,CAAC,GAAI,EAAe,iBAAiB,CAAG,EACrF,CAEA,GAAI,EAAM,MAAM,CAAC,iBAAiB,CAAE,CAElC,IAAM,EAAS,EAAM,MAAM,CAAC,iBAAiB,CAAG,EAAM,QAAQ,CACxD,EAAc,EAAe,iBAAiB,EAAI,CAAD,CAAK,CAAA,CAAM,CAClE,EAAe,iBAAiB,CAAG,KAAK,GAAG,CAAC,GAAI,EAClD,CAEA,GAAI,EAAM,MAAM,CAAC,YAAY,CAAE,CAE7B,IAAM,EAAO,EAAM,MAAM,CAAC,YAAY,CAAG,EAAM,QAAQ,CACnD,EAAe,MAAM,CAAG,EAE1B,CAF6B,CAEd,MAAM,CAAG,KAAK,GAAG,CAAC,EAAG,EAAe,MAAM,CAAG,GAG5D,EAAe,eAAe,CAAG,KAAK,GAAG,CAAC,EAAG,EAAe,eAAe,CAAG,EAElF,CAEA,OAAO,CACT,GAGI,EAAoB,EAAM,cAAc,CAM5C,OALI,EAAM,MAAM,CAAC,cAAc,EAAsC,GAAG,CAArC,EAAM,gBAAgB,CAAC,MAAM,GAE9D,EAAoB,KAAK,GAAG,CAAC,EAAG,EAAqB,EAAM,MAAM,CAAC,cAAc,CAAG,EAAM,QAAQ,GAG5F,CACL,GAAG,CAAK,CACR,SAAU,EACV,eAAgB,CAClB,CACF,EA9D0B,EAAU,GAGlC,OAAO,CACT,EGqD2B,EAAU,EAAA,EF3D7B,EAAU,IE+DY,KF9DN,EAAM,MADK,IACK,CAAC,GAAG,CAAC,IACzC,IAAM,EAAU,AAmBpB,SAAS,AAA0B,CAAgB,CAAE,CAAoB,CAAE,CAA6B,EACtG,OAAQ,EAAU,IAAI,EACpB,IAAK,oBACH,OAAO,EAAM,QAAQ,CAAC,MAAM,CAAC,GAAK,EAAE,eAAe,EAAI,KAAK,MAC9D,AADoE,KAC/D,sBACH,OAAO,EAAQ,kBACjB,AADmC,KAC9B,mBAEH,IAAM,EAAiB,EAAM,WAAW,CAAC,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAAE,MAAM,CACxE,OAAO,EAAM,WAAW,CAAC,MAAM,CAAG,EAAK,EAAiB,EAAM,WAAW,CAAC,MAAM,CAAI,IAAM,GAC5F,KAAK,gBACH,OAAO,EAAQ,SAAS,AAC1B,SACE,OAAO,CACX,CACF,EAlC8C,EAAO,EAAW,GACtD,EAAM,GAAW,EAAU,MAAM,CAEvC,MAAO,CACL,GAAG,CAAS,SACZ,EACA,KACF,CACF,KCXuB,GCgEvB,EFnDO,CACL,GAAG,CAAK,CACR,GEiDS,QFjDG,CACd,GChB6B,WAAW,CAAC,GAAG,CAAC,IAE3C,IAAM,EAAU,AAmBpB,SAAS,AAAyB,CAAgB,CAAE,CAAsB,EACxE,OAAQ,EAAW,IAAI,EACrB,IAAK,SAOL,IAAK,WANH,OAAO,EAAM,eAAe,AAC9B,KAAK,OACH,OAAO,EAAM,YAAY,AAC3B,KAAK,WAEH,OAAO,EAAM,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAK,IAAU,EAAM,EAAM,SAAS,CAAE,EAI/E,KAAK,aAEH,OAAO,EAAM,QAAQ,CAAC,MAAM,CAAC,GACpB,EAAE,YAAY,CAAC,IAAI,CAAC,IACzB,IAAM,EAAM,EAAM,QAAQ,CAAC,IAAI,CAAC,GAAQ,EAAK,EAAE,GAAK,GACpD,MAAO,CAAC,GAAO,EAAI,eAAe,CAAG,GACvC,IACC,MAAM,AACX,SACE,OAAO,CACX,CACF,EA1C6C,EAAO,GAC1C,EAAW,EAAU,EAAW,KAAK,CAE3C,MAAO,CACL,GAAG,CAAU,SACb,WACA,CACF,CACF,GC4DA,CAHA,EDvDO,CACL,GAAG,CAAK,CACR,GCqDS,SDrDI,CACf,CCoD6B,EAGpB,KAHoB,EAGb,CAAG,EAAiB,GAGpC,IAAM,EAA2B,CAC/B,MAAO,EAAS,YAAY,YAC5B,EACA,gBAAiB,CAAC,EAClB,kBAAmB,CAAC,EACpB,iBAAkB,CAAC,EACnB,OAAQ,EACR,QAAS,CAAE,GAAG,EAAS,OAAO,AAAC,CACjC,EAsCA,OAnCA,EAAM,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAY,KAClC,IAAM,EAAa,EAAS,QAAQ,CAAC,EAAE,CACnC,IACF,EAAY,MADE,SACa,CAAC,EAAW,EAAE,CAAC,CAAG,EAAW,eAAe,CAAG,EAAW,eAAA,AAAe,CAExG,GAGA,EAAM,UAAU,CAAC,OAAO,CAAC,CAAC,EAAc,KACtC,IAAM,EAAe,EAAS,UAAU,CAAC,EAAE,CACvC,IACF,EAAY,QADI,SACa,CAAC,EAAa,EAAE,CAAC,CAAG,EAAa,OAAO,CAAG,EAAa,OAAA,AAAO,CAEhG,GAGA,EAAS,WAAW,CAAC,OAAO,CAAC,IAC3B,EAAY,gBAAgB,CAAC,EAAW,EAAE,CAAC,CAAG,EAAW,QAAQ,AACnE,GAEA,EAAS,YAAY,CAAC,IAAI,CAAC,GAC3B,EAAS,iBAAiB,CAAC,IAAI,IAAI,GAGnC,EAAS,eAAe,EAAI,EAC5B,EAAS,cAAc,CAAG,EAAS,cAAc,CAAG,EAAiB,EAAS,QAAQ,CAAC,cAAc,CAGjG,EAAS,YAAY,EAAI,EAAS,WAAW,EAAE,AACjD,EAAS,MAAM,CAAG,WAcd,EAAmB,GAbc,GAaR,UAAU,CAAC,KAAK,CAAC,GAAO,EAAI,GAAG,EAGxD,EAAyB,EAAM,WAAW,CAAC,KAAK,CAAC,GAAK,CAAC,EAAE,QAAQ,EAhBrE,EAAS,OAAO,CAkBX,AAlBc,GAkBM,EAlBwB,MAAQ,QAEzD,EAAS,YAAY,EAAI,EAGpB,CACT,EPckC,EAAW,GACzC,EAAa,GACb,EAAqB,CAAC,GACtB,EAAgB,MAGQ,YAAY,CAAhC,EAAS,MAAM,GACjB,EAAU,YACV,EAAmB,GAEvB,EAAG,CAAC,EAAW,EAAQ,EAAkB,EAEnC,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,QS/IlC,QTgJJ,GAAI,CAAC,EAAM,OAAO,EAAI,CAAC,EAAW,OAElC,IAAM,EAAW,KAAK,GAAG,GAAK,EACxB,EAAU,EAAiB,GAC3B,EAAwB,QAAlB,EAAM,OAAO,CAGnB,EAAW,CAAA,EAAA,EAAA,0BAAA,AAA0B,EAAC,EAAS,EAAM,IAAI,EAC/D,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,GACnB,EAAqB,GAGrB,IAAM,EAAQ,EACV,KAAK,KAAK,CAAC,AAA4B,KAApB,iBAAiB,CAAsC,GAA7B,EAAQ,kBAAkB,CAAS,AAA+B,KAAvB,oBAAoB,EAC5G,KAAK,KAAK,CAA6B,GAA5B,EAAQ,iBAAiB,CAAsC,GAA7B,EAAQ,kBAAkB,EAGrE,EAAS,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,KAC7B,QACA,EACA,WAAY,EAAQ,kBAAkB,CACtC,KAAM,EACN,WAAY,EAAM,QAAQ,CAAC,UAAU,CACrC,KAAM,IAAc,WAAW,AACjC,GAGM,EAAa,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,GAClC,EAAgB,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,CACxC,OAAQ,EACR,KAAM,EAAM,IAAI,QAChB,EACA,YAAa,OACX,EACA,WAAY,EAAQ,kBAAkB,CACtC,KAAM,CACR,EACA,OAAQ,EAAW,aAAa,CAChC,KAAM,IAAc,WACtB,AADiC,GAE3B,EAAe,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,GAIpC,EQ9DH,AR8DqB,SQ9DZ,AACd,CAAqC,CACrC,CAAgB,CAChB,CAAa,CACb,CAAkB,EAElB,IAAM,ERyDF,AQzDgB,CAAE,GAAG,CAAQ,AAAC,EAIlC,EAAY,EAAE,EAAI,GAGlB,IAAM,EAAiB,CACrB,QAAS,EACT,WAAY,IACZ,UAAW,IACX,OAAQ,IACR,OAAQ,GACV,EAEM,EAAmB,OAAO,IAAI,CAAC,GAAgB,OAAO,CAAC,EAAY,WAAW,EAC9E,EAAW,OAAO,IAAI,CAAC,EAAe,CAAC,EAAmB,EAAE,CAElE,GAAI,GAAY,EAAY,EAAE,EAAI,CAAc,CAAC,EAAS,CACxD,CAD0D,CAC9C,WAAW,CAAG,EAC1B,EAAY,YAAY,CAAG,MACtB,CACL,IAAM,EAAmB,CAAc,CAAC,EAAY,WAAW,CAAC,CAC1D,EAAgB,EAAW,CAAc,CAAC,EAAS,CAAG,GAC5D,GAAY,YAAY,CAAG,CAAC,EAAY,EAAE,CAAG,CAAA,CAAgB,EAAK,EAAD,AAAiB,CAAA,CAAgB,AACpG,CAGA,IAAM,EAAa,EAAM,QAAQ,CAAC,EAAE,CAC9B,EAAc,EAAY,aAAa,CAAC,EAAW,CACrD,EAAC,GAAe,EAAQ,EAAY,SAAA,AAAS,EAAE,EACjD,EAAY,aAAa,CAAC,EAAW,CAAG,CACtC,UAAW,EACX,eAAgB,EAChB,qBAAsB,EAAM,YAAY,CAC1C,EAIF,EAAY,KAAK,CAAC,kBAAkB,EAAI,EACxC,EAAY,KAAK,CAAC,YAAY,CAC5B,CAAC,EAAY,KAAK,CAAC,YAAY,CAAI,EAAD,CAAa,KAAK,CAAC,kBAAkB,EAAG,CAAC,CAAI,CAAA,CAAK,CACpF,EAAY,KAAK,CAAC,kBAAkB,CACtC,EAAY,KAAK,CAAC,iBAAiB,CACjC,CAAC,EAAY,KAAK,CAAC,iBAAiB,EAAI,CAAD,CAAa,KAAK,CAAC,kBAAkB,EAAG,CAAC,CAAI,CAAA,CAAU,CAC9F,EAAY,KAAK,CAAC,kBAAkB,CAElC,EAAwB,KAC1B,EAAY,CADsB,IACjB,CAAC,oBAAoB,GAAI,EAI5C,IAAM,EAAe,EAAM,QAAQ,CAAC,IAAI,AACpC,CAAC,EAAY,KAAK,CAAC,iBAAiB,CAAC,EAAa,EAAE,CACtD,EAAY,KAAK,CAAC,iBAAiB,CAAC,EAAa,CAAG,CAClD,UAAW,EACX,aAAc,EACd,kBAAmB,EACrB,EAEF,IAAM,EAAY,EAAY,KAAK,CAAC,iBAAiB,CAAC,EAAa,CAKnE,OAJA,EAAU,SAAS,EAAI,EACvB,EAAU,YAAY,CAAG,CAAC,EAAU,YAAY,EAAI,CAAD,CAAW,SAAS,EAAG,CAAC,CAAI,CAAA,CAAK,CAAI,EAAU,SAAS,CAC3G,EAAU,iBAAiB,CAAG,CAAC,EAAU,iBAAiB,EAAI,CAAD,CAAW,SAAS,EAAG,CAAC,CAAI,CAAA,CAAU,CAAI,EAAU,SAAS,CAEnH,CACT,ERXqB,IAGf,EACA,EACA,EAAQ,kBAAkB,EAE5B,EAAgB,EAAE,CAAG,EAAa,OAAO,CAIzC,CAJ2C,GAIrC,EAAY,OAChB,EACA,EANyD,GAMnD,EACN,WAAY,EACZ,WAAY,EAAQ,kBAAkB,CACtC,UAAW,KAAK,GAAG,EACrB,EACA,EAAmB,GAEnB,EADmB,CAAA,EAAA,EAAA,WAAA,AAAW,CACX,CADY,EAAS,IAAI,CAAE,IAI9C,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,EAAS,OAC9B,EACA,KAAM,EACN,WAAY,CACd,GAGA,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,GAAS,GAU7B,EAP0B,AAOR,CAPQ,EAAA,EAAA,0BAAA,AAA0B,EAAC,CACnD,OAAQ,EACR,cAAe,EAAW,aAAa,CAAG,EAC1C,eAAgB,EAAgB,KAAK,CAAC,kBAAkB,OACxD,EACA,KAAM,CACR,GACoC,aAAa,EAIjD,KSvOmB,AAgBvB,OTuNgB,ESvNP,AAAqB,CAAgB,EAC5C,IAAM,EAA2B,EAAE,CAjBO,AAoB1C,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,YAAY,CAAC,MAAM,CAAE,IAAK,CAClD,IAAM,EAAc,EAAM,YAAY,CAAC,EAAE,CACnC,EAAY,EAAI,EAAI,EAAM,YAAY,CAAC,EAAI,EAAE,CAAG,KAGhD,EAAa,EAAY,UAAU,CACnC,EAAiB,EAAW,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,SAAS,CAAE,GAClE,EAAgB,KAAK,GAAG,IAAI,EAAW,GAAG,CAAC,GAAK,EAAE,SAAS,EAAG,GAC9D,EAAgB,EAAiB,EAAI,EAAgB,EAAiB,EAExE,EAAgB,IAClB,CADuB,CACb,IAAI,CAAC,CACb,MAAO,EAAY,KAAK,CACxB,YAAa,CAAC,aAAa,EAAE,KAAK,KAAK,CAAiB,IAAhB,GAAqB,gCAAgC,CAAC,CAC9F,OAAQ,EAAgB,GAAM,WAAa,UAC3C,UAAW,EAAgB,GACvB,qDACA,gDACN,GAIF,IAAM,EAAuB,OAAO,MAAM,CAAC,EAAY,gBAAgB,EAAE,MAAM,CAAC,GAAK,GAAG,MAAM,CAC9F,GAAI,EAAW,CACb,IAAM,EAAiB,OAAO,MAAM,CAAC,EAAU,gBAAgB,EAAE,MAAM,CAAC,GAAK,GAAG,MAAM,AAClF,GAAuB,EACzB,EAAU,IAAI,CAAC,CACb,MAFuC,AAEhC,EAAY,KAAK,CACxB,YAAa,iCACb,OAAQ,WACR,UAAW,8DACb,GACS,EAAuB,GAChC,EAAU,IAAI,CAAC,CACb,KAF8C,CAEvC,EAAY,KAAK,CACxB,YAAa,qCACb,OAAQ,WACR,UAAW,kDACb,EAEJ,CAGI,EAAY,MAAM,CAAC,MAAM,CAAG,GAC9B,AADiC,EACvB,IAAI,CAAC,CACb,MAAO,EAAY,KAAK,CACxB,YAAa,CAAC,aAAa,EAAE,EAAY,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CACjE,OAAQ,EAAY,OAAO,CAAC,oBAAoB,CAAG,GAAK,WAAa,WACrE,UAAW,EAAY,OAAO,CAAC,oBAAoB,CAAG,GAClD,mDACA,sCACN,EAEJ,CAUA,OAPA,EAAU,IAAI,CAAC,CAAC,EAAG,KACjB,IAAM,EAAc,CAAE,SAAU,EAAG,QAAS,EAAG,SAAU,CAAE,EACrD,EAAa,CAAW,CAAC,EAAE,MAAM,CAAC,CAAG,CAAW,CAAC,EAAE,MAAM,CAAC,QAC7C,AAAnB,GAAsB,CAAlB,EAAyB,EACtB,EAAE,KAAK,CAAG,EAAE,KACrB,AAD0B,EAAE,CAGrB,EAAU,KAAK,CAAC,EAAG,EAC5B,EADgC,GAlFxB,EAwFR,AAxFmB,CA+EgC,QAS1C,AAAiB,CAAgB,EACxC,CAPgD,GAO1C,CAzF4B,CAyFN,EAAE,CACxB,EAAU,EAAiB,GAajC,GAVI,EAAQ,kBAAkB,CAAG,IAAI,AACnC,EAAS,IAAI,CAAC,CACZ,MAAO,EAAM,YAAY,CACzB,YAAa,CAAC,yBAAyB,EAAE,KAAK,KAAK,CAAC,EAAQ,kBAAkB,EAAE,CAAC,CAAC,CAClF,KAAM,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC,EAAQ,KAAK,EAAE,UAAU,CAAC,CACrD,eAAgB,8EAClB,GAIE,EAAwB,GAAQ,CAClC,IAAM,EHnDD,AGmDsC,EHnDhC,SGmDQ,EHnDG,CAAC,MAAM,CAAC,GAAK,EAAE,QAAQ,EGoD7C,EAAS,IAAI,CAAC,CACZ,MAAO,EAAM,YAAY,CACzB,YAAa,CAAC,uBAAuB,EAAE,EAAW,MAAM,CAAC,uBAAuB,CAAC,CACjF,KAAM,+CACN,eAAgB,oEAClB,EACF,CAGA,GAAI,CAAC,EAAoB,GAAQ,CAC/B,IAAM,EAAQ,EAAmB,GACjC,EAAS,IAAI,CAAC,CACZ,MAAO,EAAM,YAAY,CACzB,YAAa,CAAC,kBAAkB,EAAE,EAAM,MAAM,CAAC,0BAA0B,CAAC,CAC1E,KAAM,0CACN,eAAgB,4DAClB,EACF,CAyBA,OAtBI,EAAQ,KAAK,CAA2B,GAAxB,EAA6B,AAAvB,eAAe,EACvC,EAAS,IAAI,CAAC,CACZ,MAAO,EAAM,YAAY,CACzB,YAAa,CAAC,qBAAqB,EAAE,KAAK,KAAK,CAAC,EAAQ,KAAK,EAAE,iBAAiB,CAAC,CACjF,KAAM,CAAC,KAAK,EAAE,KAAK,KAAK,CAAC,EAAQ,KAAK,EAAE,oCAAoC,CAAC,CAC7E,eAAgB,qEAClB,GAOE,AAHmB,EAAM,YAAY,CACtC,MAAM,CAAC,GAAK,OAAO,MAAM,CAAC,EAAE,gBAAgB,EAAE,IAAI,CAAC,GAAK,IACxD,MAAM,CACY,GAAG,AACtB,EAAS,IAAI,CAAC,CACZ,MAAO,EAAM,YAAY,CACzB,YAAa,6BACb,KAAM,6CACN,eAAgB,oEAClB,GAGK,EAAS,KAAK,CAAC,EAAG,EAC3B,EAD+B,GAlJvB,EAAkB,AAwJ1B,SAAS,AAAwB,CAAgB,CAAE,CANH,AAMsB,EACpE,IAAM,EAAoC,EAAE,CACtC,CA1J0C,CA0JhC,EAAiB,GA8BjC,GA3BI,EAAQ,kBAAkB,CAAG,IAAI,AACnC,EAAgB,IAAI,CAAC,CACnB,KAAM,aACN,YAAa,yCACb,UAAW,2HACb,GAIE,EAAQ,SAAS,CAAG,IAAI,AAC1B,EAAgB,IAAI,CAAC,CACnB,KAAM,kBACN,YAAa,mCACb,UAAW,0HACb,GAIE,EAAwB,IAC1B,EAAgB,EADkB,EACd,CAAC,CACnB,KAAM,WACN,YAAa,8CACb,UAAW,+HACb,GAIE,CAAC,EAAoB,GAAQ,CAC/B,IAAM,EAAQ,EAAmB,GACjC,EAAgB,IAAI,CAAC,CACnB,KAAM,WACN,YAAa,yCACb,UAAW,CAAC,2EAA2E,EAAE,EAAM,GAAG,CAAC,GAAK,EAAE,IAAI,EAAE,IAAI,CAAC,MAAA,CAAO,AAC9H,EACF,CAEA,OAAO,EAAgB,KAAK,CAAC,EAAG,EAClC,ETkCoC,ASnCE,EAjMmB,GACjD,EAAU,AAsMlB,SAAS,AACP,CAAgB,CAChB,CAA2B,CAC3B,CAAmB,EAzMa,AA2MhC,CAX4D,GAWtD,EAA4B,QAAlB,EAAM,OAAO,CAAa,aAAe,eACnD,EAAU,EAAiB,GAE7B,EAAU,CAAC,KAAK,EAAE,EAAQ,cAAc,EAAE,KAAK,KAAK,CAAC,EAAQ,iBAAiB,EAAE,qBAAqB,CAAC,CAG1G,GAFA,GAAW,CAAC,KAAK,EAAE,KAAK,KAAK,CAAC,EAAQ,kBAAkB,EAAE,uBAAuB,CAAC,CAE9E,EAAa,MAAM,CAAG,EAAG,CAC3B,IAAM,EAAoB,EAAa,MAAM,CAAC,GAAkB,aAAb,EAAE,MAAM,EAAiB,MAAM,CAClF,GAAW,CAAC,iCAAiC,EAAE,EAAkB,mBAAmB,CAAC,AACvF,CAYA,OAVI,EAAS,MAAM,CAAG,GAAG,CACvB,GAAW,CAAC,8BAA8B,EAAE,CAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,AAAD,EAGhE,OAAO,CAAzB,EAAM,OAAO,CACf,GAAW,2GAEX,GAAW,mFAGN,CACT,IAjOyC,EAAc,GAE9C,cACL,WACA,kBACA,UACA,CACF,GT8NA,EAAG,CAAC,EAAU,EAER,EAAc,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC9B,EAAU,QACV,EAAa,MACb,EAAqB,CAAC,GACtB,EAAgB,MAChB,EAAqB,MACrB,EAAmB,MACnB,EAAkB,EAAE,EACpB,EAAmB,MACnB,EAAY,MACZ,EAAa,KACf,EAAG,EAAE,EAEC,EAAa,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,UAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACZ,EAAU,YAAY,CAAC,MAAI,EAAU,WAAW,OAGrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,WAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACZ,EAAU,cAAc,MAG5B,EAAU,OAAO,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,eAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACZ,KAAK,KAAK,CAAC,EAAU,OAAO,CAAC,kBAAkB,EAAE,UAIvD,EAAU,WAAW,CAAC,IAAI,CAAC,GAAK,EAAE,QAAQ,GACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDAA0C,mBACxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAU,WAAW,CAAC,MAAM,CAAC,GAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,qBAK5D,KAEJ,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAS,CAAA,CACR,OAAQ,EACR,OAAQ,EACR,QAAS,EACT,QAAS,EACT,WAAY,WAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACX,AAAD,EAEc,SAAX,EACF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAqC,EAAU,QAAQ,CAAC,IAAI,GAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAkB,EAAU,QAAQ,CAAC,WAAW,GAC7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,cAAkB,IAAE,EAAU,QAAQ,CAAC,MAAM,IAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,gBAAoB,IAAE,EAAU,UAAU,CAAC,MAAM,IAC9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,iBAAqB,IAAE,EAAU,WAAW,CAAC,MAAM,IAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,YAAgB,IAAE,EAAU,WAAW,OAEtD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,gFACX,sBAIU,YAAX,GAAmC,aAAX,EAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,eAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,UAAU,CAAC,GAAG,CAAC,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,8CAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAAsC,EAAI,IAAI,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAI,WAAW,MAE1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,iBAAiB,EAC3B,EAAI,GAAG,CAAG,eAAiB,cAAA,CAC3B,CACF,MAAO,CAAE,MAAO,CAAA,EAAG,KAAK,GAAG,CAAC,IAAM,EAAI,OAAO,CAAG,EAAI,MAAM,CAAI,KAAK,CAAC,CAAE,AAAD,MAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACZ,KAAK,KAAK,CAAC,EAAI,OAAO,EAAE,MAAI,EAAI,MAAM,SAfnC,EAAI,EAAE,QAwBtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,aAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,QAAQ,CAAC,GAAG,CAAC,IACtB,IAAM,EAAY,CAAiB,CAAC,EAAQ,EAAE,CAAC,EAAI,EAC7C,EAAc,EAAQ,YAAY,CAAC,KAAK,CAAC,IAC7C,IAAM,EAAM,EAAU,QAAQ,CAAC,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,GAClD,MAAO,CAAC,GAAO,EAAI,eAAe,EAAI,GACxC,GAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAW,CAAC,wBAAwB,EAClC,EAAQ,eAAe,EAAI,IACvB,+BACA,EACA,4BACA,0CAAA,CACJ,WAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAAgC,EAAQ,IAAI,GAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAQ,WAAW,MAE9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,KAAK,KAAK,CAAC,EAAQ,eAAe,EAAE,UAGzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,8CACV,MAAO,CAAE,MAAO,CAAA,EAAG,EAAQ,eAAe,CAAC,CAAC,CAAC,AAAC,MAGtC,YAAX,GAAwB,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAI,IACJ,IAAK,EAAU,cAAc,CAC7B,MAAO,EACP,SAAW,AAAD,GAAO,EAAuB,EAAQ,EAAE,CAAE,SAAS,EAAE,MAAM,CAAC,KAAK,GAC3E,UAAU,WAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CACZ,OAIN,CAAC,GAAe,EAAQ,YAAY,CAAC,MAAM,CAAG,GAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAAyB,eACzB,EAAQ,YAAY,CAAC,IAAI,CAAC,WAzCtC,EAAQ,EAAE,CA8CrB,QAKJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,gBAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,WAAW,CAAC,GAAG,CAAC,GACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAwB,UAAU,8CACjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAAsC,EAAW,IAAI,GACpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,oBAAoB,EACnC,EAAW,QAAQ,CAAG,eACtB,EAAW,OAAO,CAAG,EAAW,KAAK,CAAG,EAAW,gBAAgB,CAAG,kBACtE,iBAAA,CACA,WACC,KAAK,KAAK,CAAC,EAAW,OAAO,EAAE,MAAI,EAAW,KAAK,MAP9C,EAAW,EAAE,QAejB,YAAX,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,iFACX,iBACgB,EAAU,YAAY,MAM1C,AAAW,gBAAc,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,wBAAwB,EACjB,QAAtB,EAAU,OAAO,CAAa,iBAAmB,eAAA,CACjD,UACC,AAAsB,UAAZ,OAAO,CAAa,WAAa,WAE7C,EAAU,OAAO,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAAyB,eACzB,KAAK,KAAK,CAAC,EAAU,OAAO,CAAC,kBAAkB,EAAE,mBACjD,KAAK,KAAK,CAAC,EAAU,OAAO,CAAC,iBAAiB,EAAE,UAMnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,CAAC,KAAM,EAAmB,MAAO,GAAiB,OAAS,IAE7E,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,sBAAsB,CAAA,CAAC,WAAY,MAIxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACd,cAAe,EAAkB,IAAI,CACrC,YAAa,GAAmB,WAInC,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,CAAC,eAAgB,EAAgB,OAAO,CAAA,CAAA,MAI9D,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,sBAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,YAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAS,OAAO,MAExD,EAAS,YAAY,EAAI,EAAS,YAAY,CAAC,MAAM,CAAG,GACvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,kBAChD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CACX,EAAS,YAAY,CAAC,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,CAAC,EAAe,IACrD,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAW,UAAU,4CACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAc,SAAO,EAAS,KAAK,CAAC,KAAG,EAAS,WAAW,IAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAS,SAAS,KAFpD,SAQhB,EAAS,QAAQ,EAAI,EAAS,QAAQ,CAAC,MAAM,CAAG,GAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,8BAChD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CACX,EAAS,QAAQ,CAAC,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,CAAC,EAAc,IAChD,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAW,UAAU,2CACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAc,SAAO,EAAQ,KAAK,CAAC,KAAG,EAAQ,WAAW,IACxE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAAyB,SAAO,EAAQ,IAAI,IAC3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCAAwB,mBAAiB,EAAQ,cAAc,MAHvE,SAShB,EAAS,eAAe,EAAI,EAAS,eAAe,CAAC,MAAM,CAAG,GAC7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAkC,oCAChD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kEACX,EAAS,eAAe,CAAC,GAAG,CAAC,CAAC,EAAU,IACvC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,EAAI,IAAI,CAAC,OAAQ,IAAE,EAAI,WAAW,CACjE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAA+B,EAAI,SAAS,KAFpD,eAYvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,gFACX,0BAOP,KApPF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,2BAwPtD"}}]
}