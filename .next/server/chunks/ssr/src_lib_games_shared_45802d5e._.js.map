{
  "version": 3,
  "sources": [],
  "debugId": "4dbd5938-a65c-6f2f-8450-a4a62c2d5f77",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/games/shared/dailyChallenges/dailyChallengeStorage.ts","../../../../src/lib/games/shared/challengeCodes/challengeCodeGenerator.ts","../../../../src/lib/games/shared/challengeCodes/challengeCodeParser.ts","../../../../src/lib/games/shared/achievements/achievementDefinitions.ts","../../../../src/lib/games/shared/achievements/achievementStorage.ts","../../../../src/lib/games/shared/components/ScoreComparisonDisplay.tsx","../../../../src/lib/games/shared/components/TutorialOverlay.tsx","../../../../src/lib/games/shared/components/ChallengeCodeShare.tsx","../../../../src/lib/games/shared/components/ChallengeCodeInput.tsx","../../../../src/lib/games/shared/components/AchievementDisplay.tsx","../../../../src/lib/games/shared/components/LeaderboardView.tsx","../../../../src/lib/games/shared/components/EnhancedResultsScreen.tsx","../../../../src/lib/games/shared/components/ProgressDashboard.tsx","../../../../src/lib/games/shared/components/ArchiveBrowser.tsx","../../../../src/lib/games/shared/components/ArchiveReplay.tsx","../../../../src/lib/games/shared/components/AchievementList.tsx","../../../../src/lib/games/shared/components/AchievementStats.tsx","../../../../src/lib/games/shared/dailyChallenges/dailyChallengeGenerator.ts","../../../../src/lib/games/shared/dailyChallenges/index.ts","../../../../src/lib/games/shared/streakTracking/streakStorage.ts","../../../../src/lib/games/shared/challengeCodes/index.ts","../../../../src/lib/games/shared/streakTracking/dateUtils.ts","../../../../src/lib/games/shared/scoreComparison/scoreStorage.ts","../../../../src/lib/games/shared/challengeCodes/challengeCodeManager.ts","../../../../src/lib/games/shared/scoreComparison/percentileCalculator.ts","../../../../node_modules/lucide-react/src/icons/chevron-left.ts","../../../../node_modules/lucide-react/src/icons/chevron-right.ts","../../../../node_modules/lucide-react/src/icons/trophy.ts","../../../../node_modules/lucide-react/src/icons/users.ts","../../../../node_modules/lucide-react/src/icons/copy.ts","../../../../src/lib/games/shared/streakTracking/streakCalculator.ts","../../../../src/lib/games/shared/scoreComparison/scoreAggregator.ts","../../../../src/lib/games/shared/streakTracking/streakManager.ts","../../../../src/lib/games/shared/achievements/achievementSystem.ts","../../../../src/lib/games/shared/dailyChallenges/dailyChallengeManager.ts","../../../../src/lib/games/shared/variableRewards/rewardCalculator.ts","../../../../src/lib/games/shared/challengeCodes/challengeCodeLoader.ts","../../../../src/lib/games/shared/variableRewards/rewardGenerator.ts","../../../../node_modules/lucide-react/src/icons/medal.ts","../../../../node_modules/lucide-react/src/icons/award.ts","../../../../src/lib/games/shared/achievements/index.ts"],"sourcesContent":["/**\n * Daily Challenge Storage\n */\n\nimport type { DailyChallenge, DailyChallengeStorage } from \"./types\";\n\nconst STORAGE_KEY = 'ransford-daily-challenges';\n\n/**\n * Load daily challenges from storage\n */\nexport function loadDailyChallenges(): DailyChallengeStorage {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored) as DailyChallengeStorage;\n    }\n  } catch (error) {\n    console.error('Error loading daily challenges:', error);\n  }\n  \n  return {\n    challenges: {},\n    lastUpdated: Date.now(),\n  };\n}\n\n/**\n * Save daily challenges to storage\n */\nexport function saveDailyChallenges(storage: DailyChallengeStorage): void {\n  try {\n    storage.lastUpdated = Date.now();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n  } catch (error) {\n    console.error('Error saving daily challenges:', error);\n  }\n}\n\n/**\n * Get challenge key\n */\nfunction getChallengeKey(gameId: string, date: string): string {\n  return `${gameId}-${date}`;\n}\n\n/**\n * Get daily challenge\n */\nexport function getDailyChallenge(gameId: string, date: string): DailyChallenge | null {\n  const storage = loadDailyChallenges();\n  const key = getChallengeKey(gameId, date);\n  return storage.challenges[key] || null;\n}\n\n/**\n * Set daily challenge\n */\nexport function setDailyChallenge(challenge: DailyChallenge): void {\n  const storage = loadDailyChallenges();\n  const key = getChallengeKey(challenge.gameId, challenge.date);\n  storage.challenges[key] = challenge;\n  saveDailyChallenges(storage);\n}","/**\n * Challenge Code Generator\n * \n * Generates challenge codes in format: GAME-YYYY-MM-DD-XXXX\n */\n\nimport { hashString } from \"@/lib/games/framework/SeededRNG\";\nimport type { ChallengeCode, GameId } from \"./types\";\n\nconst GAME_ID_MAP: Record<string, GameId> = {\n  'daily-logic-gauntlet': 'DLG',\n  'constraint-optimizer': 'COPT',\n  'pattern-architect': 'PATT',\n  'deduction-grid': 'DEDU',\n  'flow-planner': 'FLOW',\n  'memory-palace': 'MEMO',\n};\n\nconst REVERSE_GAME_ID_MAP: Record<GameId, string> = {\n  'DLG': 'daily-logic-gauntlet',\n  'COPT': 'constraint-optimizer',\n  'PATT': 'pattern-architect',\n  'DEDU': 'deduction-grid',\n  'FLOW': 'flow-planner',\n  'MEMO': 'memory-palace',\n  'ALOC': 'allocation-architect',\n};\n\n/**\n * Generate 4-character hash from seed\n */\nfunction generateHash(seed: number): string {\n  const hash = hashString(`challenge-${seed}`);\n  // Convert to base36 and take first 4 chars, uppercase\n  return hash.toString(36).slice(0, 4).toUpperCase().padStart(4, '0');\n}\n\n/**\n * Generate today's date string (YYYY-MM-DD)\n */\nfunction getTodayDateString(): string {\n  const today = new Date();\n  const year = today.getUTCFullYear();\n  const month = String(today.getUTCMonth() + 1).padStart(2, '0');\n  const day = String(today.getUTCDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Generate challenge code for a game and date\n */\nexport function generateChallengeCode(\n  gameSlug: string,\n  date: string,\n  seed: number\n): ChallengeCode {\n  const gameId = GAME_ID_MAP[gameSlug];\n  if (!gameId) {\n    throw new Error(`Unknown game: ${gameSlug}`);\n  }\n\n  const hash = generateHash(seed);\n  const code = `${gameId}-${date}-${hash}`;\n\n  return {\n    code,\n    gameId,\n    date,\n    seed,\n    hash,\n  };\n}\n\n/**\n * Generate today's challenge code for a game\n */\nexport function generateTodayChallengeCode(gameSlug: string, seed: number): ChallengeCode {\n  const date = getTodayDateString();\n  return generateChallengeCode(gameSlug, date, seed);\n}\n\n/**\n * Get game slug from GameId\n */\nexport function getGameSlug(gameId: GameId): string {\n  return REVERSE_GAME_ID_MAP[gameId];\n}\n\n/**\n * Get GameId from game slug\n */\nexport function getGameId(gameSlug: string): GameId | null {\n  return GAME_ID_MAP[gameSlug] || null;\n}","/**\n * Challenge Code Parser\n * \n * Parses challenge codes in format: GAME-YYYY-MM-DD-XXXX\n */\n\nimport { hashString } from \"@/lib/games/framework/SeededRNG\";\nimport type { ChallengeCode, ParseResult } from \"./types\";\n\nconst CODE_PATTERN = /^([A-Z]{4})-(\\d{4}-\\d{2}-\\d{2})-([A-Z0-9]{4})$/;\n\n/**\n * Parse challenge code string\n */\nexport function parseChallengeCode(code: string): ParseResult {\n  const match = code.match(CODE_PATTERN);\n  \n  if (!match) {\n    return {\n      success: false,\n      error: `Invalid code format. Expected: GAME-YYYY-MM-DD-XXXX, got: ${code}`,\n    };\n  }\n\n  const [, gameId, date, hash] = match;\n\n  // Validate game ID\n  const validGameIds: string[] = ['DLG', 'COPT', 'PATT', 'DEDU', 'FLOW', 'MEMO'];\n  if (!validGameIds.includes(gameId)) {\n    return {\n      success: false,\n      error: `Unknown game ID: ${gameId}`,\n    };\n  }\n\n  // Validate date format\n  const dateMatch = date.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\n  if (!dateMatch) {\n    return {\n      success: false,\n      error: `Invalid date format: ${date}`,\n    };\n  }\n\n  // Extract seed from hash (simplified - in real implementation, seed would be stored separately)\n  // For now, we'll use a hash of the code to derive a seed\n  const seed = hashString(code);\n\n  return {\n    success: true,\n    code: {\n      code,\n      gameId: gameId as ChallengeCode['gameId'],\n      date,\n      seed,\n      hash,\n    },\n  };\n}\n\n/**\n * Validate challenge code\n */\nexport function validateChallengeCode(code: string): boolean {\n  const result = parseChallengeCode(code);\n  return result.success;\n}","/**\n * Achievement Definitions\n */\n\nimport type { AchievementDefinition, AchievementContext } from \"./types\";\n\nexport const CROSS_GAME_ACHIEVEMENTS: AchievementDefinition[] = [\n  {\n    id: 'first-game',\n    name: 'First Game',\n    description: 'Complete your first game',\n    category: 'progress',\n    rarity: 'common',\n    icon: 'ðŸŽ®',\n    checkCondition: (ctx) => (ctx.gamesCompleted || 0) >= 1,\n  },\n  {\n    id: 'streak-3',\n    name: 'Getting Started',\n    description: 'Maintain a 3-day streak',\n    category: 'streak',\n    rarity: 'common',\n    icon: 'ðŸ”¥',\n    checkCondition: (ctx) => (ctx.currentStreak || 0) >= 3,\n  },\n  {\n    id: 'streak-7',\n    name: 'Week Warrior',\n    description: 'Maintain a 7-day streak',\n    category: 'streak',\n    rarity: 'uncommon',\n    icon: 'ðŸ’ª',\n    checkCondition: (ctx) => (ctx.currentStreak || 0) >= 7,\n  },\n  {\n    id: 'streak-30',\n    name: 'Monthly Master',\n    description: 'Maintain a 30-day streak',\n    category: 'streak',\n    rarity: 'rare',\n    icon: 'ðŸ‘‘',\n    checkCondition: (ctx) => (ctx.currentStreak || 0) >= 30,\n  },\n  {\n    id: 'games-10',\n    name: 'Dedicated Player',\n    description: 'Complete 10 games',\n    category: 'milestone',\n    rarity: 'common',\n    icon: 'ðŸŽ¯',\n    progressCondition: (ctx) => Math.min(1, (ctx.gamesCompleted || 0) / 10),\n    checkCondition: (ctx) => (ctx.gamesCompleted || 0) >= 10,\n  },\n  {\n    id: 'games-100',\n    name: 'Centurion',\n    description: 'Complete 100 games',\n    category: 'milestone',\n    rarity: 'epic',\n    icon: 'ðŸ†',\n    progressCondition: (ctx) => Math.min(1, (ctx.gamesCompleted || 0) / 100),\n    checkCondition: (ctx) => (ctx.gamesCompleted || 0) >= 100,\n  },\n];\n\n/**\n * Get all achievement definitions\n */\nexport function getAllAchievementDefinitions(): AchievementDefinition[] {\n  return CROSS_GAME_ACHIEVEMENTS;\n}\n\n/**\n * Get achievement definition by ID\n */\nexport function getAchievementDefinition(id: string): AchievementDefinition | undefined {\n  return CROSS_GAME_ACHIEVEMENTS.find(a => a.id === id);\n}\n\n/**\n * Get achievements by game ID (or cross-game if null)\n */\nexport function getAchievementsByGame(gameId: string | null): AchievementDefinition[] {\n  return CROSS_GAME_ACHIEVEMENTS.filter(a => a.gameId === gameId || (!a.gameId && gameId === null));\n}\n\n/**\n * Get cross-game achievements\n */\nexport function getCrossGameAchievements(): AchievementDefinition[] {\n  return CROSS_GAME_ACHIEVEMENTS.filter(a => !a.gameId);\n}","/**\n * Achievement Storage\n */\n\nimport type { AchievementStorage, AchievementUnlock } from \"./types\";\n\nconst STORAGE_KEY = 'ransford-achievements';\nconst STORAGE_VERSION = 1;\n\n/**\n * Load achievement storage\n */\nexport function loadAchievementStorage(): AchievementStorage {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      const parsed = JSON.parse(stored) as AchievementStorage;\n      // Migrate if needed\n      if (parsed.version !== STORAGE_VERSION) {\n        return createDefaultStorage();\n      }\n      // Convert arrays back to proper format\n      parsed.unlocked = parsed.unlocked || [];\n      parsed.progress = parsed.progress || {};\n      return parsed;\n    }\n  } catch (error) {\n    console.error('Error loading achievements:', error);\n  }\n  \n  return createDefaultStorage();\n}\n\n/**\n * Save achievement storage\n */\nexport function saveAchievementStorage(storage: AchievementStorage): void {\n  try {\n    storage.version = STORAGE_VERSION;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n  } catch (error) {\n    console.error('Error saving achievements:', error);\n  }\n}\n\n/**\n * Create default storage\n */\nexport function createDefaultStorage(): AchievementStorage {\n  return {\n    unlocked: [],\n    progress: {},\n    version: STORAGE_VERSION,\n  };\n}\n\n/**\n * Check if achievement is unlocked\n */\nexport function isAchievementUnlocked(achievementId: string, storage: AchievementStorage): boolean {\n  return storage.unlocked.some(u => u.achievementId === achievementId);\n}\n\n/**\n * Unlock achievement\n */\nexport function unlockAchievement(achievementId: string, gameId?: string, storage?: AchievementStorage): AchievementStorage {\n  const currentStorage = storage || loadAchievementStorage();\n  \n  if (!isAchievementUnlocked(achievementId, currentStorage)) {\n    currentStorage.unlocked.push({\n      achievementId,\n      unlockedAt: Date.now(),\n      gameId,\n    });\n    saveAchievementStorage(currentStorage);\n  }\n  \n  return currentStorage;\n}\n\n/**\n * Update achievement progress\n */\nexport function updateAchievementProgress(achievementId: string, progress: number, storage?: AchievementStorage): AchievementStorage {\n  const currentStorage = storage || loadAchievementStorage();\n  currentStorage.progress[achievementId] = Math.max(0, Math.min(1, progress));\n  saveAchievementStorage(currentStorage);\n  return currentStorage;\n}\n\n/**\n * Get achievement progress\n */\nexport function getAchievementProgress(achievementId: string, storage: AchievementStorage): number {\n  return storage.progress[achievementId] || 0;\n}\n\n/**\n * Get achievement unlock\n */\nexport function getAchievementUnlock(achievementId: string, storage: AchievementStorage): AchievementUnlock | undefined {\n  return storage.unlocked.find(u => u.achievementId === achievementId);\n}\n\n/**\n * Clear achievement storage (for testing)\n */\nexport function clearAchievementStorage(): void {\n  localStorage.removeItem(STORAGE_KEY);\n}","/**\n * Score Comparison Display Component\n * \n * Beautiful visualization of score comparison, percentile, and ranking\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { TrendingUp, Users, Award, Target } from \"lucide-react\";\nimport type { ScoreComparison } from \"../scoreComparison/types\";\n\ninterface ScoreComparisonDisplayProps {\n  comparison: ScoreComparison;\n  compact?: boolean;\n}\n\nexport function ScoreComparisonDisplay({\n  comparison,\n  compact = false,\n}: ScoreComparisonDisplayProps) {\n  const percentile = Math.round(comparison.percentile);\n  const percentileColor =\n    percentile >= 90\n      ? \"text-green-600\"\n      : percentile >= 75\n      ? \"text-blue-600\"\n      : percentile >= 50\n      ? \"text-amber-600\"\n      : \"text-slate-600\";\n\n  const percentileLabel =\n    percentile >= 90\n      ? \"Top 10%\"\n      : percentile >= 75\n      ? \"Top 25%\"\n      : percentile >= 50\n      ? \"Above Average\"\n      : \"Below Average\";\n\n  if (compact) {\n    return (\n      <div className=\"flex items-center gap-4 text-sm\">\n        <div className=\"flex items-center gap-1\">\n          <TrendingUp className=\"h-4 w-4 text-slate-500\" />\n          <span className=\"font-medium\">{percentile}th percentile</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <Users className=\"h-4 w-4 text-slate-500\" />\n          <span>{comparison.participantCount} players</span>\n        </div>\n        {comparison.playerRank && (\n          <div className=\"flex items-center gap-1\">\n            <Award className=\"h-4 w-4 text-slate-500\" />\n            <span>Rank #{comparison.playerRank}</span>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Percentile Badge */}\n      <div className=\"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-slate-50 rounded-xl border border-slate-200\">\n        <div>\n          <div className=\"text-sm text-slate-600 mb-1\">Your Ranking</div>\n          <div className={`text-3xl font-bold ${percentileColor}`}>\n            {percentile}th Percentile\n          </div>\n          <div className=\"text-sm text-slate-600 mt-1\">{percentileLabel}</div>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm text-slate-600 mb-1\">Out of</div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {comparison.participantCount}\n          </div>\n          <div className=\"text-sm text-slate-600 mt-1\">players</div>\n        </div>\n      </div>\n\n      {/* Percentile Bar */}\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between text-sm\">\n          <span className=\"text-slate-600\">Percentile Ranking</span>\n          <span className={`font-semibold ${percentileColor}`}>\n            {percentile}%\n          </span>\n        </div>\n        <div className=\"h-3 bg-slate-200 rounded-full overflow-hidden\">\n          <div\n            className={`h-full transition-all ${\n              percentile >= 90\n                ? \"bg-gradient-to-r from-green-500 to-green-600\"\n                : percentile >= 75\n                ? \"bg-gradient-to-r from-blue-500 to-blue-600\"\n                : percentile >= 50\n                ? \"bg-gradient-to-r from-amber-500 to-amber-600\"\n                : \"bg-gradient-to-r from-slate-400 to-slate-500\"\n            }`}\n            style={{ width: `${percentile}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        {comparison.playerRank && (\n          <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Award className=\"h-4 w-4 text-slate-500\" />\n              <span className=\"text-xs text-slate-600\">Rank</span>\n            </div>\n            <div className=\"text-xl font-bold text-slate-900\">\n              #{comparison.playerRank}\n            </div>\n          </div>\n        )}\n        <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <Target className=\"h-4 w-4 text-slate-500\" />\n            <span className=\"text-xs text-slate-600\">Your Score</span>\n          </div>\n          <div className=\"text-xl font-bold text-slate-900\">\n            {comparison.playerScore?.toFixed(1) || \"â€”\"}\n          </div>\n        </div>\n        <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <Users className=\"h-4 w-4 text-slate-500\" />\n            <span className=\"text-xs text-slate-600\">Average</span>\n          </div>\n          <div className=\"text-xl font-bold text-slate-900\">\n            {comparison.averageScore.toFixed(1)}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","/**\n * Tutorial Overlay Component\n * \n * Interactive tutorial system with step-by-step guidance.\n */\n\n\"use client\";\n\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport { X, ChevronRight, ChevronLeft, Check } from \"lucide-react\";\n\nexport interface TutorialStep {\n  id: string;\n  title: string;\n  content: string;\n  targetElement?: string; // CSS selector for element to highlight\n  position?: 'top' | 'bottom' | 'left' | 'right' | 'center';\n  interactive?: boolean; // Whether user needs to interact to proceed\n  action?: string; // Description of action user needs to perform\n}\n\ninterface TutorialOverlayProps {\n  steps: TutorialStep[];\n  onComplete?: () => void;\n  onSkip?: () => void;\n  startImmediately?: boolean;\n}\n\nexport function TutorialOverlay({\n  steps,\n  onComplete,\n  onSkip,\n  startImmediately = false,\n}: TutorialOverlayProps) {\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [isActive, setIsActive] = useState(startImmediately);\n  const [highlightedElement, setHighlightedElement] = useState<HTMLElement | null>(null);\n  const overlayRef = useRef<HTMLDivElement>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n\n  const currentStep = steps[currentStepIndex];\n\n  // Highlight target element\n  useEffect(() => {\n    if (!isActive || !currentStep?.targetElement) {\n      setHighlightedElement(null);\n      return;\n    }\n\n    const element = document.querySelector(currentStep.targetElement) as HTMLElement;\n    if (element) {\n      setHighlightedElement(element);\n      // Scroll element into view\n      element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    } else {\n      setHighlightedElement(null);\n    }\n  }, [isActive, currentStep, currentStepIndex]);\n\n  // Position tooltip relative to highlighted element\n  useEffect(() => {\n    if (!highlightedElement || !tooltipRef.current) return;\n\n    const updatePosition = () => {\n      const rect = highlightedElement.getBoundingClientRect();\n      const tooltip = tooltipRef.current;\n      if (!tooltip) return;\n\n      const position = currentStep.position || 'bottom';\n      let top = 0;\n      let left = 0;\n\n      switch (position) {\n        case 'top':\n          top = rect.top - tooltip.offsetHeight - 10;\n          left = rect.left + rect.width / 2 - tooltip.offsetWidth / 2;\n          break;\n        case 'bottom':\n          top = rect.bottom + 10;\n          left = rect.left + rect.width / 2 - tooltip.offsetWidth / 2;\n          break;\n        case 'left':\n          top = rect.top + rect.height / 2 - tooltip.offsetHeight / 2;\n          left = rect.left - tooltip.offsetWidth - 10;\n          break;\n        case 'right':\n          top = rect.top + rect.height / 2 - tooltip.offsetHeight / 2;\n          left = rect.right + 10;\n          break;\n        case 'center':\n          top = window.innerHeight / 2 - tooltip.offsetHeight / 2;\n          left = window.innerWidth / 2 - tooltip.offsetWidth / 2;\n          break;\n      }\n\n      tooltip.style.top = `${top}px`;\n      tooltip.style.left = `${left}px`;\n    };\n\n    updatePosition();\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', updatePosition);\n\n    return () => {\n      window.removeEventListener('resize', updatePosition);\n      window.removeEventListener('scroll', updatePosition);\n    };\n  }, [highlightedElement, currentStep]);\n\n  const handleNext = useCallback(() => {\n    if (currentStepIndex < steps.length - 1) {\n      setCurrentStepIndex(currentStepIndex + 1);\n    } else {\n      setIsActive(false);\n      onComplete?.();\n    }\n  }, [currentStepIndex, steps.length, onComplete]);\n\n  const handlePrevious = useCallback(() => {\n    if (currentStepIndex > 0) {\n      setCurrentStepIndex(currentStepIndex - 1);\n    }\n  }, [currentStepIndex]);\n\n  const handleSkip = useCallback(() => {\n    setIsActive(false);\n    onSkip?.();\n  }, [onSkip]);\n\n  if (!isActive || steps.length === 0) {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Overlay backdrop */}\n      <div\n        ref={overlayRef}\n        className=\"fixed inset-0 bg-black/50 z-50\"\n        style={{\n          clipPath: highlightedElement\n            ? `polygon(\n                0% 0%, \n                0% 100%, \n                ${highlightedElement.getBoundingClientRect().left}px 100%, \n                ${highlightedElement.getBoundingClientRect().left}px ${highlightedElement.getBoundingClientRect().top}px, \n                ${highlightedElement.getBoundingClientRect().right}px ${highlightedElement.getBoundingClientRect().top}px, \n                ${highlightedElement.getBoundingClientRect().right}px ${highlightedElement.getBoundingClientRect().bottom}px, \n                ${highlightedElement.getBoundingClientRect().left}px ${highlightedElement.getBoundingClientRect().bottom}px, \n                ${highlightedElement.getBoundingClientRect().left}px 100%, \n                100% 100%, \n                100% 0%\n              )`\n            : undefined,\n        }}\n      />\n\n      {/* Highlighted element border */}\n      {highlightedElement && (\n        <div\n          className=\"fixed z-50 pointer-events-none border-4 border-blue-500 rounded-lg shadow-lg\"\n          style={{\n            top: highlightedElement.getBoundingClientRect().top - 4,\n            left: highlightedElement.getBoundingClientRect().left - 4,\n            width: highlightedElement.getBoundingClientRect().width + 8,\n            height: highlightedElement.getBoundingClientRect().height + 8,\n          }}\n        />\n      )}\n\n      {/* Tooltip */}\n      <div\n        ref={tooltipRef}\n        className=\"fixed z-50 bg-white rounded-xl shadow-2xl p-6 max-w-sm border-2 border-blue-500\"\n      >\n        <div className=\"flex items-start justify-between mb-3\">\n          <div className=\"flex-1\">\n            <div className=\"text-xs font-medium text-blue-600 mb-1\">\n              Step {currentStepIndex + 1} of {steps.length}\n            </div>\n            <h3 className=\"text-lg font-semibold text-slate-900\">\n              {currentStep.title}\n            </h3>\n          </div>\n          <button\n            onClick={handleSkip}\n            className=\"p-1 hover:bg-slate-100 rounded transition-colors\"\n            aria-label=\"Skip tutorial\"\n          >\n            <X className=\"h-5 w-5 text-slate-600\" />\n          </button>\n        </div>\n\n        <p className=\"text-sm text-slate-600 mb-4\">\n          {currentStep.content}\n        </p>\n\n        {currentStep.action && (\n          <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n            <p className=\"text-sm font-medium text-blue-900\">\n              {currentStep.action}\n            </p>\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex gap-2\">\n            {currentStepIndex > 0 && (\n              <button\n                onClick={handlePrevious}\n                className=\"px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-100 rounded-lg transition-colors flex items-center gap-1\"\n              >\n                <ChevronLeft className=\"h-4 w-4\" />\n                Previous\n              </button>\n            )}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <div className=\"flex gap-1\">\n              {steps.map((_, index) => (\n                <div\n                  key={index}\n                  className={`h-1.5 w-1.5 rounded-full ${\n                    index === currentStepIndex\n                      ? 'bg-blue-600'\n                      : index < currentStepIndex\n                      ? 'bg-green-600'\n                      : 'bg-slate-300'\n                  }`}\n                />\n              ))}\n            </div>\n            <button\n              onClick={handleNext}\n              className=\"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors flex items-center gap-1\"\n            >\n              {currentStepIndex === steps.length - 1 ? (\n                <>\n                  <Check className=\"h-4 w-4\" />\n                  Complete\n                </>\n              ) : (\n                <>\n                  Next\n                  <ChevronRight className=\"h-4 w-4\" />\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","/**\n * Challenge Code Share Component\n * \n * Beautiful UI for displaying and sharing challenge codes\n */\n\n\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport { Copy, Check, Share2, ExternalLink } from \"lucide-react\";\nimport type { ChallengeCode } from \"../challengeCodes/types\";\n\ninterface ChallengeCodeShareProps {\n  code: ChallengeCode;\n  score?: number;\n  onShare?: () => void;\n  compact?: boolean;\n}\n\nexport function ChallengeCodeShare({\n  code,\n  score,\n  onShare,\n  compact = false,\n}: ChallengeCodeShareProps) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = useCallback(async () => {\n    try {\n      await navigator.clipboard.writeText(code.code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error(\"Failed to copy:\", error);\n    }\n  }, [code.code]);\n\n  const handleShare = useCallback(async () => {\n    if (typeof navigator.share === 'function') {\n      try {\n        await navigator.share({\n          title: `Challenge Code: ${code.code}`,\n          text: `Try this challenge! Code: ${code.code}`,\n        });\n        onShare?.();\n      } catch (error) {\n        // User cancelled or error occurred\n        if ((error as Error).name !== \"AbortError\") {\n          console.error(\"Share failed:\", error);\n        }\n      }\n    } else {\n      // Fallback to copy\n      handleCopy();\n    }\n  }, [code.code, onShare, handleCopy]);\n\n  if (compact) {\n    return (\n      <div className=\"flex items-center gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200\">\n        <code className=\"flex-1 font-mono text-sm font-semibold text-slate-900\">\n          {code.code}\n        </code>\n        <button\n          onClick={handleCopy}\n          className=\"p-1.5 rounded hover:bg-slate-200 transition-colors\"\n          aria-label=\"Copy code\"\n        >\n          {copied ? (\n            <Check className=\"h-4 w-4 text-green-600\" />\n          ) : (\n            <Copy className=\"h-4 w-4 text-slate-600\" />\n          )}\n        </button>\n        {typeof navigator.share === 'function' && (\n          <button\n            onClick={handleShare}\n            className=\"p-1.5 rounded hover:bg-slate-200 transition-colors\"\n            aria-label=\"Share code\"\n          >\n            <Share2 className=\"h-4 w-4 text-slate-600\" />\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white p-6 shadow-lg\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-slate-900 mb-1\">\n            Challenge Code\n          </h3>\n          <p className=\"text-sm text-slate-600\">\n            Share this code to play the same challenge\n          </p>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-xl border-2 border-blue-300 p-4 mb-4\">\n        <code className=\"block font-mono text-2xl font-bold text-blue-900 text-center tracking-wider\">\n          {code.code}\n        </code>\n      </div>\n\n      {score !== undefined && (\n        <div className=\"mb-4 text-center\">\n          <div className=\"inline-block bg-blue-100 rounded-full px-4 py-2\">\n            <span className=\"text-sm font-medium text-blue-900\">\n              Your Score: {score.toFixed(1)}\n            </span>\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex gap-3\">\n        <button\n          onClick={handleCopy}\n          className={`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${\n            copied\n              ? \"bg-green-100 text-green-800 border-2 border-green-300\"\n              : \"bg-blue-600 text-white hover:bg-blue-700 border-2 border-blue-600\"\n          }`}\n        >\n          {copied ? (\n            <>\n              <Check className=\"h-5 w-5\" />\n              Copied!\n            </>\n          ) : (\n            <>\n              <Copy className=\"h-5 w-5\" />\n              Copy Code\n            </>\n          )}\n        </button>\n\n        {typeof navigator.share === 'function' && (\n          <button\n            onClick={handleShare}\n            className=\"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium bg-white text-blue-600 border-2 border-blue-300 hover:bg-blue-50 transition-all\"\n          >\n            <Share2 className=\"h-5 w-5\" />\n            Share\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}","/**\n * Challenge Code Input Component\n * \n * UI for entering a challenge code to play a shared challenge\n */\n\n\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport { Play, AlertCircle } from \"lucide-react\";\nimport { parseChallengeCode } from \"../challengeCodes/challengeCodeParser\";\nimport type { ParseResult } from \"../challengeCodes/types\";\n\ninterface ChallengeCodeInputProps {\n  onCodeEntered: (code: string) => void;\n  gameSlug: string;\n  compact?: boolean;\n}\n\nexport function ChallengeCodeInput({\n  onCodeEntered,\n  gameSlug,\n  compact = false,\n}: ChallengeCodeInputProps) {\n  const [input, setInput] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [validating, setValidating] = useState(false);\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      e.preventDefault();\n      setError(null);\n      setValidating(true);\n\n      const code = input.trim().toUpperCase();\n      const result: ParseResult = parseChallengeCode(code);\n\n      if (!result.success) {\n        setError(result.error || \"Invalid challenge code\");\n        setValidating(false);\n        return;\n      }\n\n      if (result.code) {\n        // Validate game matches\n        const { getGameSlug } = require(\"../challengeCodes/challengeCodeGenerator\");\n        const codeGameSlug = getGameSlug(result.code.gameId);\n        \n        if (codeGameSlug !== gameSlug) {\n          setError(`This code is for a different game. Expected: ${gameSlug}`);\n          setValidating(false);\n          return;\n        }\n\n        onCodeEntered(code);\n        setValidating(false);\n      }\n    },\n    [input, gameSlug, onCodeEntered]\n  );\n\n  if (compact) {\n    return (\n      <form onSubmit={handleSubmit} className=\"space-y-2\">\n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={input}\n            onChange={(e) => {\n              setInput(e.target.value.toUpperCase());\n              setError(null);\n            }}\n            placeholder=\"Enter code (e.g., COPT-2024-01-15-A1B2)\"\n            className=\"flex-1 px-3 py-2 border border-slate-300 rounded-lg font-mono text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500\"\n          />\n          <button\n            type=\"submit\"\n            disabled={validating || !input.trim()}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed\"\n          >\n            <Play className=\"h-4 w-4\" />\n          </button>\n        </div>\n        {error && (\n          <div className=\"flex items-center gap-2 text-sm text-red-600\">\n            <AlertCircle className=\"h-4 w-4\" />\n            {error}\n          </div>\n        )}\n      </form>\n    );\n  }\n\n  return (\n    <div className=\"rounded-2xl border-2 border-slate-200 bg-white p-6 shadow-sm\">\n      <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">\n        Play Shared Challenge\n      </h3>\n      <p className=\"text-sm text-slate-600 mb-4\">\n        Enter a challenge code to play the same challenge as someone else\n      </p>\n\n      <form onSubmit={handleSubmit} className=\"space-y-3\">\n        <div>\n          <input\n            type=\"text\"\n            value={input}\n            onChange={(e) => {\n              setInput(e.target.value.toUpperCase());\n              setError(null);\n            }}\n            placeholder=\"COPT-2024-01-15-A1B2\"\n            className=\"w-full px-4 py-3 border-2 border-slate-300 rounded-xl font-mono text-lg text-center focus:border-blue-500 focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        {error && (\n          <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700\">\n            <AlertCircle className=\"h-5 w-5 flex-shrink-0\" />\n            {error}\n          </div>\n        )}\n\n        <button\n          type=\"submit\"\n          disabled={validating || !input.trim()}\n          className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors\"\n        >\n          <Play className=\"h-5 w-5\" />\n          {validating ? \"Loading...\" : \"Play Challenge\"}\n        </button>\n      </form>\n    </div>\n  );\n}","/**\n * Achievement Display Component\n * \n * Beautiful UI for showing achievements, progress, and notifications\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { Trophy, Star, Award, Lock } from \"lucide-react\";\nimport { getAllAchievementDefinitions } from \"../achievements/achievementDefinitions\";\nimport { loadAchievementStorage } from \"../achievements/achievementStorage\";\nimport type { AchievementDefinition } from \"../achievements/types\";\n\ninterface AchievementDisplayProps {\n  achievementIds: string[];\n  showProgress?: boolean;\n  compact?: boolean;\n}\n\nexport function AchievementDisplay({\n  achievementIds,\n  showProgress = false,\n  compact = false,\n}: AchievementDisplayProps) {\n  const definitions = getAllAchievementDefinitions();\n  const storage = loadAchievementStorage();\n  \n  const achievements = achievementIds\n    .map((id) => definitions.find((d) => d.id === id))\n    .filter((a): a is AchievementDefinition => a !== undefined);\n\n  if (achievements.length === 0) {\n    return null;\n  }\n\n  const getRarityColor = (rarity: AchievementDefinition[\"rarity\"]) => {\n    switch (rarity) {\n      case \"legendary\":\n        return \"from-purple-500 to-pink-500\";\n      case \"epic\":\n        return \"from-purple-500 to-indigo-500\";\n      case \"rare\":\n        return \"from-blue-500 to-cyan-500\";\n      case \"uncommon\":\n        return \"from-green-500 to-emerald-500\";\n      default:\n        return \"from-slate-400 to-slate-500\";\n    }\n  };\n\n  const getRarityIcon = (rarity: AchievementDefinition[\"rarity\"]) => {\n    switch (rarity) {\n      case \"legendary\":\n      case \"epic\":\n        return Trophy;\n      case \"rare\":\n        return Star;\n      default:\n        return Award;\n    }\n  };\n\n  if (compact) {\n    return (\n      <div className=\"flex flex-wrap gap-2\">\n        {achievements.map((achievement) => {\n          const Icon = getRarityIcon(achievement.rarity);\n          return (\n            <div\n              key={achievement.id}\n              className=\"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r rounded-lg border border-slate-200\"\n              style={{\n                background: `linear-gradient(to right, var(--tw-gradient-stops))`,\n              }}\n            >\n              <Icon className=\"h-4 w-4 text-white\" />\n              <span className=\"text-xs font-medium text-white\">\n                {achievement.name}\n              </span>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <h3 className=\"text-lg font-semibold text-slate-900\">Achievements</h3>\n      <div className=\"grid grid-cols-1 gap-3\">\n        {achievements.map((achievement) => {\n          const Icon = getRarityIcon(achievement.rarity);\n          const progress = storage.progress[achievement.id];\n          const isUnlocked = storage.unlocked.some(\n            (u) => u.achievementId === achievement.id\n          );\n\n          return (\n            <div\n              key={achievement.id}\n              className={`p-4 rounded-xl border-2 ${\n                isUnlocked\n                  ? `bg-gradient-to-r ${getRarityColor(achievement.rarity)} border-transparent`\n                  : \"bg-slate-50 border-slate-200\"\n              }`}\n            >\n              <div className=\"flex items-start gap-3\">\n                <div\n                  className={`p-2 rounded-lg ${\n                    isUnlocked\n                      ? \"bg-white/20\"\n                      : \"bg-slate-200\"\n                  }`}\n                >\n                  {isUnlocked ? (\n                    <Icon className=\"h-6 w-6 text-white\" />\n                  ) : (\n                    <Lock className=\"h-6 w-6 text-slate-400\" />\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <h4\n                      className={`font-semibold ${\n                        isUnlocked ? \"text-white\" : \"text-slate-900\"\n                      }`}\n                    >\n                      {achievement.name}\n                    </h4>\n                    {isUnlocked && (\n                      <span className=\"text-xs text-white/80 px-2 py-0.5 bg-white/20 rounded-full\">\n                        {achievement.rarity}\n                      </span>\n                    )}\n                  </div>\n                  <p\n                    className={`text-sm ${\n                      isUnlocked ? \"text-white/90\" : \"text-slate-600\"\n                    }`}\n                  >\n                    {achievement.description}\n                  </p>\n                  {showProgress && progress !== undefined && !isUnlocked && (\n                    <div className=\"mt-2\">\n                      <div className=\"h-2 bg-slate-200 rounded-full overflow-hidden\">\n                        <div\n                          className=\"h-full bg-blue-500 transition-all\"\n                          style={{ width: `${progress * 100}%` }}\n                        />\n                      </div>\n                      <div className=\"text-xs text-slate-500 mt-1\">\n                        {Math.round(progress * 100)}% complete\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}","/**\n * Leaderboard View Component\n * \n * Visual leaderboard for challenge codes\n */\n\n\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport { Trophy, Medal, Award, TrendingUp } from \"lucide-react\";\nimport { getScores } from \"../scoreComparison/scoreStorage\";\nimport type { ScoreData } from \"../scoreComparison/types\";\n\ninterface LeaderboardViewProps {\n  challengeCode: string;\n  playerScore?: ScoreData;\n  topN?: number;\n}\n\nexport function LeaderboardView({\n  challengeCode,\n  playerScore,\n  topN = 10,\n}: LeaderboardViewProps) {\n  const scores = getScores(challengeCode);\n  \n  const leaderboard = useMemo(() => {\n    const sorted = [...scores]\n      .sort((a, b) => b.score - a.score)\n      .slice(0, topN);\n    \n    return sorted.map((score, index) => ({\n      ...score,\n      rank: index + 1,\n      isPlayer: playerScore && score.timestamp === playerScore.timestamp,\n    }));\n  }, [scores, topN, playerScore]);\n\n  const playerRank = useMemo(() => {\n    if (!playerScore) return null;\n    const sorted = [...scores].sort((a, b) => b.score - a.score);\n    const rank = sorted.findIndex((s) => s.timestamp === playerScore.timestamp) + 1;\n    return rank > 0 ? rank : null;\n  }, [scores, playerScore]);\n\n  const getRankIcon = (rank: number) => {\n    if (rank === 1) return Trophy;\n    if (rank === 2) return Medal;\n    if (rank === 3) return Award;\n    return null;\n  };\n\n  const getRankColor = (rank: number) => {\n    if (rank === 1) return \"text-yellow-600\";\n    if (rank === 2) return \"text-slate-400\";\n    if (rank === 3) return \"text-amber-600\";\n    return \"text-slate-600\";\n  };\n\n  if (leaderboard.length === 0) {\n    return (\n      <div className=\"p-6 text-center text-slate-600\">\n        <p>No scores yet. Be the first to play!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-slate-900\">Leaderboard</h3>\n        {playerRank && (\n          <div className=\"flex items-center gap-2 text-sm text-slate-600\">\n            <TrendingUp className=\"h-4 w-4\" />\n            <span>Your rank: #{playerRank}</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        {leaderboard.map((entry) => {\n          const RankIcon = getRankIcon(entry.rank);\n          const rankColor = getRankColor(entry.rank);\n\n          return (\n            <div\n              key={entry.timestamp}\n              className={`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${\n                entry.isPlayer\n                  ? \"bg-blue-50 border-blue-300 shadow-md\"\n                  : \"bg-white border-slate-200 hover:border-slate-300\"\n              }`}\n            >\n              <div className={`w-8 text-center font-bold ${rankColor}`}>\n                {RankIcon ? (\n                  <RankIcon className=\"h-5 w-5 mx-auto\" />\n                ) : (\n                  <span className=\"text-sm\">#{entry.rank}</span>\n                )}\n              </div>\n              <div className=\"flex-1\">\n                <div className=\"flex items-center justify-between\">\n                  <span\n                    className={`text-sm font-medium ${\n                      entry.isPlayer ? \"text-blue-900\" : \"text-slate-900\"\n                    }`}\n                  >\n                    {entry.isPlayer ? \"You\" : `Player #${entry.rank}`}\n                  </span>\n                  <span\n                    className={`text-lg font-bold ${\n                      entry.isPlayer ? \"text-blue-600\" : \"text-slate-900\"\n                    }`}\n                  >\n                    {entry.score.toFixed(1)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {scores.length > topN && (\n        <div className=\"text-center text-sm text-slate-600\">\n          Showing top {topN} of {scores.length} players\n        </div>\n      )}\n    </div>\n  );\n}","/**\n * Enhanced Results Screen Component\n * \n * Comprehensive post-game results display with all sharing and comparison features\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { ChallengeCodeShare } from \"./ChallengeCodeShare\";\nimport { ScoreComparisonDisplay } from \"./ScoreComparisonDisplay\";\nimport { AchievementDisplay } from \"./AchievementDisplay\";\nimport { LeaderboardView } from \"./LeaderboardView\";\nimport type { ChallengeCode } from \"../challengeCodes/types\";\nimport type { ScoreComparison } from \"../scoreComparison/types\";\nimport type { ScoreData } from \"../scoreComparison/types\";\n\ninterface EnhancedResultsScreenProps {\n  challengeCode: ChallengeCode;\n  score: number;\n  comparison?: ScoreComparison | null;\n  playerScore?: ScoreData;\n  achievementIds?: string[];\n  gameSlug: string;\n  onPlayAgain?: () => void;\n  onNewChallenge?: () => void;\n}\n\nexport function EnhancedResultsScreen({\n  challengeCode,\n  score,\n  comparison,\n  playerScore,\n  achievementIds = [],\n  gameSlug,\n  onPlayAgain,\n  onNewChallenge,\n}: EnhancedResultsScreenProps) {\n  return (\n    <div className=\"space-y-6\">\n      {/* Score Display */}\n      <div className=\"text-center\">\n        <div className=\"text-5xl font-bold text-blue-600 mb-2\">\n          {score.toFixed(1)}\n        </div>\n        <div className=\"text-lg text-slate-600\">Your Score</div>\n      </div>\n\n      {/* Challenge Code Share */}\n      <ChallengeCodeShare code={challengeCode} score={score} />\n\n      {/* Score Comparison */}\n      {comparison && (\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n          <ScoreComparisonDisplay comparison={comparison} />\n        </div>\n      )}\n\n      {/* Leaderboard */}\n      <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n        <LeaderboardView\n          challengeCode={challengeCode.code}\n          playerScore={playerScore}\n        />\n      </div>\n\n      {/* Achievements */}\n      {achievementIds.length > 0 && (\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n          <AchievementDisplay achievementIds={achievementIds} />\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"flex gap-3\">\n        {onPlayAgain && (\n          <button\n            onClick={onPlayAgain}\n            className=\"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors\"\n          >\n            Play Again\n          </button>\n        )}\n        {onNewChallenge && (\n          <button\n            onClick={onNewChallenge}\n            className=\"flex-1 px-4 py-3 bg-slate-100 text-slate-900 rounded-xl font-medium hover:bg-slate-200 transition-colors\"\n          >\n            New Challenge\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}","/**\n * Progress Dashboard Component\n * \n * Cross-game progress visualization\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { Trophy, TrendingUp, Calendar, Target } from \"lucide-react\";\nimport { getStreakDataForGame } from \"../streakTracking\";\nimport { getAchievementStats } from \"../achievements\";\nimport { getAllChallengeCodes } from \"../challengeCodes/challengeCodeManager\";\n\ninterface ProgressDashboardProps {\n  gameIds: string[];\n  compact?: boolean;\n}\n\nexport function ProgressDashboard({\n  gameIds,\n  compact = false,\n}: ProgressDashboardProps) {\n  const streaks = gameIds.map(id => ({\n    gameId: id,\n    data: getStreakDataForGame(id),\n  }));\n\n  const totalStreak = streaks.reduce((sum, s) => sum + (s.data.currentStreak || 0), 0);\n  const longestStreak = Math.max(...streaks.map(s => s.data.longestStreak || 0), 0);\n  \n  const { loadAchievementStorage } = require(\"../achievements/achievementStorage\");\n  const storage = loadAchievementStorage();\n  const { getAllAchievementDefinitions } = require(\"../achievements/achievementDefinitions\");\n  const definitions = getAllAchievementDefinitions();\n  const achievements = {\n    unlocked: storage.unlocked.length,\n    total: definitions.length,\n  };\n  const allCodes = getAllChallengeCodes();\n  const gamesCompleted = allCodes.length;\n\n  if (compact) {\n    return (\n      <div className=\"grid grid-cols-3 gap-4\">\n        <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n          <div className=\"text-xs text-slate-600 mb-1\">Current Streak</div>\n          <div className=\"text-2xl font-bold text-slate-900\">{totalStreak}</div>\n        </div>\n        <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n          <div className=\"text-xs text-slate-600 mb-1\">Achievements</div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {achievements.unlocked} / {achievements.total}\n          </div>\n        </div>\n        <div className=\"p-3 bg-slate-50 rounded-lg border border-slate-200\">\n          <div className=\"text-xs text-slate-600 mb-1\">Games Played</div>\n          <div className=\"text-2xl font-bold text-slate-900\">{gamesCompleted}</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-lg font-semibold text-slate-900\">Your Progress</h3>\n      \n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Calendar className=\"h-5 w-5 text-blue-600\" />\n            <span className=\"text-sm font-medium text-blue-900\">Current Streak</span>\n          </div>\n          <div className=\"text-3xl font-bold text-blue-900\">{totalStreak}</div>\n          <div className=\"text-xs text-blue-700 mt-1\">days</div>\n        </div>\n\n        <div className=\"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <TrendingUp className=\"h-5 w-5 text-purple-600\" />\n            <span className=\"text-sm font-medium text-purple-900\">Longest Streak</span>\n          </div>\n          <div className=\"text-3xl font-bold text-purple-900\">{longestStreak}</div>\n          <div className=\"text-xs text-purple-700 mt-1\">days</div>\n        </div>\n\n        <div className=\"p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl border border-amber-200\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Trophy className=\"h-5 w-5 text-amber-600\" />\n            <span className=\"text-sm font-medium text-amber-900\">Achievements</span>\n          </div>\n          <div className=\"text-3xl font-bold text-amber-900\">\n            {achievements.unlocked}\n          </div>\n          <div className=\"text-xs text-amber-700 mt-1\">\n            of {achievements.total}\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Target className=\"h-5 w-5 text-green-600\" />\n            <span className=\"text-sm font-medium text-green-900\">Games Played</span>\n          </div>\n          <div className=\"text-3xl font-bold text-green-900\">{gamesCompleted}</div>\n          <div className=\"text-xs text-green-700 mt-1\">challenges</div>\n        </div>\n      </div>\n\n      {/* Streak Breakdown */}\n      <div className=\"space-y-2\">\n        <h4 className=\"text-sm font-semibold text-slate-900\">Streaks by Game</h4>\n        <div className=\"space-y-2\">\n          {streaks.map(({ gameId, data }) => (\n            <div key={gameId} className=\"flex items-center justify-between p-2 bg-slate-50 rounded-lg\">\n              <span className=\"text-sm text-slate-700 capitalize\">\n                {gameId.replace(/-/g, ' ')}\n              </span>\n              <span className=\"text-sm font-bold text-slate-900\">\n                {data.currentStreak} days\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}","/**\n * Archive Browser Component\n * \n * Displays archived game runs for viewing and replay.\n * Generic component that works with any game's archive system.\n */\n\n\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport { Calendar, Clock, Trophy, Play, Eye, Filter } from \"lucide-react\";\n\nexport interface ArchivedRun {\n  id: string;\n  date: string; // YYYY-MM-DD\n  gameId: string;\n  challengeCode?: string;\n  score: number;\n  timeSpent: number; // milliseconds\n  completedAt: number; // timestamp\n  outcome?: 'win' | 'loss';\n  metadata?: Record<string, any>; // Game-specific data\n}\n\ninterface ArchiveBrowserProps {\n  gameId: string;\n  archivedRuns: ArchivedRun[];\n  onReplay?: (run: ArchivedRun) => void;\n  onView?: (run: ArchivedRun) => void;\n  emptyMessage?: string;\n}\n\nexport function ArchiveBrowser({\n  gameId,\n  archivedRuns,\n  onReplay,\n  onView,\n  emptyMessage = \"No archived runs yet. Complete a game to see it here!\",\n}: ArchiveBrowserProps) {\n  const [filter, setFilter] = useState<'all' | 'win' | 'loss'>('all');\n  const [sortBy, setSortBy] = useState<'date' | 'score' | 'time'>('date');\n\n  const filteredRuns = archivedRuns\n    .filter(run => {\n      if (filter === 'all') return true;\n      return run.outcome === filter;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'date':\n          return b.date.localeCompare(a.date);\n        case 'score':\n          return b.score - a.score;\n        case 'time':\n          return a.timeSpent - b.timeSpent;\n        default:\n          return 0;\n      }\n    });\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-US', { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric' \n    });\n  };\n\n  const formatTime = (ms: number) => {\n    const seconds = Math.floor(ms / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    if (minutes > 0) {\n      return `${minutes}m ${remainingSeconds}s`;\n    }\n    return `${remainingSeconds}s`;\n  };\n\n  if (archivedRuns.length === 0) {\n    return (\n      <div className=\"rounded-xl border border-slate-200 bg-white p-8 text-center\">\n        <Calendar className=\"h-12 w-12 text-slate-400 mx-auto mb-4\" />\n        <p className=\"text-slate-600\">{emptyMessage}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Filters and Sort */}\n      <div className=\"flex flex-wrap items-center gap-4\">\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-4 w-4 text-slate-600\" />\n          <select\n            value={filter}\n            onChange={(e) => setFilter(e.target.value as any)}\n            className=\"px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Runs</option>\n            <option value=\"win\">Wins Only</option>\n            <option value=\"loss\">Losses Only</option>\n          </select>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-sm text-slate-600\">Sort by:</span>\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value as any)}\n            className=\"px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"date\">Date (Newest)</option>\n            <option value=\"score\">Score (Highest)</option>\n            <option value=\"time\">Time (Fastest)</option>\n          </select>\n        </div>\n        <div className=\"text-sm text-slate-600 ml-auto\">\n          {filteredRuns.length} run{filteredRuns.length !== 1 ? 's' : ''}\n        </div>\n      </div>\n\n      {/* Archive List */}\n      <div className=\"space-y-2\">\n        {filteredRuns.map((run) => (\n          <div\n            key={run.id}\n            className=\"rounded-lg border border-slate-200 bg-white p-4 hover:border-blue-300 hover:shadow-sm transition-all\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"h-4 w-4 text-slate-500\" />\n                    <span className=\"text-sm font-medium text-slate-900\">\n                      {formatDate(run.date)}\n                    </span>\n                  </div>\n                  {run.outcome && (\n                    <span\n                      className={`px-2 py-0.5 rounded text-xs font-medium ${\n                        run.outcome === 'win'\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-red-100 text-red-800'\n                      }`}\n                    >\n                      {run.outcome === 'win' ? 'Win' : 'Loss'}\n                    </span>\n                  )}\n                </div>\n\n                <div className=\"flex items-center gap-4 text-sm text-slate-600\">\n                  <div className=\"flex items-center gap-1\">\n                    <Trophy className=\"h-4 w-4\" />\n                    <span>Score: {run.score.toFixed(1)}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Clock className=\"h-4 w-4\" />\n                    <span>{formatTime(run.timeSpent)}</span>\n                  </div>\n                  {run.challengeCode && (\n                    <div className=\"text-xs font-mono text-slate-500\">\n                      {run.challengeCode}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-2 ml-4\">\n                {onView && (\n                  <button\n                    onClick={() => onView(run)}\n                    className=\"px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors flex items-center gap-1\"\n                  >\n                    <Eye className=\"h-4 w-4\" />\n                    View\n                  </button>\n                )}\n                {onReplay && (\n                  <button\n                    onClick={() => onReplay(run)}\n                    className=\"px-3 py-1.5 text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors flex items-center gap-1\"\n                  >\n                    <Play className=\"h-4 w-4\" />\n                    Replay\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","/**\n * Archive Replay Component\n * \n * Handles replaying archived game runs using challenge codes.\n */\n\n\"use client\";\n\nimport React, { useCallback } from \"react\";\nimport { Play, X } from \"lucide-react\";\nimport { loadChallengeFromCode } from \"../challengeCodes/challengeCodeLoader\";\nimport type { ArchivedRun } from \"./ArchiveBrowser\";\n\ninterface ArchiveReplayProps {\n  archivedRun: ArchivedRun;\n  onReplay: (challengeCode: string, seed: number) => void;\n  onCancel?: () => void;\n}\n\nexport function ArchiveReplay({\n  archivedRun,\n  onReplay,\n  onCancel,\n}: ArchiveReplayProps) {\n  const handleReplay = useCallback(() => {\n    if (!archivedRun.challengeCode) {\n      // If no challenge code, we can't replay\n      alert(\"This archived run doesn't have a challenge code and cannot be replayed.\");\n      return;\n    }\n\n    const challengeData = loadChallengeFromCode(archivedRun.challengeCode);\n    if (!challengeData) {\n      alert(\"Could not load challenge data. The challenge may no longer be available.\");\n      return;\n    }\n\n    onReplay(archivedRun.challengeCode, challengeData.seed);\n  }, [archivedRun, onReplay]);\n\n  if (!archivedRun.challengeCode) {\n    return (\n      <div className=\"rounded-lg border border-yellow-200 bg-yellow-50 p-4\">\n        <p className=\"text-sm text-yellow-800\">\n          This archived run cannot be replayed because it doesn&apos;t have a challenge code.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"rounded-lg border border-blue-200 bg-blue-50 p-4\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h3 className=\"text-sm font-semibold text-blue-900\">Replay Archived Run</h3>\n        {onCancel && (\n          <button\n            onClick={onCancel}\n            className=\"p-1 hover:bg-blue-100 rounded transition-colors\"\n            aria-label=\"Cancel\"\n          >\n            <X className=\"h-4 w-4 text-blue-600\" />\n          </button>\n        )}\n      </div>\n      <p className=\"text-sm text-blue-800 mb-4\">\n        Replay this challenge using challenge code: <code className=\"font-mono text-xs bg-blue-100 px-1 rounded\">{archivedRun.challengeCode}</code>\n      </p>\n      <button\n        onClick={handleReplay}\n        className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n      >\n        <Play className=\"h-4 w-4\" />\n        Start Replay\n      </button>\n    </div>\n  );\n}\n","/**\n * Achievement List Component\n * \n * Displays all achievements in a grid/list format with progress tracking.\n */\n\n\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport { Trophy, Lock, CheckCircle, Filter, Search } from \"lucide-react\";\nimport type { AchievementDefinition } from \"../achievements/types\";\nimport { getAllAchievementDefinitions, getAchievementsByGame } from \"../achievements/achievementDefinitions\";\nimport { loadAchievementStorage } from \"../achievements/achievementStorage\";\n\ninterface AchievementListProps {\n  gameId?: string; // If provided, filter to this game's achievements\n  showProgress?: boolean; // Show progress for locked achievements\n  compact?: boolean; // Compact grid view\n}\n\nexport function AchievementList({\n  gameId,\n  showProgress = true,\n  compact = false,\n}: AchievementListProps) {\n  const [filter, setFilter] = useState<'all' | 'unlocked' | 'locked'>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedRarity, setSelectedRarity] = useState<string>('all');\n\n  const userData = loadAchievementStorage();\n  \n  // Filter achievements\n  let filtered = gameId\n    ? getAchievementsByGame(gameId)\n    : getAllAchievementDefinitions();\n\n  // Apply search\n  if (searchQuery) {\n    const query = searchQuery.toLowerCase();\n    filtered = filtered.filter(a =>\n      a.name.toLowerCase().includes(query) ||\n      a.description.toLowerCase().includes(query)\n    );\n  }\n\n  // Apply rarity filter\n  if (selectedRarity !== 'all') {\n    filtered = filtered.filter(a => a.rarity === selectedRarity);\n  }\n\n  // Apply unlock filter\n  if (filter === 'unlocked') {\n    filtered = filtered.filter(a => userData.unlocked.some(u => u.achievementId === a.id));\n  } else if (filter === 'locked') {\n    filtered = filtered.filter(a => !userData.unlocked.some(u => u.achievementId === a.id));\n  }\n\n  const getProgress = (achievement: AchievementDefinition): number => {\n    if (userData.unlocked.some(u => u.achievementId === achievement.id)) return 100;\n    if (!achievement.progressCondition) return 0;\n    \n    const progress = userData.progress[achievement.id] || 0;\n    return Math.min(100, progress * 100);\n  };\n\n  const getRarityColor = (rarity: string) => {\n    switch (rarity) {\n      case 'common': return 'border-slate-300 bg-slate-50';\n      case 'uncommon': return 'border-green-300 bg-green-50';\n      case 'rare': return 'border-blue-300 bg-blue-50';\n      case 'epic': return 'border-purple-300 bg-purple-50';\n      case 'legendary': return 'border-yellow-300 bg-yellow-50';\n      default: return 'border-slate-300 bg-slate-50';\n    }\n  };\n\n  const getRarityLabel = (rarity: string) => {\n    return rarity.charAt(0).toUpperCase() + rarity.slice(1);\n  };\n\n  if (compact) {\n    return (\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n        {filtered.map((achievement) => {\n          const isUnlocked = userData.unlocked.some(u => u.achievementId === achievement.id);\n          const progress = getProgress(achievement);\n          \n          return (\n            <div\n              key={achievement.id}\n              className={`rounded-lg border-2 p-3 ${\n                isUnlocked\n                  ? 'border-blue-500 bg-blue-50'\n                  : getRarityColor(achievement.rarity)\n              }`}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                {isUnlocked ? (\n                  <CheckCircle className=\"h-5 w-5 text-blue-600\" />\n                ) : (\n                  <Lock className=\"h-5 w-5 text-slate-400\" />\n                )}\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"text-sm font-semibold text-slate-900 truncate\">\n                    {achievement.name}\n                  </div>\n                  <div className=\"text-xs text-slate-600 truncate\">\n                    {achievement.description}\n                  </div>\n                </div>\n              </div>\n              {showProgress && !isUnlocked && progress > 0 && (\n                <div className=\"w-full bg-slate-200 rounded-full h-1.5\">\n                  <div\n                    className=\"bg-blue-600 h-1.5 rounded-full transition-all\"\n                    style={{ width: `${progress}%` }}\n                  />\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Filters */}\n      <div className=\"flex flex-wrap items-center gap-4\">\n        <div className=\"flex-1 min-w-[200px]\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search achievements...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-4 w-4 text-slate-600\" />\n          <select\n            value={filter}\n            onChange={(e) => setFilter(e.target.value as any)}\n            className=\"px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All</option>\n            <option value=\"unlocked\">Unlocked</option>\n            <option value=\"locked\">Locked</option>\n          </select>\n        </div>\n        <select\n          value={selectedRarity}\n          onChange={(e) => setSelectedRarity(e.target.value)}\n          className=\"px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">All Rarities</option>\n          <option value=\"common\">Common</option>\n          <option value=\"uncommon\">Uncommon</option>\n          <option value=\"rare\">Rare</option>\n          <option value=\"epic\">Epic</option>\n          <option value=\"legendary\">Legendary</option>\n        </select>\n      </div>\n\n      {/* Achievement Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {filtered.map((achievement) => {\n          const isUnlocked = userData.unlocked.some(u => u.achievementId === achievement.id);\n          const progress = getProgress(achievement);\n          \n          return (\n            <div\n              key={achievement.id}\n              className={`rounded-xl border-2 p-4 ${\n                isUnlocked\n                  ? 'border-blue-500 bg-blue-50'\n                  : getRarityColor(achievement.rarity)\n              }`}\n            >\n              <div className=\"flex items-start gap-3 mb-3\">\n                <div className=\"flex-shrink-0\">\n                  {isUnlocked ? (\n                    <Trophy className=\"h-8 w-8 text-blue-600\" />\n                  ) : (\n                    <Lock className=\"h-8 w-8 text-slate-400\" />\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <h3 className=\"text-base font-semibold text-slate-900\">\n                      {achievement.name}\n                    </h3>\n                    <span className=\"text-xs px-2 py-0.5 rounded bg-white/50 text-slate-700\">\n                      {getRarityLabel(achievement.rarity)}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-slate-600 mb-2\">\n                    {achievement.description}\n                  </p>\n                  {showProgress && !isUnlocked && achievement.progressCondition && (\n                    <div className=\"space-y-1\">\n                      <div className=\"flex items-center justify-between text-xs text-slate-600\">\n                        <span>Progress</span>\n                        <span>{Math.round(progress)}%</span>\n                      </div>\n                      <div className=\"w-full bg-slate-200 rounded-full h-2\">\n                        <div\n                          className=\"bg-blue-600 h-2 rounded-full transition-all\"\n                          style={{ width: `${progress}%` }}\n                        />\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {filtered.length === 0 && (\n        <div className=\"text-center py-8 text-slate-600\">\n          No achievements found matching your filters.\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Achievement Statistics Display\n * \n * Shows achievement progress and statistics.\n */\n\n\"use client\";\n\nimport React from \"react\";\nimport { Trophy, Target, TrendingUp, Award } from \"lucide-react\";\nimport { getAllAchievementDefinitions, getAchievementsByGame } from \"../achievements/achievementDefinitions\";\nimport { loadAchievementStorage } from \"../achievements/achievementStorage\";\n\ninterface AchievementStatsProps {\n  gameId?: string; // If provided, filter to this game's achievements\n  compact?: boolean; // Compact display\n}\n\nexport function AchievementStats({\n  gameId,\n  compact = false,\n}: AchievementStatsProps) {\n  const userData = loadAchievementStorage();\n\n  const filtered = gameId\n    ? getAchievementsByGame(gameId)\n    : getAllAchievementDefinitions();\n\n  const unlocked = filtered.filter(a => userData.unlocked.some(u => u.achievementId === a.id));\n  const locked = filtered.filter(a => !userData.unlocked.some(u => u.achievementId === a.id));\n  \n  const completionRate = filtered.length > 0\n    ? (unlocked.length / filtered.length) * 100\n    : 0;\n\n  // Calculate progress for locked achievements\n  const inProgress = locked.filter(a => {\n    if (!a.progressCondition) return false;\n    const progress = userData.progress[a.id] || 0;\n    return progress > 0 && progress < 1;\n  });\n\n  // Count by rarity\n  const rarityCounts = {\n    common: unlocked.filter(a => a.rarity === 'common').length,\n    uncommon: unlocked.filter(a => a.rarity === 'uncommon').length,\n    rare: unlocked.filter(a => a.rarity === 'rare').length,\n    epic: unlocked.filter(a => a.rarity === 'epic').length,\n    legendary: unlocked.filter(a => a.rarity === 'legendary').length,\n  };\n\n  if (compact) {\n    return (\n      <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-sm font-semibold text-slate-900\">Achievements</h3>\n          <div className=\"text-sm font-bold text-blue-600\">\n            {unlocked.length} / {filtered.length}\n          </div>\n        </div>\n        <div className=\"w-full bg-slate-200 rounded-full h-2\">\n          <div\n            className=\"bg-blue-600 h-2 rounded-full transition-all\"\n            style={{ width: `${completionRate}%` }}\n          />\n        </div>\n        <div className=\"text-xs text-slate-600 mt-2\">\n          {Math.round(completionRate)}% complete\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Overall Stats */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Trophy className=\"h-5 w-5 text-blue-600\" />\n            <div className=\"text-sm text-slate-600\">Unlocked</div>\n          </div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {unlocked.length}\n          </div>\n          <div className=\"text-xs text-slate-500 mt-1\">\n            of {filtered.length} total\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Target className=\"h-5 w-5 text-green-600\" />\n            <div className=\"text-sm text-slate-600\">Completion</div>\n          </div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {Math.round(completionRate)}%\n          </div>\n          <div className=\"w-full bg-slate-200 rounded-full h-1.5 mt-2\">\n            <div\n              className=\"bg-green-600 h-1.5 rounded-full transition-all\"\n              style={{ width: `${completionRate}%` }}\n            />\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <TrendingUp className=\"h-5 w-5 text-yellow-600\" />\n            <div className=\"text-sm text-slate-600\">In Progress</div>\n          </div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {inProgress.length}\n          </div>\n          <div className=\"text-xs text-slate-500 mt-1\">\n            actively working on\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Award className=\"h-5 w-5 text-purple-600\" />\n            <div className=\"text-sm text-slate-600\">Locked</div>\n          </div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {locked.length}\n          </div>\n          <div className=\"text-xs text-slate-500 mt-1\">\n            not yet unlocked\n          </div>\n        </div>\n      </div>\n\n      {/* Rarity Breakdown */}\n      <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-3\">\n          Unlocked by Rarity\n        </h3>\n        <div className=\"grid grid-cols-5 gap-3\">\n          <div className=\"text-center\">\n            <div className=\"text-lg font-bold text-slate-900\">\n              {rarityCounts.common}\n            </div>\n            <div className=\"text-xs text-slate-600\">Common</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-bold text-green-600\">\n              {rarityCounts.uncommon}\n            </div>\n            <div className=\"text-xs text-slate-600\">Uncommon</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-bold text-blue-600\">\n              {rarityCounts.rare}\n            </div>\n            <div className=\"text-xs text-slate-600\">Rare</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-bold text-purple-600\">\n              {rarityCounts.epic}\n            </div>\n            <div className=\"text-xs text-slate-600\">Epic</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-lg font-bold text-yellow-600\">\n              {rarityCounts.legendary}\n            </div>\n            <div className=\"text-xs text-slate-600\">Legendary</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Daily Challenge Generator\n * \n * Generates deterministic daily challenges based on date\n */\n\nimport { getDailySeed, hashString } from \"@/lib/games/framework/SeededRNG\";\n\n/**\n * Get today's date string (YYYY-MM-DD UTC)\n */\nexport function getTodayDateString(): string {\n  const today = new Date();\n  const year = today.getUTCFullYear();\n  const month = String(today.getUTCMonth() + 1).padStart(2, '0');\n  const day = String(today.getUTCDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Generate seed for a game on a specific date\n */\nexport function generateDailySeed(gameId: string, date: string): number {\n  const baseSeed = getDailySeed();\n  // Combine with game ID to get unique seed per game\n  const gameHash = hashString(gameId);\n  return (baseSeed ^ gameHash) >>> 0;\n}\n\n/**\n * Generate daily challenge seed\n */\nexport function generateChallengeSeed(gameId: string): number {\n  const date = getTodayDateString();\n  return generateDailySeed(gameId, date);\n}","/**\n * Daily Challenges System\n */\n\nexport * from './types';\nexport * from './dailyChallengeGenerator';\nexport * from './dailyChallengeStorage';\nexport * from './dailyChallengeManager';","/**\n * Streak Storage\n */\n\nimport type { StreakData, StreakStorage } from \"./types\";\n\nconst STORAGE_KEY = 'ransford-streaks';\n\n/**\n * Load streaks from storage\n */\nexport function loadStreakStorage(): StreakStorage {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored) as StreakStorage;\n    }\n  } catch (error) {\n    console.error('Error loading streaks:', error);\n  }\n  \n  return {\n    streaks: {},\n    lastUpdated: Date.now(),\n  };\n}\n\n/**\n * Save streaks to storage\n */\nexport function saveStreakStorage(storage: StreakStorage): void {\n  try {\n    storage.lastUpdated = Date.now();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n  } catch (error) {\n    console.error('Error saving streaks:', error);\n  }\n}\n\n/**\n * Get streak data for a game\n */\nexport function getStreakData(gameId: string): StreakData | null {\n  const storage = loadStreakStorage();\n  return storage.streaks[gameId] || null;\n}\n\n/**\n * Set streak data for a game\n */\nexport function setStreakData(gameId: string, data: StreakData): void {\n  const storage = loadStreakStorage();\n  storage.streaks[gameId] = data;\n  saveStreakStorage(storage);\n}","/**\n * Challenge Code System\n * \n * Universal challenge code system for sharing and replaying challenges\n */\n\nexport * from './types';\nexport * from './challengeCodeGenerator';\nexport * from './challengeCodeParser';\nexport * from './challengeCodeManager';\nexport * from './challengeCodeLoader';","/**\n * Date Utilities for Streak Tracking\n */\n\n/**\n * Get today's date string (YYYY-MM-DD UTC)\n */\nexport function getTodayDateString(): string {\n  const today = new Date();\n  const year = today.getUTCFullYear();\n  const month = String(today.getUTCMonth() + 1).padStart(2, '0');\n  const day = String(today.getUTCDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Get current month string (YYYY-MM)\n */\nexport function getCurrentMonthString(): string {\n  const today = new Date();\n  const year = today.getUTCFullYear();\n  const month = String(today.getUTCMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n}\n\n/**\n * Get yesterday's date string\n */\nexport function getYesterdayDateString(): string {\n  const yesterday = new Date();\n  yesterday.setUTCDate(yesterday.getUTCDate() - 1);\n  const year = yesterday.getUTCFullYear();\n  const month = String(yesterday.getUTCMonth() + 1).padStart(2, '0');\n  const day = String(yesterday.getUTCDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Check if date string is today\n */\nexport function isToday(dateString: string): boolean {\n  return dateString === getTodayDateString();\n}\n\n/**\n * Check if date string is yesterday\n */\nexport function isYesterday(dateString: string): boolean {\n  return dateString === getYesterdayDateString();\n}\n\n/**\n * Parse date string and get days difference from today\n */\nexport function getDaysDifference(dateString: string): number {\n  const today = new Date();\n  today.setUTCHours(0, 0, 0, 0);\n  \n  const [year, month, day] = dateString.split('-').map(Number);\n  const date = new Date(Date.UTC(year, month - 1, day));\n  \n  const diffTime = today.getTime() - date.getTime();\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n  \n  return diffDays;\n}","/**\n * Score Storage\n * \n * Stores scores per challenge code (localStorage-based, anonymous).\n */\n\nimport type { ScoreData } from './types';\n\n/**\n * Storage key prefix\n */\nconst STORAGE_KEY_PREFIX = 'ransford-scores';\n\n/**\n * Get storage key for a challenge code\n */\nfunction getStorageKey(challengeCode: string): string {\n  // Sanitize code for storage key (replace special chars)\n  const sanitized = challengeCode.replace(/[^A-Z0-9-]/gi, '-');\n  return `${STORAGE_KEY_PREFIX}-${sanitized}`;\n}\n\n/**\n * Store score for a challenge code\n */\nexport function storeScore(challengeCode: string, scoreData: ScoreData): void {\n  try {\n    const storageKey = getStorageKey(challengeCode);\n    const existing = getScores(challengeCode);\n    \n    // Add new score (keep last 100 scores per code to prevent storage bloat)\n    existing.push(scoreData);\n    if (existing.length > 100) {\n      existing.shift(); // Remove oldest\n    }\n    \n    localStorage.setItem(storageKey, JSON.stringify(existing));\n  } catch (error) {\n    console.error('Error storing score:', error);\n  }\n}\n\n/**\n * Get all scores for a challenge code\n */\nexport function getScores(challengeCode: string): ScoreData[] {\n  try {\n    const storageKey = getStorageKey(challengeCode);\n    const stored = localStorage.getItem(storageKey);\n    \n    if (!stored) {\n      return [];\n    }\n    \n    return JSON.parse(stored) as ScoreData[];\n  } catch (error) {\n    console.error('Error retrieving scores:', error);\n    return [];\n  }\n}\n\n/**\n * Get player's score for a challenge code (if exists)\n */\nexport function getPlayerScore(challengeCode: string): ScoreData | null {\n  const scores = getScores(challengeCode);\n  \n  // Return most recent score (could be enhanced to identify player's score)\n  if (scores.length > 0) {\n    return scores[scores.length - 1];\n  }\n  \n  return null;\n}\n\n/**\n * Clear scores for a challenge code (utility function)\n */\nexport function clearScores(challengeCode: string): void {\n  try {\n    const storageKey = getStorageKey(challengeCode);\n    localStorage.removeItem(storageKey);\n  } catch (error) {\n    console.error('Error clearing scores:', error);\n  }\n}","/**\n * Challenge Code Manager\n * \n * Manages storage and retrieval of challenge codes\n */\n\nimport type { ChallengeCode, ChallengeCodeStorage } from \"./types\";\n\nconst STORAGE_KEY_PREFIX = 'ransford-challenge-codes';\n\n/**\n * Get storage key for a challenge code\n */\nfunction getStorageKey(code: string): string {\n  return `${STORAGE_KEY_PREFIX}-${code}`;\n}\n\n/**\n * Store challenge code data (internal)\n */\nfunction storeChallengeCodeData(codeData: ChallengeCodeStorage): void {\n  try {\n    const key = getStorageKey(codeData.code);\n    localStorage.setItem(key, JSON.stringify(codeData));\n  } catch (error) {\n    console.error('Error storing challenge code:', error);\n  }\n}\n\n/**\n * Store challenge code (public API - simple version)\n */\nexport function storeChallengeCode(code: ChallengeCode): void {\n  const storage: ChallengeCodeStorage = {\n    code: code.code,\n    gameId: code.gameId,\n    date: code.date,\n    seed: code.seed,\n  };\n  \n  storeChallengeCodeData(storage);\n}\n\n/**\n * Store challenge code with full data\n */\nexport function storeChallengeCodeWithData(codeData: ChallengeCodeStorage): void {\n  storeChallengeCodeData(codeData);\n}\n\n/**\n * Get challenge code data\n */\nexport function getChallengeCode(code: string): ChallengeCodeStorage | null {\n  try {\n    const key = getStorageKey(code);\n    const stored = localStorage.getItem(key);\n    \n    if (!stored) {\n      return null;\n    }\n    \n    return JSON.parse(stored) as ChallengeCodeStorage;\n  } catch (error) {\n    console.error('Error retrieving challenge code:', error);\n    return null;\n  }\n}\n\n/**\n * Get all stored challenge codes\n */\nexport function getAllChallengeCodes(): ChallengeCodeStorage[] {\n  const codes: ChallengeCodeStorage[] = [];\n  \n  try {\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key?.startsWith(STORAGE_KEY_PREFIX)) {\n        const stored = localStorage.getItem(key);\n        if (stored) {\n          try {\n            codes.push(JSON.parse(stored) as ChallengeCodeStorage);\n          } catch (e) {\n            // Skip invalid entries\n          }\n        }\n      }\n    }\n  } catch (error) {\n    console.error('Error retrieving all challenge codes:', error);\n  }\n  \n  return codes;\n}","/**\n * Percentile Calculator\n */\n\nimport type { ScoreData, ScoreComparison } from './types';\n\n/**\n * Calculate percentile for a score in an array of scores\n */\nexport function calculatePercentile(score: number, scores: number[]): number {\n  if (scores.length === 0) return 50;\n  \n  const sorted = [...scores].sort((a, b) => a - b);\n  const rank = sorted.filter(s => s <= score).length;\n  \n  return (rank / scores.length) * 100;\n}\n\n/**\n * Calculate score comparison\n */\nexport function calculateScoreComparison(\n  challengeCode: string,\n  playerScore: ScoreData,\n  allScores: ScoreData[]\n): ScoreComparison {\n  if (allScores.length === 0) {\n    return {\n      averageScore: playerScore.score,\n      percentile: 50,\n      participantCount: 1,\n      playerScore: playerScore.score,\n      playerRank: 1,\n    };\n  }\n  \n  const scores = allScores.map(s => s.score);\n  const sorted = [...scores].sort((a, b) => b - a); // Descending\n  \n  const averageScore = scores.reduce((sum, s) => sum + s, 0) / scores.length;\n  const percentile = calculatePercentile(playerScore.score, scores);\n  \n  // Find player rank (1-based, higher score = better rank)\n  let playerRank = sorted.findIndex(s => s <= playerScore.score) + 1;\n  if (playerRank === 0) playerRank = sorted.length;\n  \n  return {\n    averageScore,\n    percentile,\n    participantCount: allScores.length,\n    playerScore: playerScore.score,\n    playerRank,\n  };\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trophy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiA5SDQuNWEyLjUgMi41IDAgMCAxIDAtNUg2IiAvPgogIDxwYXRoIGQ9Ik0xOCA5aDEuNWEyLjUgMi41IDAgMCAwIDAtNUgxOCIgLz4KICA8cGF0aCBkPSJNNCAyMmgxNiIgLz4KICA8cGF0aCBkPSJNMTAgMTQuNjZWMTdjMCAuNTUtLjQ3Ljk4LS45NyAxLjIxQzcuODUgMTguNzUgNyAyMC4yNCA3IDIyIiAvPgogIDxwYXRoIGQ9Ik0xNCAxNC42NlYxN2MwIC41NS40Ny45OC45NyAxLjIxQzE2LjE1IDE4Ljc1IDE3IDIwLjI0IDE3IDIyIiAvPgogIDxwYXRoIGQ9Ik0xOCAySDZ2N2E2IDYgMCAwIDAgMTIgMFYyWiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trophy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trophy = createLucideIcon('Trophy', [\n  ['path', { d: 'M6 9H4.5a2.5 2.5 0 0 1 0-5H6', key: '17hqa7' }],\n  ['path', { d: 'M18 9h1.5a2.5 2.5 0 0 0 0-5H18', key: 'lmptdp' }],\n  ['path', { d: 'M4 22h16', key: '57wxv0' }],\n  ['path', { d: 'M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22', key: '1nw9bq' }],\n  ['path', { d: 'M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22', key: '1np0yb' }],\n  ['path', { d: 'M18 2H6v7a6 6 0 0 0 12 0V2Z', key: 'u46fv3' }],\n]);\n\nexport default Trophy;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cGF0aCBkPSJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44NyIgLz4KICA8cGF0aCBkPSJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('Users', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['path', { d: 'M16 3.13a4 4 0 0 1 0 7.75', key: '1da9ce' }],\n]);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n]);\n\nexport default Copy;\n","/**\n * Streak Calculator\n */\n\nimport { getTodayDateString, getCurrentMonthString, getDaysDifference } from \"./dateUtils\";\nimport { getStreakData, setStreakData } from \"./streakStorage\";\nimport type { StreakData } from \"./types\";\n\n/**\n * Create default streak data\n */\nexport function createDefaultStreakData(gameId: string): StreakData {\n  return {\n    gameId,\n    currentStreak: 0,\n    longestStreak: 0,\n    lastPlayDate: null,\n    streakFreezesUsed: 0,\n    lastFreezeReset: getCurrentMonthString(),\n  };\n}\n\n/**\n * Update streak for a game after playing\n */\nexport function updateStreakForGame(gameId: string, played: boolean): StreakData {\n  const today = getTodayDateString();\n  const currentMonth = getCurrentMonthString();\n  \n  let streakData = getStreakData(gameId);\n  \n  if (!streakData) {\n    streakData = createDefaultStreakData(gameId);\n  }\n  \n  // Reset freeze count if new month\n  if (streakData.lastFreezeReset !== currentMonth) {\n    streakData.streakFreezesUsed = 0;\n    streakData.lastFreezeReset = currentMonth;\n  }\n  \n  if (!played) {\n    // Just return current data if not played\n    setStreakData(gameId, streakData);\n    return streakData;\n  }\n  \n  // Update streak\n  if (!streakData.lastPlayDate) {\n    // First time playing\n    streakData.currentStreak = 1;\n    streakData.lastPlayDate = today;\n  } else if (streakData.lastPlayDate === today) {\n    // Already played today - no change\n    // Do nothing\n  } else {\n    const daysDiff = getDaysDifference(streakData.lastPlayDate);\n    \n    if (daysDiff === 1) {\n      // Consecutive day - increment streak\n      streakData.currentStreak += 1;\n      streakData.lastPlayDate = today;\n    } else if (daysDiff === 0) {\n      // Same day - no change\n      // Do nothing\n    } else {\n      // Streak broken - reset to 1\n      streakData.currentStreak = 1;\n      streakData.lastPlayDate = today;\n    }\n  }\n  \n  // Update longest streak\n  if (streakData.currentStreak > streakData.longestStreak) {\n    streakData.longestStreak = streakData.currentStreak;\n  }\n  \n  setStreakData(gameId, streakData);\n  return streakData;\n}","/**\n * Score Aggregator\n */\n\nimport { getScores, storeScore } from './scoreStorage';\nimport { calculateScoreComparison } from './percentileCalculator';\nimport type { ScoreData, ScoreComparison } from './types';\n\n/**\n * Submit score and get comparison\n */\nexport function submitScore(challengeCode: string, scoreData: ScoreData): ScoreComparison {\n  storeScore(challengeCode, scoreData);\n  \n  const allScores = getScores(challengeCode);\n  return calculateScoreComparison(challengeCode, scoreData, allScores);\n}\n\n/**\n * Get comparison for a challenge code\n */\nexport function getScoreComparison(challengeCode: string, playerScore?: ScoreData): ScoreComparison | null {\n  const allScores = getScores(challengeCode);\n  \n  if (allScores.length === 0) {\n    return null;\n  }\n  \n  if (playerScore) {\n    return calculateScoreComparison(challengeCode, playerScore, allScores);\n  }\n  \n  // Use most recent score as player score\n  const latestScore = allScores[allScores.length - 1];\n  return calculateScoreComparison(challengeCode, latestScore, allScores);\n}","/**\n * Streak Manager\n * \n * High-level API for streak tracking\n */\n\nimport { getStreakData } from \"./streakStorage\";\nimport { updateStreakForGame as updateStreakInternal } from \"./streakCalculator\";\n\n/**\n * Get streak data for a game\n */\nexport function getStreakDataForGame(gameId: string) {\n  return getStreakData(gameId) || {\n    gameId,\n    currentStreak: 0,\n    longestStreak: 0,\n    lastPlayDate: null,\n    streakFreezesUsed: 0,\n    lastFreezeReset: new Date().toISOString().slice(0, 7),\n  };\n}\n\n/**\n * Update streak when game is completed\n */\nexport function updateStreakForGame(gameId: string, completed: boolean) {\n  return updateStreakInternal(gameId, completed);\n}","/**\n * Achievement System\n */\n\nimport { getAllAchievementDefinitions } from \"./achievementDefinitions\";\nimport { loadAchievementStorage, unlockAchievement, updateAchievementProgress } from \"./achievementStorage\";\nimport { isAchievementUnlocked } from \"./achievementStorage\";\nimport type { AchievementContext, AchievementCheckResult } from \"./types\";\n\n/**\n * Check and unlock achievements based on context\n */\nexport function checkAndUnlockAchievements(context: AchievementContext): AchievementCheckResult {\n  const storage = loadAchievementStorage();\n  const definitions = getAllAchievementDefinitions();\n  const newlyUnlocked: string[] = [];\n  const updatedProgress: Record<string, number> = {};\n  \n  let currentStorage = storage;\n  \n  for (const definition of definitions) {\n    // Skip game-specific achievements that don't match\n    if (definition.gameId && definition.gameId !== context.gameId) {\n      continue;\n    }\n    \n    // Skip if already unlocked\n    if (isAchievementUnlocked(definition.id, currentStorage)) {\n      continue;\n    }\n    \n    // Update progress if progress condition exists\n    if (definition.progressCondition) {\n      const progress = definition.progressCondition(context);\n      updatedProgress[definition.id] = progress;\n      currentStorage = updateAchievementProgress(definition.id, progress, currentStorage);\n    }\n    \n    // Check if achievement should be unlocked\n    if (definition.checkCondition && definition.checkCondition(context)) {\n      currentStorage = unlockAchievement(definition.id, context.gameId, currentStorage);\n      newlyUnlocked.push(definition.id);\n    }\n  }\n  \n  return {\n    newlyUnlocked,\n    updatedProgress,\n  };\n}\n\n/**\n * Get achievement statistics\n */\nexport function getAchievementStats() {\n  const storage = loadAchievementStorage();\n  const definitions = getAllAchievementDefinitions();\n  \n  const total = definitions.length;\n  const unlocked = storage.unlocked.length;\n  const progress = storage.progress;\n  \n  return {\n    total,\n    unlocked,\n    percentage: total > 0 ? (unlocked / total) * 100 : 0,\n    progress,\n    unlockedIds: storage.unlocked.map(u => u.achievementId),\n  };\n}","/**\n * Daily Challenge Manager\n */\n\nimport { getTodayDateString } from \"./dailyChallengeGenerator\";\nimport { generateDailySeed } from \"./dailyChallengeGenerator\";\nimport { getDailyChallenge, setDailyChallenge } from \"./dailyChallengeStorage\";\nimport type { DailyChallenge } from \"./types\";\n\n/**\n * Get or generate today's challenge for a game\n */\nexport function getOrGenerateTodayChallenge(gameId: string): DailyChallenge {\n  const date = getTodayDateString();\n  const existing = getDailyChallenge(gameId, date);\n  \n  if (existing) {\n    return existing;\n  }\n  \n  const seed = generateDailySeed(gameId, date);\n  const challenge: DailyChallenge = {\n    gameId,\n    date,\n    seed,\n    completed: false,\n  };\n  \n  setDailyChallenge(challenge);\n  return challenge;\n}\n\n/**\n * Complete today's challenge\n */\nexport function completeTodayChallenge(\n  gameId: string,\n  result: {\n    score: number;\n    time: number;\n    scoreValue?: number;\n  }\n): void {\n  const date = getTodayDateString();\n  const challenge = getDailyChallenge(gameId, date);\n  \n  if (!challenge) {\n    // Create if doesn't exist\n    const seed = generateDailySeed(gameId, date);\n    const newChallenge: DailyChallenge = {\n      gameId,\n      date,\n      seed,\n      completed: true,\n      score: result.score,\n      time: result.time,\n      scoreValue: result.scoreValue,\n      completedAt: Date.now(),\n    };\n    setDailyChallenge(newChallenge);\n    return;\n  }\n  \n  challenge.completed = true;\n  challenge.score = result.score;\n  challenge.time = result.time;\n  challenge.scoreValue = result.scoreValue;\n  challenge.completedAt = Date.now();\n  \n  setDailyChallenge(challenge);\n}","/**\n * Reward Calculator\n * \n * Calculates base XP and applies variable reward multipliers.\n */\n\nimport type { BaseXPParams, RewardContext, RewardResult } from './types';\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\n\n/**\n * Calculate base XP based on performance\n */\nexport function calculateBaseXP(params: BaseXPParams): number {\n  const { win, score, efficiency = 100, time, difficulty, tier } = params;\n  \n  // Base XP\n  let baseXP = win ? 50 : 10;\n  \n  // Score bonus\n  const scoreBonus = win ? score * 0.5 : score * 0.2;\n  \n  // Efficiency bonus\n  const efficiencyBonus = efficiency * 0.3;\n  \n  // Time bonus (faster = more bonus, but capped)\n  const timeBonus = time ? Math.max(0, 20 - (time / 1000 / 60)) : 0;\n  \n  // Difficulty multiplier\n  const difficultyMultiplier = {\n    'foundations': 1.0,\n    'novice': 1.0,\n    'intermediate': 1.2,\n    'optimizer': 1.2,\n    'tactician': 1.2,\n    'advanced': 1.5,\n    'solver': 1.5,\n    'expert': 2.0,\n    'master-optimizer': 2.0,\n    'allocation-expert': 2.0,\n    'constraint-master': 2.5,\n    'allocation-master': 2.5,\n  }[difficulty] || 1.0;\n  \n  // Tier multiplier\n  const tierMultiplier = {\n    'planner': 1.0,\n    'novice': 1.0,\n    'strategist': 1.2,\n    'optimizer': 1.2,\n    'architect': 1.5,\n    'solver': 1.5,\n    'master': 2.0,\n    'master-optimizer': 2.0,\n    'legend': 2.5,\n    'constraint-master': 2.5,\n  }[tier] || 1.0;\n  \n  const total = (baseXP + scoreBonus + efficiencyBonus + timeBonus) * difficultyMultiplier * tierMultiplier;\n  \n  return Math.round(total);\n}\n\n/**\n * Create reward context for variable reward generation\n */\nexport function createRewardContext(params: {\n  gameId: string;\n  seed: number;\n  baseXP: number;\n  performance: RewardContext['performance'];\n  streak: number;\n  tier: string;\n}): RewardContext {\n  return {\n    gameId: params.gameId,\n    seed: params.seed,\n    baseXP: params.baseXP,\n    performance: params.performance,\n    streak: params.streak,\n    tier: params.tier,\n  };\n}\n","/**\n * Challenge Code Loader\n * \n * Loads challenge data from a challenge code\n */\n\nimport { getChallengeCode } from \"./challengeCodeManager\";\nimport { getGameSlug } from \"./challengeCodeGenerator\";\nimport type { ChallengeCode } from \"./types\";\n\n/**\n * Load challenge code data with seed\n */\nexport function loadChallengeFromCode(codeString: string): {\n  code: ChallengeCode;\n  seed: number;\n  gameSlug: string;\n} | null {\n  const stored = getChallengeCode(codeString);\n  \n  if (!stored) {\n    // Try to parse and derive seed (fallback for codes not yet stored)\n    const { parseChallengeCode } = require(\"./challengeCodeParser\");\n    const parsed = parseChallengeCode(codeString);\n    \n    if (!parsed.success || !parsed.code) {\n      return null;\n    }\n    \n    // Use the seed from parsed code (which derives it from hash)\n    // For daily challenges, we can also try to get from daily challenge system\n    const gameSlug = getGameSlug(parsed.code.gameId);\n    const { getDailyChallenge } = require(\"../dailyChallenges/dailyChallengeStorage\");\n    const dailyChallenge = getDailyChallenge(gameSlug, parsed.code.date);\n    \n    if (dailyChallenge) {\n      return {\n        code: parsed.code,\n        seed: dailyChallenge.seed,\n        gameSlug,\n      };\n    }\n    \n    // Fallback: use hash-derived seed (less ideal but works)\n    return {\n      code: parsed.code,\n      seed: parsed.code.seed,\n      gameSlug,\n    };\n  }\n  \n  const gameSlug = getGameSlug(stored.gameId);\n  \n  return {\n    code: {\n      code: stored.code,\n      gameId: stored.gameId,\n      date: stored.date,\n      seed: stored.seed,\n      hash: stored.code.split('-')[2] || '',\n    },\n    seed: stored.seed,\n    gameSlug,\n  };\n}","/**\n * Variable Reward Generator\n * \n * Generates variable rewards based on probability distributions.\n * Uses 70/20/8/2% distribution for standard/bonus/rare/legendary rewards.\n */\n\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\nimport type { RewardContext, RewardResult } from './types';\n\n/**\n * Generate variable reward result\n */\nexport function generateRewardResult(context: RewardContext): RewardResult {\n  const rng = new SeededRNG(context.seed + 1000); // Offset seed for reward generation\n  \n  // Determine reward tier based on probability\n  const roll = rng.next();\n  let rewardType: RewardResult['rewardType'];\n  let bonusMultiplier: number;\n  let rewardDescription: string;\n  \n  if (roll < 0.70) {\n    // 70% - Standard reward\n    rewardType = 'standard';\n    bonusMultiplier = 1.0;\n    rewardDescription = 'Standard completion reward';\n  } else if (roll < 0.90) {\n    // 20% - Bonus reward\n    rewardType = 'bonus';\n    bonusMultiplier = 1.2 + (rng.next() * 0.3); // 1.2x to 1.5x\n    rewardDescription = 'Bonus reward! Great performance!';\n  } else if (roll < 0.98) {\n    // 8% - Rare reward\n    rewardType = 'rare';\n    bonusMultiplier = 1.5 + (rng.next() * 0.5); // 1.5x to 2.0x\n    rewardDescription = 'Rare reward! Exceptional performance!';\n  } else {\n    // 2% - Legendary reward\n    rewardType = 'legendary';\n    bonusMultiplier = 2.0 + (rng.next() * 1.0); // 2.0x to 3.0x\n    rewardDescription = 'Legendary reward! Outstanding achievement!';\n  }\n  \n  // Apply streak multiplier (if streak >= 7)\n  let streakMultiplier = 1.0;\n  if (context.streak >= 7) {\n    streakMultiplier = 1.0 + (Math.min(context.streak, 30) - 7) * 0.01; // +1% per day after 7, max 1.23x at 30 days\n  }\n  \n  // Calculate final XP\n  const bonusXP = context.baseXP * (bonusMultiplier - 1.0);\n  const totalXP = Math.round(context.baseXP * bonusMultiplier * streakMultiplier);\n  \n  // Check for special unlocks (rare and legendary only)\n  const unlocks: string[] = [];\n  if (rewardType === 'rare' && rng.next() < 0.15) {\n    unlocks.push('scenario-variant');\n  }\n  if (rewardType === 'legendary' && rng.next() < 0.5) {\n    unlocks.push('exclusive-scenario');\n    if (rng.next() < 0.3) {\n      unlocks.push('special-modifier');\n    }\n  }\n  \n  return {\n    totalXP,\n    baseXP: context.baseXP,\n    bonusXP: Math.round(bonusXP),\n    bonusMultiplier: bonusMultiplier * streakMultiplier,\n    rewardType,\n    rewardDescription,\n    unlocks: unlocks.length > 0 ? unlocks : undefined,\n  };\n}\n\n/**\n * Generate daily challenge modifier\n * Returns modifier type and description\n */\nexport function generateDailyModifier(seed: number): {\n  type: 'double-xp' | 'tooling-bonus' | 'adversary-variant' | 'none';\n  description: string;\n  multiplier: number;\n} {\n  const rng = new SeededRNG(seed);\n  const roll = rng.next();\n  \n  if (roll < 0.10) {\n    return {\n      type: 'double-xp',\n      description: 'Double XP Day!',\n      multiplier: 2.0,\n    };\n  } else if (roll < 0.25) {\n    return {\n      type: 'tooling-bonus',\n      description: 'Tooling Bonus Active (+20% effectiveness)',\n      multiplier: 1.2,\n    };\n  } else if (roll < 0.30) {\n    return {\n      type: 'adversary-variant',\n      description: 'Rare Adversary Variant',\n      multiplier: 1.0,\n    };\n  }\n  \n  return {\n    type: 'none',\n    description: '',\n    multiplier: 1.0,\n  };\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Medal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNy4yMSAxNSAyLjY2IDcuMTRhMiAyIDAgMCAxIC4xMy0yLjJMNC40IDIuOEEyIDIgMCAwIDEgNiAyaDEyYTIgMiAwIDAgMSAxLjYuOGwxLjYgMi4xNGEyIDIgMCAwIDEgLjE0IDIuMkwxNi43OSAxNSIgLz4KICA8cGF0aCBkPSJNMTEgMTIgNS4xMiAyLjIiIC8+CiAgPHBhdGggZD0ibTEzIDEyIDUuODgtOS44IiAvPgogIDxwYXRoIGQ9Ik04IDdoOCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE3IiByPSI1IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOHYtMmgtLjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/medal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Medal = createLucideIcon('Medal', [\n  [\n    'path',\n    {\n      d: 'M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15',\n      key: '143lza',\n    },\n  ],\n  ['path', { d: 'M11 12 5.12 2.2', key: 'qhuxz6' }],\n  ['path', { d: 'm13 12 5.88-9.8', key: 'hbye0f' }],\n  ['path', { d: 'M8 7h8', key: 'i86dvs' }],\n  ['circle', { cx: '12', cy: '17', r: '5', key: 'qbz8iq' }],\n  ['path', { d: 'M12 18v-2h-.5', key: 'fawc4q' }],\n]);\n\nexport default Medal;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('Award', [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n]);\n\nexport default Award;\n","/**\n * Cross-Game Achievement System\n * \n * Shared achievement system for all games.\n * \n * Usage:\n * ```typescript\n * import { checkAndUnlockAchievements, getAchievementStats } from '@/lib/games/shared/achievements';\n * \n * // Check and unlock achievements\n * const result = checkAndUnlockAchievements({\n *   gameId: 'constraint-optimizer',\n *   currentStreak: 10,\n *   gamesCompleted: 50,\n * });\n * \n * // Get stats\n * const stats = getAchievementStats();\n * ```\n */\n\n// Types\nexport type {\n  AchievementRarity,\n  AchievementCategory,\n  AchievementDefinition,\n  AchievementUnlock,\n  AchievementStorage,\n  AchievementContext,\n  AchievementCheckResult,\n} from './types';\n\n// Definitions\nexport {\n  CROSS_GAME_ACHIEVEMENTS,\n  getAllAchievementDefinitions,\n  getAchievementDefinition,\n  getAchievementsByGame,\n  getCrossGameAchievements,\n} from './achievementDefinitions';\n\n// Storage\nexport {\n  loadAchievementStorage,\n  saveAchievementStorage,\n  createDefaultStorage,\n  isAchievementUnlocked,\n  unlockAchievement,\n  updateAchievementProgress,\n  getAchievementProgress,\n  getAchievementUnlock,\n  clearAchievementStorage,\n} from './achievementStorage';\n\n// System\nexport {\n  checkAndUnlockAchievements,\n  getAchievementStats,\n} from './achievementSystem';"],"names":[],"mappings":"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","ignoreList":[25,26,27,28,29,38,39]}}]
}