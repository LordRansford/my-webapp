;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ebea1504-023c-317e-c279-02cb9fb91d27")}catch(e){}}();
module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},666680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},902157,(a,b,c)=>{b.exports=a.x("node:fs",()=>require("node:fs"))},750227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},353440,a=>{"use strict";var b=a.i(902157),c=a.i(750227),d=a.i(666680);let e=process.env.CERTIFICATES_STORE_PATH||"data/certificates.json",f={certificates:[]};function g(a,d){try{let e=c.default.isAbsolute(a)?a:c.default.join(process.cwd(),a);if(!b.default.existsSync(e))return d;return JSON.parse(b.default.readFileSync(e,"utf8"))}catch{return d}}function h(a,d){let e,f=c.default.isAbsolute(a)?a:c.default.join(process.cwd(),a);e=c.default.dirname(f),b.default.existsSync(e)||b.default.mkdirSync(e,{recursive:!0});let g=`${f}.tmp`;b.default.writeFileSync(g,JSON.stringify(d,null,2),"utf8"),b.default.renameSync(g,f)}function i(a){let{userId:b,courseId:c,levelId:i,courseTitle:j,hoursEarned:k,completionDate:l,learnerName:m}=a,n=g(e,f),o=`${b}:${c}:${i}`,p=(n.certificates||[]).find(a=>`${a.userId}:${a.courseId}:${a.levelId}`===o);if(p)return p;let q={certificateId:d.default.randomUUID(),userId:b,courseId:c,levelId:i,courseTitle:j,hoursEarned:k,completionDate:l,issuedAt:new Date().toISOString(),version:1,learnerName:m||"",revokedAt:null};return n.certificates.push(q),h(e,n),q}function j(a){return(g(e,f).certificates||[]).find(b=>b.certificateId===a)||null}function k(a,b=""){let c=g(e,f),d=(c.certificates||[]).findIndex(b=>b.certificateId===a);return d<0?null:(c.certificates[d].revokedAt||(c.certificates[d]={...c.certificates[d],revokedAt:new Date().toISOString(),revokedReason:b||void 0},h(e,c)),c.certificates[d])}a.s(["getCertificateById",()=>j,"issueCertificate",()=>i,"revokeCertificate",()=>k])},730464,a=>{"use strict";let b=a.r(353440);b.issueCertificate;let c=b.getCertificateById;b.revokeCertificate,a.s(["getCertificateById",0,c])},344490,a=>{"use strict";var b=a.i(508171),c=a.i(645667),d=a.i(730464);function e({found:a,certificate:d}){return(0,b.jsx)(c.default,{title:"Certificate verification",description:"Verify a certificate by its ID.",children:(0,b.jsxs)("main",{className:"page",children:[(0,b.jsxs)("header",{className:"page-header",children:[(0,b.jsx)("p",{className:"eyebrow",children:"Verification"}),(0,b.jsx)("h1",{children:"Certificate verification"}),(0,b.jsx)("p",{className:"lead",children:"This page verifies a certificate ID and shows a safe summary."}),(0,b.jsx)("p",{className:"muted text-sm",children:"No personal data is shown here."})]}),(0,b.jsx)("section",{className:"section",children:a?(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Status"}),": ",d?.status==="revoked"?"Revoked":"Valid",d?.status==="revoked"&&d?.revokedAt?` (revoked ${new Date(d.revokedAt).toLocaleDateString()})`:""]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Certificate ID"}),": ",d?.certificateId]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Course"}),": ",d?.courseTitle]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Level"}),": ",d?.levelId]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Hours"}),": ",d?.hoursEarned]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("strong",{children:"Completion date"}),": ",new Date(d?.completionDate||"").toLocaleDateString()]}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"This summary does not include personal identifiers. It confirms a record exists for this certificate ID."})]}):(0,b.jsx)("p",{className:"muted",children:"Certificate not found."})})]})})}let f=async a=>{let b=String(a.params?.certificateId||"").trim();if(!b)return{props:{found:!1}};let c=(0,d.getCertificateById)(b);return c?{props:{found:!0,certificate:{certificateId:c.certificateId,courseTitle:c.courseTitle,courseId:c.courseId,levelId:c.levelId,hoursEarned:c.hoursEarned,completionDate:c.completionDate,issuedAt:c.issuedAt,version:c.version,status:c.revokedAt?"revoked":"valid",revokedAt:c.revokedAt||null}}}:{props:{found:!1}}};a.s(["default",()=>e,"getServerSideProps",0,f])},569060,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(167684),h=a.i(276695),i=a.i(344490),j=a.i(509193),k=b([h]);[h]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/certificates/verify/[certificateId]",pathname:"/certificates/verify/[certificateId]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/certificates/verify/[certificateId]",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1),705779,a=>{a.v(b=>Promise.all(["server/chunks/ssr/src_components_donations_DonationModal_tsx_266cc690._.js"].map(b=>a.l(b))).then(()=>b(438398)))}];

//# debugId=ebea1504-023c-317e-c279-02cb9fb91d27
//# sourceMappingURL=%5Broot-of-the-server%5D__31d02bac._.js.map