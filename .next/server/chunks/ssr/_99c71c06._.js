;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1d652826-c8aa-5f62-3b28-680f04c41961")}catch(e){}}();
module.exports=[7821,a=>{"use strict";let b={cyber:{foundations:{"foundations-f0-what-security-is":["foundations-why-cyber-matters"],"foundations-f2-data-and-integrity":["foundations-data-and-bits"],"foundations-f3-networks-and-transport":["foundations-networks-and-packets"],"foundations-f4-cia-and-simple-attacks":["foundations-cia-and-simple-attacks"],"foundations-f8-foundations-capstone":["foundations-checkpoint-capstone"]},applied:{"applied-a1-threat-modelling-as-design":["applied-threat-modelling"],"applied-a2-identity-and-access-control":["applied-auth-sessions-access"],"applied-a6-logging-and-detection-basics":["applied-logging-and-risk"]},practice:{"practice-p2-exposure-reduction-zero-trust":["practice-p1-secure-architecture-zero-trust","advanced-secure-architecture"],"practice-p3-runtime-and-cloud-security":["practice-p0-crypto-in-practice","advanced-crypto-practice"],"practice-p4-supply-chain-security":["practice-p3-supply-chain-risk","advanced-supply-chain-risk"],"practice-p6-detection-and-incident-response":["practice-p2-detection-and-incident-response","advanced-detection-response"],"practice-p7-privacy-ethics-auditability":["practice-p5-governance-and-professional-practice","advanced-governance-career"],"practice-p8-system-ilities":["practice-p4-adversarial-tradeoffs","advanced-adversarial-tradeoffs"],"practice-p9-capstone-professional-practice":["practice-p6-capstone"]}}};function c(a,c,d){let e=String(d||"").trim();if(!e)return[];let f=b?.[a]?.[c]?.[e]??[];return Array.from(new Set([e,...f].map(a=>String(a).trim()).filter(Boolean)))}function d(){return{version:1,sections:[],activity:[]}}function e(a){}function f(a,b){let c={...a,sections:[...a.sections]},d=c.sections.findIndex(a=>a.trackId===b.trackId&&a.levelId===b.levelId&&a.sectionId===b.sectionId),e=new Date().toISOString(),f=d>=0?c.sections[d]:null,g=Math.max(0,(f?.minutes||0)+(b.minutesDelta||0)),h={trackId:b.trackId,levelId:b.levelId,sectionId:b.sectionId,completed:b.completed??f?.completed??!1,minutes:g,lastUpdated:e};return d>=0?c.sections[d]=h:c.sections.push(h),c}function g(a,b){let c=a.sections.filter(a=>a.trackId===b),d=c.reduce((a,b)=>a+b.minutes,0);return{totalMinutes:d,completedSections:c.filter(a=>a.completed).length,totalSections:c.length}}function h(a){return"cybersecurity"===a||"cyber"===a?"cyber":"software-architecture"===a||"architecture"===a?"software-architecture":"digitalisation"===a?"digitalisation":"data"===a?"data":"ai"}function i(a,b,d,e=[]){let f=e.filter(e=>{let f;return 0!==(f=c(b,d,e)).length&&f.some(c=>a.sections.some(a=>a.trackId===b&&a.levelId===d&&a.sectionId===c&&a.completed))}).length,g=e.length,h=0===g?0:Math.round(f/g*100);return{completedCount:f,totalCount:g,percent:h}}function j(a,b,c,d){let e=(d&&d.length>0?d:Object.keys(c||{})).reduce((d,e)=>{let f=c?.[e]||[],g=i(a,b,e,f);return d.completed+=g.completedCount,d.total+=g.totalCount,d},{completed:0,total:0}),f=0===e.total?0:Math.round(e.completed/e.total*100);return{completedCount:e.completed,totalCount:e.total,percent:f}}function k(a,b){let c={...b,id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,timestamp:new Date().toISOString()};return{...a,activity:[c,...a.activity].slice(0,200)}}a.s(["addActivityEntry",()=>k,"getCompletionForCourse",()=>j,"getCompletionForLevel",()=>i,"getInitialCPDState",()=>d,"getSectionAliases",()=>c,"getTotalsForTrack",()=>g,"resolveTrackId",()=>h,"saveCPDState",()=>e,"upsertSection",()=>f])},40510,a=>{"use strict";var b=a.i(127669),c=a.i(483074),d=a.i(7821);function e(){let[a,e]=(0,b.useState)(()=>({version:1,sections:[],activity:[]})),{data:f,status:g}=(0,c.useSession)(),h=!!f?.user?.id;(0,b.useEffect)(()=>{},[]),(0,b.useEffect)(()=>{if(!h)return;let b=!1;return(async()=>{try{let c=await fetch("/api/progress/cpd",{method:"GET"});if(!c.ok)return;let f=await c.json();if(b)return;f?.state?(e(f.state),(0,d.saveCPDState)(f.state)):await fetch("/api/progress/cpd",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({state:a})})}catch{}})(),()=>{b=!0}},[h,g]);let i=(0,b.useCallback)(a=>{f?.user?.id&&e(b=>{let c=(0,d.upsertSection)(b,a);return a.minutesDelta&&0!==a.minutesDelta&&(c=(0,d.addActivityEntry)(c,{trackId:a.trackId,levelId:a.levelId,sectionId:a.sectionId,minutesDelta:a.minutesDelta,note:a.note??""})),(0,d.saveCPDState)(c),fetch("/api/progress/cpd",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({state:c})}).catch(()=>{}),!0===a.completed&&fetch("/api/cpd/evidence",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({courseId:"cyber"===a.trackId?"cybersecurity":String(a.trackId||""),evidenceType:"progress",payload:{trackId:a.trackId,levelId:a.levelId,sectionId:a.sectionId,completed:!0}})}).catch(()=>{}),c})},[f?.user?.id]),j=(0,b.useCallback)(b=>(0,d.getTotalsForTrack)(a,b),[a]);return{state:a,updateSection:i,getTrackTotals:j,isAuthed:h}}a.s(["useCPD",()=>e])},868404,a=>{"use strict";var b=a.i(127669),c=a.i(483074);function d(){let{data:a}=(0,c.useSession)(),d=a?.user?.id||null,[e,f]=(0,b.useState)(!1),g=(0,b.useRef)([]),h=(0,b.useRef)(null);(0,b.useEffect)(()=>{if(!d){f(!1),g.current=[];return}fetch("/api/account/profile").then(a=>a.json()).then(a=>{f(!!a?.user?.consent?.cpdDataUseAcceptedAt)}).catch(()=>f(!1))},[d]);let i=async()=>{if(!d||!e){g.current=[];return}let a=g.current.splice(0,g.current.length);if(a.length)try{await fetch("/api/analytics/events",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({events:a})})}catch{}};return(0,b.useEffect)(()=>()=>{h.current&&clearTimeout(h.current)},[]),{consented:e,track:a=>{if(d&&e){if(g.current.push({...a,timestamp:new Date().toISOString()}),g.current.length>=20)return void i();h.current&&clearTimeout(h.current),h.current=setTimeout(()=>void i(),1200)}},flush:i}}a.s(["useAnalytics",()=>d])},427994,a=>{"use strict";let b=(0,a.i(564375).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["default",()=>b])},55594,a=>{"use strict";var b=a.i(427994);a.s(["ArrowRight",()=>b.default])},935384,a=>{"use strict";function b(a){process.env.CI||process.env.NEXT_PUBLIC_INTERNAL_ANALYTICS}a.s(["emitInternalToolEvent",()=>b])},557297,a=>{"use strict";var b=a.i(508171),c=a.i(901257);function d({className:a=""}){return(0,b.jsxs)("div",{className:`mt-3 rounded-2xl border border-slate-200 bg-white/90 p-3 text-sm text-slate-700 shadow-sm ${a}`,children:[(0,b.jsxs)("p",{className:"m-0",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:"Sign in to track this."})," ","Visitors can read the courses, but tracking requires an account."]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(c.default,{href:"/signin",className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900",children:"Sign in"})}),(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-600",children:"Privacy note: we store your email and your progress only. No analytics. No IP storage."})]})}a.s(["default",()=>d])},890038,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(901257),g=a.i(734791),h=a.i(55594),i=a.i(483074),j=a.i(40510),k=a.i(7821),l=a.i(171844),m=a.i(557297),n=a.i(868404),o=a.i(935384),p=b([g]);[g]=p.then?(await p)():p;class r extends e.default.Component{constructor(a){super(a),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?(0,d.jsx)("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50/80 p-4",children:(0,d.jsx)("p",{className:"m-0 text-sm text-slate-700",children:"This tool could not load. Please refresh the page."})}):this.props.children}}function q({id:a,title:b,description:c,usageHint:p,children:q,href:s,icon:t,courseId:u,levelId:v,sectionId:w,cpdMinutesOnUse:x}){let y=a||((a="")=>String(a).toLowerCase().replace(/&[#\w]+;?/g,"").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").slice(0,60))(b)||void 0,{updateSection:z,isAuthed:A}=(0,j.useCPD)(),{track:B}=(0,n.useAnalytics)(),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),G=u?(0,k.resolveTrackId)(u):null,H=(0,g.useReducedMotion)();(0,i.useSession)();let I=({allowPrompt:a=!0}={})=>{if(!A){a&&F(!0);return}y&&B({type:"tool_used",toolId:y,trackId:G||void 0,levelId:v,sectionId:w}),G&&v&&w&&(C||(z({trackId:G,levelId:v,sectionId:w,minutesDelta:x??5,note:y?`Used tool ${y}`:`Used tool ${b}`}),D(!0)))},J=!!s&&!q,K=t||h.ArrowRight,L=!q&&!s,M=(0,e.useRef)(!1);(0,e.useEffect)(()=>{M.current||y&&(M.current=!0,(0,o.emitInternalToolEvent)({type:"tool_viewed",toolId:y}))},[y]);let N=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"mb-4 min-w-0",children:(0,d.jsxs)("div",{className:"flex min-w-0 items-start justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex min-w-0 items-start gap-2",children:[J?(0,d.jsx)("span",{className:"mt-0.5 inline-flex h-7 w-7 items-center justify-center rounded-xl border border-slate-200 bg-white shadow-sm",children:(0,d.jsx)(K,{className:"h-4 w-4 text-slate-700","aria-hidden":"true"})}):null,(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("h3",{className:"mb-2 break-words text-lg font-semibold text-slate-900",children:b}),c?(0,d.jsx)("p",{className:"break-words text-sm leading-relaxed text-slate-600",children:c}):null,(0,d.jsx)("p",{className:"mt-1 text-xs font-semibold text-slate-700",children:p||"How to use: open the tool, follow the inputs, and run with limits shown."})]})]}),J?(0,d.jsxs)("span",{className:"inline-flex shrink-0 items-center gap-2 rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold text-white shadow-sm",children:["Open ",(0,d.jsx)("span",{"aria-hidden":"true",children:"->"})]}):null]})}),q?(0,d.jsx)("div",{className:"w-full overflow-x-auto rounded-xl border border-slate-100 bg-slate-50/80 p-4 transition-colors duration-200",children:(0,d.jsx)(r,{children:q})}):L?(0,d.jsx)("div",{className:"w-full rounded-xl border border-slate-100 bg-slate-50/80 p-4",children:(0,d.jsx)("p",{className:"m-0 text-sm text-slate-700",children:"Tool coming online. This card is intentionally visible so the section is not a blank gap."})}):null]});return(0,d.jsxs)(g.LazyMotion,{features:g.domAnimation,children:[(0,d.jsx)(g.m.section,{...(0,l.reducedMotionProps)(H,l.motionPresets.slideUp),"data-tool-id":y||"","data-tool-title":b||"",className:"notes-tool-card my-6 w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-slate-300 hover:shadow-md",children:s?(0,d.jsx)(f.default,{href:s,className:"block w-full min-w-0 rounded-2xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>I({allowPrompt:!1}),"aria-label":`Open ${b}`,children:N}):(0,d.jsx)("button",{type:"button",className:"w-full min-w-0 rounded-2xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white",onClick:()=>I({allowPrompt:!0}),"aria-label":`Use ${b}`,children:N})}),E&&!A?(0,d.jsx)(m.default,{}):null]})}a.s(["default",()=>q]),c()}catch(a){c(a)}},!1)];

//# debugId=1d652826-c8aa-5f62-3b28-680f04c41961
//# sourceMappingURL=_99c71c06._.js.map