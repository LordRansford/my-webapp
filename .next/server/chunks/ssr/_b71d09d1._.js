;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="03214398-cc52-6b8a-3476-407801494c00")}catch(e){}}();
module.exports=[724669,a=>{"use strict";let b=(0,a.i(883706).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],724669)},816201,a=>{"use strict";let b=(0,a.i(883706).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],816201)},596221,a=>{"use strict";let b=(0,a.i(883706).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],596221)},321161,a=>{"use strict";let b=(0,a.i(883706).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>b],321161)},523312,a=>{"use strict";let b=(0,a.i(883706).default)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>b],523312)},114548,a=>{"use strict";let b=(0,a.i(883706).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],114548)},110460,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(875003),e=a.i(50944),f=a.i(321161),g=a.i(523312),h=a.i(724669),i=a.i(114548),j=a.i(596221),k=a.i(292e3),l=a.i(816201),m=a.i(238246);function n(){let{data:a,status:n}=(0,d.useSession)(),o=(0,e.useRouter)(),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)({maxDailyCredits:null,maxMonthlyCredits:null,perRunMaxCredits:null,alertThresholds:{daily:[50,80,100],monthly:[50,80,100]},notifications:{email:!0,inApp:!0}});async function B(){try{q(!0),u(null);let a=await fetch("/api/account/settings/credits");if(!a.ok)throw Error("Failed to load settings");let b=await a.json();A(b.controls||z),y(b.planLimits)}catch(a){u(a instanceof Error?a.message:"Failed to load settings")}finally{q(!1)}}async function C(){s(!0),u(null),w(!1);try{let a=await fetch("/api/account/settings/credits",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({controls:z})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to save settings")}w(!0),setTimeout(()=>w(!1),3e3)}catch(a){u(a instanceof Error?a.message:"Failed to save settings")}finally{s(!1)}}return((0,c.useEffect)(()=>{"unauthenticated"===n?o.push("/api/auth/signin?callbackUrl=/account/settings/credits"):"authenticated"===n&&B()},[n,o]),"loading"===n||p)?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-sky-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Loading settings..."})]})}):"unauthenticated"===n?null:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50/30 to-slate-50",children:(0,b.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-8 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(f.Settings,{className:"w-8 h-8 text-sky-600"}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-slate-900",children:"Credit Settings"})]}),(0,b.jsx)("p",{className:"text-lg text-slate-600",children:"Configure spend limits, alerts, and notification preferences"})]}),v&&(0,b.jsx)("div",{className:"mb-6 rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.CheckCircle,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-emerald-800",children:"Settings saved successfully!"})]})}),t&&(0,b.jsx)("div",{className:"mb-6 rounded-lg border border-amber-200 bg-amber-50 p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(k.AlertCircle,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-amber-900",children:"Error"}),(0,b.jsx)("p",{className:"text-sm text-amber-800 mt-1",children:t})]})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(h.TrendingUp,{className:"w-5 h-5 text-sky-600"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Spend Limits"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Set custom limits to control your credit spending. Leave empty to use your plan defaults."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Daily Credit Limit"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"number",min:"0",value:z.maxDailyCredits??"",onChange:a=>A({...z,maxDailyCredits:""===a.target.value?null:parseInt(a.target.value,10)}),placeholder:x?.maxDailyCredits.toString()||"Plan default",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"credits/day"})]}),x&&(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Plan default: ",x.maxDailyCredits.toLocaleString()," credits/day"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Monthly Credit Limit"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"number",min:"0",value:z.maxMonthlyCredits??"",onChange:a=>A({...z,maxMonthlyCredits:""===a.target.value?null:parseInt(a.target.value,10)}),placeholder:x?.maxMonthlyCredits.toString()||"Plan default",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"credits/month"})]}),x&&(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Plan default: ",x.maxMonthlyCredits.toLocaleString()," credits/month"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Per-Run Maximum"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"number",min:"0",value:z.perRunMaxCredits??"",onChange:a=>A({...z,perRunMaxCredits:""===a.target.value?null:parseInt(a.target.value,10)}),placeholder:"No limit",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-slate-900 focus:border-sky-500 focus:ring-2 focus:ring-sky-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"credits/run"})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Maximum credits allowed per single tool run (optional)"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(g.Bell,{className:"w-5 h-5 text-sky-600"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Alert Thresholds"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Get notified when you reach certain percentages of your limits."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Daily Limit Alerts (%)"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[25,50,75,90,100].map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.alertThresholds.daily.includes(a),onChange:b=>{b.target.checked?A({...z,alertThresholds:{...z.alertThresholds,daily:[...z.alertThresholds.daily,a].sort((a,b)=>a-b)}}):A({...z,alertThresholds:{...z.alertThresholds,daily:z.alertThresholds.daily.filter(b=>b!==a)}})},className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,b.jsxs)("span",{className:"text-sm text-slate-700",children:[a,"%"]})]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Monthly Limit Alerts (%)"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[25,50,75,90,100].map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.alertThresholds.monthly.includes(a),onChange:b=>{b.target.checked?A({...z,alertThresholds:{...z.alertThresholds,monthly:[...z.alertThresholds.monthly,a].sort((a,b)=>a-b)}}):A({...z,alertThresholds:{...z.alertThresholds,monthly:z.alertThresholds.monthly.filter(b=>b!==a)}})},className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,b.jsxs)("span",{className:"text-sm text-slate-700",children:[a,"%"]})]},a))})]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(g.Bell,{className:"w-5 h-5 text-sky-600"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Notifications"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Choose how you want to receive alerts about your credit usage."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.notifications.email,onChange:a=>A({...z,notifications:{...z.notifications,email:a.target.checked}}),className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Email Notifications"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Receive alerts via email"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:z.notifications.inApp,onChange:a=>A({...z,notifications:{...z.notifications,inApp:a.target.checked}}),className:"rounded border-slate-300 text-sky-600 focus:ring-sky-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"In-App Notifications"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Show alerts in the application"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,b.jsx)(m.default,{href:"/account/credits",className:"text-sm text-slate-600 hover:text-slate-900 font-medium",children:"â† Back to Credits"}),(0,b.jsx)("button",{onClick:C,disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Save,{className:"w-4 h-4"}),"Save Settings"]})})]})]})]})})}a.s(["default",()=>n])}];

//# debugId=03214398-cc52-6b8a-3476-407801494c00
//# sourceMappingURL=_b71d09d1._.js.map