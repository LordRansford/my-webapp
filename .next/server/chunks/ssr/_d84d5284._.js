;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="44b2f652-e698-8b47-34b0-1f4abe84878c")}catch(e){}}();
module.exports=[996678,a=>{"use strict";let b,c,d,e,f,g;var h=a.i(508171),i=a.i(901257),j=a.i(645667),k=a.i(828414),l=a.i(241496),m=a.i(92660),n=a.i(254799),o=a.i(522734),p=a.i(814747);function q(a,b){try{let c=p.default.isAbsolute(a)?a:p.default.join(process.cwd(),a);if(!o.default.existsSync(c))return b;let d=o.default.readFileSync(c,"utf8");return JSON.parse(d)}catch{return b}}let r=process.env.AUTH_STORE_PATH||"data/auth.json",s={users:[],accounts:[],sessions:[],verificationTokens:[],cpdState:{}};function t(){return q(r,s)}function u(a){let b,c,d;b=p.default.isAbsolute(r)?r:p.default.join(process.cwd(),r),c=p.default.dirname(b),o.default.existsSync(c)||o.default.mkdirSync(c,{recursive:!0}),d=`${b}.tmp`,o.default.writeFileSync(d,JSON.stringify(a,null,2),"utf8"),o.default.renameSync(d,b)}function v(){return(0,n.randomUUID)()}function w(a){return t().users.find(b=>b.id===a)||null}function x(a){let b=t(),c=b.users.findIndex(b=>b.id===a.id),d=c>=0?b.users[c]:null,e={...a,entitlements:Array.isArray(a.entitlements)&&a.entitlements.length?a.entitlements:["free"],entitlementSource:a.entitlementSource||"default",createdAt:a.createdAt||new Date().toISOString(),lastLoginAt:void 0!==a.lastLoginAt?a.lastLoginAt:d?.lastLoginAt??null,tier:a.tier||d?.tier||"registered",consent:{termsAcceptedAt:a.consent?.termsAcceptedAt!==void 0?a.consent?.termsAcceptedAt:d?.consent?.termsAcceptedAt??null,privacyAcceptedAt:a.consent?.privacyAcceptedAt!==void 0?a.consent?.privacyAcceptedAt:d?.consent?.privacyAcceptedAt??null,cpdDataUseAcceptedAt:a.consent?.cpdDataUseAcceptedAt!==void 0?a.consent?.cpdDataUseAcceptedAt:d?.consent?.cpdDataUseAcceptedAt??null}};return c>=0?b.users[c]=e:b.users.push(e),u(b),e}let y=process.env.BILLING_STORE_PATH||"data/billing-store.json",z={userPlans:[],toolRuns:[],templateDownloads:[],donations:[]};var A=a.i(448988);async function B(a){if((0,A.getTestingOverrideDecision)().allowed||A.TESTING_MODE_ENABLED)return"pro";let b=q(y,z).userPlans.find(b=>b.userId===a)||null;if(b?.plan)return b.plan;let c=w(a),d=Array.isArray(c?.entitlements)?c.entitlements:["free"];return d.includes("commercial")?"pro":d.includes("supporter")?"supporter":"free"}var C=a.i(29173);process.env.DATABASE_URL||(process.env.DATABASE_URL="file:./data/dev.db");let D=global.__prisma||new C.PrismaClient({log:["error"]});async function E(a){let b=a.email.trim().toLowerCase();return b?D.userIdentity.upsert({where:{id:a.userId},create:{id:a.userId,email:b,provider:a.provider,providerAccountId:a.providerAccountId,lastLoginAt:new Date},update:{provider:a.provider,providerAccountId:a.providerAccountId,lastLoginAt:new Date}}):null}let F=["OWNER","ADMIN","SUPPORT","READ_ONLY"],G={adapter:(b=()=>new Date().toISOString(),{async createUser(a){let c=a.id||v();return x({id:c,email:a.email,emailVerified:a.emailVerified?new Date(a.emailVerified).toISOString():null,name:a.name||null,image:a.image||null,provider:a.provider||null,entitlements:["free"],entitlementSource:"default",createdAt:b(),lastLoginAt:b(),tier:"registered",consent:{termsAcceptedAt:null,privacyAcceptedAt:null,cpdDataUseAcceptedAt:null}}),{...a,id:c}},async getUser(a){let b=w(a);return b?{id:b.id,email:b.email,emailVerified:b.emailVerified?new Date(b.emailVerified):null,name:b.name,image:b.image}:null},async getUserByEmail(a){let b=t().users.find(b=>b.email.toLowerCase()===a.toLowerCase())||null;return b?{id:b.id,email:b.email,emailVerified:b.emailVerified?new Date(b.emailVerified):null,name:b.name,image:b.image}:null},async getUserByAccount({provider:a,providerAccountId:b}){let c,d,e=(d=(c=t()).accounts.find(c=>c.provider===a&&c.providerAccountId===b))&&c.users.find(a=>a.id===d.userId)||null;return e?{id:e.id,email:e.email,emailVerified:e.emailVerified?new Date(e.emailVerified):null,name:e.name,image:e.image}:null},async updateUser(a){let b=w(a.id);if(!b)return a;let c=x({id:a.id,email:a.email??b.email,emailVerified:void 0!==a.emailVerified?a.emailVerified?new Date(a.emailVerified).toISOString():null:b.emailVerified,name:void 0!==a.name?a.name:b.name,image:void 0!==a.image?a.image:b.image,provider:b.provider,entitlements:Array.isArray(b.entitlements)&&b.entitlements.length?b.entitlements:["free"],entitlementSource:b.entitlementSource||"default",createdAt:b.createdAt,lastLoginAt:b.lastLoginAt??null,tier:b.tier||"registered",consent:b.consent||{termsAcceptedAt:null,privacyAcceptedAt:null,cpdDataUseAcceptedAt:null}});return{id:c.id,email:c.email,emailVerified:c.emailVerified?new Date(c.emailVerified):null,name:c.name,image:c.image}},async deleteUser(a){let b;(b=t()).users=b.users.filter(b=>b.id!==a),b.accounts=b.accounts.filter(b=>b.userId!==a),b.sessions=b.sessions.filter(b=>b.userId!==a),delete b.cpdState[a],u(b)},async linkAccount(a){var b;let c,d,e=(b={userId:a.userId,type:a.type,provider:a.provider,providerAccountId:a.providerAccountId,refresh_token:a.refresh_token||null,access_token:a.access_token||null,expires_at:a.expires_at||null,token_type:a.token_type||null,scope:a.scope||null,id_token:a.id_token||null,session_state:a.session_state||null},c=t(),d={id:v(),...b},c.accounts=c.accounts.filter(a=>a.provider!==d.provider||a.providerAccountId!==d.providerAccountId),c.accounts.push(d),u(c),d);return{...a,id:e.id}},async unlinkAccount({provider:a,providerAccountId:b}){let c;(c=t()).accounts=c.accounts.filter(c=>c.provider!==a||c.providerAccountId!==b),u(c)},async createSession(a){var b;let c,d,e=(b={sessionToken:a.sessionToken,userId:a.userId,expires:a.expires.toISOString()},c=t(),d={id:v(),...b},c.sessions.push(d),u(c),d);return{sessionToken:e.sessionToken,userId:e.userId,expires:new Date(e.expires)}},async getSessionAndUser(a){let b=function(a){let b=t(),c=b.sessions.find(b=>b.sessionToken===a);if(!c)return null;let d=b.users.find(a=>a.id===c.userId);return d?{session:c,user:d}:null}(a);if(!b)return null;let{session:c,user:d}=b;return{session:{sessionToken:c.sessionToken,userId:c.userId,expires:new Date(c.expires)},user:{id:d.id,email:d.email,emailVerified:d.emailVerified?new Date(d.emailVerified):null,name:d.name,image:d.image}}},async updateSession(a){var b,c;let d,e,f=(b=a.sessionToken,c={expires:a.expires?a.expires.toISOString():void 0},(e=(d=t()).sessions.findIndex(a=>a.sessionToken===b))<0?null:(d.sessions[e]={...d.sessions[e],...c},u(d),d.sessions[e]));return f?{sessionToken:f.sessionToken,userId:f.userId,expires:new Date(f.expires)}:null},async deleteSession(a){let b;(b=t()).sessions=b.sessions.filter(b=>b.sessionToken!==a),u(b)},createVerificationToken:async a=>{var b;let c;return b={identifier:a.identifier,token:a.token,expires:a.expires.toISOString()},(c=t()).verificationTokens.push(b),u(c),b},async useVerificationToken({identifier:a,token:b}){let c=function(a,b){let c=t(),d=c.verificationTokens.findIndex(c=>c.identifier===a&&c.token===b);if(d<0)return null;let e=c.verificationTokens[d];return c.verificationTokens.splice(d,1),u(c),e}(a,b);return c?{identifier:c.identifier,token:c.token,expires:new Date(c.expires)}:null}}),session:{strategy:"jwt",maxAge:1209600},secret:process.env.NEXTAUTH_SECRET,providers:(c=[],d=process.env.GOOGLE_CLIENT_ID||"",e=process.env.GOOGLE_CLIENT_SECRET||"",d&&e&&c.push((0,l.default)({clientId:d,clientSecret:e})),f=process.env.EMAIL_SERVER||"",g=process.env.EMAIL_FROM||"",f&&g&&c.push((0,m.default)({server:f,from:g,maxAge:900})),c),pages:{signIn:"/signin",verifyRequest:"/signin?check=1",error:"/signin?error=auth"},events:{async signIn({user:a,account:b}){try{let c=a?.id?w(a.id):null,d=a?.id?await B(a.id):"free";c&&a?.id&&x({...c,tier:"pro"===d?"professional":"supporter"===d?"supporter":"registered",lastLoginAt:new Date().toISOString()}),a?.id&&a?.email&&b?.provider&&b?.providerAccountId&&await E({userId:a.id,email:a.email,provider:b.provider,providerAccountId:String(b.providerAccountId)})}catch{}}},callbacks:{async jwt({token:a,user:b}){try{let c=b?.id||a?.sub;if(c){let b=await D.userIdentity.findUnique({where:{id:String(c)},select:{adminRole:!0}}),d=b?.adminRole;a.adminRole="string"==typeof d&&F.includes(d)?d:null}}catch{a.adminRole=null}return a},session:async({session:a,token:b,user:c})=>(a.user&&(a.user.id=c?.id||String(b?.sub||""),a.user.adminRole=b?.adminRole||null),a)},logger:{error(a){console.error("auth:error",a)},warn(a){console.warn("auth:warn",a)},debug(){}}};function H(a,b){return Math.floor(Math.abs(a.getTime()-b.getTime())/864e5)}function I(a){let b=a.startedAtIso?new Date(a.startedAtIso):null,c=b?H(new Date,b):null;return(0,h.jsx)(j.default,{title:"Cybersecurity CPD prep pack",description:"Extra practice flows for CPD candidates",children:(0,h.jsxs)("main",{className:"mx-auto max-w-5xl px-4 py-10 space-y-6",children:[(0,h.jsxs)("header",{className:"rounded-3xl border border-slate-200 bg-white/95 p-6 shadow-sm space-y-2",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Cybersecurity"}),(0,h.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"CPD prep pack"}),(0,h.jsx)("p",{className:"text-slate-700",children:"This is designed to make your assessment preparation faster and more reliable without exposing live exam questions. Access is for one year from purchase, subject to availability."}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,h.jsx)(i.default,{href:"/cybersecurity",className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-50",children:"Back to course"}),(0,h.jsx)(i.default,{href:"/cybersecurity/assessment/foundations",className:"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Take an assessment"}),(0,h.jsx)(i.default,{href:"/pricing",className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-50",children:"Pricing"})]})]}),"locked"===a.access?(0,h.jsxs)("section",{className:"rounded-3xl border border-amber-200 bg-amber-50 p-6 shadow-sm space-y-2",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-amber-900",children:"Locked"}),(0,h.jsx)("p",{className:"text-sm text-amber-900",children:"This pack unlocks after you purchase CPD assessment access. This keeps learning free for everyone."}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,h.jsx)(i.default,{href:"/pricing",className:"rounded-full bg-amber-900 px-4 py-2 text-sm font-semibold text-white hover:bg-amber-800",children:"View pricing"}),(0,h.jsx)(i.default,{href:"/cybersecurity/assessment/foundations",className:"rounded-full border border-amber-300 bg-white px-4 py-2 text-sm font-semibold text-amber-900 hover:bg-amber-100",children:"Start CPD assessment"})]})]}):null,"expired"===a.access?(0,h.jsxs)("section",{className:"rounded-3xl border border-rose-200 bg-rose-50 p-6 shadow-sm space-y-2",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-rose-900",children:"Access expired"}),(0,h.jsx)("p",{className:"text-sm text-rose-900",children:"Your CPD prep access is limited to one year from first activation. If you need an extension, purchase a new assessment window."}),null!==c?(0,h.jsxs)("p",{className:"text-xs font-semibold text-rose-900",children:["Days since activation: ",c]}):null,(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,h.jsx)(i.default,{href:"/pricing",className:"rounded-full bg-rose-900 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-800",children:"Renew access"})})]}):null,"active"===a.access?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-3",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Support"}),(0,h.jsx)("p",{className:"text-sm text-slate-700",children:"Start with Professor Ransford for fast answers. If you are still stuck, email ransford.amponsah@ransfordsnotes.com."}),(0,h.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-800",children:"Include your CPD reference code, the course level, and the page link. I will reply as soon as I can."}),a.referenceCode?(0,h.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,h.jsxs)("div",{className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:["Reference ",a.referenceCode]}),(0,h.jsx)("button",{type:"button",className:"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",onClick:async()=>{try{await navigator.clipboard.writeText(String(a.referenceCode))}catch{}},children:"Copy reference"})]}):null]}),(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Readiness map"}),(0,h.jsx)("p",{className:"text-sm text-slate-700",children:"Use this to focus revision. If you cannot explain an item in one minute, click into the linked notes and repeat with a tool."}),(0,h.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:[{title:"Foundations",href:"/cybersecurity/beginner",items:["CIA in plain language","Passwords and MFA habits","Threats and attack surface"]},{title:"Applied",href:"/cybersecurity/intermediate",items:["Threat modelling as design","Auth and sessions","Logging signals and triage"]},{title:"Practice",href:"/cybersecurity/advanced",items:["Zero trust trade offs","Supply chain risk","Detection and response judgement"]},{title:"Exam craft",href:"/pricing",items:["Time boxing per question","Eliminate options, then confirm","Write why the wrong option is wrong"]}].map(a=>(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,h.jsx)("div",{className:"text-base font-semibold text-slate-900",children:a.title}),(0,h.jsx)(i.default,{href:a.href,className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Open"})]}),(0,h.jsx)("ol",{className:"mt-2 ml-5 list-decimal space-y-1 text-sm text-slate-700",children:a.items.map(a=>(0,h.jsx)("li",{children:a},a))})]},a.title))})]}),(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Practice workflows"}),(0,h.jsx)("p",{className:"text-sm text-slate-700",children:"These are payworthy because they turn revision into repeatable habits. They do not mirror the live bank."}),(0,h.jsx)("div",{className:"grid gap-3 md:grid-cols-3",children:[{title:"Threat model sprint",href:"/templates/cybersecurity/threat-model",note:"Run one feature through assets, threats, controls, verification."},{title:"Incident review drill",href:"/tools/cyber/incident-post-mortem-builder",note:"Practise decision making and evidence quality."},{title:"Risk register discipline",href:"/tools/cyber/risk-register-builder",note:"Train prioritisation and mitigation clarity."}].map(a=>(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,h.jsx)("div",{className:"text-base font-semibold text-slate-900",children:a.title}),(0,h.jsx)("div",{className:"mt-2 text-sm text-slate-700",children:a.note}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)(i.default,{href:a.href,className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Open"})})]},a.title))})]}),(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"How to use Professor Ransford for CPD"}),(0,h.jsx)("p",{className:"text-sm text-slate-700",children:"Use Professor Ransford to explain concepts and point you to the right sections. During exams it is paused."}),(0,h.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:"Ask for revision plans, tool usage guidance, and plain language explanations. Do not paste questions."})]})]}):null]})})}async function J(a){let b=await (0,k.getServerSession)(a.req,a.res,G).catch(()=>null),c=b?.user?.id||null;if(!c)return{redirect:{destination:`/signin?callbackUrl=${encodeURIComponent("/cybersecurity/cpd-prep")}`,permanent:!1}};let d=await D.certificateEntitlement.findFirst({where:{userId:c,courseId:"cybersecurity"},orderBy:{createdAt:"asc"},select:{id:!0,createdAt:!0}}).catch(()=>null);if(!d?.createdAt)return{props:{access:"locked"}};let e=d.createdAt;return{props:{access:H(new Date,e)>365?"expired":"active",startedAtIso:e.toISOString(),referenceCode:String(d.id||"")}}}a.s(["default",()=>I,"getServerSideProps",()=>J],996678)},75187,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(167684),h=a.i(276695),i=a.i(996678),j=a.i(509193),k=b([h]);[h]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/cybersecurity/cpd-prep",pathname:"/cybersecurity/cpd-prep",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/cybersecurity/cpd-prep",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# debugId=44b2f652-e698-8b47-34b0-1f4abe84878c
//# sourceMappingURL=_d84d5284._.js.map