{
  "version": 3,
  "sources": [],
  "debugId": "e6ddaf24-c690-a090-a61d-87bf16072165",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/architecture/CapacityScalingPlanner.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nexport function CapacityScalingPlanner() {\n  const [requestsPerSecond, setRequestsPerSecond] = useState(200);\n  const [capacityPerInstance, setCapacityPerInstance] = useState(100);\n  const [instances, setInstances] = useState(3);\n  const [targetUtilisation, setTargetUtilisation] = useState(70);\n\n  const stats = useMemo(() => {\n    const totalCapacity = capacityPerInstance * instances;\n    const utilisation = totalCapacity === 0 ? 0 : (requestsPerSecond / totalCapacity) * 100;\n    const meetsTarget = utilisation <= targetUtilisation;\n    const suggestedInstances =\n      capacityPerInstance === 0\n        ? 0\n        : Math.ceil((requestsPerSecond / capacityPerInstance) * (100 / targetUtilisation));\n\n    return {\n      totalCapacity,\n      utilisation,\n      meetsTarget,\n      suggestedInstances,\n    };\n  }, [requestsPerSecond, capacityPerInstance, instances, targetUtilisation]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Use this planner to reason about how many instances you need for a given level of traffic and how much headroom you want.\n        It is intentionally simple so you can adjust it quickly during a conversation.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <div className=\"space-y-4\">\n            <label className=\"block text-xs text-slate-600\">\n              Incoming requests per second\n              <input\n                type=\"range\"\n                min={50}\n                max={2000}\n                step={50}\n                value={requestsPerSecond}\n                onChange={(e) => setRequestsPerSecond(Number(e.target.value) || 50)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">{requestsPerSecond} requests per second.</span>\n            </label>\n\n            <label className=\"block text-xs text-slate-600\">\n              Capacity per instance (requests per second)\n              <input\n                type=\"range\"\n                min={50}\n                max={500}\n                step={10}\n                value={capacityPerInstance}\n                onChange={(e) => setCapacityPerInstance(Number(e.target.value) || 50)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                Each instance can handle about {capacityPerInstance} requests per second.\n              </span>\n            </label>\n\n            <label className=\"block text-xs text-slate-600\">\n              Number of instances\n              <input\n                type=\"range\"\n                min={1}\n                max={20}\n                value={instances}\n                onChange={(e) => setInstances(Number(e.target.value) || 1)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                {instances} instance{instances === 1 ? \"\" : \"s\"} provisioned.\n              </span>\n            </label>\n\n            <label className=\"block text-xs text-slate-600\">\n              Target utilisation\n              <input\n                type=\"range\"\n                min={40}\n                max={90}\n                step={5}\n                value={targetUtilisation}\n                onChange={(e) => setTargetUtilisation(Number(e.target.value) || 40)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">Aim to stay under {targetUtilisation}% utilisation.</span>\n            </label>\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Capacity view</p>\n            <p className=\"text-xs text-slate-700\">\n              Total capacity: <span className=\"font-semibold\">{stats.totalCapacity} requests per second</span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Current utilisation:{\" \"}\n              <span\n                className={\n                  \"font-semibold \" +\n                  (stats.utilisation > 100\n                    ? \"text-rose-600\"\n                    : stats.utilisation > targetUtilisation\n                    ? \"text-amber-700\"\n                    : \"text-emerald-700\")\n                }\n              >\n                {stats.utilisation.toFixed(1)}%\n              </span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Meets target: <span className=\"font-semibold\">{stats.meetsTarget ? \"Yes, with headroom\" : \"No, consider scaling out\"}</span>\n            </p>\n            <p className=\"mt-1 text-xs text-slate-700\">\n              Suggested instance count to reach the target utilisation: <span className=\"font-semibold\">{stats.suggestedInstances}</span>\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">How to use this</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              <li>Set peak traffic levels rather than daily averages.</li>\n              <li>Choose a target utilisation that leaves space for spikes and deployments.</li>\n              <li>Use the suggested instance count as a starting point for auto scaling configuration.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}