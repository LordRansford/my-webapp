{
  "version": 3,
  "sources": [],
  "debugId": "0798639b-3b14-6973-19c9-1bdfef9c3dd7",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/architecture/ObservabilityCoveragePlanner.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nexport function ObservabilityCoveragePlanner() {\n  const [services, setServices] = useState([\n    { id: 1, name: \"Gateway\", logs: true, metrics: true, traces: true, alerts: true },\n    { id: 2, name: \"Billing API\", logs: true, metrics: true, traces: false, alerts: true },\n    { id: 3, name: \"Reporting\", logs: true, metrics: false, traces: false, alerts: false },\n  ]);\n\n  function updateService(id, patch) {\n    setServices((current) => current.map((s) => (s.id === id ? { ...s, ...patch } : s)));\n  }\n\n  function addService() {\n    const nextId = services.length ? Math.max(...services.map((s) => s.id)) + 1 : 1;\n    setServices((current) => [...current, { id: nextId, name: \"\", logs: true, metrics: false, traces: false, alerts: false }]);\n  }\n\n  function removeService(id) {\n    setServices((current) => current.filter((s) => s.id !== id));\n  }\n\n  const stats = useMemo(() => {\n    if (!services.length) {\n      return { coverage: { logs: 0, metrics: 0, traces: 0, alerts: 0 } };\n    }\n    const count = services.length;\n    const logs = services.filter((s) => s.logs).length / count;\n    const metrics = services.filter((s) => s.metrics).length / count;\n    const traces = services.filter((s) => s.traces).length / count;\n    const alerts = services.filter((s) => s.alerts).length / count;\n    return { coverage: { logs, metrics, traces, alerts } };\n  }, [services]);\n\n  function coverageClass(value) {\n    if (value >= 0.8) return \"text-emerald-700\";\n    if (value >= 0.5) return \"text-amber-700\";\n    return \"text-rose-700\";\n  }\n\n  function coverageLabel(value) {\n    return (value * 100).toFixed(0) + \" percent of services\";\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Observability is a system property. Use this planner to see which signals you have and where you are blind in production.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <div className=\"mb-2 flex items-center justify-between\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-slate-500\">Services and signals</p>\n            <button\n              type=\"button\"\n              onClick={addService}\n              className=\"rounded-full bg-slate-900 px-3 py-1 text-xs font-medium text-white hover:bg-slate-800\"\n            >\n              Add service\n            </button>\n          </div>\n\n          <div className=\"flex flex-col gap-3\">\n            {services.map((service) => (\n              <div key={service.id} className=\"rounded-2xl border border-slate-100 bg-slate-50 p-3 shadow-sm\">\n                <div className=\"mb-2 flex items-center justify-between gap-2\">\n                  <input\n                    className=\"w-full rounded-xl border border-slate-200 px-2 py-1 text-sm font-semibold\"\n                    placeholder=\"For example Payment processor\"\n                    value={service.name}\n                    onChange={(e) => updateService(service.id, { name: e.target.value })}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeService(service.id)}\n                    className=\"rounded-full px-2 py-1 text-xs text-slate-400 hover:bg-slate-100 hover:text-slate-700\"\n                  >\n                    Remove\n                  </button>\n                </div>\n\n                <div className=\"flex flex-wrap gap-3 text-xs text-slate-700\">\n                  <SignalToggle label=\"Logs\" value={service.logs} onChange={(value) => updateService(service.id, { logs: value })} />\n                  <SignalToggle\n                    label=\"Metrics\"\n                    value={service.metrics}\n                    onChange={(value) => updateService(service.id, { metrics: value })}\n                  />\n                  <SignalToggle\n                    label=\"Traces\"\n                    value={service.traces}\n                    onChange={(value) => updateService(service.id, { traces: value })}\n                  />\n                  <SignalToggle\n                    label=\"Alerts\"\n                    value={service.alerts}\n                    onChange={(value) => updateService(service.id, { alerts: value })}\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Coverage summary</p>\n            <p className={\"text-xs \" + coverageClass(stats.coverage.logs)}>\n              Logs: <span className=\"font-semibold\">{coverageLabel(stats.coverage.logs)}</span>\n            </p>\n            <p className={\"text-xs \" + coverageClass(stats.coverage.metrics)}>\n              Metrics: <span className=\"font-semibold\">{coverageLabel(stats.coverage.metrics)}</span>\n            </p>\n            <p className={\"text-xs \" + coverageClass(stats.coverage.traces)}>\n              Traces: <span className=\"font-semibold\">{coverageLabel(stats.coverage.traces)}</span>\n            </p>\n            <p className={\"text-xs \" + coverageClass(stats.coverage.alerts)}>\n              Alerts: <span className=\"font-semibold\">{coverageLabel(stats.coverage.alerts)}</span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-600\">\n              Aim for good coverage on logs and metrics, targeted traces on complex flows, and alerts only for symptoms a human should\n              act on.\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Prompts</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              <li>Could you debug an incident in each service with the current signals.</li>\n              <li>Are alerts tied to clear run books rather than raw metrics.</li>\n              <li>Do you have traces across the full user journey where latency really matters.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SignalToggle({ label, value, onChange }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onChange(!value)}\n      className={\n        \"inline-flex items-center gap-1 rounded-full border px-3 py-1 \" +\n        (value ? \"border-emerald-300 bg-emerald-50 text-emerald-800\" : \"border-slate-200 bg-white text-slate-600\")\n      }\n    >\n      <span className={\"h-1.5 w-1.5 rounded-full \" + (value ? \"bg-emerald-500\" : \"bg-slate-300\")} />\n      {label}\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}