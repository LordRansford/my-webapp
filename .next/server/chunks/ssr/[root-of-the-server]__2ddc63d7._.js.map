{
  "version": 3,
  "sources": [],
  "debugId": "3eaefcf3-d3f4-c356-7c34-cc5712d9b4ed",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/cpd.ts","../../../../src/hooks/useCPD.ts","../../../../src/lib/aiSections.js","../../../../src/lib/softwareArchitectureSections.js","../../../../src/lib/dataSections.js","../../../../src/lib/digitalisationSections.js","../../../../src/lib/cyberSections.js","../../../../src/lib/networkSections.js","../../../../src/pages/my-cpd/evidence.tsx","../../../../src/lib/cpdEvidence.ts","../../../../src/lib/cpd/calculations.core.js","../../../../src/lib/cpd/calculations.ts","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["export type CPDTrackId = \"cyber\" | \"ai\" | \"software-architecture\" | \"digitalisation\" | \"data\" | \"network-models\";\n\nexport interface CPDSectionKey {\n  trackId: CPDTrackId;\n  levelId: string;\n  sectionId: string;\n}\n\nexport interface CPDSectionState extends CPDSectionKey {\n  completed: boolean;\n  minutes: number;\n  lastUpdated: string;\n}\n\nexport interface CPDActivity {\n  id: string;\n  trackId: CPDTrackId;\n  levelId: string;\n  sectionId: string;\n  minutesDelta: number;\n  timestamp: string;\n  note?: string;\n}\n\nexport interface CPDState {\n  version: number;\n  sections: CPDSectionState[];\n  activity: CPDActivity[];\n}\n\nconst CPD_STORAGE_KEY = \"ransfords-notes-cpd-v1\";\nconst CPD_VERSION = 1;\n\nconst emptyState = (): CPDState => ({\n  version: CPD_VERSION,\n  sections: [],\n  activity: [],\n});\n\nconst isBrowser = typeof window !== \"undefined\";\n\n/**\n * Legacy section IDs exist in older content. We keep them as aliases so:\n * - existing learner progress still counts after an ID migration\n * - content can migrate to canonical IDs without breaking progress bars\n *\n * IMPORTANT:\n * - Canonical IDs should be stable and live in docs/courses/CYBERSECURITY_MASTER_SYLLABUS.md\n * - Aliases should only be added for real historical IDs used in production content.\n */\nconst LEGACY_SECTION_ALIASES: Partial<\n  Record<CPDTrackId, Partial<Record<string, Partial<Record<string, string[]>>>>>\n> = {\n  cyber: {\n    foundations: {\n      // Old \"Foundations overview\" toggle + quiz lived under this ID.\n      // Canonical syllabus splits this into a dedicated Module F0.\n      \"foundations-f0-what-security-is\": [\"foundations-why-cyber-matters\"],\n\n      // Old module IDs from the original Foundations page.\n      \"foundations-f2-data-and-integrity\": [\"foundations-data-and-bits\"],\n      \"foundations-f3-networks-and-transport\": [\"foundations-networks-and-packets\"],\n      \"foundations-f4-cia-and-simple-attacks\": [\"foundations-cia-and-simple-attacks\"],\n\n      // Old manifest had a placeholder capstone ID, keep it as an alias.\n      \"foundations-f8-foundations-capstone\": [\"foundations-checkpoint-capstone\"],\n    },\n    applied: {\n      \"applied-a1-threat-modelling-as-design\": [\"applied-threat-modelling\"],\n      \"applied-a2-identity-and-access-control\": [\"applied-auth-sessions-access\"],\n      \"applied-a6-logging-and-detection-basics\": [\"applied-logging-and-risk\"],\n    },\n    practice: {\n      \"practice-p2-exposure-reduction-zero-trust\": [\"practice-p1-secure-architecture-zero-trust\", \"advanced-secure-architecture\"],\n      \"practice-p3-runtime-and-cloud-security\": [\"practice-p0-crypto-in-practice\", \"advanced-crypto-practice\"],\n      \"practice-p4-supply-chain-security\": [\"practice-p3-supply-chain-risk\", \"advanced-supply-chain-risk\"],\n      \"practice-p6-detection-and-incident-response\": [\"practice-p2-detection-and-incident-response\", \"advanced-detection-response\"],\n      \"practice-p7-privacy-ethics-auditability\": [\"practice-p5-governance-and-professional-practice\", \"advanced-governance-career\"],\n      \"practice-p8-system-ilities\": [\"practice-p4-adversarial-tradeoffs\", \"advanced-adversarial-tradeoffs\"],\n      \"practice-p9-capstone-professional-practice\": [\"practice-p6-capstone\"],\n    },\n  },\n};\n\nexport function getSectionAliases(trackId: CPDTrackId, levelId: string, sectionId: string): string[] {\n  const canonical = String(sectionId || \"\").trim();\n  if (!canonical) return [];\n  const aliases = LEGACY_SECTION_ALIASES?.[trackId]?.[levelId]?.[canonical] ?? [];\n  const all = [canonical, ...aliases].map((s) => String(s).trim()).filter(Boolean);\n  return Array.from(new Set(all));\n}\n\nexport function isSectionCompleted(state: CPDState, trackId: CPDTrackId, levelId: string, sectionId: string): boolean {\n  const ids = getSectionAliases(trackId, levelId, sectionId);\n  if (ids.length === 0) return false;\n  return ids.some((id) =>\n    state.sections.some(\n      (section) =>\n        section.trackId === trackId &&\n        section.levelId === levelId &&\n        section.sectionId === id &&\n        section.completed\n    )\n  );\n}\n\nconst normaliseSection = (input: any): CPDSectionState | null => {\n  if (!input || typeof input !== \"object\") return null;\n  const { trackId, levelId, sectionId, completed, minutes, lastUpdated } = input;\n  if (!trackId || !levelId || !sectionId) return null;\n  return {\n    trackId,\n    levelId,\n    sectionId,\n    completed: Boolean(completed),\n    minutes: Math.max(0, Number(minutes) || 0),\n    lastUpdated: typeof lastUpdated === \"string\" && lastUpdated.length > 0 ? lastUpdated : new Date().toISOString(),\n  };\n};\n\nconst normaliseActivity = (input: any): CPDActivity | null => {\n  if (!input || typeof input !== \"object\") return null;\n  const { id, trackId, levelId, sectionId, minutesDelta, timestamp, note } = input;\n  if (!id || !trackId || !levelId || !sectionId || !timestamp) return null;\n  return {\n    id: String(id),\n    trackId,\n    levelId,\n    sectionId,\n    minutesDelta: Number(minutesDelta) || 0,\n    timestamp: String(timestamp),\n    note: typeof note === \"string\" ? note : undefined,\n  };\n};\n\nfunction isNetworkModelsSectionId(sectionId: string) {\n  const id = String(sectionId || \"\").trim().toLowerCase();\n  // Network Models content is consistently namespaced.\n  return id.startsWith(\"net-\") || id.startsWith(\"network-models-\");\n}\n\nfunction migrateLegacyNetworkModels(state: CPDState): CPDState {\n  // Historical bug: network-models pages previously resolved to trackId \"ai\".\n  // We can safely migrate because network models section IDs are namespaced.\n  const next: CPDState = { ...state, sections: [...state.sections], activity: [...state.activity] };\n\n  let changed = false;\n  for (const s of next.sections) {\n    if (s.trackId === \"ai\" && isNetworkModelsSectionId(s.sectionId)) {\n      (s as any).trackId = \"network-models\";\n      changed = true;\n    }\n  }\n  for (const a of next.activity) {\n    if (a.trackId === \"ai\" && isNetworkModelsSectionId(a.sectionId)) {\n      (a as any).trackId = \"network-models\";\n      changed = true;\n    }\n  }\n\n  return changed ? next : state;\n}\n\nexport function getInitialCPDState(): CPDState {\n  if (!isBrowser) return emptyState();\n  try {\n    const raw = window.localStorage.getItem(CPD_STORAGE_KEY);\n    if (!raw) return emptyState();\n    const parsed = JSON.parse(raw);\n    if (!parsed || typeof parsed !== \"object\") return emptyState();\n    const version = Number(parsed.version) || CPD_VERSION;\n    const sections = Array.isArray(parsed.sections)\n      ? parsed.sections.map(normaliseSection).filter(Boolean)\n      : [];\n    const activity = Array.isArray(parsed.activity)\n      ? parsed.activity.map(normaliseActivity).filter(Boolean)\n      : [];\n    return migrateLegacyNetworkModels({ version, sections, activity });\n  } catch {\n    return emptyState();\n  }\n}\n\nexport function saveCPDState(state: CPDState): void {\n  if (!isBrowser) return;\n  try {\n    window.localStorage.setItem(CPD_STORAGE_KEY, JSON.stringify(state));\n  } catch {\n    // ignore storage errors\n  }\n}\n\nexport function upsertSection(\n  state: CPDState,\n  input: CPDSectionKey & { completed?: boolean; minutesDelta?: number }\n): CPDState {\n  const next = { ...state, sections: [...state.sections] };\n  const index = next.sections.findIndex(\n    (section) =>\n      section.trackId === input.trackId &&\n      section.levelId === input.levelId &&\n      section.sectionId === input.sectionId\n  );\n\n  const now = new Date().toISOString();\n  const existing = index >= 0 ? next.sections[index] : null;\n  const minutes = Math.max(0, (existing?.minutes || 0) + (input.minutesDelta || 0));\n  const updated: CPDSectionState = {\n    trackId: input.trackId,\n    levelId: input.levelId,\n    sectionId: input.sectionId,\n    completed: input.completed ?? existing?.completed ?? false,\n    minutes,\n    lastUpdated: now,\n  };\n\n  if (index >= 0) {\n    next.sections[index] = updated;\n  } else {\n    next.sections.push(updated);\n  }\n\n  return next;\n}\n\nexport function getTotalsForTrack(state: CPDState, trackId: CPDTrackId) {\n  const sections = state.sections.filter((section) => section.trackId === trackId);\n  const totalMinutes = sections.reduce((sum, section) => sum + section.minutes, 0);\n  const completedSections = sections.filter((section) => section.completed).length;\n  const totalSections = sections.length;\n  return { totalMinutes, completedSections, totalSections };\n}\n\nexport function resolveTrackId(courseId: string): CPDTrackId {\n  if (courseId === \"cybersecurity\" || courseId === \"cyber\") return \"cyber\";\n  if (courseId === \"network-models\" || courseId === \"network\") return \"network-models\";\n  if (courseId === \"software-architecture\" || courseId === \"architecture\") return \"software-architecture\";\n  if (courseId === \"digitalisation\") return \"digitalisation\";\n  if (courseId === \"data\") return \"data\";\n  return \"ai\";\n}\n\nexport function getCompletionForLevel(\n  state: CPDState,\n  trackId: CPDTrackId,\n  levelId: string,\n  sectionIds: string[] = []\n) {\n  const completedCount = sectionIds.filter((sectionId) =>\n    isSectionCompleted(state, trackId, levelId, sectionId)\n  ).length;\n  const totalCount = sectionIds.length;\n  const percent = totalCount === 0 ? 0 : Math.round((completedCount / totalCount) * 100);\n  return { completedCount, totalCount, percent };\n}\n\nexport function getCompletionForCourse(\n  state: CPDState,\n  trackId: CPDTrackId,\n  manifest: Record<string, string[]>,\n  levelIds?: string[]\n) {\n  const levels = levelIds && levelIds.length > 0 ? levelIds : Object.keys(manifest || {});\n  const totals = levels.reduce(\n    (acc, levelId) => {\n      const sectionIds = manifest?.[levelId] || [];\n      const result = getCompletionForLevel(state, trackId, levelId, sectionIds);\n      acc.completed += result.completedCount;\n      acc.total += result.totalCount;\n      return acc;\n    },\n    { completed: 0, total: 0 }\n  );\n  const percent = totals.total === 0 ? 0 : Math.round((totals.completed / totals.total) * 100);\n  return { completedCount: totals.completed, totalCount: totals.total, percent };\n}\n\nexport function addActivityEntry(\n  state: CPDState,\n  entry: Omit<CPDActivity, \"id\" | \"timestamp\">\n): CPDState {\n  const full: CPDActivity = {\n    ...entry,\n    id: `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n    timestamp: new Date().toISOString(),\n  };\n  return {\n    ...state,\n    activity: [full, ...state.activity].slice(0, 200),\n  };\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport {\n  CPDSectionKey,\n  CPDState,\n  CPDTrackId,\n  addActivityEntry,\n  getInitialCPDState,\n  getTotalsForTrack,\n  saveCPDState,\n  upsertSection,\n} from \"@/lib/cpd\";\n\nexport function useCPD() {\n  // SSR/hydration safety: start with a deterministic empty state, then hydrate from storage on mount.\n  // This avoids server/client mismatches when localStorage has existing progress.\n  const [state, setState] = useState<CPDState>(() => ({ version: 1, sections: [], activity: [] }));\n  const { data: session, status } = useSession();\n  const isAuthed = Boolean(session?.user?.id);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const fresh = getInitialCPDState();\n    setState(fresh);\n  }, []);\n\n  // When signed in, load server-backed progress (falls back to local state if none).\n  useEffect(() => {\n    if (!isAuthed) return;\n    let cancelled = false;\n    (async () => {\n      try {\n        const res = await fetch(\"/api/progress/cpd\", { method: \"GET\" });\n        if (!res.ok) return;\n        const data = await res.json();\n        if (cancelled) return;\n        if (data?.state) {\n          setState(data.state);\n          saveCPDState(data.state);\n        } else {\n          // No server state yet: push local state up so progress persists across devices.\n          await fetch(\"/api/progress/cpd\", {\n            method: \"PUT\",\n            headers: { \"content-type\": \"application/json\" },\n            body: JSON.stringify({ state }),\n          });\n        }\n      } catch {\n        // Keep local-only if offline or server unavailable.\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAuthed, status]);\n\n  const updateSection = useCallback(\n    (input: CPDSectionKey & { completed?: boolean; minutesDelta?: number; note?: string }) => {\n      // Stage 20 tier rule: visitors can view content but do not track progress or CPD.\n      // Tracking requires a signed-in learner account.\n      if (!session?.user?.id) return;\n      setState((prev) => {\n        let next = upsertSection(prev, input);\n        if (input.minutesDelta && input.minutesDelta !== 0) {\n          next = addActivityEntry(next, {\n            trackId: input.trackId,\n            levelId: input.levelId,\n            sectionId: input.sectionId,\n            minutesDelta: input.minutesDelta,\n            note: input.note ?? \"\",\n          });\n        }\n        saveCPDState(next);\n        // Server-side enforcement: the server derives userId from the validated session.\n        // Client never sends userId claims.\n        fetch(\"/api/progress/cpd\", {\n          method: \"PUT\",\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify({ state: next }),\n        }).catch(() => {});\n\n        // Minimal evidence capture for CPD audit trail.\n        // This does not lock learning and does not store secrets.\n        if (input.completed === true) {\n          const courseId =\n            input.trackId === \"cyber\" ? \"cybersecurity\" : String(input.trackId || \"\");\n          fetch(\"/api/cpd/evidence\", {\n            method: \"POST\",\n            headers: { \"content-type\": \"application/json\" },\n            body: JSON.stringify({\n              courseId,\n              evidenceType: \"progress\",\n              payload: { trackId: input.trackId, levelId: input.levelId, sectionId: input.sectionId, completed: true },\n            }),\n          }).catch(() => {});\n        }\n        return next;\n      });\n    },\n    [session?.user?.id]\n  );\n\n  const getTrackTotals = useCallback(\n    (trackId: CPDTrackId) => getTotalsForTrack(state, trackId),\n    [state]\n  );\n\n  return { state, updateSection, getTrackTotals, isAuthed };\n}\n","const practiceStrategySections = [\n  \"ai-advanced-transformers-and-agents\",\n  \"ai-advanced-diffusion-and-generation\",\n  \"ai-advanced-production-and-monitoring\",\n  \"ai-advanced-governance-and-strategy\",\n];\n\nconst intermediateSections = [\n  \"ai-intermediate-prompts-and-patterns\",\n  \"ai-intermediate-embeddings-and-search\",\n  \"ai-intermediate-rag-with-docs\",\n  \"ai-intermediate-simple-agents\",\n];\n\nconst summarySections = [\n  \"ai-summary-concepts\",\n  \"ai-summary-scenarios\",\n  \"ai-summary-create\",\n  \"ai-summary-master\",\n];\n\nexport const aiSectionManifest = {\n  foundations: [\n    \"ai-foundations-what-is-ai\",\n    \"ai-foundations-data-and-representation\",\n    \"ai-foundations-learning-paradigms\",\n    \"ai-foundations-responsible-ai-basics\",\n  ],\n  intermediate: intermediateSections,\n  // Alias to support the main course structure.\n  applied: intermediateSections,\n  advanced: practiceStrategySections,\n  \"practice-strategy\": practiceStrategySections,\n  summary: summarySections,\n};\n","export const softwareArchitectureSectionManifest = {\n  foundations: [\n    \"sa-foundations-what-is-architecture\",\n    \"sa-foundations-building-blocks\",\n    \"sa-foundations-diagrams-and-views\",\n  ],\n  intermediate: [\n    \"sa-intermediate-architectural-styles\",\n    \"sa-intermediate-microservices-and-integration\",\n    \"sa-intermediate-runtime-tradeoffs\",\n    \"sa-intermediate-cqrs-event-sourcing\",\n  ],\n  advanced: [\n    \"sa-advanced-digitalisation-context\",\n    \"sa-advanced-architecture-governance\",\n    \"sa-advanced-roadmaps-and-evolution\",\n    \"sa-advanced-architecture-in-practice\",\n  ],\n  summary: [\n    \"soft-arch-summary-you-made-it\",\n    \"soft-arch-summary-big-picture\",\n    \"soft-arch-summary-games-labs\",\n    \"soft-arch-summary-next-steps\",\n  ],\n};\n","export const dataSectionManifest = {\n  foundations: [\n    \"data-foundations-what-is-data\",\n    \"data-foundations-representation-and-formats\",\n    \"data-foundations-quality-and-meaning\",\n    \"data-foundations-lifecycle-and-flow\",\n    \"data-foundations-roles-and-responsibilities\",\n    \"data-foundations-ethics-and-trust\",\n  ],\n  intermediate: [\n    \"data-intermediate-architectures-and-pipelines\",\n    \"data-intermediate-governance-and-stewardship\",\n    \"data-intermediate-interoperability-and-standards\",\n    \"data-intermediate-analysis-and-insight\",\n    \"data-intermediate-risk-ethics-strategic-value\",\n  ],\n  advanced: [\n    \"data-advanced-math-foundations\",\n    \"data-advanced-models-and-abstraction\",\n    \"data-advanced-analytics-and-inference\",\n    \"data-advanced-platforms-and-distributed\",\n    \"data-advanced-governance-regulation\",\n    \"data-advanced-strategic-asset\",\n  ],\n  summary: [\n    \"data-summary-recap\",\n    \"data-summary-scenarios\",\n    \"data-summary-games-and-labs\",\n    \"data-summary-connections\",\n    \"data-summary-next-steps\",\n  ],\n};\n","export const digitalisationSectionManifest = {\n  foundations: [\n    \"dig-foundations-what-is-digitalisation\",\n    \"dig-foundations-data-and-processes\",\n    \"dig-foundations-people-and-change\",\n    \"dig-foundations-digital-building-blocks\",\n  ],\n  intermediate: [\n    \"dig-intermediate-metrics-and-outcomes\",\n    \"dig-intermediate-journeys-and-services\",\n    \"dig-intermediate-platforms-and-integration\",\n    \"dig-intermediate-risk-and-regulation\",\n  ],\n  applied: [\n    \"dig-intermediate-metrics-and-outcomes\",\n    \"dig-intermediate-journeys-and-services\",\n    \"dig-intermediate-platforms-and-integration\",\n    \"dig-intermediate-risk-and-regulation\",\n  ],\n  advanced: [\n    \"dig-advanced-ecosystems-and-standards\",\n    \"dig-advanced-governance-and-operating-models\",\n    \"dig-advanced-strategy-and-roadmaps\",\n    \"dig-advanced-long-term-challenges\",\n  ],\n  \"practice-strategy\": [\n    \"dig-advanced-ecosystems-and-standards\",\n    \"dig-advanced-governance-and-operating-models\",\n    \"dig-advanced-strategy-and-roadmaps\",\n    \"dig-advanced-long-term-challenges\",\n  ],\n  summary: [\n    \"dig-summary-big-picture\",\n    \"dig-summary-key-tools-and-standards\",\n    \"dig-summary-scenarios-and-games\",\n    \"dig-summary-next-steps-and-cpd\",\n  ],\n};\n","export const cyberSections = {\n  foundations: [\n    \"foundations-f0-what-security-is\",\n    \"foundations-f1-risk-and-outcomes\",\n    \"foundations-f2-data-and-integrity\",\n    \"foundations-f3-networks-and-transport\",\n    \"foundations-f4-cia-and-simple-attacks\",\n    \"foundations-f5-identity-and-access\",\n    \"foundations-f6-human-factors-and-phishing\",\n    \"foundations-f7-privacy-and-everyday-data-protection\",\n    \"foundations-f8-foundations-capstone\",\n  ],\n  applied: [\n    \"applied-a1-threat-modelling-as-design\",\n    \"applied-a2-identity-and-access-control\",\n    \"applied-a3-web-app-security\",\n    \"applied-a4-api-and-service-security\",\n    \"applied-a5-verification-and-release-gates\",\n    \"applied-a6-logging-and-detection-basics\",\n    \"applied-a7-applied-capstone\",\n  ],\n  practice: [\n    \"practice-p1-secure-sdlc\",\n    \"practice-p3-runtime-and-cloud-security\",\n    \"practice-p2-exposure-reduction-zero-trust\",\n    \"practice-p5-vulnerability-management\",\n    \"practice-p6-detection-and-incident-response\",\n    \"practice-p4-supply-chain-security\",\n    \"practice-p7-privacy-ethics-auditability\",\n    \"practice-p8-system-ilities\",\n    \"practice-p9-capstone-professional-practice\",\n  ],\n  summary: [],\n};\n","export const networkSectionManifest = {\n  foundations: [\n    \"net-foundations-why-models-exist\",\n    \"net-foundations-encapsulation-and-pdus\",\n    \"net-foundations-osi-and-tcpip-mapping\",\n    \"net-foundations-osi-layers-detail\",\n    \"net-foundations-addressing-and-names\",\n    \"net-foundations-subnetting-basics\",\n    \"net-foundations-requests-from-browser-to-server\",\n    \"net-foundations-foundations-capstone\",\n  ],\n  intermediate: [\n    \"net-applied-tcp-reliability-and-flow\",\n    \"net-applied-dns-resolution-in-practice\",\n    \"net-applied-udp-and-real-world-trade-offs\",\n    \"net-applied-routing-and-forwarding\",\n    \"net-applied-nat-and-state\",\n    \"net-applied-tls-where-it-sits\",\n    \"net-applied-troubleshooting-method\",\n    \"net-applied-applied-capstone\",\n  ],\n  applied: [\n    \"net-applied-tcp-reliability-and-flow\",\n    \"net-applied-dns-resolution-in-practice\",\n    \"net-applied-udp-and-real-world-trade-offs\",\n    \"net-applied-routing-and-forwarding\",\n    \"net-applied-nat-and-state\",\n    \"net-applied-tls-where-it-sits\",\n    \"net-applied-troubleshooting-method\",\n    \"net-applied-applied-capstone\",\n  ],\n  advanced: [\n    \"net-practice-security-by-layer\",\n    \"net-practice-observability-and-signals\",\n    \"net-practice-captures-without-hacking\",\n    \"net-practice-enterprise-segmentation\",\n    \"net-practice-capstone\",\n  ],\n  practice: [\n    \"net-practice-security-by-layer\",\n    \"net-practice-observability-and-signals\",\n    \"net-practice-captures-without-hacking\",\n    \"net-practice-enterprise-segmentation\",\n    \"net-practice-capstone\",\n  ],\n  summary: [],\n};\n\n","import { useMemo, useState } from \"react\";\nimport Layout from \"@/components/Layout\";\nimport { useCPD } from \"@/hooks/useCPD\";\nimport { buildEvidenceText } from \"@/lib/cpdEvidence\";\nimport { CPDTrackId, getCompletionForCourse, getTotalsForTrack } from \"@/lib/cpd\";\nimport { minutesToHours } from \"@/lib/cpd/calculations\";\nimport { aiSectionManifest } from \"@/lib/aiSections\";\nimport { cyberSections } from \"@/lib/cyberSections\";\nimport { softwareArchitectureSectionManifest } from \"@/lib/softwareArchitectureSections\";\nimport { dataSectionManifest } from \"@/lib/dataSections\";\nimport { digitalisationSectionManifest } from \"@/lib/digitalisationSections\";\nimport { networkSectionManifest } from \"@/lib/networkSections\";\n\nconst trackConfigs: Array<{\n  trackId: CPDTrackId;\n  title: string;\n  manifest: Record<string, string[]>;\n  levels: string[];\n}> = [\n  {\n    trackId: \"cyber\",\n    title: \"Cybersecurity\",\n    manifest: cyberSections,\n    levels: [\"foundations\", \"applied\", \"practice\", \"summary\"],\n  },\n  {\n    trackId: \"ai\",\n    title: \"AI\",\n    manifest: aiSectionManifest,\n    levels: [\"foundations\", \"intermediate\", \"advanced\", \"summary\"],\n  },\n  {\n    trackId: \"digitalisation\",\n    title: \"Digitalisation\",\n    manifest: digitalisationSectionManifest,\n    levels: [\"foundations\", \"intermediate\", \"advanced\", \"summary\"],\n  },\n  {\n    trackId: \"software-architecture\",\n    title: \"Software Development and Architecture\",\n    manifest: softwareArchitectureSectionManifest,\n    levels: [\"foundations\", \"intermediate\", \"advanced\", \"summary\"],\n  },\n  {\n    trackId: \"data\",\n    title: \"Data\",\n    manifest: dataSectionManifest,\n    levels: [\"foundations\", \"intermediate\", \"advanced\", \"summary\"],\n  },\n  {\n    trackId: \"network-models\",\n    title: \"Network models\",\n    manifest: networkSectionManifest,\n    levels: [\"foundations\", \"applied\", \"practice\", \"summary\"],\n  },\n];\n\nconst toHours = (minutes: number) => minutesToHours(minutes);\nconst titleCase = (value: string) =>\n  value\n    .split(\"-\")\n    .filter(Boolean)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n\nexport default function CpdEvidencePage() {\n  const { state } = useCPD();\n  const evidenceText = useMemo(() => buildEvidenceText(state), [state]);\n  const [copyMessage, setCopyMessage] = useState(\"\");\n\n  const handleCopy = async () => {\n    if (typeof navigator === \"undefined\" || !navigator.clipboard?.writeText) {\n      setCopyMessage(\"Copy is not available in this browser. Please select the text and copy it manually.\");\n      return;\n    }\n\n    try {\n      await navigator.clipboard.writeText(evidenceText);\n      setCopyMessage(\"Evidence copied to clipboard.\");\n    } catch {\n      setCopyMessage(\"Copy failed. Please select the text and copy it manually.\");\n    }\n  };\n\n  const handlePrint = () => {\n    if (typeof window === \"undefined\") return;\n    window.print();\n  };\n\n  return (\n    <Layout title=\"CPD Evidence\" description=\"Copy this into your CPD system or print it for your records.\">\n      <div className=\"page-header evidence-container\">\n        <p className=\"eyebrow\">My CPD</p>\n        <h1>CPD Evidence</h1>\n        <p className=\"lead\">Copy this into your CPD system or print it for your records.</p>\n        <div className=\"actions print-hidden\">\n          <button type=\"button\" className=\"button ghost\" onClick={handleCopy}>\n            Copy evidence\n          </button>\n          <button type=\"button\" className=\"button ghost\" onClick={handlePrint}>\n            Print this page\n          </button>\n        </div>\n        {copyMessage ? <p className=\"hint\">{copyMessage}</p> : null}\n      </div>\n\n      <section className=\"section evidence-container\">\n        <div className=\"section-heading\">\n          <h2>Summary by track</h2>\n          <span className=\"hint\">Hours and section completion</span>\n        </div>\n        <div className=\"card\">\n          <table className=\"thin-table\">\n            <thead>\n              <tr>\n                <th>Track</th>\n                <th>Hours logged</th>\n                <th>Sections completed</th>\n              </tr>\n            </thead>\n            <tbody>\n              {trackConfigs.map((track) => {\n                const totals = getTotalsForTrack(state, track.trackId);\n                const completion = getCompletionForCourse(state, track.trackId, track.manifest, track.levels);\n                return (\n                  <tr key={track.trackId}>\n                    <td>{track.title}</td>\n                    <td>{toHours(totals.totalMinutes)}</td>\n                    <td>\n                      {completion.completedCount} of {completion.totalCount}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </section>\n\n      <section className=\"section evidence-container\">\n        <div className=\"section-heading\">\n          <h2>Detailed activity log</h2>\n          <span className=\"hint\">Most recent entries</span>\n        </div>\n        <div className=\"card\">\n          {state.activity.length === 0 ? (\n            <p className=\"muted\">No activity logged yet. Use CPD tracking on a course page, then come back here.</p>\n          ) : (\n            <div className=\"max-h-96 overflow-auto pr-2\">\n              <ul className=\"space-y-3 text-sm text-slate-700\">\n                {state.activity.slice(0, 40).map((entry) => (\n                  <li key={entry.id} className=\"rounded-xl border border-slate-200 bg-white p-3\">\n                    <p className=\"font-semibold text-slate-900\">\n                      {entry.minutesDelta >= 0 ? \"+\" : \"-\"}\n                      {Math.abs(entry.minutesDelta)} min\n                    </p>\n                    <p className=\"text-xs text-slate-600\">\n                      {titleCase(entry.trackId)} {titleCase(entry.levelId)}{\" \"}\n                      {entry.sectionId === \"overall\" ? \"overall\" : titleCase(entry.sectionId)}\n                    </p>\n                    <p className=\"mt-1 text-xs text-slate-500\">\n                      {new Date(entry.timestamp).toLocaleString()}\n                    </p>\n                    {entry.note ? <p className=\"mt-1 text-xs text-slate-600\">{entry.note}</p> : null}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <section className=\"section evidence-container\">\n        <div className=\"section-heading\">\n          <h2>Evidence text</h2>\n          <span className=\"hint\">Copy into your CPD form</span>\n        </div>\n        <div className=\"card\">\n          <textarea\n            className=\"key-card__body mono\"\n            readOnly\n            rows={14}\n            value={evidenceText}\n            aria-label=\"CPD evidence text\"\n          />\n        </div>\n      </section>\n    </Layout>\n  );\n}\n","import { CPDState, CPDTrackId, getTotalsForTrack } from \"@/lib/cpd\";\nimport { minutesToHours } from \"@/lib/cpd/calculations\";\n\nconst trackLabels: Record<CPDTrackId, string> = {\n  cyber: \"Cybersecurity\",\n  ai: \"AI\",\n  \"software-architecture\": \"Software Development and Architecture\",\n  digitalisation: \"Digitalisation\",\n  data: \"Data\",\n  \"network-models\": \"Network models\",\n};\n\nconst toHours = (minutes: number) => minutesToHours(minutes);\n\nconst titleCase = (value: string) =>\n  value\n    .split(\"-\")\n    .filter(Boolean)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n\nconst formatActivityLine = (entry: CPDState[\"activity\"][number]) => {\n  const track = trackLabels[entry.trackId] || titleCase(entry.trackId);\n  const level = titleCase(entry.levelId);\n  const section = entry.sectionId && entry.sectionId !== \"overall\" ? titleCase(entry.sectionId) : \"overall\";\n  const minutes = Math.abs(entry.minutesDelta || 0);\n  const sign = entry.minutesDelta >= 0 ? \"+\" : \"-\";\n  const note = entry.note ? ` (${entry.note})` : \"\";\n  return `- ${new Date(entry.timestamp).toLocaleString()} ${sign}${minutes} min on ${track} ${level} ${section}${note}`;\n};\n\nexport function buildEvidenceText(\n  state: CPDState,\n  trackIds: CPDTrackId[] = [\"cyber\", \"ai\", \"software-architecture\", \"digitalisation\", \"data\", \"network-models\"]\n) {\n  const lines: string[] = [];\n  lines.push(\"Name: \");\n  lines.push(\"Period: \");\n  lines.push(\"\");\n  lines.push(\"Summary:\");\n\n  trackIds.forEach((trackId) => {\n    const totals = getTotalsForTrack(state, trackId);\n    lines.push(\n      `I completed approximately ${toHours(totals.totalMinutes)} hours on ${trackLabels[trackId] || trackId}.`\n    );\n  });\n\n  lines.push(\"\");\n  lines.push(\"Breakdown by activity:\");\n  if (state.activity.length === 0) {\n    lines.push(\"No activity logged yet.\");\n  } else {\n    state.activity.slice(0, 50).forEach((entry) => {\n      lines.push(formatActivityLine(entry));\n    });\n  }\n\n  return lines.join(\"\\n\");\n}\n","import crypto from \"crypto\";\n\nexport const CPD_RULES_VERSION = \"v1\";\n\nexport function minutesToHours(minutes) {\n  const m = Number(minutes) || 0;\n  return Math.round((m / 60) * 10) / 10;\n}\n\nexport function hoursToMinutes(hours) {\n  const h = Number(hours) || 0;\n  return Math.max(0, Math.round(h * 60));\n}\n\nexport function validateCpdState(state) {\n  if (!state || typeof state !== \"object\") return { ok: false, error: \"State must be an object\" };\n  if (!Array.isArray(state.sections) || !Array.isArray(state.activity)) {\n    return { ok: false, error: \"State must contain sections and activity arrays\" };\n  }\n  for (const s of state.sections) {\n    if (!s.trackId || !s.levelId || !s.sectionId) return { ok: false, error: \"Section missing identifiers\" };\n    if (Number(s.minutes) < 0) return { ok: false, error: \"Section minutes must be non-negative\" };\n  }\n  for (const a of state.activity) {\n    if (!a.id || !a.trackId || !a.levelId || !a.sectionId || !a.timestamp) return { ok: false, error: \"Activity missing fields\" };\n    if (!Number.isFinite(Number(a.minutesDelta))) return { ok: false, error: \"Activity minutesDelta must be numeric\" };\n  }\n  return { ok: true };\n}\n\nexport function buildEvidenceRecord(input) {\n  const payload = {\n    ...input,\n    rulesVersion: CPD_RULES_VERSION,\n  };\n  const canonical = JSON.stringify(payload);\n  const hash = crypto.createHash(\"sha256\").update(canonical).digest(\"hex\");\n  return { ...payload, hash };\n}\n\nexport function explainCredits(state, trackId) {\n  const activity = (state?.activity || []).filter((a) => a.trackId === trackId);\n  const totalMinutesFromActivity = activity.reduce((sum, a) => sum + (Number(a.minutesDelta) || 0), 0);\n  return {\n    trackId,\n    totalMinutesFromActivity,\n    totalHoursFromActivity: minutesToHours(totalMinutesFromActivity),\n    recent: activity.slice(0, 50).map((a) => ({\n      id: a.id,\n      timestamp: a.timestamp,\n      minutesDelta: a.minutesDelta,\n      note: a.note || \"\",\n      levelId: a.levelId,\n      sectionId: a.sectionId,\n    })),\n  };\n}\n\n\n","import type { CPDState, CPDTrackId } from \"@/lib/cpd\";\nimport {\n  CPD_RULES_VERSION,\n  minutesToHours,\n  hoursToMinutes,\n  validateCpdState,\n  explainCredits,\n} from \"@/lib/cpd/calculations.core\";\n\nexport { CPD_RULES_VERSION, minutesToHours, hoursToMinutes };\n\nexport type CpdValidationResult = { ok: true } | { ok: false; error: string };\n\nexport function validateCpdStateOrThrow(state: CPDState): void {\n  const result = validateCpdState(state) as CpdValidationResult;\n  if (!result.ok) throw new Error(result.error);\n}\n\nexport type CpdCreditExplanation = ReturnType<typeof explainCredits>;\n\nexport function explainTrackCredits(state: CPDState, trackId: CPDTrackId): CpdCreditExplanation {\n  return explainCredits(state as any, trackId);\n}\n\n\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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E,QAAS,EAAM,OAAO,CAAE,UAAW,EAAM,SAAS,CAAE,WAAW,CAAK,CACzG,EACF,GAAG,KAAK,CAAC,KAAO,GAEX,CACT,EACF,EACA,CAAC,GAAS,MAAM,GAAG,EAGf,EAAiB,CAAA,EAAA,EAAA,WAAW,AAAX,EACrB,AAAC,GAAwB,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,EAAO,GAClD,CAAC,EAAM,EAGT,MAAO,OAAE,gBAAO,iBAAe,WAAgB,CAAS,CAC1D,gDC7GA,IAAM,EAA2B,CAC/B,sCACA,uCACA,wCACA,sCACD,CAEK,EAAuB,CAC3B,uCACA,wCACA,gCACA,gCACD,4BASgC,CAC/B,YAAa,CACX,4BACA,yCACA,oCACA,uCACD,CACD,aAAc,EAEd,QAAS,EACT,SAAU,EACV,oBAAqB,EACrB,QAnBsB,CAmBb,AAlBT,sBACA,uBACA,oBACA,oBAgBF,AAfC,0ECnBkD,CACjD,YAAa,CACX,sCACA,iCACA,oCACD,CACD,aAAc,CACZ,uCACA,gDACA,oCACA,sCACD,CACD,SAAU,CACR,qCACA,sCACA,qCACA,uCACD,CACD,QAAS,CACP,gCACA,gCACA,+BACA,+BACD,AACH,0DCxBmC,CACjC,YAAa,CACX,gCACA,8CACA,uCACA,sCACA,8CACA,oCACD,CACD,aAAc,CACZ,gDACA,+CACA,mDACA,yCACA,gDACD,CACD,SAAU,CACR,iCACA,uCACA,wCACA,0CACA,sCACA,gCACD,CACD,QAAS,CACP,qBACA,yBACA,8BACA,2BACA,0BACD,AACH,oEC/B6C,CAC3C,YAAa,CACX,yCACA,qCACA,oCACA,0CACD,CACD,aAAc,CACZ,wCACA,yCACA,6CACA,uCACD,CACD,QAAS,CACP,wCACA,yCACA,6CACA,uCACD,CACD,SAAU,CACR,wCACA,+CACA,qCACA,oCACD,CACD,oBAAqB,CACnB,wCACA,+CACA,qCACA,oCACD,CACD,QAAS,CACP,0BACA,sCACA,kCACA,iCACD,AACH,oDCrC6B,CAC3B,YAAa,CACX,kCACA,mCACA,oCACA,wCACA,wCACA,qCACA,4CACA,sDACA,sCACD,CACD,QAAS,CACP,wCACA,yCACA,8BACA,sCACA,4CACA,0CACA,8BACD,CACD,SAAU,CACR,0BACA,yCACA,4CACA,uCACA,8CACA,oCACA,0CACA,6BACA,6CACD,CACD,QAAS,EACX,AADa,6DChCyB,CACpC,YAAa,CACX,mCACA,yCACA,wCACA,oCACA,uCACA,oCACA,kDACA,uCACD,CACD,aAAc,CACZ,uCACA,yCACA,4CACA,qCACA,4BACA,gCACA,qCACA,+BACD,CACD,QAAS,CACP,uCACA,yCACA,4CACA,qCACA,4BACA,gCACA,qCACA,+BACD,CACD,SAAU,CACR,iCACA,yCACA,wCACA,uCACA,wBACD,CACD,SAAU,CACR,iCACA,yCACA,wCACA,uCACA,wBACD,CACD,QAAS,EAAE,AACb,+CC9CA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OCFA,EAAA,EAAA,CAAA,CAAA,MCIO,SAAS,EAAe,CAAO,EAEpC,OAAO,KAAK,KAAK,CAAE,CADT,OAAO,KAAY,EACN,GAAM,IAAM,EACrC,CAPA,EAAA,CAAA,CAAA,QDGA,IAAM,EAA0C,CAC9C,MAAO,gBACP,GAAI,KACJ,wBAAyB,wCACzB,eAAgB,iBAChB,KAAM,OACN,iBAAkB,gBACpB,EAIM,EAAY,AAAC,GACjB,EACG,KAAK,CAAC,KACN,MAAM,CAAC,SACP,GAAG,CAAC,AAAC,GAAS,EAAK,MAAM,CAAC,GAAG,WAAW,GAAK,EAAK,KAAK,CAAC,IACxD,IAAI,CAAC,KDbV,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEA,IAAM,EAKD,CACH,CACE,QAAS,QACT,MAAO,gBACP,SAAU,EAAA,aAAa,CACvB,OAAQ,CAAC,cAAe,UAAW,WAAY,UACjD,AAD2D,EAE3D,CACE,QAAS,KACT,MAAO,KACP,SAAU,EAAA,iBAAiB,CAC3B,OAAQ,CAAC,cAAe,eAAgB,WAAY,UAAU,AAChE,EACA,CACE,QAAS,iBACT,MAAO,iBACP,SAAU,EAAA,6BAA6B,CACvC,OAAQ,CAAC,cAAe,eAAgB,WAAY,UAAU,AAChE,EACA,CACE,QAAS,wBACT,MAAO,wCACP,SAAU,EAAA,mCAAmC,CAC7C,OAAQ,CAAC,cAAe,eAAgB,WAAY,UAAU,AAChE,EACA,CACE,QAAS,OACT,MAAO,OACP,SAAU,EAAA,mBAAmB,CAC7B,OAAQ,CAAC,cAAe,eAAgB,WAAY,UAAU,AAChE,EACA,CACE,QAAS,iBACT,MAAO,iBACP,SAAU,EAAA,sBAAsB,CAChC,OAAQ,CAAC,cAAe,UAAW,WAAY,UAAU,AAC3D,EACD,CAGK,EAAY,AAAC,GACjB,EACG,KAAK,CAAC,KACN,MAAM,CAAC,SACP,GAAG,CAAC,AAAC,GAAS,EAAK,MAAM,CAAC,GAAG,WAAW,GAAK,EAAK,KAAK,CAAC,IACxD,IAAI,CAAC,KAEK,SAAS,IACtB,GAAM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,MAAA,AAAM,IAClB,EAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CCpC9B,SACL,AADc,CACC,CACf,EAAyB,CAAC,QAAS,KAAM,wBAAyB,iBAAkB,OAAQ,iBAAiB,EAE7G,IAAM,EAAkB,EAAE,CAuB1B,OAtBA,EAAM,IAAI,CAAC,UACX,EAAM,IAAI,CAAC,YACX,EAAM,IAAI,CAAC,IACX,EAAM,IAAI,CAAC,YAEX,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAS,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,EAAO,GACxC,EAAM,IAAI,CACR,CAAC,0BAA0B,EAhCI,AAgCF,EAAQ,EAAO,WAhCE,CAgCU,EAAE,UAAU,EAAE,CAAW,CAAC,EAAQ,EAAI,EAAQ,CAAC,CAAC,CAE5G,GAEA,EAAM,IAAI,CAAC,IACX,EAAM,IAAI,CAAC,0BACmB,GAAG,CAA7B,EAAM,QAAQ,CAAC,MAAM,CACvB,EAAM,IAAI,CAAC,2BAEX,EAAM,QAAQ,CAAC,KAAK,CAAC,EAAG,IAAI,OAAO,CAAE,AAAD,QA/BhC,EACA,IAEA,MA6BF,EAAM,IAAI,CAAC,GAhCD,CAAW,CAAC,EAAM,OAAO,CAAC,EAAI,EAAU,EAAM,OAAO,IACrD,EAAU,EAAM,OAAO,EAC/B,EAAU,EAAM,SAAS,EAAwB,YAApB,EAAM,SAAS,CAAiB,EAAU,EAAM,SAAS,EAAI,YAChF,KAAK,GAAG,CAAC,EAAM,YAAY,EAAI,GACzC,EAAO,EAAM,YAAY,EAAI,EAAI,IAAM,IACvC,EAAO,EAAM,IAAI,CAAG,CAAC,EAAE,EAAE,EAAM,IAAI,CAAC,CAAC,CAAC,CAAG,GACxC,CAAC,EAAE,EAAE,IAAI,KA0BkB,AA1Bb,EAAM,SAAS,EAAE,cAAc,GAAG,CAAC,EAAE,EAAA,EAAO,EAAQ,QAAQ,EAAE,EAAM,CAAC,EAAE,EAAM,CAAC,EAAE,EAAA,EAAU,EAAA,CAAM,EA2BnH,GAGK,EAAM,IAAI,CAAC,MACpB,EDQuD,GAAQ,CAAC,EAAM,EAC9D,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEzC,EAAa,UACjB,GAAyB,aAArB,OAAO,WAA6B,CAAC,UAAU,SAAS,EAAE,UAAW,YACvE,EAAe,uFAIjB,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,GACpC,EAAe,gCACjB,CAAE,KAAM,CACN,EAAe,4DACjB,CACF,EAOA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAM,CAAA,CAAC,MAAM,eAAe,YAAY,yEACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,iBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,iEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,eAAe,QAAS,WAAY,kBAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,eAAe,QAfnC,CAe4C,IAZhE,WAY6E,uBAItE,EAAc,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAQ,IAAmB,QAGzD,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,uCACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,qBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,oCAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,uBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,UACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,iBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,4BAGR,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,EAAa,GAAG,CAAC,AAAC,IACjB,IAAM,EAAS,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,EAAO,EAAM,OAAO,EAC/C,EAAa,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,EAAO,EAAM,OAAO,CAAE,EAAM,QAAQ,CAAE,EAAM,MAAM,EAC5F,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAM,KAAK,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAtEgB,CAsEZ,CAAQ,EAAO,WAtEY,CAsEA,IAChC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACE,EAAW,cAAc,CAAC,OAAK,EAAW,UAAU,MAJhD,EAAM,OAAO,CAQ1B,aAMR,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,uCACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,0BACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,2BAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACc,AAA1B,MAAM,QAAQ,CAAC,MAAM,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iBAAQ,oFAErB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CACX,EAAM,QAAQ,CAAC,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,AAAC,GAChC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAkB,UAAU,4DAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yCACV,EAAM,YAAY,EAAI,EAAI,IAAM,IAChC,KAAK,GAAG,CAAC,EAAM,YAAY,EAAE,UAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mCACV,EAAU,EAAM,OAAO,EAAE,IAAE,EAAU,EAAM,OAAO,EAAG,IACjC,YAApB,EAAM,SAAS,CAAiB,UAAY,EAAU,EAAM,SAAS,KAExE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCACV,IAAI,KAAK,EAAM,SAAS,EAAE,cAAc,KAE1C,EAAM,IAAI,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAM,IAAI,GAAQ,OAZrE,EAAM,EAAE,YAqB7B,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,uCACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,+BAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,UAAU,sBACV,QAAQ,CAAA,CAAA,EACR,KAAM,GACN,MAAO,EACP,aAAW,6BAMvB,+DI7LA,IAAA,EAAiC,EAAA,CAAxBA,AAAwB,CAAA,QACjC,EAA0B,EAAyB,CAA1CC,AAA0C,CADgC,AAChC,CAD1B,CAC0B,MAAjC,AAElB,CAHiC,CAGA,EAAA,CAAxBC,AAAwB,CAAA,EAFP,EAEZ,IAGd,EAA0B,EAAqB,AAHzB,CAGyB,CAAA,EAAnCC,MACZ,EAJiC,AAII,EAAA,CAAA,CAAA,EADX,AACdC,MAGZ,EAAwC,CAHnB,CAGmB,CAAA,CAAA,EAA5BC,MACZ,EAA2B,EAAA,CAAlBC,AAAkB,CAAA,AAJU,EAGX,IACiD,GAAxD,QAAQ,AADa,kCAIzBJ,EAAAA,KAAAA,EAAMG,EAAU,WAAU,AAG5BE,EAAAA,CAAAA,EAAiBL,EAAAA,KAAAA,EAAMG,EAAU,kBAAiB,AAClDG,EAAAA,CAAAA,EAAiBN,EAAAA,KAAAA,EAAMG,EAAU,kBAAiB,AAClDI,EAAAA,CAAAA,EAAqBP,EAAAA,KAAAA,EAAMG,EAAU,sBAAqB,AAC1DK,EAAAA,CAAAA,EAASR,EAAAA,KAAAA,EAAMG,EAAU,UAAS,AAClCM,EAAAA,CAAAA,EAAkBT,EAAAA,KAAAA,EAAMG,EAAU,mBAAkB,AAGpDO,EAAAA,CAAAA,EAA0BV,EAAAA,KAAAA,EACrCG,EACA,2BACD,AACYQ,EAAAA,CAAAA,EAA0BX,EAAAA,KAAAA,EACrCG,EACA,2BACD,AACYS,EAAAA,CAAAA,EAA2BZ,EAAAA,KAAAA,EACtCG,EACA,4BACD,AACYU,EAAAA,CAAAA,EAA0Bb,EAAAA,KAAAA,EACrCG,EACA,2BACD,AACYW,EAAAA,CAAAA,EAA8Bd,EAAAA,KAAAA,EACzCG,EACA,+BACD,AAGYY,EAAc,IAAIjB,EAAAA,gBAAAA,CAAiB,CAC9CkB,WAAY,CACVC,KAAMlB,EAAAA,SAAAA,CAAUmB,KAAK,CACrBC,KAAM,mBACNC,SAAU,mBAEVC,WAAY,GACZC,SAAU,EACZ,EACAC,QAAqBG,CAAZF,EAAoC,KAC7CG,CADiBF,GAAG,AAA6B,CAA5BC,cAC0C,CAA3CF,EACpBK,MAD4BJ,GAAG,CAACG,CACpB,CAEVE,IAAK5B,EAAI6B,EAAAA,KAAO,CAChBC,SAAU/B,EAAS8B,AAJsC,OAItCA,AAAO,AAC5B,WACA5B,CACF,GAAE,AAEW8B,EAAAA,CAAAA,EAAU7B,EAAAA,UAAAA,EAAW,CAChC8B,QAAS,0BACT1B,WACAL,cACAY,iBACAT,iBACAD,qBACAE,CACF,GAAE","ignoreList":[12]}}]
}