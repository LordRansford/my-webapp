;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1dbbb9e0-1cf2-2567-9a09-096a807ec91c")}catch(e){}}();
module.exports=[722925,a=>{"use strict";var b=a.i(508171),c=a.i(127669);let d=[{id:"maintain",label:"Maintain the site",description:"Keep hosting, monitoring, and backups running smoothly."},{id:"new-labs",label:"Fund new labs",description:"Support fresh walkthroughs, diagrams, and accessibility passes."},{id:"content-research",label:"Deep research",description:"Buy time for testing edge cases and writing clearer guidance."}],e=[{id:"keep-lights-on",label:"Keep the lights on",amount:5,description:"Covers hosting and monitoring for a week.",impact:["Keeps the labs online","Funds small bug fixes","Covers coffee for late-night testing"]},{id:"ship-new-labs",label:"Ship a new lab",amount:15,description:"Moves a new walkthrough or checklist from draft to published.",impact:["Funds test data and fixtures","Supports accessibility polish","Pays for diagram clean-up"]},{id:"sponsor-research",label:"Sponsor research time",amount:30,description:"Buys focused time to explore deeper topics and tighten guidance.",impact:["Funds security reviews of new content","Supports more edge case coverage","Offsets tool subscriptions"]}],f="£";function g(a){return`${f||""}${a.toFixed(2)}`}function h({open:a,onClose:h,successPath:i="/donate/success",cancelPath:j="/donate/cancel"}){let[k,l]=(0,c.useState)(e[1]),[m,n]=(0,c.useState)(d[0]),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),u=(0,c.useRef)(null),v=(0,c.useRef)(null),w=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(a){w.current=document.activeElement;let a=setTimeout(()=>{v.current?.focus()},0);return()=>clearTimeout(a)}},[a]),(0,c.useEffect)(()=>{function b(a){if("Escape"===a.key&&(a.preventDefault(),h()),"Tab"===a.key&&u.current){let b=u.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!b.length)return;let c=b[0],d=b[b.length-1];a.shiftKey?document.activeElement===c&&(a.preventDefault(),d.focus()):document.activeElement===d&&(a.preventDefault(),c.focus())}}if(a)return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a,h]),(0,c.useEffect)(()=>{!a&&w.current instanceof HTMLElement&&w.current.focus()},[a]);let x=(0,c.useMemo)(()=>{let a=parseFloat(o||"");return!Number.isNaN(a)&&a>0?a:k?.amount??e[0].amount},[o,k]),y=async()=>{try{throw r(!0),t(""),Error("Donations are not enabled in this build yet.")}catch(a){t(a.message||"Something went wrong.")}finally{r(!1)}};return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4",role:"dialog","aria-modal":"true",children:(0,b.jsxs)("div",{ref:u,className:"w-full max-w-2xl rounded-3xl bg-white p-6 shadow-2xl ring-1 ring-slate-200",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:"Donations"}),(0,b.jsx)("h2",{className:"mt-1 text-2xl font-semibold text-slate-900",children:"Support this work"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-700 leading-relaxed",children:"This site takes a lot of time, coffee and testing. If you find it useful, you can support its maintenance and growth here."})]}),(0,b.jsx)("button",{ref:v,type:"button",onClick:h,className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2","aria-label":"Close donation dialog",children:"Close"})]}),(0,b.jsx)("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:e.map(a=>{let c=k?.id===a.id;return(0,b.jsxs)("button",{type:"button",onClick:()=>l(a),className:`h-full rounded-2xl border p-4 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${c?"border-slate-900 bg-slate-900/5 shadow-sm":"border-slate-200 bg-slate-50/60 hover:border-slate-300"}`,"aria-pressed":c,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:a.label}),(0,b.jsx)("span",{className:"rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-800 shadow-sm",children:g(a.amount)})]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:a.description}),(0,b.jsx)("ul",{className:"mt-2 space-y-1 text-xs text-slate-700",children:a.impact.map(a=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{"aria-hidden":"true",children:"•"}),(0,b.jsx)("span",{children:a})]},a))})]},a.id)})}),(0,b.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.2fr_0.8fr]",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Custom amount (optional)"}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800",children:f||"GBP"}),(0,b.jsx)("input",{type:"number",min:1,step:"1",inputMode:"decimal",value:o,onChange:a=>p(a.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",placeholder:k?k.amount.toString():"10"})]}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-slate-700",children:["Suggested: ",g(x),". Custom amounts replace the selected tier."]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Intent (optional)"}),(0,b.jsx)("select",{value:m?.id,onChange:a=>n(d.find(b=>b.id===a.target.value)||d[0]),className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",children:d.map(a=>(0,b.jsx)("option",{value:a.id,children:a.label},a.id))}),(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-700",children:m?.description})]})]}),s?(0,b.jsx)("p",{className:"mt-3 text-sm font-semibold text-rose-700",children:s}):null,(0,b.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:["Total: ",(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:g(x)})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:h,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",disabled:q,children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:y,className:"rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:bg-slate-400",disabled:q,children:q?"Preparing...":"Donations coming soon"})]})]})]})}):null}a.s(["default",()=>h],722925)},438398,a=>{a.n(a.i(722925))}];

//# debugId=1dbbb9e0-1cf2-2567-9a09-096a807ec91c
//# sourceMappingURL=src_components_donations_DonationModal_tsx_266cc690._.js.map