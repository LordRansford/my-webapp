{
  "version": 3,
  "sources": [],
  "debugId": "17118ba1-5333-1128-72c7-e4bfa9d43d90",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/ai/ConfusionMatrixInspector.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst classes = [\"A\", \"B\", \"C\"];\n\nexport default function ConfusionMatrixInspector() {\n  const [matrix, setMatrix] = useState([\n    [14, 2, 1],\n    [3, 12, 2],\n    [1, 2, 11],\n  ]);\n\n  const totals = useMemo(\n    () => matrix.map((row) => row.reduce((a, b) => a + b, 0)),\n    [matrix]\n  );\n\n  const hotCells = useMemo(() => {\n    const flat = matrix.flat();\n    const max = Math.max(...flat);\n    return { max };\n  }, [matrix]);\n\n  const updateCell = (r, c, val) => {\n    setMatrix((prev) => prev.map((row, ri) => row.map((v, ci) => (ri === r && ci === c ? Number(val) : v))));\n  };\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n      <div className=\"overflow-auto\">\n        <table className=\"min-w-full border-collapse text-sm\">\n          <thead>\n            <tr>\n              <th className=\"px-3 py-2 text-left text-xs uppercase tracking-wide text-slate-600\">True \\ Pred</th>\n              {classes.map((c) => (\n                <th key={c} className=\"px-3 py-2 text-left text-xs uppercase tracking-wide text-slate-600\">\n                  {c}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {matrix.map((row, r) => (\n              <tr key={r} className=\"border-t border-slate-200\">\n                <th className=\"px-3 py-2 text-left font-semibold text-slate-900\">{classes[r]}</th>\n                {row.map((val, c) => {\n                  const intensity = Math.min(1, val / hotCells.max);\n                  const bg = `rgba(59,130,246,${0.12 + intensity * 0.25})`;\n                  return (\n                    <td key={c} className=\"px-3 py-2\">\n                      <input\n                        type=\"number\"\n                        value={val}\n                        onChange={(e) => updateCell(r, c, e.target.value)}\n                        className=\"w-16 rounded-lg border border-slate-200 bg-white px-2 py-1 text-xs text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100\"\n                        style={{ backgroundColor: bg }}\n                      />\n                    </td>\n                  );\n                })}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"mt-3 grid gap-2 md:grid-cols-2\">\n        {matrix.map((row, idx) => (\n          <div key={idx} className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"font-semibold text-slate-900\">\n              True {classes[idx]} accuracy {(row[idx] / Math.max(totals[idx], 1) * 100).toFixed(1)}%\n            </p>\n            <p>Top error: {classes[row.indexOf(Math.max(...row.filter((_, i) => i !== idx)))] || \"-\"} </p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QAEA,IAAM,EAAU,CAAC,IAAK,IAAK,IAAI,CAEhB,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACnC,CAAC,GAAI,EAAG,EAAE,CACV,CAAC,EAAG,GAAI,EAAE,CACV,CAAC,EAAG,EAAG,GAAG,CACX,EAEK,EAAS,CAAA,EAAA,EAAA,OAAA,AAAO,EACpB,IAAM,EAAO,GAAG,CAAC,AAAC,GAAQ,EAAI,MAAM,CAAC,CAAC,EAAG,IAAM,EAAI,EAAG,IACtD,CAAC,EAAO,EAGJ,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAGhB,EAAE,IADG,KAAK,GAAG,IADP,AACW,EADJ,IAAI,IAEX,EACZ,CAAC,EAAO,EAMX,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,+CACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8EAAqE,iBAClF,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAW,UAAU,8EACnB,GADM,SAMf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,EAAO,GAAG,CAAC,CAAC,EAAK,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAW,UAAU,sCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAoD,CAAO,CAAC,EAAE,GAC3E,EAAI,GAAG,CAAC,CAAC,EAAK,KACb,IAAM,EAAY,KAAK,GAAG,CAAC,EAAG,EAAM,EAAS,GAAG,EAC1C,EAAK,CAAC,gBAAgB,EAAE,IAAmB,IAAZ,EAAiB,CAAC,CAAC,CACxD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAW,UAAU,qBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,MAAO,EACP,SAAU,AAAC,IAAM,aA9Bb,EA8B8B,EAAE,MAAM,CAAC,KAAK,MA7BpE,EAAU,AAAC,GAAS,EAAK,GAAG,CAAC,CAAC,EAAK,IAAO,EAAI,GAAG,CAAC,CAAC,EAAG,IAAQ,IA6Bd,GA7BqB,AAAK,IA6BvB,EA7BkC,CAAJ,MAAW,GAAO,MA8B/E,UAAU,8JACV,MAAO,CAAE,gBAAiB,CAAG,KANxB,EAUb,KAhBO,WAuBjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAO,GAAG,CAAC,CAAC,EAAK,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,sFACvB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yCAA+B,QACpC,CAAO,CAAC,EAAI,CAAC,aAAW,CAAC,CAAG,CAAC,EAAI,CAAG,KAAK,GAAG,CAAC,CAAM,CAAC,EAAI,CAAE,GAAK,GAAA,CAAG,CAAE,OAAO,CAAC,GAAG,OAEvF,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,cAAY,CAAO,CAAC,EAAI,OAAO,CAAC,KAAK,GAAG,IAAI,EAAI,MAAM,CAAC,CAAC,EAAG,IAAM,IAAM,KAAO,EAAI,IAAI,SAJjF,QAUpB"}}]
}