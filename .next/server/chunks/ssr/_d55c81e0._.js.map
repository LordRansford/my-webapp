{
  "version": 3,
  "sources": [],
  "debugId": "465e237d-9557-8281-6143-b9e89afd7f11",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/assessments/ExamRunner.tsx","../../../../src/pages/cybersecurity/assessment/%5Blevel%5D.tsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\n\ntype Question = {\n  id: string;\n  type: string;\n  question: string;\n  options: string[] | null;\n};\n\ntype StartResponse = {\n  sessionId: string;\n  startedAt: string;\n  expiresAt: string;\n  timeLimitMinutes: number;\n  passThreshold: number;\n  requiredCredits: number;\n  questions: Question[];\n};\n\ntype SubmitResponse = {\n  ok: boolean;\n  attempt: { id: string; score: number; passed: boolean; completedAt: string; timeSpentSeconds: number };\n  assessment: { courseId: string; levelId: string; passThreshold: number; timeLimitMinutes: number };\n  certificateCourseId: string | null;\n  review: Array<{\n    id: string;\n    question: string;\n    options: string[] | null;\n    userAnswer: any;\n    correctAnswer: any;\n    correct: boolean;\n    explanation: string;\n    tags: string;\n    type: string;\n  }>;\n};\n\nfunction secondsLeft(expiresAtIso: string) {\n  const end = new Date(expiresAtIso).getTime();\n  return Math.max(0, Math.floor((end - Date.now()) / 1000));\n}\n\nfunction formatTimer(totalSeconds: number) {\n  const s = Math.max(0, Math.floor(totalSeconds));\n  const m = Math.floor(s / 60);\n  const r = s % 60;\n  const mm = String(m).padStart(2, \"0\");\n  const rr = String(r).padStart(2, \"0\");\n  return `${mm} ${rr}`;\n}\n\nfunction storageKey(sessionId: string) {\n  return `assessment-answers-${sessionId}`;\n}\n\nexport default function ExamRunner(props: {\n  courseId: \"cybersecurity\";\n  levelId: \"foundations\" | \"applied\" | \"practice\";\n  title: string;\n}) {\n  const [certificateName, setCertificateName] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [error, setError] = useState<string>(\"\");\n  const [data, setData] = useState<StartResponse | null>(null);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [answers, setAnswers] = useState<Record<string, any>>({});\n  const [submitted, setSubmitted] = useState<SubmitResponse | null>(null);\n  const [timerSeconds, setTimerSeconds] = useState<number>(0);\n  const [attempts, setAttempts] = useState<Array<{ id: string; score: number; passed: boolean; completedAt: string }> | null>(null);\n  const timerRef = useRef<number | null>(null);\n\n  const current = data?.questions?.[activeIndex] || null;\n  const total = data?.questions?.length || 0;\n  const answeredCount = useMemo(() => {\n    if (!data?.questions?.length) return 0;\n    let n = 0;\n    for (const q of data.questions) {\n      if (answers[q.id] !== undefined && answers[q.id] !== null) n += 1;\n    }\n    return n;\n  }, [answers, data?.questions]);\n\n  useEffect(() => {\n    if (!data?.expiresAt) return;\n    setTimerSeconds(secondsLeft(data.expiresAt));\n    if (timerRef.current) window.clearInterval(timerRef.current);\n    timerRef.current = window.setInterval(() => {\n      setTimerSeconds(secondsLeft(data.expiresAt));\n    }, 1000);\n    return () => {\n      if (timerRef.current) window.clearInterval(timerRef.current);\n      timerRef.current = null;\n    };\n  }, [data?.expiresAt]);\n\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        const res = await fetch(`/api/assessments/status?courseId=${encodeURIComponent(props.courseId)}&levelId=${encodeURIComponent(props.levelId)}`);\n        const json = (await res.json().catch(() => null)) as any;\n        if (!alive) return;\n        if (!res.ok) return;\n        const list = Array.isArray(json?.attempts) ? json.attempts : [];\n        setAttempts(\n          list.map((a: any) => ({\n            id: String(a.id || \"\"),\n            score: Number(a.score || 0),\n            passed: Boolean(a.passed),\n            completedAt: String(a.completedAt || \"\"),\n          })),\n        );\n      } catch {\n        // ignore\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [props.courseId, props.levelId, submitted?.attempt?.id]);\n\n  useEffect(() => {\n    if (!data?.sessionId) return;\n    try {\n      const raw = window.localStorage.getItem(storageKey(data.sessionId));\n      if (raw) setAnswers(JSON.parse(raw));\n    } catch {\n      // ignore\n    }\n  }, [data?.sessionId]);\n\n  useEffect(() => {\n    if (!data?.sessionId) return;\n    try {\n      window.localStorage.setItem(storageKey(data.sessionId), JSON.stringify(answers));\n    } catch {\n      // ignore\n    }\n  }, [answers, data?.sessionId]);\n\n  const setSingleChoice = (questionId: string, choiceIndex: number) => {\n    setAnswers((prev) => ({ ...prev, [questionId]: choiceIndex }));\n  };\n\n  const startOrResume = async () => {\n    setBusy(true);\n    setError(\"\");\n    setSubmitted(null);\n    try {\n      const res = await fetch(\"/api/assessments/start\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          courseId: props.courseId,\n          levelId: props.levelId,\n          certificateName: certificateName.trim(),\n        }),\n      });\n      const json = (await res.json().catch(() => null)) as any;\n      if (!res.ok) {\n        if (res.status === 401) {\n          window.location.href = \"/signin\";\n          return;\n        }\n        if (res.status === 402) {\n          setError(\"Credits required. Please purchase credits in your account.\");\n          return;\n        }\n        setError(json?.message || \"Unable to start assessment.\");\n        return;\n      }\n      setData(json as StartResponse);\n      setActiveIndex(0);\n    } catch {\n      setError(\"Unable to start assessment.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  const submit = async () => {\n    if (!data?.sessionId) return;\n    setBusy(true);\n    setError(\"\");\n    try {\n      const res = await fetch(\"/api/assessments/submit\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ sessionId: data.sessionId, answers }),\n      });\n      const json = (await res.json().catch(() => null)) as any;\n      if (!res.ok) {\n        if (res.status === 409) {\n          setError(\"Session expired. Start again.\");\n          setData(null);\n          return;\n        }\n        if (res.status === 402) {\n          setError(\"Credits required. Please purchase credits in your account.\");\n          return;\n        }\n        setError(json?.message || \"Unable to submit assessment.\");\n        return;\n      }\n      setSubmitted(json as SubmitResponse);\n      setData(null);\n      if (data?.sessionId) window.localStorage.removeItem(storageKey(data.sessionId));\n    } catch {\n      setError(\"Unable to submit assessment.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  const issueCertificate = async () => {\n    const courseId = submitted?.certificateCourseId;\n    if (!courseId) return;\n    setBusy(true);\n    setError(\"\");\n    try {\n      const res = await fetch(\"/api/certificates/issue\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ courseId }),\n      });\n      const json = (await res.json().catch(() => null)) as any;\n      if (!res.ok) {\n        setError(json?.message || \"Unable to issue certificate.\");\n        return;\n      }\n      if (json?.certificateId) {\n        window.location.href = `/api/certificates/download?certificateId=${encodeURIComponent(json.certificateId)}`;\n      }\n    } catch {\n      setError(\"Unable to issue certificate.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  if (submitted) {\n    const passed = Boolean(submitted.attempt.passed);\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n          <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Result</div>\n          <div className=\"mt-2 text-lg font-semibold text-slate-900\">\n            {passed ? \"Pass\" : \"Not passed\"}\n          </div>\n          <div className=\"mt-1 text-sm text-slate-700\">\n            Score {submitted.attempt.score} percent. Threshold {submitted.assessment.passThreshold} percent.\n          </div>\n          {passed ? (\n            <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n              <button\n                type=\"button\"\n                disabled={busy}\n                onClick={issueCertificate}\n                className=\"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60\"\n              >\n                {busy ? \"Working\" : \"Download certificate\"}\n              </button>\n              <a\n                href=\"/account/certificates\"\n                className=\"text-sm font-semibold text-slate-700 underline decoration-slate-300 underline-offset-4 hover:text-slate-900\"\n              >\n                View certificates\n              </a>\n            </div>\n          ) : (\n            <div className=\"mt-3\">\n              <button\n                type=\"button\"\n                disabled={busy}\n                onClick={() => {\n                  setSubmitted(null);\n                  setError(\"\");\n                }}\n                className=\"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60\"\n              >\n                {busy ? \"Working\" : \"Try again\"}\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n          <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Review</div>\n          <div className=\"mt-3 space-y-4\">\n            {submitted.review.slice(0, 12).map((r, idx) => (\n              <div key={r.id} className=\"rounded-xl border border-slate-200 bg-slate-50 p-3\">\n                <div className=\"text-xs font-semibold text-slate-600\">\n                  Question {idx + 1}. {r.correct ? \"Correct\" : \"Incorrect\"}\n                </div>\n                <div className=\"mt-1 text-sm font-semibold text-slate-900\">{r.question}</div>\n                <div className=\"mt-2 text-sm text-slate-700\">{r.explanation}</div>\n              </div>\n            ))}\n          </div>\n          <div className=\"mt-3 text-xs text-slate-600\">\n            Review is shortened here so the page stays fast.\n          </div>\n        </div>\n\n        {error ? <div className=\"text-sm font-semibold text-rose-700\">{error}</div> : null}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n          <div className=\"text-sm font-semibold text-slate-900\">{props.title}</div>\n          <p className=\"mt-2 text-sm text-slate-700\">\n            This assessment is timed. It uses 50 questions from a larger bank so retries are less repetitive. Pass mark is 80 percent.\n          </p>\n          <p className=\"mt-2 text-sm text-slate-700\">\n            Enter your full name. This name is locked for your certificates.\n          </p>\n          <div className=\"mt-3 grid gap-2 sm:grid-cols-[1fr_auto]\">\n            <input\n              value={certificateName}\n              onChange={(e) => setCertificateName(e.target.value)}\n              placeholder=\"Full name\"\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500\"\n            />\n            <button\n              type=\"button\"\n              disabled={busy}\n              onClick={startOrResume}\n              className=\"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60\"\n            >\n              {busy ? \"Starting\" : \"Start assessment\"}\n            </button>\n          </div>\n          <div className=\"mt-3 text-xs text-slate-600\">\n            You can retake as many times as you like. Attempts are tracked. Recent questions are avoided when possible.\n          </div>\n        </div>\n\n        {attempts && attempts.length ? (\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n            <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Recent attempts</div>\n            <div className=\"mt-2 space-y-2\">\n              {attempts.slice(0, 5).map((a) => (\n                <div key={a.id} className=\"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2\">\n                  <div className=\"text-sm font-semibold text-slate-900\">{a.passed ? \"Pass\" : \"Not passed\"}</div>\n                  <div className=\"text-sm text-slate-700\">Score {a.score} percent</div>\n                  <div className=\"text-xs text-slate-600\">{a.completedAt ? new Date(a.completedAt).toLocaleString() : \"\"}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ) : null}\n\n        {error ? (\n          <div className=\"rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm font-semibold text-rose-800\">\n            {error}{\" \"}\n            <a className=\"underline decoration-rose-300 underline-offset-4\" href=\"/account/credits\">\n              Go to credits\n            </a>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  const expired = timerSeconds <= 0;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <div>\n            <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Progress</div>\n            <div className=\"mt-1 text-sm text-slate-800\">\n              Answered {answeredCount} of {total}. Time left {formatTimer(timerSeconds)}.\n            </div>\n          </div>\n          <button\n            type=\"button\"\n            disabled={busy || expired}\n            onClick={submit}\n            className=\"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60\"\n          >\n            {busy ? \"Submitting\" : expired ? \"Time ended\" : \"Submit\"}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n        <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\n          Question {activeIndex + 1} of {total}\n        </div>\n        <div className=\"mt-2 text-base font-semibold text-slate-900\">{current?.question}</div>\n\n        <div className=\"mt-3 grid gap-2\">\n          {(current?.options || []).map((opt, idx) => {\n            const selected = answers[current?.id || \"\"] === idx;\n            return (\n              <button\n                key={idx}\n                type=\"button\"\n                onClick={() => current?.id && setSingleChoice(current.id, idx)}\n                className={[\n                  \"w-full rounded-xl border px-3 py-2 text-left text-sm shadow-sm transition\",\n                  selected\n                    ? \"border-slate-900 bg-slate-900 text-white\"\n                    : \"border-slate-200 bg-white text-slate-900 hover:bg-slate-50\",\n                ].join(\" \")}\n              >\n                {opt}\n              </button>\n            );\n          })}\n        </div>\n\n        <div className=\"mt-4 flex flex-wrap items-center justify-between gap-3\">\n          <button\n            type=\"button\"\n            disabled={activeIndex <= 0}\n            onClick={() => setActiveIndex((n) => Math.max(0, n - 1))}\n            className=\"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60\"\n          >\n            Back\n          </button>\n          <button\n            type=\"button\"\n            disabled={activeIndex >= total - 1}\n            onClick={() => setActiveIndex((n) => Math.min(total - 1, n + 1))}\n            className=\"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60\"\n          >\n            Next\n          </button>\n        </div>\n      </div>\n\n      {error ? <div className=\"text-sm font-semibold text-rose-700\">{error}</div> : null}\n    </div>\n  );\n}\n\n","import { ErrorBoundary } from \"@/components/notes/ErrorBoundary\";\nimport CourseLessonTemplate from \"@/components/course/CourseLessonTemplate\";\nimport ExamRunner from \"@/components/assessments/ExamRunner\";\n\ntype LevelId = \"foundations\" | \"applied\" | \"practice\";\n\nconst TITLES: Record<LevelId, string> = {\n  foundations: \"Cybersecurity certification assessment. Foundations\",\n  applied: \"Cybersecurity certification assessment. Applied\",\n  practice: \"Cybersecurity certification assessment. Practice\",\n};\n\nexport default function CyberAssessmentPage(props: { levelId: LevelId }) {\n  const levelId = props.levelId;\n  const title = TITLES[levelId];\n\n  return (\n    <ErrorBoundary>\n      <CourseLessonTemplate\n        meta={{\n          title,\n          description: \"Timed cybersecurity assessment with attempt tracking and certificate on pass.\",\n          level: \"Assessment\",\n          slug: `/cybersecurity/assessment/${levelId}`,\n        }}\n        headings={[\n          { id: \"assessment\", title: \"Assessment\", depth: 2 },\n          { id: \"rules\", title: \"Rules\", depth: 2 },\n        ]}\n        activeLevelId=\"assessment\"\n        courseHref=\"/cybersecurity\"\n        courseLabel=\"Cybersecurity\"\n        dashboardHref=\"/dashboards/cybersecurity\"\n        labsHref=\"/tools/cybersecurity\"\n        studiosHref=\"/cyber-studios\"\n      >\n        <section id=\"assessment\" className=\"space-y-4\">\n          <div className=\"rounded-2xl border border-slate-200 bg-slate-50 p-4\">\n            <div className=\"text-sm font-semibold text-slate-900\">{title}</div>\n            <div className=\"mt-1 text-sm text-slate-700\">\n              You need an account and credits to start. Certificate name is locked.\n            </div>\n          </div>\n          <ExamRunner courseId=\"cybersecurity\" levelId={levelId} title={title} />\n        </section>\n\n        <section id=\"rules\" className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n            <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Rules</div>\n            <ol className=\"mt-2 list-decimal space-y-2 ml-5 text-sm text-slate-700\">\n              <li>Time limit is 75 minutes.</li>\n              <li>There are 50 questions.</li>\n              <li>Pass mark is 80 percent.</li>\n              <li>You can retake. Attempts are tracked.</li>\n            </ol>\n          </div>\n        </section>\n      </CourseLessonTemplate>\n    </ErrorBoundary>\n  );\n}\n\nexport async function getServerSideProps(ctx: any) {\n  const level = String(ctx?.params?.level || \"\").trim();\n  if (level !== \"foundations\" && level !== \"applied\" && level !== \"practice\") {\n    return { notFound: true };\n  }\n  return { props: { levelId: level } };\n}\n\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[2]}}]
}