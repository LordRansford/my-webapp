{
  "version": 3,
  "sources": [],
  "debugId": "98ad6d58-bf24-b757-022d-10d01b658a83",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/architecture/LatencyBudgetExplorer.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nexport function LatencyBudgetExplorer() {\n  const [budgetMs, setBudgetMs] = useState(300);\n  const [frontendMs, setFrontendMs] = useState(80);\n  const [networkMs, setNetworkMs] = useState(70);\n  const [backendMs, setBackendMs] = useState(120);\n\n  const stats = useMemo(() => {\n    const totalAllocated = frontendMs + networkMs + backendMs;\n    const slack = budgetMs - totalAllocated;\n    const overBudget = slack < 0;\n\n    let message;\n    if (overBudget) {\n      message =\n        \"You have allocated more time than your budget allows. Simplify, optimise, or move work off the critical path.\";\n    } else if (slack < 30) {\n      message =\n        \"You are within the budget but have very little slack. Small regressions could break the target.\";\n    } else {\n      message =\n        \"You have some slack in your latency budget. Use it to keep room for new features and natural drift.\";\n    }\n\n    return {\n      totalAllocated,\n      slack,\n      overBudget,\n      message,\n    };\n  }, [budgetMs, frontendMs, networkMs, backendMs]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Decide how to spend your latency budget across frontend, network, and backend work. This is for conversation and intuition,\n        not as a perf testing tool.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <label className=\"block text-xs text-slate-600\">\n            User facing latency budget\n            <input\n              type=\"range\"\n              min={150}\n              max={1000}\n              step={10}\n              value={budgetMs}\n              onChange={(e) => setBudgetMs(Number(e.target.value) || 150)}\n              className=\"mt-1 w-full\"\n            />\n            <span className=\"mt-1 inline-block text-xs text-slate-700\">\n              Target total time: <span className=\"font-semibold\">{budgetMs} ms</span>\n            </span>\n          </label>\n\n          <div className=\"mt-4 grid gap-3 md:grid-cols-3\">\n            <LatencySlider label=\"Frontend\" value={frontendMs} setValue={setFrontendMs} colourClass=\"bg-sky-100\" />\n            <LatencySlider label=\"Network\" value={networkMs} setValue={setNetworkMs} colourClass=\"bg-violet-100\" />\n            <LatencySlider label=\"Backend\" value={backendMs} setValue={setBackendMs} colourClass=\"bg-emerald-100\" />\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Budget summary</p>\n            <p className=\"text-xs text-slate-700\">\n              Total allocated: <span className=\"font-semibold\">{stats.totalAllocated.toFixed(0)} ms</span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Slack:{\" \"}\n              <span className={\"font-semibold \" + (stats.overBudget ? \"text-rose-600\" : \"text-emerald-700\")}>\n                {stats.slack.toFixed(0)} ms\n              </span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-600\">{stats.message}</p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Questions to explore</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              <li>Which layer is hardest for your team to optimise.</li>\n              <li>Can you move some work to background tasks or pre-computation.</li>\n              <li>Do your monitoring dashboards reflect the same budget split.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LatencySlider({ label, value, setValue, colourClass }) {\n  return (\n    <div className={`rounded-2xl ${colourClass} p-3`}>\n      <p className=\"text-xs font-semibold text-slate-800\">{label}</p>\n      <input\n        type=\"range\"\n        min={20}\n        max={600}\n        step={10}\n        value={value}\n        onChange={(e) => setValue(Number(e.target.value) || 20)}\n        className=\"mt-1 w-full\"\n      />\n      <p className=\"mt-1 text-xs text-slate-700\">{value.toFixed(0)} ms allocated</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}