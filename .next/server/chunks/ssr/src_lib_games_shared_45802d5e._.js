;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="4dbd5938-a65c-6f2f-8450-a4a62c2d5f77")}catch(e){}}();
module.exports=[254631,a=>{"use strict";let b="ransford-daily-challenges";function c(){try{let a=localStorage.getItem(b);if(a)return JSON.parse(a)}catch(a){console.error("Error loading daily challenges:",a)}return{challenges:{},lastUpdated:Date.now()}}function d(a){try{a.lastUpdated=Date.now(),localStorage.setItem(b,JSON.stringify(a))}catch(a){console.error("Error saving daily challenges:",a)}}function e(a,b){let d=c(),e=`${a}-${b}`;return d.challenges[e]||null}function f(a){var b,e;let f=c(),g=(b=a.gameId,e=a.date,`${b}-${e}`);f.challenges[g]=a,d(f)}a.s(["getDailyChallenge",()=>e,"loadDailyChallenges",()=>c,"saveDailyChallenges",()=>d,"setDailyChallenge",()=>f])},682313,a=>{"use strict";var b=a.i(831866);let c={"daily-logic-gauntlet":"DLG","constraint-optimizer":"COPT","pattern-architect":"PATT","deduction-grid":"DEDU","flow-planner":"FLOW","memory-palace":"MEMO"},d={DLG:"daily-logic-gauntlet",COPT:"constraint-optimizer",PATT:"pattern-architect",DEDU:"deduction-grid",FLOW:"flow-planner",MEMO:"memory-palace",ALOC:"allocation-architect"};function e(a,d,e){let f=c[a];if(!f)throw Error(`Unknown game: ${a}`);let g=(0,b.hashString)(`challenge-${e}`).toString(36).slice(0,4).toUpperCase().padStart(4,"0");return{code:`${f}-${d}-${g}`,gameId:f,date:d,seed:e,hash:g}}function f(a,b){let c,d,f,g;return e(a,(d=(c=new Date).getUTCFullYear(),f=String(c.getUTCMonth()+1).padStart(2,"0"),g=String(c.getUTCDate()).padStart(2,"0"),`${d}-${f}-${g}`),b)}function g(a){return d[a]}function h(a){return c[a]||null}a.s(["generateChallengeCode",()=>e,"generateTodayChallengeCode",()=>f,"getGameId",()=>h,"getGameSlug",()=>g])},202073,a=>{"use strict";var b=a.i(831866);let c=/^([A-Z]{4})-(\d{4}-\d{2}-\d{2})-([A-Z0-9]{4})$/;function d(a){let d=a.match(c);if(!d)return{success:!1,error:`Invalid code format. Expected: GAME-YYYY-MM-DD-XXXX, got: ${a}`};let[,e,f,g]=d;if(!["DLG","COPT","PATT","DEDU","FLOW","MEMO"].includes(e))return{success:!1,error:`Unknown game ID: ${e}`};if(!f.match(/^(\d{4})-(\d{2})-(\d{2})$/))return{success:!1,error:`Invalid date format: ${f}`};let h=(0,b.hashString)(a);return{success:!0,code:{code:a,gameId:e,date:f,seed:h,hash:g}}}function e(a){return d(a).success}a.s(["parseChallengeCode",()=>d,"validateChallengeCode",()=>e])},252484,a=>{"use strict";let b=[{id:"first-game",name:"First Game",description:"Complete your first game",category:"progress",rarity:"common",icon:"ðŸŽ®",checkCondition:a=>(a.gamesCompleted||0)>=1},{id:"streak-3",name:"Getting Started",description:"Maintain a 3-day streak",category:"streak",rarity:"common",icon:"ðŸ”¥",checkCondition:a=>(a.currentStreak||0)>=3},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day streak",category:"streak",rarity:"uncommon",icon:"ðŸ’ª",checkCondition:a=>(a.currentStreak||0)>=7},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day streak",category:"streak",rarity:"rare",icon:"ðŸ‘‘",checkCondition:a=>(a.currentStreak||0)>=30},{id:"games-10",name:"Dedicated Player",description:"Complete 10 games",category:"milestone",rarity:"common",icon:"ðŸŽ¯",progressCondition:a=>Math.min(1,(a.gamesCompleted||0)/10),checkCondition:a=>(a.gamesCompleted||0)>=10},{id:"games-100",name:"Centurion",description:"Complete 100 games",category:"milestone",rarity:"epic",icon:"ðŸ†",progressCondition:a=>Math.min(1,(a.gamesCompleted||0)/100),checkCondition:a=>(a.gamesCompleted||0)>=100}];function c(){return b}function d(a){return b.find(b=>b.id===a)}function e(a){return b.filter(b=>b.gameId===a||!b.gameId&&null===a)}function f(){return b.filter(a=>!a.gameId)}a.s(["CROSS_GAME_ACHIEVEMENTS",0,b,"getAchievementDefinition",()=>d,"getAchievementsByGame",()=>e,"getAllAchievementDefinitions",()=>c,"getCrossGameAchievements",()=>f])},244269,a=>{"use strict";let b="ransford-achievements";function c(){try{let a=localStorage.getItem(b);if(a){let b=JSON.parse(a);if(1!==b.version)return e();return b.unlocked=b.unlocked||[],b.progress=b.progress||{},b}}catch(a){console.error("Error loading achievements:",a)}return e()}function d(a){try{a.version=1,localStorage.setItem(b,JSON.stringify(a))}catch(a){console.error("Error saving achievements:",a)}}function e(){return{unlocked:[],progress:{},version:1}}function f(a,b){return b.unlocked.some(b=>b.achievementId===a)}function g(a,b,e){let g=e||c();return f(a,g)||(g.unlocked.push({achievementId:a,unlockedAt:Date.now(),gameId:b}),d(g)),g}function h(a,b,e){let f=e||c();return f.progress[a]=Math.max(0,Math.min(1,b)),d(f),f}function i(a,b){return b.progress[a]||0}function j(a,b){return b.unlocked.find(b=>b.achievementId===a)}function k(){localStorage.removeItem(b)}a.s(["clearAchievementStorage",()=>k,"createDefaultStorage",()=>e,"getAchievementProgress",()=>i,"getAchievementUnlock",()=>j,"isAchievementUnlocked",()=>f,"loadAchievementStorage",()=>c,"saveAchievementStorage",()=>d,"unlockAchievement",()=>g,"updateAchievementProgress",()=>h])},260054,389158,485827,671016,648309,264057,196613,126482,301944,649317,103121,550165,132333,442299,930929,606346,129739,896088,a=>{"use strict";var b=a.i(831866);function c(){let a=new Date,b=a.getUTCFullYear(),c=String(a.getUTCMonth()+1).padStart(2,"0"),d=String(a.getUTCDate()).padStart(2,"0");return`${b}-${c}-${d}`}function d(a,c){return((0,b.getDailySeed)()^(0,b.hashString)(a))>>>0}var e=a.i(254631);function f(a){let b=c(),f=(0,e.getDailyChallenge)(a,b);if(f)return f;let g=d(a,b),h={gameId:a,date:b,seed:g,completed:!1};return(0,e.setDailyChallenge)(h),h}function g(a,b){let f=c(),g=(0,e.getDailyChallenge)(a,f);if(!g){let c=d(a,f),g={gameId:a,date:f,seed:c,completed:!0,score:b.score,time:b.time,scoreValue:b.scoreValue,completedAt:Date.now()};(0,e.setDailyChallenge)(g);return}g.completed=!0,g.score=b.score,g.time=b.time,g.scoreValue=b.scoreValue,g.completedAt=Date.now(),(0,e.setDailyChallenge)(g)}a.s(["completeTodayChallenge",()=>g,"getOrGenerateTodayChallenge",()=>f],389158),a.s([],260054),a.i(682313),a.i(202073);let h="ransford-challenge-codes";function i(a){var b,c={code:a.code,gameId:a.gameId,date:a.date,seed:a.seed};try{let a=(b=c.code,`${h}-${b}`);localStorage.setItem(a,JSON.stringify(c))}catch(a){console.error("Error storing challenge code:",a)}}function j(a){try{let b=`${h}-${a}`,c=localStorage.getItem(b);if(!c)return null;return JSON.parse(c)}catch(a){return console.error("Error retrieving challenge code:",a),null}}function k(){let a=[];try{for(let b=0;b<localStorage.length;b++){let c=localStorage.key(b);if(c?.startsWith(h)){let b=localStorage.getItem(c);if(b)try{a.push(JSON.parse(b))}catch(a){}}}}catch(a){console.error("Error retrieving all challenge codes:",a)}return a}function l(){let a=new Date,b=a.getUTCFullYear(),c=String(a.getUTCMonth()+1).padStart(2,"0");return`${b}-${c}`}a.s(["getAllChallengeCodes",()=>k,"getChallengeCode",()=>j,"storeChallengeCode",()=>i],485827),a.s([],671016);let m="ransford-streaks";function n(){try{let a=localStorage.getItem(m);if(a)return JSON.parse(a)}catch(a){console.error("Error loading streaks:",a)}return{streaks:{},lastUpdated:Date.now()}}function o(a){return n().streaks[a]||null}function p(a,b){let c=n();c.streaks[a]=b;try{c.lastUpdated=Date.now(),localStorage.setItem(m,JSON.stringify(c))}catch(a){console.error("Error saving streaks:",a)}}function q(a){return o(a)||{gameId:a,currentStreak:0,longestStreak:0,lastPlayDate:null,streakFreezesUsed:0,lastFreezeReset:new Date().toISOString().slice(0,7)}}function r(a,b){return function(a,b){let c,d,e,f,g=(d=(c=new Date).getUTCFullYear(),e=String(c.getUTCMonth()+1).padStart(2,"0"),f=String(c.getUTCDate()).padStart(2,"0"),`${d}-${e}-${f}`),h=l(),i=o(a);if(i||(i={gameId:a,currentStreak:0,longestStreak:0,lastPlayDate:null,streakFreezesUsed:0,lastFreezeReset:l()}),i.lastFreezeReset!==h&&(i.streakFreezesUsed=0,i.lastFreezeReset=h),!b)return p(a,i),i;if(i.lastPlayDate)if(i.lastPlayDate===g);else{let a=function(a){let b=new Date;b.setUTCHours(0,0,0,0);let[c,d,e]=a.split("-").map(Number),f=new Date(Date.UTC(c,d-1,e));return Math.floor((b.getTime()-f.getTime())/864e5)}(i.lastPlayDate);1===a?(i.currentStreak+=1,i.lastPlayDate=g):0===a||(i.currentStreak=1,i.lastPlayDate=g)}else i.currentStreak=1,i.lastPlayDate=g;return i.currentStreak>i.longestStreak&&(i.longestStreak=i.currentStreak),p(a,i),i}(a,b)}a.s(["getStreakDataForGame",()=>q,"updateStreakForGame",()=>r],648309),a.s([],264057);var s=a.i(252484),t=a.i(244269);function u(a){let b=(0,t.loadAchievementStorage)(),c=(0,s.getAllAchievementDefinitions)(),d=[],e={},f=b;for(let b of c)if((!b.gameId||b.gameId===a.gameId)&&!(0,t.isAchievementUnlocked)(b.id,f)){if(b.progressCondition){let c=b.progressCondition(a);e[b.id]=c,f=(0,t.updateAchievementProgress)(b.id,c,f)}b.checkCondition&&b.checkCondition(a)&&(f=(0,t.unlockAchievement)(b.id,a.gameId,f),d.push(b.id))}return{newlyUnlocked:d,updatedProgress:e}}function v(a){let b=a.replace(/[^A-Z0-9-]/gi,"-");return`ransford-scores-${b}`}function w(a){try{let b=v(a),c=localStorage.getItem(b);if(!c)return[];return JSON.parse(c)}catch(a){return console.error("Error retrieving scores:",a),[]}}function x(a,b){try{let c=v(a),d=w(a);d.push(b),d.length>100&&d.shift(),localStorage.setItem(c,JSON.stringify(d))}catch(a){console.error("Error storing score:",a)}return function(a,b,c){var d;if(0===c.length)return{averageScore:b.score,percentile:50,participantCount:1,playerScore:b.score,playerRank:1};let e=c.map(a=>a.score),f=[...e].sort((a,b)=>b-a),g=e.reduce((a,b)=>a+b,0)/e.length,h=(d=b.score,0===e.length?50:[...e].sort((a,b)=>a-b).filter(a=>a<=d).length/e.length*100),i=f.findIndex(a=>a<=b.score)+1;return 0===i&&(i=f.length),{averageScore:g,percentile:h,participantCount:c.length,playerScore:b.score,playerRank:i}}(0,b,w(a))}a.s(["checkAndUnlockAchievements",()=>u],196613),a.s([],126482),a.s(["submitScore",()=>x],301944),a.s([],649317);var y=a.i(218282),z=a.i(572131),A=a.i(883706);let B=(0,A.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var C=a.i(533441),D=a.i(53569);function E({code:a,score:b,onShare:c,compact:d=!1}){let[e,f]=(0,z.useState)(!1),g=(0,z.useCallback)(async()=>{try{await navigator.clipboard.writeText(a.code),f(!0),setTimeout(()=>f(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},[a.code]),h=(0,z.useCallback)(async()=>{if("function"==typeof navigator.share)try{await navigator.share({title:`Challenge Code: ${a.code}`,text:`Try this challenge! Code: ${a.code}`}),c?.()}catch(a){"AbortError"!==a.name&&console.error("Share failed:",a)}else g()},[a.code,c,g]);return d?(0,y.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[(0,y.jsx)("code",{className:"flex-1 font-mono text-sm font-semibold text-slate-900",children:a.code}),(0,y.jsx)("button",{onClick:g,className:"p-1.5 rounded hover:bg-slate-200 transition-colors","aria-label":"Copy code",children:e?(0,y.jsx)(C.Check,{className:"h-4 w-4 text-green-600"}):(0,y.jsx)(B,{className:"h-4 w-4 text-slate-600"})}),"function"==typeof navigator.share&&(0,y.jsx)("button",{onClick:h,className:"p-1.5 rounded hover:bg-slate-200 transition-colors","aria-label":"Share code",children:(0,y.jsx)(D.Share2,{className:"h-4 w-4 text-slate-600"})})]}):(0,y.jsxs)("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white p-6 shadow-lg",children:[(0,y.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Challenge Code"}),(0,y.jsx)("p",{className:"text-sm text-slate-600",children:"Share this code to play the same challenge"})]})}),(0,y.jsx)("div",{className:"bg-white rounded-xl border-2 border-blue-300 p-4 mb-4",children:(0,y.jsx)("code",{className:"block font-mono text-2xl font-bold text-blue-900 text-center tracking-wider",children:a.code})}),void 0!==b&&(0,y.jsx)("div",{className:"mb-4 text-center",children:(0,y.jsx)("div",{className:"inline-block bg-blue-100 rounded-full px-4 py-2",children:(0,y.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Your Score: ",b.toFixed(1)]})})}),(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)("button",{onClick:g,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all ${e?"bg-green-100 text-green-800 border-2 border-green-300":"bg-blue-600 text-white hover:bg-blue-700 border-2 border-blue-600"}`,children:e?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(C.Check,{className:"h-5 w-5"}),"Copied!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(B,{className:"h-5 w-5"}),"Copy Code"]})}),"function"==typeof navigator.share&&(0,y.jsxs)("button",{onClick:h,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium bg-white text-blue-600 border-2 border-blue-300 hover:bg-blue-50 transition-all",children:[(0,y.jsx)(D.Share2,{className:"h-5 w-5"}),"Share"]})]})]})}a.s(["ChallengeCodeShare",()=>E],103121),a.i(325015),a.i(292e3);var F=a.i(724669);let G=(0,A.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),H=(0,A.default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var I=a.i(50429);function J({comparison:a,compact:b=!1}){let c=Math.round(a.percentile),d=c>=90?"text-green-600":c>=75?"text-blue-600":c>=50?"text-amber-600":"text-slate-600",e=c>=90?"Top 10%":c>=75?"Top 25%":c>=50?"Above Average":"Below Average";return b?(0,y.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(F.TrendingUp,{className:"h-4 w-4 text-slate-500"}),(0,y.jsxs)("span",{className:"font-medium",children:[c,"th percentile"]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(G,{className:"h-4 w-4 text-slate-500"}),(0,y.jsxs)("span",{children:[a.participantCount," players"]})]}),a.playerRank&&(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(H,{className:"h-4 w-4 text-slate-500"}),(0,y.jsxs)("span",{children:["Rank #",a.playerRank]})]})]}):(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-slate-50 rounded-xl border border-slate-200",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Your Ranking"}),(0,y.jsxs)("div",{className:`text-3xl font-bold ${d}`,children:[c,"th Percentile"]}),(0,y.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:e})]}),(0,y.jsxs)("div",{className:"text-right",children:[(0,y.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Out of"}),(0,y.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:a.participantCount}),(0,y.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:"players"})]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,y.jsx)("span",{className:"text-slate-600",children:"Percentile Ranking"}),(0,y.jsxs)("span",{className:`font-semibold ${d}`,children:[c,"%"]})]}),(0,y.jsx)("div",{className:"h-3 bg-slate-200 rounded-full overflow-hidden",children:(0,y.jsx)("div",{className:`h-full transition-all ${c>=90?"bg-gradient-to-r from-green-500 to-green-600":c>=75?"bg-gradient-to-r from-blue-500 to-blue-600":c>=50?"bg-gradient-to-r from-amber-500 to-amber-600":"bg-gradient-to-r from-slate-400 to-slate-500"}`,style:{width:`${c}%`}})})]}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[a.playerRank&&(0,y.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(H,{className:"h-4 w-4 text-slate-500"}),(0,y.jsx)("span",{className:"text-xs text-slate-600",children:"Rank"})]}),(0,y.jsxs)("div",{className:"text-xl font-bold text-slate-900",children:["#",a.playerRank]})]}),(0,y.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(I.Target,{className:"h-4 w-4 text-slate-500"}),(0,y.jsx)("span",{className:"text-xs text-slate-600",children:"Your Score"})]}),(0,y.jsx)("div",{className:"text-xl font-bold text-slate-900",children:a.playerScore?.toFixed(1)||"â€”"})]}),(0,y.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(G,{className:"h-4 w-4 text-slate-500"}),(0,y.jsx)("span",{className:"text-xs text-slate-600",children:"Average"})]}),(0,y.jsx)("div",{className:"text-xl font-bold text-slate-900",children:a.averageScore.toFixed(1)})]})]})]})}a.s(["ScoreComparisonDisplay",()=>J],550165);let K=(0,A.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var L=a.i(821374),M=a.i(943108);function N({achievementIds:a,showProgress:b=!1,compact:c=!1}){let d=(0,s.getAllAchievementDefinitions)(),e=(0,t.loadAchievementStorage)(),f=a.map(a=>d.find(b=>b.id===a)).filter(a=>void 0!==a);if(0===f.length)return null;let g=a=>{switch(a){case"legendary":case"epic":return K;case"rare":return L.Star;default:return H}};return c?(0,y.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(a=>{let b=g(a.rarity);return(0,y.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r rounded-lg border border-slate-200",style:{background:"linear-gradient(to right, var(--tw-gradient-stops))"},children:[(0,y.jsx)(b,{className:"h-4 w-4 text-white"}),(0,y.jsx)("span",{className:"text-xs font-medium text-white",children:a.name})]},a.id)})}):(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Achievements"}),(0,y.jsx)("div",{className:"grid grid-cols-1 gap-3",children:f.map(a=>{let c=g(a.rarity),d=e.progress[a.id],f=e.unlocked.some(b=>b.achievementId===a.id);return(0,y.jsx)("div",{className:`p-4 rounded-xl border-2 ${f?`bg-gradient-to-r ${(a=>{switch(a){case"legendary":return"from-purple-500 to-pink-500";case"epic":return"from-purple-500 to-indigo-500";case"rare":return"from-blue-500 to-cyan-500";case"uncommon":return"from-green-500 to-emerald-500";default:return"from-slate-400 to-slate-500"}})(a.rarity)} border-transparent`:"bg-slate-50 border-slate-200"}`,children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)("div",{className:`p-2 rounded-lg ${f?"bg-white/20":"bg-slate-200"}`,children:f?(0,y.jsx)(c,{className:"h-6 w-6 text-white"}):(0,y.jsx)(M.Lock,{className:"h-6 w-6 text-slate-400"})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,y.jsx)("h4",{className:`font-semibold ${f?"text-white":"text-slate-900"}`,children:a.name}),f&&(0,y.jsx)("span",{className:"text-xs text-white/80 px-2 py-0.5 bg-white/20 rounded-full",children:a.rarity})]}),(0,y.jsx)("p",{className:`text-sm ${f?"text-white/90":"text-slate-600"}`,children:a.description}),b&&void 0!==d&&!f&&(0,y.jsxs)("div",{className:"mt-2",children:[(0,y.jsx)("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,y.jsx)("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${100*d}%`}})}),(0,y.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[Math.round(100*d),"% complete"]})]})]})]})},a.id)})})]})}a.s(["AchievementDisplay",()=>N],132333);let O=(0,A.default)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);function P({challengeCode:a,playerScore:b,topN:c=10}){let d=w(a),e=(0,z.useMemo)(()=>[...d].sort((a,b)=>b.score-a.score).slice(0,c).map((a,c)=>({...a,rank:c+1,isPlayer:b&&a.timestamp===b.timestamp})),[d,c,b]),f=(0,z.useMemo)(()=>{if(!b)return null;let a=[...d].sort((a,b)=>b.score-a.score).findIndex(a=>a.timestamp===b.timestamp)+1;return a>0?a:null},[d,b]);return 0===e.length?(0,y.jsx)("div",{className:"p-6 text-center text-slate-600",children:(0,y.jsx)("p",{children:"No scores yet. Be the first to play!"})}):(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Leaderboard"}),f&&(0,y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,y.jsx)(F.TrendingUp,{className:"h-4 w-4"}),(0,y.jsxs)("span",{children:["Your rank: #",f]})]})]}),(0,y.jsx)("div",{className:"space-y-2",children:e.map(a=>{var b,c;let d=1===(b=a.rank)?K:2===b?O:3===b?H:null,e=1===(c=a.rank)?"text-yellow-600":2===c?"text-slate-400":3===c?"text-amber-600":"text-slate-600";return(0,y.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${a.isPlayer?"bg-blue-50 border-blue-300 shadow-md":"bg-white border-slate-200 hover:border-slate-300"}`,children:[(0,y.jsx)("div",{className:`w-8 text-center font-bold ${e}`,children:d?(0,y.jsx)(d,{className:"h-5 w-5 mx-auto"}):(0,y.jsxs)("span",{className:"text-sm",children:["#",a.rank]})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsx)("span",{className:`text-sm font-medium ${a.isPlayer?"text-blue-900":"text-slate-900"}`,children:a.isPlayer?"You":`Player #${a.rank}`}),(0,y.jsx)("span",{className:`text-lg font-bold ${a.isPlayer?"text-blue-600":"text-slate-900"}`,children:a.score.toFixed(1)})]})})]},a.timestamp)})}),d.length>c&&(0,y.jsxs)("div",{className:"text-center text-sm text-slate-600",children:["Showing top ",c," of ",d.length," players"]})]})}function Q(a){let c,d,e,f=new b.SeededRNG(a.seed+1e3),g=f.next();g<.7?(c="standard",d=1,e="Standard completion reward"):g<.9?(c="bonus",d=1.2+.3*f.next(),e="Bonus reward! Great performance!"):g<.98?(c="rare",d=1.5+.5*f.next(),e="Rare reward! Exceptional performance!"):(c="legendary",d=2+ +f.next(),e="Legendary reward! Outstanding achievement!");let h=1;a.streak>=7&&(h=1+(Math.min(a.streak,30)-7)*.01);let i=a.baseXP*(d-1),j=Math.round(a.baseXP*d*h),k=[];return"rare"===c&&.15>f.next()&&k.push("scenario-variant"),"legendary"===c&&.5>f.next()&&(k.push("exclusive-scenario"),.3>f.next()&&k.push("special-modifier")),{totalXP:j,baseXP:a.baseXP,bonusXP:Math.round(i),bonusMultiplier:d*h,rewardType:c,rewardDescription:e,unlocks:k.length>0?k:void 0}}function R(a){let{win:b,score:c,efficiency:d=100,time:e,difficulty:f,tier:g}=a;return Math.round(((b?50:10)+(b?.5*c:.2*c)+.3*d+(e?Math.max(0,20-e/1e3/60):0))*(({foundations:1,novice:1,intermediate:1.2,optimizer:1.2,tactician:1.2,advanced:1.5,solver:1.5,expert:2,"master-optimizer":2,"allocation-expert":2,"constraint-master":2.5,"allocation-master":2.5})[f]||1)*(({planner:1,novice:1,strategist:1.2,optimizer:1.2,architect:1.5,solver:1.5,master:2,"master-optimizer":2,legend:2.5,"constraint-master":2.5})[g]||1))}function S(a){return{gameId:a.gameId,seed:a.seed,baseXP:a.baseXP,performance:a.performance,streak:a.streak,tier:a.tier}}a.s(["LeaderboardView",()=>P],442299),a.i(941675),a.i(641710),a.i(177156),a.i(581464),a.i(633508),a.i(816201),a.i(587532),(0,A.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),(0,A.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),a.s([],930929),a.s(["generateRewardResult",()=>Q],606346),a.s(["calculateBaseXP",()=>R,"createRewardContext",()=>S],129739),a.s([],896088)}];

//# debugId=4dbd5938-a65c-6f2f-8450-a4a62c2d5f77
//# sourceMappingURL=src_lib_games_shared_45802d5e._.js.map