;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f0b16409-2b1f-a7a1-3aaf-c0fd25142702")}catch(e){}}();
module.exports=[308549,a=>{"use strict";let b=(0,a.i(883706).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);a.s(["Pause",()=>b],308549)},942211,a=>{"use strict";let b=(0,a.i(883706).default)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["HelpCircle",()=>b],942211)},325015,a=>{"use strict";let b=(0,a.i(883706).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>b],325015)},633508,a=>{"use strict";let b=(0,a.i(883706).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],633508)},533441,a=>{"use strict";let b=(0,a.i(883706).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],533441)},724669,a=>{"use strict";let b=(0,a.i(883706).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],724669)},941675,a=>{"use strict";let b=(0,a.i(883706).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],941675)},943108,a=>{"use strict";let b=(0,a.i(883706).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],943108)},50429,a=>{"use strict";let b=(0,a.i(883706).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},821374,a=>{"use strict";let b=(0,a.i(883706).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],821374)},53569,a=>{"use strict";let b=(0,a.i(883706).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],53569)},660246,a=>{"use strict";let b=(0,a.i(883706).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],660246)},816201,a=>{"use strict";let b=(0,a.i(883706).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],816201)},177156,a=>{"use strict";let b=(0,a.i(883706).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],177156)},587532,a=>{"use strict";let b=(0,a.i(883706).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],587532)},581464,a=>{"use strict";let b=(0,a.i(883706).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);a.s(["Filter",()=>b],581464)},641710,a=>{"use strict";let b=(0,a.i(883706).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],641710)},98354,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(469124),e=a.i(831866);function f(a,b){let c=[];for(let d of b.constraints){let b=function(a,b){switch(b.type){case"must-include":if(!b.items||0===b.items.length)return{valid:!0};for(let c of b.items)if(!a.includes(c))return{valid:!1,reason:`Must include ${c}`};return{valid:!0};case"must-exclude":if(!b.items||0===b.items.length)return{valid:!0};for(let c of b.items)if(a.includes(c))return{valid:!1,reason:`Must not include ${c}`};return{valid:!0};case"at-least":if(!b.items||!b.count)return{valid:!0};if(b.items.filter(b=>a.includes(b)).length<b.count)return{valid:!1,reason:`Must include at least ${b.count} of: ${b.items.join(", ")}`};return{valid:!0};case"at-most":if(!b.items||void 0===b.count)return{valid:!0};if(b.items.filter(b=>a.includes(b)).length>b.count)return{valid:!1,reason:`Can include at most ${b.count} of: ${b.items.join(", ")}`};return{valid:!0};case"exactly":if(!b.items||void 0===b.count)return{valid:!0};if(b.items.filter(b=>a.includes(b)).length!==b.count)return{valid:!1,reason:`Must include exactly ${b.count} of: ${b.items.join(", ")}`};return{valid:!0};default:return{valid:!0}}}(a,d);b.valid||c.push(b.reason||d.description)}return a.length>b.maxItems&&c.push(`Exceeded maximum items (${b.maxItems})`),{valid:0===c.length,violations:c}}function g(a,b){return f(a,b).violations.length}let h="constraint-optimizer-profile";a.i(260054);var i=a.i(389158);a.i(671016);var j=a.i(682313),k=a.i(485827);a.i(264057);var l=a.i(648309);a.i(126482);var m=a.i(196613);a.i(649317);var n=a.i(301944);a.i(930929);var o=a.i(103121),p=a.i(550165),q=a.i(132333),r=a.i(442299);let s={id:"constraint-optimizer",title:"Constraint Optimizer",description:"Optimize resource allocation under constraints",category:"puzzle",modes:["solo","daily"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:10,tutorialAvailable:!0},t="constraint-optimizer";function u(){let[a,u]=(0,c.useState)("idle"),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(new Set),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)([]);(0,c.useEffect)(()=>{"idle"!==a||v||L()},[a,v]);let L=(0,c.useCallback)(()=>{try{var a;let b,c,d,f,g=(a={seed:(0,i.getOrGenerateTodayChallenge)(t).seed,difficulty:"optimizer"},b=new e.SeededRNG(a.seed),c=function(a){switch(a){case"novice":return{itemCount:6,maxItems:3,constraintCount:2};case"optimizer":return{itemCount:8,maxItems:4,constraintCount:3};case"solver":return{itemCount:10,maxItems:5,constraintCount:4};case"master-optimizer":return{itemCount:12,maxItems:6,constraintCount:5};case"constraint-master":return{itemCount:12,maxItems:7,constraintCount:6}}}(a.difficulty),d=b.sample(["A","B","C","D","E","F","G","H","I","J","K","L"],c.itemCount),f=function(a,b,c){let d=[];if(b.constraintCount>0){let b=c.sample(a,1);d.push({id:"must-1",type:"must-include",description:`Must include ${b[0]}`,items:b})}if(b.constraintCount>1){let b=c.sample(a,2);d.push({id:"at-least-1",type:"at-least",description:`Must include at least 1 of: ${b.join(", ")}`,items:b,count:1})}if(b.constraintCount>2){let b=c.sample(a,3);d.push({id:"at-most-1",type:"at-most",description:`Can include at most 2 of: ${b.join(", ")}`,items:b,count:2})}if(b.constraintCount>3){let b=c.sample(a,1);d.push({id:"must-exclude-1",type:"must-exclude",description:`Must not include ${b[0]}`,items:b})}for(;d.length<b.constraintCount;){let b=c.sample(a,2);d.push({id:`pref-${d.length}`,type:"preference",description:`Prefer ${b[0]} over ${b[1]}`,items:b,weight:.5})}return d}(d,c,b),{id:`constraint-${a.seed}`,seed:a.seed,name:`Optimization Challenge ${a.seed}`,description:`Select up to ${c.maxItems} items that satisfy all constraints while maximizing efficiency.`,availableItems:d,constraints:f,maxItems:c.maxItems,difficulty:a.difficulty,tier:function(a){switch(a){case"novice":return 0;case"optimizer":return 100;case"solver":return 300;case"master-optimizer":return 600;case"constraint-master":return 1e3}}(a.difficulty)});w(g),y(new Set),A(null),E(null),G(null),I(null),K([])}catch(a){console.error("Error initializing challenge:",a)}},[]),M=(0,c.useCallback)(b=>{"playing"===a&&v&&y(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.size<v.maxItems&&c.add(b),c})},[a,v]),N=(0,c.useCallback)(()=>{let a,b;if(!v||!B)return;let c=(a=g(o=Array.from(x),v),b=function(a,b){let c=a.length/b.maxItems,d=0,e=b.constraints.filter(a=>"preference"===a.type);if(e.length>0){let b=0;for(let c of e)if(c.items&&c.items.length>=2){let[d,e]=c.items;a.includes(d)&&!a.includes(e)&&b++}d=b/e.length}return Math.round(100*Math.max(0,Math.min(100,(.6*c+.3*d-Math.min(.4,.1*g(a,b)))*100)))/100}(o,v),{selectedItems:o,efficiency:b,constraintViolations:a,createdAt:Date.now()});A(c.efficiency),u("finished");let d=(0,j.generateTodayChallengeCode)(t,v.seed);(0,k.storeChallengeCode)(d);let e=Date.now()-B;(0,n.submitScore)(d.code,{score:c.efficiency,time:e,scoreValue:c.efficiency,timestamp:Date.now()}),(0,i.completeTodayChallenge)(t,{score:c.efficiency,time:e,scoreValue:c.efficiency}),(0,l.updateStreakForGame)(t,!0);let f=(0,l.getStreakDataForGame)(t);(0,m.checkAndUnlockAchievements)({gameId:t,currentStreak:f.currentStreak,gamesCompleted:1});var o,p=v.id;try{let a=`constraint-optimizer-solution-${p}`;localStorage.setItem(a,JSON.stringify(c))}catch(a){console.error("Error saving solution:",a)}let q=function(){try{let a=localStorage.getItem(h);if(a)return JSON.parse(a)}catch(a){console.error("Error loading progress:",a)}return{xp:0,tier:"novice",challengesCompleted:0,personalBests:{},achievements:[]}}();q.challengesCompleted+=1;try{localStorage.setItem(h,JSON.stringify(q))}catch(a){console.error("Error saving progress:",a)}},[v,x,B]),O=(0,c.useCallback)(()=>{v?(u("playing"),y(new Set),A(null),C(Date.now())):L()},[v,L]),P=(0,c.useCallback)(()=>{u("idle"),y(new Set),A(null),C(null),w(null)},[]),Q=v&&x.size>0?f(Array.from(x),v):null,R=v?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Constraints"}),(0,b.jsx)("div",{className:"space-y-2",children:v.constraints.map(a=>(0,b.jsx)("div",{className:"text-sm text-slate-600",children:a.description},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Selection"}),(0,b.jsxs)("div",{className:"text-lg font-bold",children:[x.size," / ",v.maxItems," items"]})]}),Q&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Status"}),(0,b.jsx)("div",{className:`text-sm font-medium ${Q.valid?"text-green-600":"text-red-600"}`,children:Q.valid?"✓ Valid":`✗ ${Q.violations.length} violations`})]}),null!==z&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Efficiency"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[z.toFixed(1),"%"]})]})]}):null;return(0,b.jsx)(d.default,{config:s,status:a,onStart:O,onReset:P,rightPanel:R,children:(0,b.jsx)("div",{className:"p-4",children:v?"idle"===a?(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:v.name}),(0,b.jsx)("p",{className:"text-slate-600",children:v.description}),(0,b.jsx)("button",{onClick:O,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Challenge"})]}):"playing"===a||"finished"===a?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Select Items"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:v.availableItems.map(c=>{let d=x.has(c);return(0,b.jsx)("button",{onClick:()=>M(c),disabled:"finished"===a,className:`px-4 py-2 rounded-lg border-2 transition-colors ${d?"border-blue-600 bg-blue-100 text-blue-900":"border-slate-300 bg-white hover:border-blue-400"}`,children:c},c)})})]}),Q&&!Q.valid&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"Constraint Violations:"}),(0,b.jsx)("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:Q.violations.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),"playing"===a&&(0,b.jsx)("button",{onClick:N,disabled:0===x.size,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed",children:"Submit Solution"}),"finished"===a&&null!==z&&D&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["Efficiency: ",z.toFixed(1),"%"]})}),(0,b.jsx)(o.ChallengeCodeShare,{code:D,score:z}),F&&(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(p.ScoreComparisonDisplay,{comparison:F})}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(r.LeaderboardView,{challengeCode:D.code,playerScore:H||void 0})}),J.length>0&&(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(q.AchievementDisplay,{achievementIds:J,compact:!0})}),(0,b.jsx)("button",{onClick:P,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"New Challenge"})]})]}):null:(0,b.jsx)("div",{className:"text-center text-slate-600",children:"Loading challenge..."})})})}a.s(["default",()=>u],98354)}];

//# debugId=f0b16409-2b1f-a7a1-3aaf-c0fd25142702
//# sourceMappingURL=_0af1e941._.js.map