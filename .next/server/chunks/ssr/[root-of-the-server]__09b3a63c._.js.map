{
  "version": 3,
  "sources": [],
  "debugId": "cbe222cb-157a-2231-4d6c-54fe612ba246",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/cpd.ts","../../../../src/hooks/useCPD.ts","../../../../src/pages/account/index.tsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["export type CPDTrackId = \"cyber\" | \"ai\" | \"software-architecture\" | \"digitalisation\" | \"data\";\n\nexport interface CPDSectionKey {\n  trackId: CPDTrackId;\n  levelId: string;\n  sectionId: string;\n}\n\nexport interface CPDSectionState extends CPDSectionKey {\n  completed: boolean;\n  minutes: number;\n  lastUpdated: string;\n}\n\nexport interface CPDActivity {\n  id: string;\n  trackId: CPDTrackId;\n  levelId: string;\n  sectionId: string;\n  minutesDelta: number;\n  timestamp: string;\n  note?: string;\n}\n\nexport interface CPDState {\n  version: number;\n  sections: CPDSectionState[];\n  activity: CPDActivity[];\n}\n\nconst CPD_STORAGE_KEY = \"ransfords-notes-cpd-v1\";\nconst CPD_VERSION = 1;\n\nconst emptyState = (): CPDState => ({\n  version: CPD_VERSION,\n  sections: [],\n  activity: [],\n});\n\nconst isBrowser = typeof window !== \"undefined\";\n\n/**\n * Legacy section IDs exist in older content. We keep them as aliases so:\n * - existing learner progress still counts after an ID migration\n * - content can migrate to canonical IDs without breaking progress bars\n *\n * IMPORTANT:\n * - Canonical IDs should be stable and live in docs/courses/CYBERSECURITY_MASTER_SYLLABUS.md\n * - Aliases should only be added for real historical IDs used in production content.\n */\nconst LEGACY_SECTION_ALIASES: Partial<\n  Record<CPDTrackId, Partial<Record<string, Partial<Record<string, string[]>>>>>\n> = {\n  cyber: {\n    foundations: {\n      // Old \"Foundations overview\" toggle + quiz lived under this ID.\n      // Canonical syllabus splits this into a dedicated Module F0.\n      \"foundations-f0-what-security-is\": [\"foundations-why-cyber-matters\"],\n\n      // Old module IDs from the original Foundations page.\n      \"foundations-f2-data-and-integrity\": [\"foundations-data-and-bits\"],\n      \"foundations-f3-networks-and-transport\": [\"foundations-networks-and-packets\"],\n      \"foundations-f4-cia-and-simple-attacks\": [\"foundations-cia-and-simple-attacks\"],\n\n      // Old manifest had a placeholder capstone ID, keep it as an alias.\n      \"foundations-f8-foundations-capstone\": [\"foundations-checkpoint-capstone\"],\n    },\n    applied: {\n      \"applied-a1-threat-modelling-as-design\": [\"applied-threat-modelling\"],\n      \"applied-a2-identity-and-access-control\": [\"applied-auth-sessions-access\"],\n      \"applied-a6-logging-and-detection-basics\": [\"applied-logging-and-risk\"],\n    },\n    practice: {\n      \"practice-p2-exposure-reduction-zero-trust\": [\"practice-p1-secure-architecture-zero-trust\", \"advanced-secure-architecture\"],\n      \"practice-p3-runtime-and-cloud-security\": [\"practice-p0-crypto-in-practice\", \"advanced-crypto-practice\"],\n      \"practice-p4-supply-chain-security\": [\"practice-p3-supply-chain-risk\", \"advanced-supply-chain-risk\"],\n      \"practice-p6-detection-and-incident-response\": [\"practice-p2-detection-and-incident-response\", \"advanced-detection-response\"],\n      \"practice-p7-privacy-ethics-auditability\": [\"practice-p5-governance-and-professional-practice\", \"advanced-governance-career\"],\n      \"practice-p8-system-ilities\": [\"practice-p4-adversarial-tradeoffs\", \"advanced-adversarial-tradeoffs\"],\n      \"practice-p9-capstone-professional-practice\": [\"practice-p6-capstone\"],\n    },\n  },\n};\n\nexport function getSectionAliases(trackId: CPDTrackId, levelId: string, sectionId: string): string[] {\n  const canonical = String(sectionId || \"\").trim();\n  if (!canonical) return [];\n  const aliases = LEGACY_SECTION_ALIASES?.[trackId]?.[levelId]?.[canonical] ?? [];\n  const all = [canonical, ...aliases].map((s) => String(s).trim()).filter(Boolean);\n  return Array.from(new Set(all));\n}\n\nexport function isSectionCompleted(state: CPDState, trackId: CPDTrackId, levelId: string, sectionId: string): boolean {\n  const ids = getSectionAliases(trackId, levelId, sectionId);\n  if (ids.length === 0) return false;\n  return ids.some((id) =>\n    state.sections.some(\n      (section) =>\n        section.trackId === trackId &&\n        section.levelId === levelId &&\n        section.sectionId === id &&\n        section.completed\n    )\n  );\n}\n\nconst normaliseSection = (input: any): CPDSectionState | null => {\n  if (!input || typeof input !== \"object\") return null;\n  const { trackId, levelId, sectionId, completed, minutes, lastUpdated } = input;\n  if (!trackId || !levelId || !sectionId) return null;\n  return {\n    trackId,\n    levelId,\n    sectionId,\n    completed: Boolean(completed),\n    minutes: Math.max(0, Number(minutes) || 0),\n    lastUpdated: typeof lastUpdated === \"string\" && lastUpdated.length > 0 ? lastUpdated : new Date().toISOString(),\n  };\n};\n\nconst normaliseActivity = (input: any): CPDActivity | null => {\n  if (!input || typeof input !== \"object\") return null;\n  const { id, trackId, levelId, sectionId, minutesDelta, timestamp, note } = input;\n  if (!id || !trackId || !levelId || !sectionId || !timestamp) return null;\n  return {\n    id: String(id),\n    trackId,\n    levelId,\n    sectionId,\n    minutesDelta: Number(minutesDelta) || 0,\n    timestamp: String(timestamp),\n    note: typeof note === \"string\" ? note : undefined,\n  };\n};\n\nexport function getInitialCPDState(): CPDState {\n  if (!isBrowser) return emptyState();\n  try {\n    const raw = window.localStorage.getItem(CPD_STORAGE_KEY);\n    if (!raw) return emptyState();\n    const parsed = JSON.parse(raw);\n    if (!parsed || typeof parsed !== \"object\") return emptyState();\n    const version = Number(parsed.version) || CPD_VERSION;\n    const sections = Array.isArray(parsed.sections)\n      ? parsed.sections.map(normaliseSection).filter(Boolean)\n      : [];\n    const activity = Array.isArray(parsed.activity)\n      ? parsed.activity.map(normaliseActivity).filter(Boolean)\n      : [];\n    return { version, sections, activity };\n  } catch {\n    return emptyState();\n  }\n}\n\nexport function saveCPDState(state: CPDState): void {\n  if (!isBrowser) return;\n  try {\n    window.localStorage.setItem(CPD_STORAGE_KEY, JSON.stringify(state));\n  } catch {\n    // ignore storage errors\n  }\n}\n\nexport function upsertSection(\n  state: CPDState,\n  input: CPDSectionKey & { completed?: boolean; minutesDelta?: number }\n): CPDState {\n  const next = { ...state, sections: [...state.sections] };\n  const index = next.sections.findIndex(\n    (section) =>\n      section.trackId === input.trackId &&\n      section.levelId === input.levelId &&\n      section.sectionId === input.sectionId\n  );\n\n  const now = new Date().toISOString();\n  const existing = index >= 0 ? next.sections[index] : null;\n  const minutes = Math.max(0, (existing?.minutes || 0) + (input.minutesDelta || 0));\n  const updated: CPDSectionState = {\n    trackId: input.trackId,\n    levelId: input.levelId,\n    sectionId: input.sectionId,\n    completed: input.completed ?? existing?.completed ?? false,\n    minutes,\n    lastUpdated: now,\n  };\n\n  if (index >= 0) {\n    next.sections[index] = updated;\n  } else {\n    next.sections.push(updated);\n  }\n\n  return next;\n}\n\nexport function getTotalsForTrack(state: CPDState, trackId: CPDTrackId) {\n  const sections = state.sections.filter((section) => section.trackId === trackId);\n  const totalMinutes = sections.reduce((sum, section) => sum + section.minutes, 0);\n  const completedSections = sections.filter((section) => section.completed).length;\n  const totalSections = sections.length;\n  return { totalMinutes, completedSections, totalSections };\n}\n\nexport function resolveTrackId(courseId: string): CPDTrackId {\n  if (courseId === \"cybersecurity\" || courseId === \"cyber\") return \"cyber\";\n  if (courseId === \"software-architecture\" || courseId === \"architecture\") return \"software-architecture\";\n  if (courseId === \"digitalisation\") return \"digitalisation\";\n  if (courseId === \"data\") return \"data\";\n  return \"ai\";\n}\n\nexport function getCompletionForLevel(\n  state: CPDState,\n  trackId: CPDTrackId,\n  levelId: string,\n  sectionIds: string[] = []\n) {\n  const completedCount = sectionIds.filter((sectionId) =>\n    isSectionCompleted(state, trackId, levelId, sectionId)\n  ).length;\n  const totalCount = sectionIds.length;\n  const percent = totalCount === 0 ? 0 : Math.round((completedCount / totalCount) * 100);\n  return { completedCount, totalCount, percent };\n}\n\nexport function getCompletionForCourse(\n  state: CPDState,\n  trackId: CPDTrackId,\n  manifest: Record<string, string[]>,\n  levelIds?: string[]\n) {\n  const levels = levelIds && levelIds.length > 0 ? levelIds : Object.keys(manifest || {});\n  const totals = levels.reduce(\n    (acc, levelId) => {\n      const sectionIds = manifest?.[levelId] || [];\n      const result = getCompletionForLevel(state, trackId, levelId, sectionIds);\n      acc.completed += result.completedCount;\n      acc.total += result.totalCount;\n      return acc;\n    },\n    { completed: 0, total: 0 }\n  );\n  const percent = totals.total === 0 ? 0 : Math.round((totals.completed / totals.total) * 100);\n  return { completedCount: totals.completed, totalCount: totals.total, percent };\n}\n\nexport function addActivityEntry(\n  state: CPDState,\n  entry: Omit<CPDActivity, \"id\" | \"timestamp\">\n): CPDState {\n  const full: CPDActivity = {\n    ...entry,\n    id: `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n    timestamp: new Date().toISOString(),\n  };\n  return {\n    ...state,\n    activity: [full, ...state.activity].slice(0, 200),\n  };\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport {\n  CPDSectionKey,\n  CPDState,\n  CPDTrackId,\n  addActivityEntry,\n  getInitialCPDState,\n  getTotalsForTrack,\n  saveCPDState,\n  upsertSection,\n} from \"@/lib/cpd\";\n\nexport function useCPD() {\n  // SSR/hydration safety: start with a deterministic empty state, then hydrate from storage on mount.\n  // This avoids server/client mismatches when localStorage has existing progress.\n  const [state, setState] = useState<CPDState>(() => ({ version: 1, sections: [], activity: [] }));\n  const { data: session, status } = useSession();\n  const isAuthed = Boolean(session?.user?.id);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const fresh = getInitialCPDState();\n    setState(fresh);\n  }, []);\n\n  // When signed in, load server-backed progress (falls back to local state if none).\n  useEffect(() => {\n    if (!isAuthed) return;\n    let cancelled = false;\n    (async () => {\n      try {\n        const res = await fetch(\"/api/progress/cpd\", { method: \"GET\" });\n        if (!res.ok) return;\n        const data = await res.json();\n        if (cancelled) return;\n        if (data?.state) {\n          setState(data.state);\n          saveCPDState(data.state);\n        } else {\n          // No server state yet: push local state up so progress persists across devices.\n          await fetch(\"/api/progress/cpd\", {\n            method: \"PUT\",\n            headers: { \"content-type\": \"application/json\" },\n            body: JSON.stringify({ state }),\n          });\n        }\n      } catch {\n        // Keep local-only if offline or server unavailable.\n      }\n    })();\n    return () => {\n      cancelled = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAuthed, status]);\n\n  const updateSection = useCallback(\n    (input: CPDSectionKey & { completed?: boolean; minutesDelta?: number; note?: string }) => {\n      // Stage 20 tier rule: visitors can view content but do not track progress or CPD.\n      // Tracking requires a signed-in learner account.\n      if (!session?.user?.id) return;\n      setState((prev) => {\n        let next = upsertSection(prev, input);\n        if (input.minutesDelta && input.minutesDelta !== 0) {\n          next = addActivityEntry(next, {\n            trackId: input.trackId,\n            levelId: input.levelId,\n            sectionId: input.sectionId,\n            minutesDelta: input.minutesDelta,\n            note: input.note ?? \"\",\n          });\n        }\n        saveCPDState(next);\n        // Server-side enforcement: the server derives userId from the validated session.\n        // Client never sends userId claims.\n        fetch(\"/api/progress/cpd\", {\n          method: \"PUT\",\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify({ state: next }),\n        }).catch(() => {});\n\n        // Minimal evidence capture for CPD audit trail.\n        // This does not lock learning and does not store secrets.\n        if (input.completed === true) {\n          const courseId =\n            input.trackId === \"cyber\" ? \"cybersecurity\" : String(input.trackId || \"\");\n          fetch(\"/api/cpd/evidence\", {\n            method: \"POST\",\n            headers: { \"content-type\": \"application/json\" },\n            body: JSON.stringify({\n              courseId,\n              evidenceType: \"progress\",\n              payload: { trackId: input.trackId, levelId: input.levelId, sectionId: input.sectionId, completed: true },\n            }),\n          }).catch(() => {});\n        }\n        return next;\n      });\n    },\n    [session?.user?.id]\n  );\n\n  const getTrackTotals = useCallback(\n    (trackId: CPDTrackId) => getTotalsForTrack(state, trackId),\n    [state]\n  );\n\n  return { state, updateSection, getTrackTotals, isAuthed };\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport { signOut, useSession } from \"next-auth/react\";\nimport Layout from \"@/components/Layout\";\nimport { useCPD } from \"@/hooks/useCPD\";\nimport AccessGate from \"@/components/AccessGate\";\n\ntype ConsentState = {\n  termsAccepted: boolean;\n  privacyAccepted: boolean;\n  cpdDataUseAccepted: boolean;\n};\n\nexport default function AccountPage() {\n  const { data: session, status } = useSession();\n  const user = session?.user;\n  const isAuthed = Boolean(user?.id);\n  const { state } = useCPD();\n\n  const [plan, setPlan] = useState<string>(\"free\");\n  const [analyticsSummary, setAnalyticsSummary] = useState<any>(null);\n  const [learningSummary, setLearningSummary] = useState<any>(null);\n  const [credits, setCredits] = useState<number | null>(null);\n  const [creditsExpiry, setCreditsExpiry] = useState<string | null>(null);\n  const [creditsUsage, setCreditsUsage] = useState<any[]>([]);\n  const [savingConsent, setSavingConsent] = useState(false);\n  const [consent, setConsent] = useState<ConsentState>({\n    termsAccepted: false,\n    privacyAccepted: false,\n    cpdDataUseAccepted: false,\n  });\n  const [deleteConfirm, setDeleteConfirm] = useState(\"\");\n  const [deleting, setDeleting] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  const tierLabel = useMemo(() => {\n    if (!isAuthed) return \"Visitor\";\n    if (plan === \"pro\") return \"Professional\";\n    if (plan === \"supporter\") return \"Supporter\";\n    return \"Registered learner\";\n  }, [isAuthed, plan]);\n\n  useEffect(() => {\n    if (!isAuthed) return;\n    fetch(\"/api/account/profile\")\n      .then((r) => r.json())\n      .then((d) => {\n        setPlan(d?.plan || \"free\");\n        const c = d?.user?.consent || {};\n        setConsent({\n          termsAccepted: Boolean(c.termsAcceptedAt),\n          privacyAccepted: Boolean(c.privacyAcceptedAt),\n          cpdDataUseAccepted: Boolean(c.cpdDataUseAcceptedAt),\n        });\n      })\n      .catch(() => setPlan(\"free\"));\n  }, [isAuthed]);\n\n  useEffect(() => {\n    if (!isAuthed) return;\n    fetch(\"/api/analytics/me\")\n      .then((r) => r.json())\n      .then((d) => setAnalyticsSummary(d))\n      .catch(() => setAnalyticsSummary(null));\n    fetch(\"/api/account/learning-summary\")\n      .then((r) => r.json())\n      .then((d) => setLearningSummary(d))\n      .catch(() => setLearningSummary(null));\n    fetch(\"/api/credits/status\")\n      .then((r) => (r.ok ? r.json() : null))\n      .then((d) => {\n        setCredits(typeof d?.balance === \"number\" ? d.balance : 0);\n        setCreditsExpiry(typeof d?.expiresAt === \"string\" ? d.expiresAt : d?.expiresAt ? String(d.expiresAt) : null);\n        setCreditsUsage(Array.isArray(d?.usage) ? d.usage : []);\n      })\n      .catch(() => setCredits(0));\n  }, [isAuthed, consent.cpdDataUseAccepted]);\n\n  const saveConsent = async (next: ConsentState) => {\n    setSavingConsent(true);\n    setMessage(null);\n    try {\n      const res = await fetch(\"/api/account/consent\", {\n        method: \"PUT\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(next),\n      });\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}));\n        setMessage(data?.message || \"Could not save consent settings.\");\n      } else {\n        setMessage(\"Consent settings saved.\");\n      }\n    } catch {\n      setMessage(\"Could not save consent settings.\");\n    } finally {\n      setSavingConsent(false);\n    }\n  };\n\n  const requestDelete = async () => {\n    if (!user?.email) return;\n    setDeleting(true);\n    setMessage(null);\n    try {\n      const res = await fetch(\"/api/account/delete\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ confirmEmail: deleteConfirm }),\n      });\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok) {\n        setMessage(data?.message || \"Account deletion failed.\");\n        return;\n      }\n      setMessage(\"Account deleted. Signing out.\");\n      await signOut({ callbackUrl: \"/\" });\n    } catch {\n      setMessage(\"Account deletion failed.\");\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  if (status === \"loading\") {\n    return (\n      <Layout title=\"Account\" description=\"Your account and consent settings.\">\n        <main className=\"page\">\n          <header className=\"page-header\">\n            <p className=\"eyebrow\">Account</p>\n            <h1>Account</h1>\n            <p className=\"lead\">Loading.</p>\n          </header>\n        </main>\n      </Layout>\n    );\n  }\n\n  if (!isAuthed) {\n    return (\n      <Layout title=\"Account\" description=\"Sign in to manage your account.\">\n        <main className=\"page\">\n          <header className=\"page-header\">\n            <p className=\"eyebrow\">Account</p>\n            <h1>Account</h1>\n            <p className=\"lead\">Sign in to track progress, CPD hours, and tool usage.</p>\n          </header>\n          <section className=\"section\">\n            <Link href=\"/signin\" className=\"button primary\">\n              Sign in\n            </Link>\n          </section>\n        </main>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout title=\"Account\" description=\"Your account and consent settings.\">\n      <main className=\"page\">\n        <header className=\"page-header\">\n          <p className=\"eyebrow\">Account</p>\n          <h1>Account</h1>\n          <p className=\"lead\">Minimal identity. No passwords. No profile data required.</p>\n        </header>\n\n        <section className=\"section\">\n          <h2>Details</h2>\n          <ul className=\"list\">\n            <li>\n              <strong>Email</strong>: {user?.email}\n            </li>\n            <li>\n              <strong>Tier</strong>: {tierLabel}\n            </li>\n            <li>\n              <strong>Credits</strong>: {credits ?? 0}\n            </li>\n            <li>\n              <strong>Credits expiry</strong>: {creditsExpiry ? new Date(creditsExpiry).toLocaleDateString() : \"Not set yet\"}\n            </li>\n            {learningSummary?.displayName ? (\n              <li>\n                <strong>Name</strong>: {learningSummary.displayName}\n              </li>\n            ) : null}\n          </ul>\n          <p className=\"muted\">\n            Payments are not enabled yet. Learning stays free. Credits only apply to compute above the free tier. When payments launch, the minimum\n            top-up will be £10 and credits will expire after a set period.\n          </p>\n          {creditsUsage?.length ? (\n            <div className=\"mt-3 rounded-2xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-sm font-semibold text-slate-900\">Recent credit usage</h3>\n              <ul className=\"mt-2 space-y-1 text-sm text-slate-700\">\n                {creditsUsage.slice(0, 8).map((e) => (\n                  <li key={e.id}>\n                    {new Date(e.occurredAt || e.submittedAt || Date.now()).toLocaleDateString()} - {e.toolId} - {e.consumed} credits\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ) : null}\n          <div className=\"mt-4 flex flex-wrap gap-3\">\n            <Link href=\"/account/history\" className=\"button\">\n              View history\n            </Link>\n            <Link href=\"/my-cpd\" className=\"button\">\n              My CPD\n            </Link>\n            <button type=\"button\" className=\"button\" onClick={() => signOut({ callbackUrl: \"/\" })}>\n              Sign out\n            </button>\n          </div>\n        </section>\n\n        <section className=\"section\">\n          <h2>Learning insights</h2>\n          <p className=\"muted\">\n            These are learning signals from your progress, quizzes, and tool use. They are not ad tracking.\n          </p>\n          {analyticsSummary?.consented === false ? (\n            <p className=\"muted\">Turn on CPD tracking consent below to enable insights.</p>\n          ) : null}\n          <div className=\"mt-4 grid gap-3 sm:grid-cols-2\">\n            <div className=\"card\">\n              <h3 className=\"font-semibold\">Progress signals</h3>\n              <p className=\"muted\">\n                Sections: {state.sections.filter((s) => s.completed).length} completed\n              </p>\n              <p className=\"muted\">\n                Courses started: {learningSummary?.coursesStarted ?? 0} · Courses completed: {learningSummary?.coursesCompleted ?? 0}\n              </p>\n              <p className=\"muted\">Certificates earned: {learningSummary?.certificatesEarned ?? 0}</p>\n              <p className=\"muted\">Total CPD hours: {learningSummary?.totalCpdHours ?? 0}</p>\n            </div>\n            <div className=\"card\">\n              <h3 className=\"font-semibold\">Exploration</h3>\n              <p className=\"muted\">\n                Tools explored: {analyticsSummary?.summary?.toolsExplored ?? 0}\n              </p>\n              <p className=\"muted\">\n                Quizzes attempted: {analyticsSummary?.summary?.quizzesAttempted ?? 0}\n              </p>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"section\">\n          <h2>Consent</h2>\n          <p className=\"muted\">\n            These flags exist so your CPD record is defensible and your preferences are explicit. You can change them at any time.\n          </p>\n          <div className=\"mt-3 space-y-2\">\n            <label className=\"flex items-start gap-2\">\n              <input\n                type=\"checkbox\"\n                checked={consent.termsAccepted}\n                onChange={(e) => {\n                  const next = { ...consent, termsAccepted: e.target.checked };\n                  setConsent(next);\n                  saveConsent(next);\n                }}\n                disabled={savingConsent}\n              />\n              <span>\n                I accept the <Link href=\"/terms\" className=\"link\">terms</Link>.\n              </span>\n            </label>\n            <label className=\"flex items-start gap-2\">\n              <input\n                type=\"checkbox\"\n                checked={consent.privacyAccepted}\n                onChange={(e) => {\n                  const next = { ...consent, privacyAccepted: e.target.checked };\n                  setConsent(next);\n                  saveConsent(next);\n                }}\n                disabled={savingConsent}\n              />\n              <span>\n                I accept the <Link href=\"/privacy\" className=\"link\">privacy policy</Link>.\n              </span>\n            </label>\n            <label className=\"flex items-start gap-2\">\n              <input\n                type=\"checkbox\"\n                checked={consent.cpdDataUseAccepted}\n                onChange={(e) => {\n                  const next = { ...consent, cpdDataUseAccepted: e.target.checked };\n                  setConsent(next);\n                  saveConsent(next);\n                }}\n                disabled={savingConsent}\n              />\n              <span>I consent to CPD tracking being stored to my account.</span>\n            </label>\n          </div>\n          {message ? <p className=\"mt-3 text-sm\">{message}</p> : null}\n        </section>\n\n        <section className=\"section\">\n          <h2>Delete account</h2>\n          <p className=\"muted\">\n            This deletes your account and server-side records for progress and history. It does not affect Stripe records held by Stripe.\n          </p>\n          <p className=\"muted\">To confirm, type your email address and then delete.</p>\n          <div className=\"mt-3 flex flex-wrap items-center gap-3\">\n            <input\n              className=\"input\"\n              value={deleteConfirm}\n              onChange={(e) => setDeleteConfirm(e.target.value)}\n              placeholder=\"Email confirmation\"\n              aria-label=\"Confirm email for deletion\"\n            />\n            <button\n              type=\"button\"\n              className=\"button\"\n              disabled={deleting || deleteConfirm.trim().toLowerCase() !== String(user?.email || \"\").toLowerCase()}\n              onClick={requestDelete}\n            >\n              {deleting ? \"Deleting\" : \"Delete account\"}\n            </button>\n          </div>\n        </section>\n      </main>\n    </Layout>\n  );\n}\n\n\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[3]}}]
}