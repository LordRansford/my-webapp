;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="20044035-e19a-9cf0-d257-7cdd284207b5")}catch(e){}}();
module.exports=[672118,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(469124),e=a.i(831866);function f(a){return a.reduce((a,b)=>a+b.trust,0)/a.length}function g(a){return a.reduce((a,b)=>a+b.satisfaction,0)/a.length}function h(a){return a.reduce((a,b)=>a+b.compliance,0)/a.length}function i(a){return a.reduce((a,b)=>a+b.level,0)/a.length}function j(){return{version:1,xp:0,currentTier:"assistant",tierProgress:0,unlockedScenarios:["data-sharing"],unlockedStrategies:["balanced"],unlockedTools:[],personalBests:{},currentStreak:0,longestStreak:0,lastPlayedDate:"",completedChallenges:[],stats:{scenariosCompleted:0,averageTrust:0,averageStability:0,averageOutcomes:0,incidentsPrevented:0,stakeholderSatisfaction:0,scenarioTypeStats:{}}}}a.i(260054);var k=a.i(389158);a.i(671016);var l=a.i(682313),m=a.i(485827);a.i(264057);var n=a.i(648309);a.i(126482);var o=a.i(196613);a.i(649317);var p=a.i(301944);a.i(930929);var q=a.i(103121),r=a.i(550165),s=a.i(132333),t=a.i(442299);a.i(896088);var u=a.i(129739),v=a.i(606346);let w={id:"governance-simulator",title:"Governance Simulator",description:"Make governance decisions under uncertainty",category:"educational",modes:["solo","daily"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:20,tutorialAvailable:!0},x="governance-simulator";function y(){let[a,y]=(0,c.useState)("idle"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)({}),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null);(0,c.useEffect)(()=>{"idle"!==a||z||P()},[a,z]);let P=(0,c.useCallback)(()=>{try{var a,b,c,d,j,l,m;let n,o,p,q,r,s,t=(0,k.getOrGenerateTodayChallenge)(x),u=(a=t.seed,b="data-sharing",c="intermediate",n=new e.SeededRNG(a),o=function(a){switch(a){case"foundations":return{stakeholderCount:2,objectiveCount:2,riskCount:2,totalTurns:8,eventFrequency:.2};case"intermediate":return{stakeholderCount:3,objectiveCount:3,riskCount:3,totalTurns:10,eventFrequency:.3};case"advanced":return{stakeholderCount:4,objectiveCount:4,riskCount:4,totalTurns:12,eventFrequency:.4};case"expert":return{stakeholderCount:5,objectiveCount:5,riskCount:5,totalTurns:12,eventFrequency:.5}}}(c),p=function(a,b){let c=["data-team","security-team","compliance-team","business-team","executive"],d=[];for(let e=0;e<a;e++){let a=c[e%c.length];d.push({id:`stakeholder-${e}`,name:`${a} ${e+1}`,type:a,trust:70+20*b.next(),satisfaction:70+20*b.next(),compliance:80+15*b.next(),preferences:{controls:"security-team"===a?80:"data-team"===a?40:60,transparency:"executive"===a?90:60,autonomy:"data-team"===a?80:50}})}return d}(o.stakeholderCount,n),q=function(a,b,c){let d=["trust","compliance","innovation","cost"],e=[];for(let b=0;b<a;b++){let a=d[b%d.length];e.push({id:`objective-${b}`,name:`${a} Objective`,description:`Maintain ${a} above threshold`,type:a,target:75,current:70+10*c.next(),met:!1})}return e}(o.objectiveCount,0,n),r=function(a,b){let c=["privacy","security","compliance","innovation","cost"],d=[];for(let e=0;e<a;e++){let a=c[e%c.length];d.push({id:`risk-${e}`,name:`${a} Risk`,type:a,level:30+30*b.next(),trend:.33>b.next()?"increasing":.66>b.next()?"stable":"decreasing"})}return d}(o.riskCount,n),s=function(a,b,c){let d=[];for(let e=2;e<=a;e++)if(c.next()<b.eventFrequency){let a=["incident","scrutiny","budget-shock","stakeholder-feedback"],b=c.sample(a,1)[0];d.push({id:`event-${e}`,type:b,name:`${b} Event`,description:`${b} occurred in round ${e}`,round:e,severity:.3+.4*c.next(),affectedStakeholders:[],effect:{trustChange:(c.next()-.5)*20,riskChange:15*c.next()}})}return d}(o.totalTurns,o,n),d={id:`scenario-${a}`,name:({"data-sharing":"Data Sharing Governance","ai-governance":"AI Governance Challenge","cyber-controls":"Cybersecurity Controls",interoperability:"Interoperability Governance"})[b],description:(l=b,m=c,`Manage governance for ${l} scenario at ${m} difficulty.`),type:b,difficulty:c,totalTurns:o.totalTurns,stakeholders:p,objectives:q,initialRisks:r,events:s},j=t.seed,{scenario:d,currentTurn:0,totalTurns:d.totalTurns,governanceStrategy:{controls:60,transparency:70,autonomy:50,enforcement:60},stakeholders:d.stakeholders.map(a=>({...a})),risks:d.initialRisks.map(a=>({...a})),objectives:d.objectives.map(a=>({...a})),events:[...d.events],decisionHistory:[],metrics:{averageTrust:f(d.stakeholders),averageSatisfaction:g(d.stakeholders),averageCompliance:h(d.stakeholders),averageRisk:i(d.initialRisks),stability:100,outcomes:0},seed:j,status:"idle"});A(u),C({}),E(null),G(null),I([]),K(null),M(null)}catch(a){console.error("Error initializing challenge:",a)}},[]),Q=(0,c.useCallback)(()=>{z?(A({...z,status:"playing",currentTurn:1}),y("playing"),O(Date.now())):P()},[z,P]),R=(0,c.useCallback)((a,b)=>{C(c=>({...c,[a]:Math.max(0,Math.min(100,b))}))},[]),S=(0,c.useCallback)(()=>{if(!z||"playing"!==a)return;let b=function(a,b){var c,d,e,j,k,l,m;let n,o,p,q,r,s;if("playing"!==a.status)return a;let t={...a};b&&(t.governanceStrategy={...t.governanceStrategy,...b},t.decisionHistory.push({turn:t.currentTurn,strategyChange:b,reasoning:"Strategy adjustment"})),c=t.governanceStrategy,t.stakeholders=t.stakeholders.map(a=>{let b=1-Math.abs(c.controls-a.preferences.controls)/100,d=1-Math.abs(c.transparency-a.preferences.transparency)/100,e=1-Math.abs(c.autonomy-a.preferences.autonomy)/100,f=Math.max(0,Math.min(100,a.trust+((b+d+e)/3-.5)*10)),g=(f-a.trust)*.5,h=Math.max(0,Math.min(100,a.satisfaction+g)),i=(c.controls-50)*.2,j=Math.max(0,Math.min(100,a.compliance+i));return{...a,trust:f,satisfaction:h,compliance:j}}),d=t.governanceStrategy,t.risks=t.risks.map(a=>{let b=a.level;switch(a.type){case"privacy":case"security":case"compliance":b-=(d.controls-50)*.3;break;case"innovation":b+=(d.controls-50)*.2;break;case"cost":b+=(d.controls-50)*.1}let c=b>a.level?"increasing":b<a.level?"decreasing":"stable";return{...a,level:Math.max(0,Math.min(100,b)),trend:c}});let u=t.events.filter(a=>a.round===t.currentTurn);return u.length>0&&(t.stakeholders=function(a,b){let c=[...a];for(let a of b)for(let b of a.affectedStakeholders){let d=c.find(a=>a.id===b);d&&a.effect.trustChange&&(d.trust=Math.max(0,Math.min(100,d.trust+a.effect.trustChange)))}return c}(t.stakeholders,u),t.risks=function(a,b){let c=[...a];for(let a of b)a.effect.riskChange&&(c=c.map(b=>({...b,level:Math.max(0,Math.min(100,b.level+.5*a.effect.riskChange))})));return c}(t.risks,u)),t.objectives=(e=t).objectives.map(a=>{let b=a.current;switch(a.type){case"trust":b=e.metrics.averageTrust;break;case"compliance":b=e.metrics.averageCompliance;break;case"innovation":b=100-e.governanceStrategy.controls;break;case"cost":b=(e.governanceStrategy.controls+e.governanceStrategy.enforcement)/2}return{...a,current:b,met:b>=a.target}}),t.metrics={averageTrust:f((j=t).stakeholders),averageSatisfaction:g(j.stakeholders),averageCompliance:h(j.stakeholders),averageRisk:i(j.risks),stability:80,outcomes:(k=j).objectives.filter(a=>a.met).length/k.objectives.length*100},t.currentTurn+=1,t.currentTurn>t.totalTurns?(t.status="finished",n=(l=t).metrics.averageTrust>=70,o=l.objectives.every(a=>a.met),p=l.metrics.averageRisk<80,t.outcome=n&&o&&p?"win":"loss"):(q=(m=t).metrics.averageTrust<30,r=m.metrics.averageRisk>=90,s=m.metrics.outcomes<50,(q||r||s)&&(t.status="finished",t.outcome="loss")),t}(z,Object.keys(B).length>0?B:void 0);A(b),C({}),"finished"===b.status&&(y("finished"),T(b))},[z,a,B]),T=(0,c.useCallback)(a=>{var b;let c,d,e;if(!a.outcome||!N)return;let f=Date.now()-N,g="win"===a.outcome,h=a.metrics.averageTrust,i=a.metrics.outcomes,q=a.metrics.stability,r=g?Math.round(.4*h+.4*i+.2*q):Math.round(.3*h+.3*i),s=(0,l.generateTodayChallengeCode)(x,a.seed);(0,m.storeChallengeCode)(s),E(s);let t=(0,u.calculateBaseXP)({win:g,score:r,efficiency:(h+i)/2,time:f,difficulty:a.scenario.difficulty,tier:j().currentTier}),w=(0,n.getStreakDataForGame)(x),y=(0,u.createRewardContext)({gameId:x,seed:a.seed,baseXP:t,performance:{score:r,efficiency:(h+i)/2,time:f},streak:w.currentStreak,tier:j().currentTier}),z=(0,v.generateRewardResult)(y),A=(b=j(),c={...b},c.stats.scenariosCompleted+=1,c.stats.averageTrust=(c.stats.averageTrust*(c.stats.scenariosCompleted-1)+a.metrics.averageTrust)/c.stats.scenariosCompleted,c.stats.averageStability=(c.stats.averageStability*(c.stats.scenariosCompleted-1)+a.metrics.stability)/c.stats.scenariosCompleted,c.stats.averageOutcomes=(c.stats.averageOutcomes*(c.stats.scenariosCompleted-1)+a.metrics.outcomes)/c.stats.scenariosCompleted,d=`scenario-${a.seed}`,(e=c.personalBests[d])&&!(r>e.bestScore)||(c.personalBests[d]={bestScore:r,bestTrust:a.metrics.averageTrust,bestStability:a.metrics.stability,bestOutcomes:a.metrics.outcomes}),c);A.xp=z.totalXP;let B={score:r,time:f,scoreValue:r,timestamp:Date.now()};K(B),G((0,p.submitScore)(s.code,B)),(0,k.completeTodayChallenge)(x,{score:r,time:f,scoreValue:r}),(0,n.updateStreakForGame)(x,!0),I((0,o.checkAndUnlockAchievements)({gameId:x,currentStreak:w.currentStreak+1,gamesCompleted:A.stats.scenariosCompleted,score:r,time:f}).newlyUnlocked),M(function(a){let b=[],c=[],d=[];for(let c of a.decisionHistory){let a="neutral";b.push({turn:c.turn,description:`Changed strategy: ${Object.keys(c.strategyChange).join(", ")}`,impact:a,reasoning:"Strategy change had neutral impact"})}let e=a.stakeholders.filter(a=>a.trust<50);e.length>0&&c.push({turn:a.currentTurn,description:`${e.length} stakeholders have low trust (<50)`,cost:"Reduced stakeholder satisfaction and compliance",recommendation:"Adjust governance strategy to better align with stakeholder preferences"});let f=a.risks.filter(a=>a.level>70);f.length>0&&c.push({turn:a.currentTurn,description:`${f.length} risks are high (>70)`,cost:"Increased vulnerability to incidents",recommendation:"Increase controls or adjust strategy to mitigate risks"}),a.metrics.averageTrust<60&&d.push({type:"stakeholder",description:"Improve stakeholder trust by aligning governance with preferences",rationale:`Average trust is ${a.metrics.averageTrust.toFixed(1)}, below target of 70`}),a.metrics.averageRisk>60&&d.push({type:"risk-management",description:"Increase controls to reduce risk levels",rationale:`Average risk is ${a.metrics.averageRisk.toFixed(1)}, above acceptable threshold`});let g="win"===a.outcome?`Successfully maintained governance with ${a.metrics.averageTrust.toFixed(1)}% average trust and ${a.metrics.outcomes.toFixed(1)}% outcome achievement.`:`Failed to maintain governance. Trust dropped to ${a.metrics.averageTrust.toFixed(1)}% or outcomes fell to ${a.metrics.outcomes.toFixed(1)}%.`;return{keyDecisions:b.slice(0,3),mistakes:c.slice(0,3),recommendations:d,summary:g}}(a))},[N]),U=(0,c.useCallback)(()=>{y("idle"),A(null),C({}),E(null),G(null),I([]),K(null),M(null),O(null)},[]),V=z?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Turn"}),(0,b.jsxs)("div",{className:"text-lg font-bold",children:[z.currentTurn," / ",z.totalTurns]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Average Trust"}),(0,b.jsxs)("div",{className:`text-lg font-bold ${z.metrics.averageTrust>=70?"text-green-600":z.metrics.averageTrust>=50?"text-yellow-600":"text-red-600"}`,children:[Math.round(z.metrics.averageTrust),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Average Risk"}),(0,b.jsxs)("div",{className:`text-lg font-bold ${z.metrics.averageRisk<50?"text-green-600":z.metrics.averageRisk<70?"text-yellow-600":"text-red-600"}`,children:[Math.round(z.metrics.averageRisk),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Outcomes"}),(0,b.jsxs)("div",{className:"text-lg font-bold",children:[Math.round(z.metrics.outcomes),"%"]})]})]}):null;return(0,b.jsx)(d.default,{config:w,status:a,onStart:Q,onReset:U,rightPanel:V,children:(0,b.jsx)("div",{className:"p-4",children:z?"idle"===a?(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:z.scenario.name}),(0,b.jsx)("p",{className:"text-slate-600",children:z.scenario.description}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Stakeholders:"})," ",z.stakeholders.length]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Objectives:"})," ",z.objectives.length]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Turns:"})," ",z.totalTurns]})]}),(0,b.jsx)("button",{onClick:Q,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Simulation"})]}):"playing"===a||"finished"===a?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Stakeholders"}),(0,b.jsx)("div",{className:"space-y-2",children:z.stakeholders.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-slate-600",children:a.type})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-600",children:"Trust"}),(0,b.jsxs)("div",{className:`font-bold ${a.trust>=70?"text-green-600":a.trust>=50?"text-yellow-600":"text-red-600"}`,children:[Math.round(a.trust),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-600",children:"Satisfaction"}),(0,b.jsxs)("div",{className:"font-bold",children:[Math.round(a.satisfaction),"%"]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Governance Strategy"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-900",children:["Controls: ",z.governanceStrategy.controls]}),"playing"===a&&(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:B.controls??z.governanceStrategy.controls,onChange:a=>R("controls",parseInt(a.target.value)),className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-900",children:["Transparency: ",z.governanceStrategy.transparency]}),"playing"===a&&(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:B.transparency??z.governanceStrategy.transparency,onChange:a=>R("transparency",parseInt(a.target.value)),className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-900",children:["Autonomy: ",z.governanceStrategy.autonomy]}),"playing"===a&&(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:B.autonomy??z.governanceStrategy.autonomy,onChange:a=>R("autonomy",parseInt(a.target.value)),className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-900",children:["Enforcement: ",z.governanceStrategy.enforcement]}),"playing"===a&&(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:B.enforcement??z.governanceStrategy.enforcement,onChange:a=>R("enforcement",parseInt(a.target.value)),className:"w-full"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Objectives"}),(0,b.jsx)("div",{className:"space-y-2",children:z.objectives.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:a.name})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 bg-slate-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full ${a.met?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(100,a.current/a.target*100)}%`}})}),(0,b.jsxs)("div",{className:"text-sm font-medium w-16 text-right",children:[Math.round(a.current)," / ",a.target]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Risks"}),(0,b.jsx)("div",{className:"space-y-2",children:z.risks.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:`text-sm font-medium ${a.level<50?"text-green-600":a.level<70?"text-yellow-600":"text-red-600"}`,children:[Math.round(a.level),"% (",a.trend,")"]})]},a.id))})]}),"playing"===a&&(0,b.jsxs)("button",{onClick:S,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:["Confirm Turn ",z.currentTurn]}),"finished"===a&&D&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:`text-3xl font-bold mb-2 ${"win"===z.outcome?"text-green-600":"text-red-600"}`,children:"win"===z.outcome?"Success!":"Failed"}),(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Trust: ",Math.round(z.metrics.averageTrust),"% | Outcomes: ",Math.round(z.metrics.outcomes),"%"]})]}),(0,b.jsx)(q.ChallengeCodeShare,{code:D,score:J?.score||0}),F&&(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(r.ScoreComparisonDisplay,{comparison:F})}),(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(t.LeaderboardView,{challengeCode:D.code,playerScore:J||void 0})}),H.length>0&&(0,b.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:(0,b.jsx)(s.AchievementDisplay,{achievementIds:H,compact:!0})}),L&&(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Analysis"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Summary"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:L.summary})]}),L.recommendations.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900 mb-1",children:"Recommendations"}),(0,b.jsx)("ul",{className:"text-sm text-slate-600 list-disc list-inside space-y-1",children:L.recommendations.map((a,c)=>(0,b.jsx)("li",{children:a.description},c))})]})]})]}),(0,b.jsx)("button",{onClick:U,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"New Challenge"})]})]}):null:(0,b.jsx)("div",{className:"text-center text-slate-600",children:"Loading scenario..."})})})}a.s(["default",()=>y],672118)}];

//# debugId=20044035-e19a-9cf0-d257-7cdd284207b5
//# sourceMappingURL=src_lib_games_games_governance-simulator_GovernanceSimulator_tsx_a987d3a0._.js.map