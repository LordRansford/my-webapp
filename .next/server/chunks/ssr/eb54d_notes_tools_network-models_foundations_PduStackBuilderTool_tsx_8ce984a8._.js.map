{
  "version": 3,
  "sources": [],
  "debugId": "fee1b81c-9c9b-146b-585f-003b79329a8a",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/notes/tools/network-models/foundations/PduStackBuilderTool.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\ntype LayerRow = {\n  layer: string;\n  pdu: string;\n  whatItAdds: string;\n  whatToObserve: string;\n};\n\ntype Scenario = {\n  id: string;\n  title: string;\n  stack: LayerRow[];\n  note: string;\n};\n\nconst SCENARIOS: Scenario[] = [\n  {\n    id: \"https\",\n    title: \"Load an HTTPS page\",\n    note: \"HTTPS is HTTP inside TLS over TCP. You can observe the full flow using browser DevTools without special tools.\",\n    stack: [\n      {\n        layer: \"Application\",\n        pdu: \"HTTP request and response\",\n        whatItAdds: \"Method, path, headers, body. This is what your program thinks it is sending.\",\n        whatToObserve: \"DevTools Network shows request headers, status codes, and timing.\",\n      },\n      {\n        layer: \"Security\",\n        pdu: \"TLS records\",\n        whatItAdds: \"Encryption and integrity. Certificates and key agreement during the handshake.\",\n        whatToObserve: \"DevTools Security panel. Certificate details. Handshake timing.\",\n      },\n      {\n        layer: \"Transport\",\n        pdu: \"TCP segments\",\n        whatItAdds: \"Ports, sequence numbers, acknowledgements, retransmission, flow control.\",\n        whatToObserve: \"Connection setup timing. Resets. Retransmissions if the link is unstable.\",\n      },\n      {\n        layer: \"Internet\",\n        pdu: \"IP packets\",\n        whatItAdds: \"Source and destination IP. TTL. Routing across networks.\",\n        whatToObserve: \"Traceroute style hop behaviour. MTU related symptoms. Packet loss patterns.\",\n      },\n      {\n        layer: \"Link\",\n        pdu: \"Frames\",\n        whatItAdds: \"Local delivery using MAC addresses. Framing and checks at the local link.\",\n        whatToObserve: \"ARP or NDP resolution when the local destination is unknown.\",\n      },\n      {\n        layer: \"Physical\",\n        pdu: \"Bits and signals\",\n        whatItAdds: \"Electrical or radio signalling. No meaning until upper layers interpret it.\",\n        whatToObserve: \"Link up or down. Wi Fi quality. Cable issues.\",\n      },\n    ],\n  },\n  {\n    id: \"dns\",\n    title: \"Resolve a domain name\",\n    note: \"DNS is usually UDP. When responses are too large or for some operations, DNS uses TCP.\",\n    stack: [\n      {\n        layer: \"Application\",\n        pdu: \"DNS query and response\",\n        whatItAdds: \"A question section and answer section. Record types such as A, AAAA, CNAME.\",\n        whatToObserve: \"Resolver logs, OS resolver behaviour, and repeatability with dig or nslookup.\",\n      },\n      {\n        layer: \"Transport\",\n        pdu: \"UDP datagrams\",\n        whatItAdds: \"Ports and lightweight delivery. No retransmission at this layer.\",\n        whatToObserve: \"Timeouts. Retries. Packet loss. Fragmentation issues with large responses.\",\n      },\n      {\n        layer: \"Internet\",\n        pdu: \"IP packets\",\n        whatItAdds: \"Routing and addressing across networks.\",\n        whatToObserve: \"Path instability and loss. VPN routing conflicts.\",\n      },\n      {\n        layer: \"Link\",\n        pdu: \"Frames\",\n        whatItAdds: \"Local delivery for the next hop.\",\n        whatToObserve: \"Local ARP issues. Wi Fi roaming delays.\",\n      },\n      {\n        layer: \"Physical\",\n        pdu: \"Bits and signals\",\n        whatItAdds: \"Radio or cable transport.\",\n        whatToObserve: \"Link quality. Noise. Drops.\",\n      },\n    ],\n  },\n];\n\nexport default function PduStackBuilderTool() {\n  const [scenarioId, setScenarioId] = useState<string>(SCENARIOS[0].id);\n  const scenario = useMemo(() => SCENARIOS.find((s) => s.id === scenarioId) || SCENARIOS[0], [scenarioId]);\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60\">\n      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n        <div>\n          <div className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Scenario</div>\n          <div className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">{scenario.title}</div>\n        </div>\n        <div className=\"w-full sm:w-72\">\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Pick a flow</label>\n          <select\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n            value={scenarioId}\n            onChange={(e) => setScenarioId(e.target.value)}\n          >\n            {SCENARIOS.map((s) => (\n              <option key={s.id} value={s.id}>\n                {s.title}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700 dark:border-slate-800 dark:bg-slate-950/40 dark:text-slate-200\">\n        {scenario.note}\n      </div>\n\n      <div className=\"mt-4 overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800\">\n        <div className=\"grid grid-cols-1 divide-y divide-slate-200 dark:divide-slate-800\">\n          {scenario.stack.map((row) => (\n            <div key={row.layer} className=\"p-3\">\n              <div className=\"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between\">\n                <div className=\"font-semibold text-slate-900 dark:text-slate-100\">{row.layer}</div>\n                <div className=\"font-mono text-sm text-slate-700 dark:text-slate-200\">{row.pdu}</div>\n              </div>\n              <div className=\"mt-2 grid gap-2 sm:grid-cols-2\">\n                <div className=\"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200\">\n                  <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">What it adds</div>\n                  <div className=\"mt-1\">{row.whatItAdds}</div>\n                </div>\n                <div className=\"rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200\">\n                  <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">What to observe</div>\n                  <div className=\"mt-1\">{row.whatToObserve}</div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"mt-4 text-sm text-slate-600 dark:text-slate-300\">\n        If you can name the PDU and one observable signal at each boundary, you can troubleshoot without guessing.\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}