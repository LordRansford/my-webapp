{
  "version": 3,
  "sources": [],
  "debugId": "c6d04c3e-ed4a-c197-71cf-13b361696984",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/music.ts","../../../../src/components/donations/DonateButton.tsx","../../../../src/components/Layout.js","../../../../src/lib/testingMode.ts","../../../../src/components/TestingModeBanner.jsx","../../../../src/components/spotify/MusicControl.tsx","../../../../src/components/spotify/SpotifyMiniPlayerMount.tsx","../../../../src/components/Header.tsx","../../../../src/components/BrandLogo.tsx","../../../../src/components/studios/CreditBalanceWidget.tsx","../../../../src/components/Footer.tsx","../../../../src/games/engine/persist.ts","../../../../src/games/seed.ts","../../../../src/games/progress.ts","../../../../src/components/navigation/AppShell.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Music\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxOFY1bDEyLTJ2MTMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjE4IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTYiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/music\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Music = createLucideIcon('Music', [\n  ['path', { d: 'M9 18V5l12-2v13', key: '1jmyc2' }],\n  ['circle', { cx: '6', cy: '18', r: '3', key: 'fqmcym' }],\n  ['circle', { cx: '18', cy: '16', r: '3', key: '1hluhg' }],\n]);\n\nexport default Music;\n"," \"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport React, { useState } from \"react\";\n\nconst DonationModal = dynamic(() => import(\"./DonationModal\"), { ssr: false, loading: () => null });\n\ntype DonateButtonProps = {\n  label?: string;\n  className?: string;\n};\n\nexport default function DonateButton({ label = \"Support this work\", className }: DonateButtonProps) {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        onClick={() => setOpen(true)}\n        className={`inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1.5 text-sm font-semibold text-slate-800 shadow-sm transition hover:border-slate-400 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${className || \"\"}`}\n        aria-haspopup=\"dialog\"\n      >\n        <span>{label}</span>\n      </button>\n      {open ? <DonationModal open={open} onClose={() => setOpen(false)} /> : null}\n    </>\n  );\n}\n","import Head from \"next/head\";\nimport Link from \"next/link\";\nimport TestingModeBanner from \"@/components/TestingModeBanner\";\nimport SpotifyMiniPlayerMount from \"@/components/spotify/SpotifyMiniPlayerMount\";\nimport AppShell from \"@/components/navigation/AppShell\";\nexport default function Layout({\n  children,\n  title = \"Ransford's Notes\",\n  description = \"Demystifying data, digitalisation, AI, cybersecurity, and engineering with hands-on tools.\",\n}) {\n  return (\n    <>\n      <Head>\n        <title>{title}</title>\n        <meta name=\"description\" content={description} />\n      </Head>\n\n      <TestingModeBanner />\n      <AppShell>\n        {children}\n      </AppShell>\n      <SpotifyMiniPlayerMount />\n\n      <style>{`\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n            scroll-behavior: auto !important;\n          }\n        }\n      `}</style>\n    </>\n  );\n}\n","/**\n * Temporary testing override.\n *\n * When enabled, access checks should treat everything as \"allowed\" so the site can be QA tested\n * on preview/prod environments without deleting or weakening the underlying access model.\n *\n * Turn off by removing the env var or setting it to \"false\".\n */\nexport const TESTING_MODE_ENABLED =\n  process.env.NEXT_PUBLIC_TESTING_MODE === \"true\";\n\nexport type TestingOverrideDecision =\n  | { allowed: true; reason: \"testing-mode\" }\n  | { allowed: false; reason: \"disabled\" };\n\n/**\n * Single source of truth for the temporary QA/testing override.\n * Do not fake roles or delete access logic — just return early when enabled.\n */\nexport function getTestingOverrideDecision(): TestingOverrideDecision {\n  if (process.env.NEXT_PUBLIC_TESTING_MODE === \"true\") {\n    return { allowed: true, reason: \"testing-mode\" };\n  }\n  return { allowed: false, reason: \"disabled\" };\n}\n\n\n\n","import { getTestingOverrideDecision } from \"@/lib/testingMode\";\n\nexport default function TestingModeBanner() {\n  const { allowed } = getTestingOverrideDecision();\n  if (!allowed) return null;\n\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      className=\"border-b border-amber-200 bg-amber-50 text-amber-900\"\n    >\n      <div className=\"mx-auto flex max-w-6xl items-center justify-between gap-3 px-4 py-2\">\n        <p className=\"m-0 text-sm font-semibold\">Testing mode is enabled. All pages are temporarily unlocked.</p>\n        <span className=\"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-900 ring-1 ring-amber-200\">\n          NEXT_PUBLIC_TESTING_MODE=true\n        </span>\n      </div>\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { useMusic } from \"./MusicProvider\";\nimport { parseSpotifyUrl, isValidSpotifyUrl } from \"@/lib/spotify/urlConverter\";\nimport { Music, X, HelpCircle, Check, AlertCircle } from \"lucide-react\";\n\ninterface CuratedPlaylist {\n  id: string;\n  title: string;\n  description: string;\n  url: string;\n  resourceType: \"playlist\" | \"album\";\n}\n\n// Curated playlists - focus music for study/work\nconst CURATED_PLAYLISTS: CuratedPlaylist[] = [\n  {\n    id: \"focus-instrumental\",\n    title: \"Focus Instrumental\",\n    description: \"Calm instrumental tracks for deep work\",\n    url: \"https://open.spotify.com/playlist/37i9dQZF1DX4sWSpwq3LiO\",\n    resourceType: \"playlist\",\n  },\n  {\n    id: \"lofi-study\",\n    title: \"Lo-Fi Study Beats\",\n    description: \"Chill beats for studying\",\n    url: \"https://open.spotify.com/playlist/37i9dQZF1DWWQRKXabpuS2\",\n    resourceType: \"playlist\",\n  },\n  {\n    id: \"ambient-focus\",\n    title: \"Ambient Focus\",\n    description: \"Atmospheric sounds for concentration\",\n    url: \"https://open.spotify.com/playlist/37i9dQZF1DX6J5NfMJS675\",\n    resourceType: \"playlist\",\n  },\n];\n\nexport default function MusicControl() {\n  const { currentEmbed, setEmbedFromUrl, clearEmbed, isVisible, setIsVisible } = useMusic();\n  const [showInput, setShowInput] = useState(false);\n  const [urlInput, setUrlInput] = useState(\"\");\n  const [urlError, setUrlError] = useState<string | null>(null);\n  const [showHelp, setShowHelp] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (showInput && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [showInput]);\n\n  const handleUrlSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setUrlError(null);\n\n    if (!urlInput.trim()) {\n      setUrlError(\"Please enter a Spotify URL\");\n      return;\n    }\n\n    const success = setEmbedFromUrl(urlInput.trim());\n    if (success) {\n      setUrlInput(\"\");\n      setShowInput(false);\n    } else {\n      setUrlError(\"Invalid Spotify URL. Please use a track, album, or playlist URL from open.spotify.com\");\n    }\n  };\n\n  const handlePlaylistSelect = (playlist: CuratedPlaylist) => {\n    const success = setEmbedFromUrl(playlist.url);\n    if (!success) {\n      setUrlError(\"Failed to load playlist\");\n    } else {\n      setShowInput(false);\n    }\n  };\n\n  const handleToggle = () => {\n    if (isVisible && currentEmbed) {\n      setIsVisible(false);\n    } else if (currentEmbed) {\n      setIsVisible(true);\n    } else {\n      setShowInput(true);\n    }\n  };\n\n  if (!isVisible && !currentEmbed && !showInput) {\n    // Collapsed state - show minimal button at top left\n    return (\n      <div className=\"fixed top-4 left-4 z-30\">\n        <button\n          type=\"button\"\n          onClick={() => setShowInput(true)}\n          className=\"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors\"\n          aria-label=\"Open music player\"\n        >\n          <Music className=\"h-4 w-4 text-[var(--text-muted)]\" aria-hidden=\"true\" />\n          <span className=\"text-sm font-medium text-[var(--text-body)]\">Music</span>\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed top-4 left-4 z-30 max-w-[92vw] sm:max-w-md\">\n      <div className=\"rounded-2xl border border-[color:var(--line)] bg-[var(--surface)] p-4 shadow-sm\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between gap-3 mb-3\">\n          <div className=\"flex items-center gap-2\">\n            <Music className=\"h-4 w-4 text-[var(--text-muted)]\" aria-hidden=\"true\" />\n            <p className=\"m-0 text-xs font-semibold uppercase tracking-wide text-[var(--text-muted)]\">Music</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => setShowHelp(!showHelp)}\n              className=\"rounded-full p-1.5 text-[var(--text-muted)] hover:bg-[var(--surface-2)] hover:text-[var(--text-body)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2\"\n              aria-label=\"Show help\"\n              aria-expanded={showHelp}\n            >\n              <HelpCircle className=\"h-4 w-4\" aria-hidden=\"true\" />\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => {\n                setShowInput(false);\n                setIsVisible(false);\n                if (!currentEmbed) {\n                  clearEmbed();\n                }\n              }}\n              className=\"rounded-full p-1.5 text-[var(--text-muted)] hover:bg-[var(--surface-2)] hover:text-[var(--text-body)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2\"\n              aria-label=\"Close\"\n            >\n              <X className=\"h-4 w-4\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Help/Info UI */}\n        {showHelp && (\n          <div className=\"mb-4 rounded-xl border border-[color:var(--line)] bg-[var(--surface-2)] p-3 text-xs text-[var(--text-muted)] space-y-2\">\n            <p className=\"font-semibold text-[var(--text-body)]\">About Spotify Music</p>\n            <p>\n              This player uses Spotify&apos;s official embed only. No SDK, no OAuth, no Premium required. \n              Paste any Spotify track, album, or playlist URL to play.\n            </p>\n            <p>\n              <strong>Note:</strong> Playback may reset when you navigate between pages. This is expected behavior \n              with embedded players.\n            </p>\n            <p>\n              This feature is compliant under monetisation and does not require Spotify Premium. \n              All playback is handled by Spotify&apos;s embed player.\n            </p>\n          </div>\n        )}\n\n        {/* URL Input Form */}\n        {showInput && (\n          <div className=\"mb-3 space-y-3\">\n            <form onSubmit={handleUrlSubmit} className=\"space-y-2\">\n              <label htmlFor=\"spotify-url\" className=\"block text-xs font-medium text-[var(--text-body)]\">\n                Paste Spotify URL\n              </label>\n              <div className=\"flex gap-2\">\n                <input\n                  ref={inputRef}\n                  id=\"spotify-url\"\n                  type=\"text\"\n                  value={urlInput}\n                  onChange={(e) => {\n                    setUrlInput(e.target.value);\n                    setUrlError(null);\n                  }}\n                  placeholder=\"https://open.spotify.com/track/...\"\n                  className=\"flex-1 rounded-lg border border-[color:var(--line)] bg-[var(--surface)] px-3 py-2 text-sm text-[var(--text-body)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-0\"\n                  aria-invalid={urlError ? \"true\" : \"false\"}\n                  aria-describedby={urlError ? \"url-error\" : undefined}\n                />\n                <button\n                  type=\"submit\"\n                  className=\"rounded-lg bg-[var(--accent)] px-4 py-2 text-sm font-medium text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2\"\n                >\n                  Load\n                </button>\n              </div>\n              {urlError && (\n                <div id=\"url-error\" className=\"flex items-start gap-2 text-xs text-red-600\" role=\"alert\">\n                  <AlertCircle className=\"h-4 w-4 mt-0.5 flex-shrink-0\" aria-hidden=\"true\" />\n                  <span>{urlError}</span>\n                </div>\n              )}\n            </form>\n\n            {/* Curated Playlists */}\n            <div>\n              <p className=\"mb-2 text-xs font-medium text-[var(--text-body)]\">Or choose a curated playlist:</p>\n              <div className=\"space-y-2\">\n                {CURATED_PLAYLISTS.map((playlist) => (\n                  <button\n                    key={playlist.id}\n                    type=\"button\"\n                    onClick={() => handlePlaylistSelect(playlist)}\n                    className=\"w-full rounded-lg border border-[color:var(--line)] bg-[var(--surface)] p-3 text-left hover:bg-[var(--surface-2)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-0 transition-colors\"\n                  >\n                    <p className=\"text-sm font-medium text-[var(--text-body)]\">{playlist.title}</p>\n                    <p className=\"text-xs text-[var(--text-muted)] mt-0.5\">{playlist.description}</p>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Current Embed Display */}\n        {currentEmbed && isVisible && (\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Check className=\"h-4 w-4 text-[var(--accent-2)]\" aria-hidden=\"true\" />\n                <p className=\"text-xs text-[var(--text-muted)]\">\n                  {currentEmbed.resourceType === \"track\" && \"Track\"}\n                  {currentEmbed.resourceType === \"album\" && \"Album\"}\n                  {currentEmbed.resourceType === \"playlist\" && \"Playlist\"} playing\n                </p>\n              </div>\n              <button\n                type=\"button\"\n                onClick={clearEmbed}\n                className=\"text-xs text-[var(--text-muted)] hover:text-[var(--text-body)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2 rounded px-2 py-1\"\n              >\n                Change\n              </button>\n            </div>\n            <div className=\"rounded-xl overflow-hidden\">\n              <iframe\n                title=\"Spotify player\"\n                src={currentEmbed.embedUrl}\n                width=\"100%\"\n                height=\"152\"\n                style={{ border: \"0\", minHeight: \"152px\" }}\n                loading=\"lazy\"\n                allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\"\n                allowFullScreen\n              />\n            </div>\n            <p className=\"text-xs text-[var(--text-muted)]\">\n              Playback may reset on page navigation. This is expected with embedded players.\n            </p>\n          </div>\n        )}\n\n        {/* Toggle visibility when embed exists but is hidden */}\n        {currentEmbed && !isVisible && (\n          <button\n            type=\"button\"\n            onClick={() => setIsVisible(true)}\n            className=\"w-full rounded-lg bg-[var(--accent)] px-4 py-2 text-sm font-medium text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2\"\n          >\n            Show Player\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","\"use client\";\n\nimport MusicControl from \"@/components/spotify/MusicControl\";\n\nexport default function SpotifyMiniPlayerMount() {\n  return <MusicControl />;\n}\n\n\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useState, useRef, useEffect } from \"react\";\nimport BrandLogo from \"@/components/BrandLogo\";\nimport { signIn, useSession } from \"next-auth/react\";\nimport CreditBalanceWidget from \"@/components/studios/CreditBalanceWidget\";\n\ntype NavItem = { \n  label: string; \n  href: string;\n  submenu?: { label: string; href: string }[];\n};\n\nconst navItems: NavItem[] = [\n  { label: \"Courses\", href: \"/courses\" },\n  { \n    label: \"Studios\", \n    href: \"/studios/hub\",\n    submenu: [\n      { label: \"Unified Hub\", href: \"/studios/hub\" },\n      { label: \"AI Studio\", href: \"/studios/ai-hub\" },\n      { label: \"Dev Studio\", href: \"/dev-studio\" },\n      { label: \"Cyber Studio\", href: \"/cyber-studio\" },\n      { label: \"Data Studio\", href: \"/data-studio\" },\n      { label: \"Architecture Studio\", href: \"/studios/architecture-diagram-studio\" },\n    ]\n  },\n  { label: \"Tools\", href: \"/tools\" },\n  { \n    label: \"Games hub\", \n    href: \"/games/hub\",\n    submenu: [\n      { label: \"Games Hub\", href: \"/games/hub\" },\n      { label: \"All Games\", href: \"/games\" },\n      { label: \"Practice Games\", href: \"/practice\" },\n      { label: \"Thinking Gym\", href: \"/thinking-gym\" },\n    ]\n  },\n  { label: \"Updates\", href: \"/updates\" },\n  { label: \"About\", href: \"/about\" },\n];\n\nfunction NavItemWithDropdown({ \n  item, \n  active, \n  vertical, \n  onLinkClick \n}: { \n  item: NavItem; \n  active: boolean; \n  vertical: boolean; \n  onLinkClick: () => void;\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const navRef = useRef<HTMLDivElement>(null);\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (navRef.current && !navRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }\n  }, [isOpen]);\n\n  if (vertical) {\n    // Mobile: render as nested list\n    return (\n      <div className=\"space-y-2\">\n        <Link\n          href={item.href}\n          aria-current={active ? \"page\" : undefined}\n          data-active={active}\n          className={`rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base font-semibold transition ${\n            active \n              ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n              : \"text-slate-900 hover:bg-slate-100\"\n          } ${focusStyle}`}\n          onClick={onLinkClick}\n        >\n          {item.label}\n        </Link>\n        {item.submenu && (\n          <ul className=\"ml-4 space-y-1 border-l border-slate-200 pl-4\">\n            {item.submenu.map((subItem) => (\n              <li key={subItem.href}>\n                <Link\n                  href={subItem.href}\n                  className=\"block rounded-lg px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900 transition-colors\"\n                  onClick={onLinkClick}\n                >\n                  {subItem.label}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    );\n  }\n\n  // Desktop: render as dropdown (using existing nav-links styles for consistency)\n  return (\n    <div ref={navRef} className=\"relative\">\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n        aria-label={`${item.label} menu`}\n        className={`nav-links__trigger ${focusStyle} ${\n          active \n            ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n            : \"text-slate-900 bg-transparent hover:bg-slate-100 hover:text-slate-900\"\n        }`}\n      >\n        {item.label}\n        <span className=\"nav-links__chevron\" aria-hidden=\"true\">\n          {isOpen ? \"▲\" : \"▼\"}\n        </span>\n      </button>\n      {isOpen && item.submenu && (\n        <nav\n          className=\"nav-links__dropdown\"\n          role=\"menu\"\n          aria-label={`${item.label} submenu`}\n        >\n          {item.submenu.map((subItem) => (\n            <Link\n              key={subItem.href}\n              href={subItem.href}\n              className=\"nav-links__dropdown-item\"\n              role=\"menuitem\"\n              onClick={() => {\n                setIsOpen(false);\n                onLinkClick();\n              }}\n            >\n              {subItem.label}\n            </Link>\n          ))}\n        </nav>\n      )}\n    </div>\n  );\n}\n\nfunction NavLinks({ vertical = false, pathname, onLinkClick }: { vertical?: boolean; pathname: string | null; onLinkClick: () => void }) {\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  const isActive = (href: string) => {\n    if (!pathname) return false;\n    if (href === \"/\") return pathname === \"/\";\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <nav\n      aria-label={vertical ? \"Primary navigation (mobile)\" : \"Primary navigation\"}\n      className={vertical ? \"flex flex-col gap-2\" : \"nav-links hidden items-center gap-2 lg:flex\"}\n    >\n      {navItems.map((item) => {\n        const active = isActive(item.href);\n        if (item.submenu) {\n          return (\n            <NavItemWithDropdown\n              key={item.href}\n              item={item}\n              active={active}\n              vertical={vertical}\n              onLinkClick={onLinkClick}\n            />\n          );\n        }\n        return (\n          <Link\n            key={item.href}\n            href={item.href}\n            aria-current={active ? \"page\" : undefined}\n            data-active={active}\n            className={`${vertical ? \"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base\" : \"rounded-full px-3 py-2 text-sm\"} font-semibold transition ${\n              active \n                ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n                : \"text-slate-900 bg-transparent hover:bg-slate-100 hover:text-slate-900\"\n            } ${focusStyle}`}\n            onClick={onLinkClick}\n          >\n            {item.label}\n          </Link>\n        );\n      })}\n    </nav>\n  );\n}\n\nfunction AccountAction({ variant, isSignedIn, onActionClick }: { variant: \"desktop\" | \"mobile\"; isSignedIn: boolean; onActionClick: () => void }) {\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n  const base =\n    variant === \"mobile\"\n      ? \"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base font-semibold text-slate-900 shadow-sm\"\n      : `rounded-full px-4 py-2 text-sm font-semibold shadow-sm ${focusStyle}`;\n\n  if (isSignedIn) {\n    return (\n      <Link\n        href=\"/account\"\n        className={`${base} ${variant === \"desktop\" ? \"bg-slate-900 text-white hover:bg-slate-800\" : \"\"}`}\n        onClick={onActionClick}\n      >\n        Account\n      </Link>\n    );\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        onActionClick();\n        signIn();\n      }}\n      className={`${base} ${variant === \"desktop\" ? \"bg-slate-900 text-white hover:bg-slate-800\" : \"\"}`}\n    >\n      Sign in\n    </button>\n  );\n}\n\nexport default function Header() {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [hidden, setHidden] = useState(false);\n  const { data: session } = useSession();\n  const pathname = usePathname();\n  const isSignedIn = Boolean(session?.user);\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  useEffect(() => {\n    let lastY = typeof window !== \"undefined\" ? window.scrollY : 0;\n    let lastActivityAt = Date.now();\n    let hideTimeout: any = null;\n\n    const show = () => setHidden(false);\n    const scheduleHide = () => {\n      if (hideTimeout) window.clearTimeout(hideTimeout);\n      hideTimeout = window.setTimeout(() => {\n        // Do not hide if the mobile menu is open.\n        if (mobileOpen) return;\n        setHidden(true);\n      }, 1600);\n    };\n\n    const onActivity = () => {\n      lastActivityAt = Date.now();\n      show();\n      scheduleHide();\n    };\n\n    const onScroll = () => {\n      const y = window.scrollY || 0;\n      const delta = y - lastY;\n      lastY = y;\n      if (y < 10) {\n        setHidden(false);\n        return;\n      }\n      // If user scrolls up, reveal. If scrolling down, hide.\n      if (delta < -6) {\n        setHidden(false);\n        return;\n      }\n      if (delta > 10 && Date.now() - lastActivityAt > 250) {\n        setHidden(true);\n      }\n    };\n\n    window.addEventListener(\"mousemove\", onActivity, { passive: true });\n    window.addEventListener(\"touchstart\", onActivity, { passive: true });\n    window.addEventListener(\"keydown\", onActivity);\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    scheduleHide();\n\n    return () => {\n      if (hideTimeout) window.clearTimeout(hideTimeout);\n      window.removeEventListener(\"mousemove\", onActivity as any);\n      window.removeEventListener(\"touchstart\", onActivity as any);\n      window.removeEventListener(\"keydown\", onActivity as any);\n      window.removeEventListener(\"scroll\", onScroll as any);\n    };\n  }, [mobileOpen]);\n\n  return (\n    <header className={`site-header ${hidden ? \"site-header--hidden\" : \"\"}`} role=\"banner\">\n      <div className=\"site-header__inner\">\n        <div className=\"flex items-center gap-3\">\n          <button\n            type=\"button\"\n            className={`flex h-10 w-10 items-center justify-center rounded-lg border border-slate-200 lg:hidden ${focusStyle}`}\n            aria-label={mobileOpen ? \"Close navigation menu\" : \"Open navigation menu\"}\n            aria-expanded={mobileOpen}\n            onClick={() => setMobileOpen((prev) => !prev)}\n          >\n            <span className=\"sr-only\">Toggle navigation</span>\n            <div className=\"space-y-1\">\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n            </div>\n          </button>\n          <Link href=\"/\" className=\"brand rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\" onClick={() => setMobileOpen(false)}>\n            <span className=\"sr-only\">Ransford&apos;s Notes home</span>\n            <BrandLogo className=\"h-10 w-auto text-slate-900\" />\n          </Link>\n        </div>\n\n        <NavLinks pathname={pathname} onLinkClick={() => setMobileOpen(false)} />\n\n        <div className=\"hidden items-center gap-3 lg:flex\">\n          {isSignedIn && <CreditBalanceWidget compact />}\n          <AccountAction variant=\"desktop\" isSignedIn={isSignedIn} onActionClick={() => setMobileOpen(false)} />\n        </div>\n      </div>\n\n      {mobileOpen ? (\n        <div className=\"border-t border-[color:var(--line)] bg-[var(--surface)] px-4 py-4 lg:hidden\">\n          <NavLinks vertical pathname={pathname} onLinkClick={() => setMobileOpen(false)} />\n          <div className=\"mt-3 flex flex-col gap-2\">\n            <AccountAction variant=\"mobile\" isSignedIn={isSignedIn} onActionClick={() => setMobileOpen(false)} />\n          </div>\n        </div>\n      ) : null}\n    </header>\n  );\n}\n","export default function BrandLogo({\n  className = \"h-10 w-auto\",\n  title = \"Ransford’s Notes\",\n}: {\n  className?: string;\n  title?: string;\n}) {\n  return (\n    <svg\n      viewBox=\"0 0 1200 300\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      role=\"img\"\n      aria-label={title}\n      preserveAspectRatio=\"xMinYMid meet\"\n    >\n      <title>{title}</title>\n\n      {/* Laptop icon */}\n      <g transform=\"translate(40, 70)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"14\" strokeLinejoin=\"round\">\n        <rect x=\"0\" y=\"0\" width=\"260\" height=\"170\" rx=\"18\" />\n        <path d=\"M-10 190 H270\" strokeLinecap=\"round\" />\n        <rect x=\"18\" y=\"18\" width=\"224\" height=\"134\" rx=\"10\" strokeWidth=\"10\" opacity=\"0.85\" />\n      </g>\n\n      {/* Globe inside screen */}\n      <g transform=\"translate(170, 155)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"10\" opacity=\"0.95\">\n        <circle r=\"44\" />\n        <path d=\"M-44 0 H44\" />\n        <path d=\"M0 -44 V44\" />\n        <path d=\"M-28 -34 C-10 -10 -10 10 -28 34\" />\n        <path d=\"M28 -34 C10 -10 10 10 28 34\" />\n        <path d=\"M-44 -18 C-18 -10 18 -10 44 -18\" />\n        <path d=\"M-44 18 C-18 10 18 10 44 18\" />\n      </g>\n\n      {/* Wordmark */}\n      <g transform=\"translate(360, 105)\">\n        <text\n          x=\"0\"\n          y=\"0\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"72\"\n          fontWeight=\"800\"\n          fill=\"currentColor\"\n          letterSpacing=\"1\"\n        >\n          RANSFORD’S\n        </text>\n        <text\n          x=\"0\"\n          y=\"92\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"70\"\n          fontWeight=\"700\"\n          fill=\"currentColor\"\n        >\n          Notes\n        </text>\n      </g>\n\n      {/* Tagline */}\n      <g transform=\"translate(360, 250)\">\n        <text\n          x=\"0\"\n          y=\"0\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"44\"\n          fontStyle=\"italic\"\n          fontWeight=\"600\"\n        >\n          <tspan fill=\"#1d4ed8\">DemystifyTech</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#16a34a\">|</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#dc2626\">Experiment</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#16a34a\">|</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#6d28d9\">Innovate</tspan>\n        </text>\n      </g>\n    </svg>\n  );\n}\n\n\n","/**\n * Credit Balance Widget\n * \n * Displays current credit balance in navigation/header.\n * Shows balance, usage progress, and quick link to purchase.\n */\n\n\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport { CreditCard, Zap, TrendingUp, AlertCircle } from \"lucide-react\";\n\ninterface CreditBalance {\n  balance: number;\n  usage: {\n    daily: { used: number; cap: number; remaining: number; percentage: number };\n    monthly: { used: number; cap: number; remaining: number; percentage: number };\n  };\n  alerts: {\n    daily: boolean;\n    monthly: boolean;\n  };\n}\n\ninterface CreditBalanceWidgetProps {\n  compact?: boolean; // Compact mode for header\n  showDetails?: boolean; // Show usage details\n}\n\nexport default function CreditBalanceWidget({\n  compact = false,\n  showDetails = false,\n}: CreditBalanceWidgetProps) {\n  const { data: session, status } = useSession();\n  const [balance, setBalance] = useState<CreditBalance | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (status === \"authenticated\" && session?.user) {\n      fetchBalance();\n      // Refresh every 30 seconds\n      const interval = setInterval(fetchBalance, 30000);\n      return () => clearInterval(interval);\n    } else {\n      setLoading(false);\n    }\n  }, [status, session]);\n\n  async function fetchBalance() {\n    try {\n      const response = await fetch(\"/api/credits/balance\");\n      if (!response.ok) {\n        throw new Error(\"Failed to load balance\");\n      }\n      const data = await response.json();\n      setBalance(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : null);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Don't show for unauthenticated users\n  if (status !== \"authenticated\" || !session?.user) {\n    return null;\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center gap-2 text-sm text-slate-600\">\n        <Zap className=\"w-4 h-4 animate-pulse\" />\n        <span className=\"hidden sm:inline\">Loading...</span>\n      </div>\n    );\n  }\n\n  if (error || !balance) {\n    return (\n      <Link\n        href=\"/account/credits\"\n        className=\"flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900 transition-colors\"\n      >\n        <CreditCard className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Credits</span>\n      </Link>\n    );\n  }\n\n  const hasAlert = balance.alerts.daily || balance.alerts.monthly;\n\n  if (compact) {\n    return (\n      <Link\n        href=\"/account/credits\"\n        className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-200 hover:border-sky-300 transition-colors group\"\n      >\n        <Zap className={`w-4 h-4 ${hasAlert ? \"text-amber-500\" : \"text-sky-600\"}`} />\n        <span className=\"font-semibold text-slate-900\">\n          {balance.balance.toLocaleString()}\n        </span>\n        {hasAlert && (\n          <AlertCircle className=\"w-4 h-4 text-amber-500\" aria-label=\"Usage alert\" />\n        )}\n      </Link>\n    );\n  }\n\n  return (\n    <div className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <CreditCard className=\"w-5 h-5 text-sky-600\" />\n          <h3 className=\"font-semibold text-slate-900\">Credits</h3>\n        </div>\n        <Link\n          href=\"/account/credits\"\n          className=\"text-xs text-sky-600 hover:text-sky-700 font-medium\"\n        >\n          Manage →\n        </Link>\n      </div>\n\n      <div className=\"mb-4\">\n        <div className=\"flex items-baseline gap-2\">\n          <span className=\"text-3xl font-bold text-slate-900\">\n            {balance.balance.toLocaleString()}\n          </span>\n          <span className=\"text-sm text-slate-600\">credits</span>\n        </div>\n      </div>\n\n      {showDetails && (\n        <div className=\"space-y-3 mb-4\">\n          {/* Daily Usage */}\n          <div>\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className=\"text-xs font-medium text-slate-700\">Daily</span>\n              <span className=\"text-xs text-slate-600\">\n                {balance.usage.daily.used} / {balance.usage.daily.cap}\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-1.5\">\n              <div\n                className={`h-1.5 rounded-full transition-all ${\n                  balance.alerts.daily ? \"bg-amber-500\" : \"bg-sky-500\"\n                }`}\n                style={{ width: `${Math.min(100, balance.usage.daily.percentage)}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Monthly Usage */}\n          <div>\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className=\"text-xs font-medium text-slate-700\">Monthly</span>\n              <span className=\"text-xs text-slate-600\">\n                {balance.usage.monthly.used} / {balance.usage.monthly.cap}\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-1.5\">\n              <div\n                className={`h-1.5 rounded-full transition-all ${\n                  balance.alerts.monthly ? \"bg-amber-500\" : \"bg-sky-500\"\n                }`}\n                style={{ width: `${Math.min(100, balance.usage.monthly.percentage)}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {hasAlert && (\n        <div className=\"rounded-lg bg-amber-50 border border-amber-200 p-2 mb-3\">\n          <div className=\"flex items-start gap-2\">\n            <AlertCircle className=\"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0\" />\n            <p className=\"text-xs text-amber-800\">\n              {balance.alerts.daily && balance.alerts.monthly\n                ? \"Daily and monthly limits approaching\"\n                : balance.alerts.daily\n                ? \"Daily limit approaching\"\n                : \"Monthly limit approaching\"}\n            </p>\n          </div>\n        </div>\n      )}\n\n      <Link\n        href=\"/account/credits\"\n        className=\"block w-full text-center px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-semibold text-sm transition-colors\"\n      >\n        Purchase Credits\n      </Link>\n    </div>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport DonateButton from \"@/components/donations/DonateButton\";\nimport BrandLogo from \"@/components/BrandLogo\";\nimport { useEffect, useRef, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { PersistStore } from \"@/games/engine/persist\";\nimport { createGamesProgressStore } from \"@/games/progress\";\n\nexport default function Footer() {\n  const router = useRouter();\n  const storeRef = useRef<PersistStore | null>(null);\n  const holdTimer = useRef<number | null>(null);\n  const seq = useRef<string[]>([]);\n\n  useEffect(() => {\n    if (storeRef.current == null) {\n      storeRef.current = new PersistStore({ prefix: \"rn_games\", version: \"v1\" });\n    }\n  }, []);\n\n  const tryEnterDevRoom = useCallback(() => {\n    if (!storeRef.current) return;\n    const progress = createGamesProgressStore(storeRef.current);\n    if (!progress.tryUnlockDevRoom()) return;\n    router.push(\"/games/dev-room\");\n  }, [router]);\n\n  useEffect(() => {\n    // Konami-style sequence (documented in code comments only):\n    // ArrowUp, ArrowUp, ArrowDown, ArrowDown, ArrowLeft, ArrowRight, ArrowLeft, ArrowRight, b, a\n    const target = [\"ArrowUp\", \"ArrowUp\", \"ArrowDown\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\", \"ArrowLeft\", \"ArrowRight\", \"b\", \"a\"];\n    const onKeyDown = (e: KeyboardEvent) => {\n      seq.current.push(e.key);\n      if (seq.current.length > target.length) seq.current.shift();\n      const match = target.every((k, i) => seq.current[i] === k);\n      if (match) tryEnterDevRoom();\n    };\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [tryEnterDevRoom]);\n\n  const onHoldStart = () => {\n    if (holdTimer.current) window.clearTimeout(holdTimer.current);\n    holdTimer.current = window.setTimeout(() => {\n      tryEnterDevRoom();\n    }, 1200);\n  };\n  const onHoldEnd = () => {\n    if (holdTimer.current) window.clearTimeout(holdTimer.current);\n    holdTimer.current = null;\n  };\n\n  const footerNav = [\n    {\n      title: \"Learn\",\n      links: [\n        { label: \"All Courses\", href: \"/courses\" },\n        { label: \"Cybersecurity\", href: \"/cybersecurity\" },\n        { label: \"AI\", href: \"/ai\" },\n        { label: \"Software Architecture\", href: \"/software-architecture\" },\n        { label: \"Data\", href: \"/data\" },\n        { label: \"Digitalisation\", href: \"/digitalisation\" },\n        { label: \"CPD Tracking\", href: \"/cpd\" },\n        { label: \"My CPD\", href: \"/my-cpd\" },\n        { label: \"Blog Posts\", href: \"/posts\" },\n      ],\n    },\n    {\n      title: \"Build\",\n      links: [\n        { label: \"Studios Hub\", href: \"/studios/hub\" },\n        { label: \"All Tools\", href: \"/tools\" },\n        { label: \"Dashboards\", href: \"/dashboards\" },\n        { label: \"Templates\", href: \"/templates\" },\n      ],\n    },\n    {\n      title: \"Play\",\n      links: [\n        { label: \"All Games\", href: \"/games\" },\n        { label: \"Practice Games\", href: \"/practice\" },\n        { label: \"Play Hub\", href: \"/play\" },\n        { label: \"Thinking Gym\", href: \"/thinking-gym\" },\n      ],\n    },\n    {\n      title: \"Resources\",\n      links: [\n        { label: \"News & Updates\", href: \"/updates\" },\n        { label: \"About\", href: \"/about\" },\n        { label: \"Contact\", href: \"/contact\" },\n        { label: \"Accessibility\", href: \"/accessibility\" },\n        { label: \"Site Map\", href: \"/sitemap\" },\n        { label: \"Feedback\", href: \"/feedback\" },\n      ],\n    },\n  ];\n\n  const policyLinks = [\n    { label: \"Legal\", href: \"/trust-and-about\" },\n    { label: \"Privacy\", href: \"/privacy\" },\n    { label: \"Terms\", href: \"/terms\" },\n  ];\n\n  return (\n    <footer className=\"site-footer\" aria-label=\"Footer\">\n      <div className=\"site-footer__inner flex flex-col gap-6\">\n        <div className=\"flex flex-wrap items-start justify-between gap-6\">\n          <div className=\"max-w-md space-y-2\">\n            <button\n              type=\"button\"\n              onPointerDown={onHoldStart}\n              onPointerUp={onHoldEnd}\n              onPointerCancel={onHoldEnd}\n              onPointerLeave={onHoldEnd}\n              className=\"inline-flex items-center rounded-md\"\n              aria-label=\"Ransford's Notes logo\"\n            >\n              <BrandLogo className=\"h-10 w-auto text-slate-900\" />\n            </button>\n            <p className=\"muted text-xs leading-relaxed\">\n              Browser-native courses, tools, labs, and games built to stay readable, calm, and offline-capable. Clear inputs, clear\n              outputs, and no hidden mechanics.\n            </p>\n            <p className=\"muted text-xs leading-relaxed\">\n              CPD: structured objectives with conservative hour estimates and evidence-friendly outputs.\n            </p>\n          </div>\n\n          <div className=\"grid w-full max-w-3xl gap-4 sm:grid-cols-2 md:grid-cols-4\" role=\"navigation\" aria-label=\"Footer sitemap\">\n            {footerNav.map((section) => (\n              <div key={section.title} className=\"space-y-1.5\">\n                <p className=\"text-xs font-semibold text-slate-900 uppercase tracking-wide\">{section.title}</p>\n                <ul className=\"space-y-1 text-sm text-slate-700\">\n                  {section.links.map((link) => (\n                    <li key={link.href}>\n                      <Link className=\"hover:underline transition-colors\" href={link.href}>\n                        {link.label}\n                      </Link>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex flex-wrap items-center justify-between gap-3 border-t border-[color:var(--line)] pt-3 text-xs\">\n          <div className=\"flex flex-wrap items-center gap-3 font-semibold text-slate-800\">\n            <span>© {new Date().getFullYear()} RansfordsNotes</span>\n            {policyLinks.map((item) => (\n              <Link key={item.href} className=\"hover:underline transition-colors\" href={item.href}>\n                {item.label}\n              </Link>\n            ))}\n          </div>\n          <div className=\"flex flex-wrap items-center gap-3 text-slate-700\">\n            <Link className=\"hover:underline transition-colors\" href=\"/contact\">\n              Contact\n            </Link>\n            <Link className=\"hover:underline transition-colors\" href=\"/accessibility\">\n              Accessibility\n            </Link>\n            <Link className=\"hover:underline transition-colors\" href=\"/sitemap\">\n              Site Map\n            </Link>\n            <DonateButton />\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\n\n","type JsonValue = string | number | boolean | null | JsonValue[] | { [k: string]: JsonValue };\n\nexport class PersistStore {\n  private prefix: string;\n  private version: string;\n\n  constructor(opts: { prefix: string; version: string }) {\n    this.prefix = opts.prefix;\n    this.version = opts.version;\n  }\n\n  private key(k: string) {\n    return `${this.prefix}:${this.version}:${k}`;\n  }\n\n  get<T extends JsonValue>(k: string, fallback: T): T {\n    try {\n      const raw = window.localStorage.getItem(this.key(k));\n      if (!raw) return fallback;\n      return JSON.parse(raw) as T;\n    } catch {\n      return fallback;\n    }\n  }\n\n  set<T extends JsonValue>(k: string, v: T) {\n    try {\n      window.localStorage.setItem(this.key(k), JSON.stringify(v));\n    } catch {\n      // ignore (private mode / quota)\n    }\n  }\n}\n\n\n","export function utcDateId(d = new Date()): string {\n  // YYYY-MM-DD in UTC\n  return d.toISOString().slice(0, 10);\n}\n\nexport function hashStringToUint32(s: string): number {\n  // FNV-1a 32-bit\n  let h = 0x811c9dc5;\n  for (let i = 0; i < s.length; i += 1) {\n    h ^= s.charCodeAt(i);\n    h = Math.imul(h, 0x01000193);\n  }\n  return h >>> 0;\n}\n\nexport function mulberry32(seed: number) {\n  let t = seed >>> 0;\n  return function rand() {\n    t += 0x6d2b79f5;\n    let x = t;\n    x = Math.imul(x ^ (x >>> 15), x | 1);\n    x ^= x + Math.imul(x ^ (x >>> 7), x | 61);\n    return ((x ^ (x >>> 14)) >>> 0) / 4294967296;\n  };\n}\n\n\n","import { PersistStore } from \"@/games/engine/persist\";\nimport { utcDateId } from \"@/games/seed\";\n\nexport type DailyHistoryEntry = {\n  attempted: boolean;\n  completed: boolean;\n  completedAtMs?: number;\n};\n\nexport type GamesProgress = {\n  // achievements\n  charisTrophyUnlocked: boolean;\n  charisTrophyProgress: number;\n  nearPerfectRunDetected: boolean;\n  devRoomUnlocked: boolean;\n  devRoomEndSeen: boolean;\n  // daily\n  dailyHistory: Record<string, DailyHistoryEntry>;\n  // best runs\n  bestPlayerOneMs: number | null;\n};\n\nconst DEFAULT: GamesProgress = {\n  charisTrophyUnlocked: false,\n  charisTrophyProgress: 0,\n  nearPerfectRunDetected: false,\n  devRoomUnlocked: false,\n  devRoomEndSeen: false,\n  dailyHistory: {},\n  bestPlayerOneMs: null,\n};\n\nconst KEY = \"progress\";\nconst TROPHY_TARGET = 5;\nconst DEVROOM_DAILY_TARGET = 7;\n\nfunction countDailyCompleted(p: GamesProgress) {\n  return Object.values(p.dailyHistory).filter((x) => x?.completed).length;\n}\n\nexport function createGamesProgressStore(store: PersistStore) {\n  const read = (): GamesProgress => store.get(KEY, DEFAULT);\n  const write = (next: GamesProgress) => store.set(KEY, next);\n\n  const get = () => read();\n\n  const getDaily = (dateId = utcDateId()): DailyHistoryEntry => {\n    const p = read();\n    return p.dailyHistory[dateId] ?? { attempted: false, completed: false };\n  };\n\n  const markDailyAttempted = (dateId = utcDateId()) => {\n    const p = read();\n    const prev = p.dailyHistory[dateId] ?? { attempted: false, completed: false };\n    p.dailyHistory[dateId] = { ...prev, attempted: true };\n    write({ ...p });\n  };\n\n  const markDailyCompleted = (dateId = utcDateId(), completedAtMs?: number) => {\n    const p = read();\n    const prev = p.dailyHistory[dateId] ?? { attempted: false, completed: false };\n    p.dailyHistory[dateId] = { ...prev, attempted: true, completed: true, completedAtMs: completedAtMs ?? Date.now() };\n\n    if (!p.charisTrophyUnlocked) {\n      const nextProgress = Math.min(TROPHY_TARGET, (p.charisTrophyProgress ?? 0) + 1);\n      p.charisTrophyProgress = nextProgress;\n      if (nextProgress >= TROPHY_TARGET) p.charisTrophyUnlocked = true;\n    }\n\n    write({ ...p });\n  };\n\n  const setBestPlayerOneMs = (ms: number) => {\n    const p = read();\n    const prev = p.bestPlayerOneMs;\n    if (prev == null || ms > prev) {\n      p.bestPlayerOneMs = ms;\n      write({ ...p });\n    }\n  };\n\n  const markNearPerfectRunDetected = () => {\n    const p = read();\n    if (!p.nearPerfectRunDetected) {\n      p.nearPerfectRunDetected = true;\n      write({ ...p });\n    }\n  };\n\n  const tryUnlockDevRoom = () => {\n    const p = read();\n    if (p.devRoomUnlocked) return true;\n    const dailyCompleted = countDailyCompleted(p);\n    const ok = Boolean(p.charisTrophyUnlocked) && dailyCompleted >= DEVROOM_DAILY_TARGET && Boolean(p.nearPerfectRunDetected);\n    if (ok) {\n      p.devRoomUnlocked = true;\n      write({ ...p });\n      return true;\n    }\n    return false;\n  };\n\n  const getDailyCompletedCount = () => countDailyCompleted(read());\n\n  const markDevRoomEndSeen = () => {\n    const p = read();\n    if (!p.devRoomEndSeen) {\n      p.devRoomEndSeen = true;\n      write({ ...p });\n    }\n  };\n\n  return {\n    get,\n    getDaily,\n    markDailyAttempted,\n    markDailyCompleted,\n    setBestPlayerOneMs,\n    markNearPerfectRunDetected,\n    tryUnlockDevRoom,\n    getDailyCompletedCount,\n    markDevRoomEndSeen,\n    TROPHY_TARGET,\n    DEVROOM_DAILY_TARGET,\n  };\n}\n\n\n","\"use client\";\n\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport Breadcrumbs from \"@/components/navigation/Breadcrumbs\";\nimport type { BreadcrumbItem } from \"@/components/navigation/Breadcrumbs\";\nimport { BreadcrumbsProvider, useBreadcrumbsRegistry } from \"@/components/navigation/BreadcrumbsRegistry\";\nimport { ReactNode, useMemo } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\ntype AppShellProps = {\n  children: ReactNode;\n};\n\nexport function PageContainer({ children }: { children: ReactNode }) {\n  return (\n    <main id=\"main-content\" className=\"page-shell\" role=\"main\">\n      {children}\n    </main>\n  );\n}\n\nfunction buildBreadcrumbs(pathname: string): BreadcrumbItem[] {\n  const segments = pathname.split(\"/\").filter(Boolean);\n  const items: BreadcrumbItem[] = [{ label: \"Home\", href: \"/\" }];\n  let current = \"\";\n  segments.forEach((seg, idx) => {\n    current += `/${seg}`;\n    const label = seg.replace(/-/g, \" \");\n    items.push({ label: label.charAt(0).toUpperCase() + label.slice(1), href: idx === segments.length - 1 ? undefined : current });\n  });\n  return items;\n}\n\nfunction BreadcrumbsFallback() {\n  const { hasBreadcrumbs, items } = useBreadcrumbsRegistry();\n  const pathname = usePathname() || \"/\";\n  const auto = useMemo(() => buildBreadcrumbs(pathname), [pathname]);\n  if (pathname === \"/\" || hasBreadcrumbs) return null;\n  return <Breadcrumbs items={items && items.length ? items : auto} />;\n}\n\nexport default function AppShell({ children }: AppShellProps) {\n  return (\n    <BreadcrumbsProvider>\n      <div className=\"app-shell\">\n        <Header />\n        <div className=\"page-shell\">\n          <BreadcrumbsFallback />\n          <PageContainer>{children}</PageContainer>\n        </div>\n        <Footer />\n      </div>\n    </BreadcrumbsProvider>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}