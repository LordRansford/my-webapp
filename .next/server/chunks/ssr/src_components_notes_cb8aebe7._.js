;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b175864a-6983-740d-c825-9c01a4c981b6")}catch(e){}}();
module.exports=[854539,673498,a=>{"use strict";var b=a.i(127669);a.s(["use_tool_state",0,function({tool_id:a,initial_state:c}){let[d,e]=(0,b.useState)(c),[f,g]=(0,b.useState)(!1),h=(0,b.useRef)(c),i=(0,b.useMemo)(()=>null,[a]);async function j(a){let b=function(a,b){try{return JSON.parse(a)}catch{return null}}(await a.text(),0);b&&e(b)}return(0,b.useEffect)(()=>{},[a,i]),(0,b.useEffect)(()=>{},[d,a,f]),{state:d,set_state:e,reset:function(){e(h.current)},copy_share_link:function(){},export_json:function(){let b=new Blob([JSON.stringify(d,null,2)],{type:"application_json"}),c=URL.createObjectURL(b),e=document.createElement("a");e.href=c,e.download=`${a}_state.json`,e.click(),URL.revokeObjectURL(c)},import_json:j,is_ready:f}}],854539);var c=a.i(508171);a.s(["default",0,function({onReset:a,onCopy:b,onExport:d,onImport:e}){return(0,c.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[a?(0,c.jsx)("button",{onClick:a,className:"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200",children:"Reset"}):null,b?(0,c.jsx)("button",{onClick:b,className:"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200",children:"Copy link"}):null,d?(0,c.jsx)("button",{onClick:d,className:"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200",children:"Export"}):null,e?(0,c.jsxs)("label",{className:"inline-flex cursor-pointer items-center gap-1 rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus-within:ring focus-within:ring-blue-200",children:[(0,c.jsx)("span",{children:"Import"}),(0,c.jsx)("input",{type:"file",accept:"application/json",onChange:a=>{let b=a.target.files?.[0];b&&e(b),a.target.value=""},className:"hidden"})]}):null]})}],673498)},591994,a=>{"use strict";var b=a.i(508171),c=a.i(127669),d=a.i(854539),e=a.i(673498);function f({id:a,label:c,value:d,onChange:e,placeholder:f}){return(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900",htmlFor:a,children:c}),(0,b.jsx)("input",{id:a,value:String(d||""),onChange:a=>e(a.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",placeholder:f})]})}function g({id:a,label:c,value:d,onChange:e,rows:f=5,placeholder:g}){return(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900",htmlFor:a,children:c}),(0,b.jsx)("textarea",{id:a,value:String(d||""),onChange:a=>e(a.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",rows:f,placeholder:g})]})}function h(){let{state:a,set_state:h,reset:i,copy_share_link:j,export_json:k,import_json:l,is_ready:m}=(0,d.use_tool_state)({tool_id:"feature-security-review-pack",initial_state:{featureName:"",userJourney:"",trustBoundaries:"",topRisks:["","",""],controls:["","",""],verification:["","",""],evidence:["","",""],notes:""}}),[n,o]=(0,c.useState)(!1),p=(0,c.useMemo)(()=>{let b=[!!String(a.featureName||"").trim(),!!String(a.userJourney||"").trim(),!!String(a.trustBoundaries||"").trim(),a.topRisks.filter(a=>String(a||"").trim()).length>=2,a.controls.filter(a=>String(a||"").trim()).length>=2,a.verification.filter(a=>String(a||"").trim()).length>=2];return{doneCount:b.filter(Boolean).length,total:b.length}},[a]),q=(b,c,d)=>{let e=Array.isArray(a[b])?[...a[b]]:[];e[c]=d,h({...a,[b]:e})},r=async()=>{try{let b=["Feature Security Review Pack","",`Feature  ${String(a.featureName||"").trim()||"(not set)"}`,"","User journey",String(a.userJourney||"").trim()||"(none)","","Trust boundaries",String(a.trustBoundaries||"").trim()||"(none)","","Top risks",...a.topRisks.map((a,b)=>`${b+1}. ${String(a||"").trim()||"(blank)"}`),"","Controls",...a.controls.map((a,b)=>`${b+1}. ${String(a||"").trim()||"(blank)"}`),"","Verification",...a.verification.map((a,b)=>`${b+1}. ${String(a||"").trim()||"(blank)"}`),"","Evidence",...a.evidence.map((a,b)=>`${b+1}. ${String(a||"").trim()||"(blank)"}`),"","Notes",String(a.notes||"").trim()||"(none)"];await navigator.clipboard.writeText(b.join("\n")),o(!0),setTimeout(()=>o(!1),1500)}catch{o(!1)}};return m?(0,b.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,b.jsx)("p",{className:"text-gray-700",children:"This pack is a lightweight feature review. Keep it practical and defensible. Aim for clear risks, realistic controls, and verification you can actually perform."}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Progress"}),(0,b.jsxs)("div",{className:"mt-1 text-xs text-slate-700",children:[p.doneCount," of ",p.total," areas drafted"]})]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsx)(f,{id:"fsrp-feature",label:"Feature name",value:a.featureName,onChange:b=>h({...a,featureName:b}),placeholder:"Example password reset"}),(0,b.jsx)(f,{id:"fsrp-journey-short",label:"User journey summary",value:a.userJourney,onChange:b=>h({...a,userJourney:b}),placeholder:"Example user requests reset and receives a link"})]}),(0,b.jsx)(g,{id:"fsrp-boundaries",label:"Trust boundaries and entry points",value:a.trustBoundaries,onChange:b=>h({...a,trustBoundaries:b}),rows:5,placeholder:"Write the boundaries and the inputs you do not fully trust. Include browser, API, third parties, and admin actions."}),(0,b.jsxs)("div",{className:"grid gap-3 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Top risks"}),(0,b.jsx)(f,{id:"fsrp-risk-1",label:"Risk 1",value:a.topRisks[0],onChange:a=>q("topRisks",0,a),placeholder:"Example account takeover through weak recovery"}),(0,b.jsx)(f,{id:"fsrp-risk-2",label:"Risk 2",value:a.topRisks[1],onChange:a=>q("topRisks",1,a),placeholder:"Example token leakage through logs or referrers"}),(0,b.jsx)(f,{id:"fsrp-risk-3",label:"Risk 3",value:a.topRisks[2],onChange:a=>q("topRisks",2,a),placeholder:"Example broken access control on admin endpoints"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Controls"}),(0,b.jsx)(f,{id:"fsrp-control-1",label:"Control 1",value:a.controls[0],onChange:a=>q("controls",0,a),placeholder:"Example rate limits and step up auth"}),(0,b.jsx)(f,{id:"fsrp-control-2",label:"Control 2",value:a.controls[1],onChange:a=>q("controls",1,a),placeholder:"Example signed tokens with short expiry"}),(0,b.jsx)(f,{id:"fsrp-control-3",label:"Control 3",value:a.controls[2],onChange:a=>q("controls",2,a),placeholder:"Example allow list for admin actions"})]})]}),(0,b.jsxs)("div",{className:"grid gap-3 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Verification"}),(0,b.jsx)(f,{id:"fsrp-verify-1",label:"Verification 1",value:a.verification[0],onChange:a=>q("verification",0,a),placeholder:"Example prove access is denied for a low privilege role"}),(0,b.jsx)(f,{id:"fsrp-verify-2",label:"Verification 2",value:a.verification[1],onChange:a=>q("verification",1,a),placeholder:"Example verify tokens cannot be replayed after use"}),(0,b.jsx)(f,{id:"fsrp-verify-3",label:"Verification 3",value:a.verification[2],onChange:a=>q("verification",2,a),placeholder:"Example confirm audit logs include admin actions"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Evidence"}),(0,b.jsx)(f,{id:"fsrp-evidence-1",label:"Evidence 1",value:a.evidence[0],onChange:a=>q("evidence",0,a),placeholder:"Example threat model notes"}),(0,b.jsx)(f,{id:"fsrp-evidence-2",label:"Evidence 2",value:a.evidence[1],onChange:a=>q("evidence",1,a),placeholder:"Example access control test result"}),(0,b.jsx)(f,{id:"fsrp-evidence-3",label:"Evidence 3",value:a.evidence[2],onChange:a=>q("evidence",2,a),placeholder:"Example log sample for key actions"})]})]}),(0,b.jsx)(g,{id:"fsrp-notes",label:"Notes",value:a.notes,onChange:b=>h({...a,notes:b}),rows:5,placeholder:"Write any trade offs and what you would monitor after release."}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:(0,b.jsx)("button",{type:"button",onClick:r,className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",children:n?"Copied":"Copy pack"})}),(0,b.jsx)(e.default,{onReset:i,onCopy:j,onExport:k,onImport:l})]}):(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Loading..."})}a.s(["default",()=>h])},767210,a=>{a.n(a.i(591994))}];

//# debugId=b175864a-6983-740d-c825-9c01a4c981b6
//# sourceMappingURL=src_components_notes_cb8aebe7._.js.map