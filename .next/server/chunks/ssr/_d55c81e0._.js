;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="465e237d-9557-8281-6143-b9e89afd7f11")}catch(e){}}();
module.exports=[40098,a=>{"use strict";var b=a.i(508171),c=a.i(127669);function d(a){return Math.max(0,Math.floor((new Date(a).getTime()-Date.now())/1e3))}function e(a){return`assessment-answers-${a}`}function f(a){let f,g,h,[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(0),[s,t]=(0,c.useState)({}),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(0),[y,z]=(0,c.useState)(null),A=(0,c.useRef)(null),B=o?.questions?.[q]||null,C=o?.questions?.length||0,D=(0,c.useMemo)(()=>{if(!o?.questions?.length)return 0;let a=0;for(let b of o.questions)void 0!==s[b.id]&&null!==s[b.id]&&(a+=1);return a},[s,o?.questions]);(0,c.useEffect)(()=>{if(o?.expiresAt)return x(d(o.expiresAt)),A.current&&window.clearInterval(A.current),A.current=window.setInterval(()=>{x(d(o.expiresAt))},1e3),()=>{A.current&&window.clearInterval(A.current),A.current=null}},[o?.expiresAt]),(0,c.useEffect)(()=>{let b=!0;return(async()=>{try{let c=await fetch(`/api/assessments/status?courseId=${encodeURIComponent(a.courseId)}&levelId=${encodeURIComponent(a.levelId)}`),d=await c.json().catch(()=>null);if(!b||!c.ok)return;let e=Array.isArray(d?.attempts)?d.attempts:[];z(e.map(a=>({id:String(a.id||""),score:Number(a.score||0),passed:!!a.passed,completedAt:String(a.completedAt||"")})))}catch{}})(),()=>{b=!1}},[a.courseId,a.levelId,u?.attempt?.id]),(0,c.useEffect)(()=>{if(o?.sessionId)try{let a=window.localStorage.getItem(e(o.sessionId));a&&t(JSON.parse(a))}catch{}},[o?.sessionId]),(0,c.useEffect)(()=>{if(o?.sessionId)try{window.localStorage.setItem(e(o.sessionId),JSON.stringify(s))}catch{}},[s,o?.sessionId]);let E=async()=>{l(!0),n(""),v(null);try{let b=await fetch("/api/assessments/start",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({courseId:a.courseId,levelId:a.levelId,certificateName:i.trim()})}),c=await b.json().catch(()=>null);if(!b.ok){if(401===b.status){window.location.href="/signin";return}if(402===b.status)return void n("Credits required. Please purchase credits in your account.");n(c?.message||"Unable to start assessment.");return}p(c),r(0)}catch{n("Unable to start assessment.")}finally{l(!1)}},F=async()=>{if(o?.sessionId){l(!0),n("");try{let a=await fetch("/api/assessments/submit",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({sessionId:o.sessionId,answers:s})}),b=await a.json().catch(()=>null);if(!a.ok){if(409===a.status){n("Session expired. Start again."),p(null);return}if(402===a.status)return void n("Credits required. Please purchase credits in your account.");n(b?.message||"Unable to submit assessment.");return}v(b),p(null),o?.sessionId&&window.localStorage.removeItem(e(o.sessionId))}catch{n("Unable to submit assessment.")}finally{l(!1)}}},G=async()=>{let a=u?.certificateCourseId;if(a){l(!0),n("");try{let b=await fetch("/api/certificates/issue",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({courseId:a})}),c=await b.json().catch(()=>null);if(!b.ok)return void n(c?.message||"Unable to issue certificate.");c?.certificateId&&(window.location.href=`/api/certificates/download?certificateId=${encodeURIComponent(c.certificateId)}`)}catch{n("Unable to issue certificate.")}finally{l(!1)}}};if(u){let a=!!u.attempt.passed;return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Result"}),(0,b.jsx)("div",{className:"mt-2 text-lg font-semibold text-slate-900",children:a?"Pass":"Not passed"}),(0,b.jsxs)("div",{className:"mt-1 text-sm text-slate-700",children:["Score ",u.attempt.score," percent. Threshold ",u.assessment.passThreshold," percent."]}),a?(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsx)("button",{type:"button",disabled:k,onClick:G,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60",children:k?"Working":"Download certificate"}),(0,b.jsx)("a",{href:"/account/certificates",className:"text-sm font-semibold text-slate-700 underline decoration-slate-300 underline-offset-4 hover:text-slate-900",children:"View certificates"})]}):(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)("button",{type:"button",disabled:k,onClick:()=>{v(null),n("")},className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60",children:k?"Working":"Try again"})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Review"}),(0,b.jsx)("div",{className:"mt-3 space-y-4",children:u.review.slice(0,12).map((a,c)=>(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[(0,b.jsxs)("div",{className:"text-xs font-semibold text-slate-600",children:["Question ",c+1,". ",a.correct?"Correct":"Incorrect"]}),(0,b.jsx)("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:a.question}),(0,b.jsx)("div",{className:"mt-2 text-sm text-slate-700",children:a.explanation})]},a.id))}),(0,b.jsx)("div",{className:"mt-3 text-xs text-slate-600",children:"Review is shortened here so the page stays fast."})]}),m?(0,b.jsx)("div",{className:"text-sm font-semibold text-rose-700",children:m}):null]})}if(!o)return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:a.title}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-700",children:"This assessment is timed. It uses 50 questions from a larger bank so retries are less repetitive. Pass mark is 80 percent."}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-700",children:"Enter your full name. This name is locked for your certificates."}),(0,b.jsxs)("div",{className:"mt-3 grid gap-2 sm:grid-cols-[1fr_auto]",children:[(0,b.jsx)("input",{value:i,onChange:a=>j(a.target.value),placeholder:"Full name",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500"}),(0,b.jsx)("button",{type:"button",disabled:k,onClick:E,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60",children:k?"Starting":"Start assessment"})]}),(0,b.jsx)("div",{className:"mt-3 text-xs text-slate-600",children:"You can retake as many times as you like. Attempts are tracked. Recent questions are avoided when possible."})]}),y&&y.length?(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Recent attempts"}),(0,b.jsx)("div",{className:"mt-2 space-y-2",children:y.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:a.passed?"Pass":"Not passed"}),(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:["Score ",a.score," percent"]}),(0,b.jsx)("div",{className:"text-xs text-slate-600",children:a.completedAt?new Date(a.completedAt).toLocaleString():""})]},a.id))})]}):null,m?(0,b.jsxs)("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm font-semibold text-rose-800",children:[m," ",(0,b.jsx)("a",{className:"underline decoration-rose-300 underline-offset-4",href:"/account/credits",children:"Go to credits"})]}):null]});let H=w<=0;return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Progress"}),(0,b.jsxs)("div",{className:"mt-1 text-sm text-slate-800",children:["Answered ",D," of ",C,". Time left ",(g=String(Math.floor((f=Math.max(0,Math.floor(w)))/60)).padStart(2,"0"),h=String(f%60).padStart(2,"0"),`${g} ${h}`),"."]})]}),(0,b.jsx)("button",{type:"button",disabled:k||H,onClick:F,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-60",children:k?"Submitting":H?"Time ended":"Submit"})]})}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:["Question ",q+1," of ",C]}),(0,b.jsx)("div",{className:"mt-2 text-base font-semibold text-slate-900",children:B?.question}),(0,b.jsx)("div",{className:"mt-3 grid gap-2",children:(B?.options||[]).map((a,c)=>{let d=s[B?.id||""]===c;return(0,b.jsx)("button",{type:"button",onClick:()=>{var a;return B?.id&&(a=B.id,void t(b=>({...b,[a]:c})))},className:["w-full rounded-xl border px-3 py-2 text-left text-sm shadow-sm transition",d?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-900 hover:bg-slate-50"].join(" "),children:a},c)})}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("button",{type:"button",disabled:q<=0,onClick:()=>r(a=>Math.max(0,a-1)),className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60",children:"Back"}),(0,b.jsx)("button",{type:"button",disabled:q>=C-1,onClick:()=>r(a=>Math.min(C-1,a+1)),className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 disabled:opacity-60",children:"Next"})]})]}),m?(0,b.jsx)("div",{className:"text-sm font-semibold text-rose-700",children:m}):null]})}a.s(["default",()=>f])},281182,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(647292),f=a.i(221209),g=a.i(40098),h=b([f]);[f]=h.then?(await h)():h;let k={foundations:"Cybersecurity certification assessment. Foundations",applied:"Cybersecurity certification assessment. Applied",practice:"Cybersecurity certification assessment. Practice"};function i(a){let b=a.levelId,c=k[b];return(0,d.jsx)(e.ErrorBoundary,{children:(0,d.jsxs)(f.default,{meta:{title:c,description:"Timed cybersecurity assessment with attempt tracking and certificate on pass.",level:"Assessment",slug:`/cybersecurity/assessment/${b}`},headings:[{id:"assessment",title:"Assessment",depth:2},{id:"rules",title:"Rules",depth:2}],activeLevelId:"assessment",courseHref:"/cybersecurity",courseLabel:"Cybersecurity",dashboardHref:"/dashboards/cybersecurity",labsHref:"/tools/cybersecurity",studiosHref:"/cyber-studios",children:[(0,d.jsxs)("section",{id:"assessment",className:"space-y-4",children:[(0,d.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,d.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:c}),(0,d.jsx)("div",{className:"mt-1 text-sm text-slate-700",children:"You need an account and credits to start. Certificate name is locked."})]}),(0,d.jsx)(g.default,{courseId:"cybersecurity",levelId:b,title:c})]}),(0,d.jsx)("section",{id:"rules",className:"space-y-3",children:(0,d.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,d.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Rules"}),(0,d.jsxs)("ol",{className:"mt-2 list-decimal space-y-2 ml-5 text-sm text-slate-700",children:[(0,d.jsx)("li",{children:"Time limit is 75 minutes."}),(0,d.jsx)("li",{children:"There are 50 questions."}),(0,d.jsx)("li",{children:"Pass mark is 80 percent."}),(0,d.jsx)("li",{children:"You can retake. Attempts are tracked."})]})]})})]})})}async function j(a){let b=String(a?.params?.level||"").trim();return"foundations"!==b&&"applied"!==b&&"practice"!==b?{notFound:!0}:{props:{levelId:b}}}a.s(["default",()=>i,"getServerSideProps",()=>j]),c()}catch(a){c(a)}},!1),16286,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(167684),h=a.i(276695),i=a.i(281182),j=a.i(509193),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/cybersecurity/assessment/[level]",pathname:"/cybersecurity/assessment/[level]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/cybersecurity/assessment/[level]",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# debugId=465e237d-9557-8281-6143-b9e89afd7f11
//# sourceMappingURL=_d55c81e0._.js.map