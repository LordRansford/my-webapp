;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="aa85e7c4-85fb-376a-ba1f-03b7e510b46e")}catch(e){}}();
module.exports=[580971,88766,934737,51527,942656,474630,a=>{"use strict";var b=a.i(508171),c=a.i(127669);function d({contract:a,mode:d,inputs:e}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),j=(0,c.useMemo)(()=>{let a=0;for(let b of Object.values(e))null!=b&&(a+=new Blob(["string"==typeof b?b:JSON.stringify(b)]).size);return a},[e]);(0,c.useEffect)(()=>{let b=!0;return async function(){if("compute"!==d||!a.runner||!String(a.runner).startsWith("/api/")){g(null),i(null);return}try{i(null);let c=await fetch("/api/compute/estimate",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({toolId:a.id,inputBytes:j,requestedComplexityPreset:"light"})}),d=await c.json().catch(()=>null);if(!b)return;if(!c.ok||!d?.ok){g(null),i("string"==typeof d?.error?d.error:"Estimate unavailable");return}g({estimatedCreditCost:Number(d.estimatedCreditCost||0),willChargeCredits:!!d.willChargeCredits,freeTierRemainingMs:Number(d.freeTierRemainingMs||0),estimatedWallTimeMs:Number(d.estimatedWallTimeMs||0),reasons:Array.isArray(d.reasons)?d.reasons:[]})}catch(a){if(!b)return;g(null),i("Estimate unavailable")}}(),()=>{b=!1}},[a.id,a.runner,j,d]);let k=(0,c.useMemo)(()=>{if("local"===d)return 0;if(f)return f.estimatedCreditCost;let{baseCredits:b,perKbCredits:c,complexityMultiplierHints:g={}}=a.creditModel,h=Math.ceil(j/1024),i=1,k=e.code;if(k&&"string"==typeof k){let a=k.toLowerCase();g.hasLoops&&/\b(for|while|do\s*\{)\b/.test(a)&&(i*=g.hasLoops),g.hasAsync&&/\b(async|await|Promise|then|catch)\b/.test(a)&&(i*=g.hasAsync),g.hasImports&&/\b(import|from|require)\b/.test(a)&&(i*=g.hasImports),g.hasJoins&&/\b(join|inner join|left join|right join)\b/i.test(a)&&(i*=g.hasJoins),g.hasGroupBy&&/\b(group by|having)\b/i.test(a)&&(i*=g.hasGroupBy)}return Math.ceil(10*(b+h*c*i))/10},[a,d,e]),l=(0,c.useMemo)(()=>{if("local"===d)return"Local mode runs entirely in your browser. No credits required.";if(f){let a=Math.max(0,Math.round(f.estimatedWallTimeMs/1e3)),b=Math.max(0,Math.round(f.freeTierRemainingMs/1e3)),c=f.willChargeCredits?"This estimate may change based on runtime.":"This run is likely within your free tier.";return`Estimated runtime: ~${a}s. Free tier remaining today: ~${b}s. ${c}`}if(h)return h;let b=[];if(a.creditModel.baseCredits>0&&b.push(`Base: ${a.creditModel.baseCredits} credits`),a.creditModel.perKbCredits>0){let c=0;for(let a of Object.values(e))null!=a&&(c+=new Blob(["string"==typeof a?a:JSON.stringify(a)]).size);let d=Math.ceil(c/1024);d>0&&b.push(`Input size: ${d}KB \xd7 ${a.creditModel.perKbCredits} credits/KB`)}return Object.keys(a.creditModel.complexityMultiplierHints||{}).length>0&&b.push("Complexity multiplier applied"),b.length>0?b.join("; "):"Standard compute cost"},[a,d,e]);return(0,b.jsx)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:["Estimated credits this run: ",(0,b.jsx)("span",{className:"text-lg",children:k})]}),"compute"===d&&k>0&&(0,b.jsx)("span",{className:"text-xs font-semibold text-amber-700 bg-amber-50 px-2 py-0.5 rounded",children:"ESTIMATE"})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:l}),"compute"===d&&k>0&&(0,b.jsx)("p",{className:"mt-2 text-xs font-medium text-amber-800 bg-amber-50 border border-amber-200 rounded px-2 py-1",children:"âš ï¸ This is an estimate. Actual cost may be higher or lower depending on actual execution time and complexity."})]}),"compute"===d&&k>0&&(0,b.jsx)("button",{type:"button",className:"text-xs text-slate-600 underline hover:text-slate-900 ml-2",title:"Why this estimate",onClick:a=>{a.preventDefault(),alert(l)},children:"â„¹ï¸"})]})})}function e({error:a,onDismiss:c}){return(0,b.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 shadow-sm",role:"alert","aria-live":"assertive",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg","aria-hidden":"true",children:"!"}),(0,b.jsx)("h3",{className:"text-base font-semibold text-red-900",children:"Execution failed"})]}),(0,b.jsx)("p",{className:"mt-2 text-sm text-red-800",children:a.message}),a.limitExplanation&&(0,b.jsxs)("p",{className:"mt-2 text-xs text-red-700",children:[(0,b.jsx)("strong",{children:"Limit:"})," ",a.limitExplanation]}),a.fixSuggestion&&(0,b.jsxs)("div",{className:"mt-3 rounded-lg border border-red-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-red-900",children:"What you can do:"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-red-800",children:a.fixSuggestion})]})]}),c&&(0,b.jsxs)("button",{type:"button",onClick:c,className:"flex-shrink-0 rounded-lg p-1 text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Dismiss error",children:[(0,b.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,b.jsx)("span",{"aria-hidden":"true",children:"Ã—"})]})]})})}function f(a,b,c){let d={syntax_error:{message:"Your code contains a syntax error.",fixSuggestion:"Check for typos, missing brackets, or incorrect syntax. Review the error details above."},runtime_error:{message:"Your code encountered a runtime error during execution.",fixSuggestion:"Review the error message above and fix the logic or data handling."},timeout:{message:"Execution exceeded the time limit.",fixSuggestion:"Simplify your code, reduce input size, or break it into smaller operations.",limitExplanation:c?.limitMs?`Max execution time: ${c.limitMs}ms`:void 0},memory_exceeded:{message:"Execution exceeded the memory limit.",fixSuggestion:"Reduce input size, simplify data structures, or process data in smaller chunks.",limitExplanation:c?.limitMb?`Max memory: ${c.limitMb}MB`:void 0},resource_limit:{message:"Execution exceeded resource limits.",fixSuggestion:"Reduce input complexity or size to stay within limits."},validation_error:{message:"Input validation failed.",fixSuggestion:"Check that all required fields are filled and values are within limits."},invalid_input:{message:"The provided input is invalid.",fixSuggestion:"Review input format and constraints."},file_too_large:{message:"The uploaded file exceeds the size limit.",fixSuggestion:"Compress or reduce the file size, or use a smaller sample.",limitExplanation:c?.limitKb?`Max file size: ${c.limitKb}KB`:void 0},unsupported_format:{message:"The file format is not supported.",fixSuggestion:"Use a supported format (check tool documentation)."},processing_error:{message:"An error occurred while processing your input.",fixSuggestion:"Try again with a different input or check if the service is available."}}[a]||{message:`An error occurred: ${a}`,fixSuggestion:"Please try again or contact support if the issue persists."};return{code:a,...d}}function g({contract:a,defaultInputs:d,examples:e,onRun:f}){let[g,h]=(0,c.useState)(null);return((0,c.useEffect)(()=>{if(!a)return void h({passed:!1,message:"Tool contract not found",missingFields:["contract"]});let b=[];if(a.id||b.push("contract.id"),a.title||b.push("contract.title"),a.description||b.push("contract.description"),a.executionModes&&0!==a.executionModes.length||b.push("contract.executionModes"),a.inputs&&0!==a.inputs.length||b.push("contract.inputs"),a.limits||b.push("contract.limits"),a.creditModel||b.push("contract.creditModel"),a.inputs)for(let c of a.inputs)!c.required||c.name in d||b.push(`defaultInputs.${c.name}`);e.length<2&&b.push("examples (need at least 2)"),b.length>0?h({passed:!1,message:"This tool is misconfigured",missingFields:b}):h({passed:!0,message:"Tool configuration looks good"})},[a,d,e,f]),!g||g.passed)?null:(0,b.jsx)("div",{className:"mb-4 rounded-lg border border-amber-200 bg-amber-50 p-4",role:"alert",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-lg font-semibold","aria-hidden":"true",children:"!"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-amber-900",children:g.message}),g.missingFields&&g.missingFields.length>0&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-amber-800",children:"Missing fields:"}),(0,b.jsx)("ul",{className:"mt-1 list-disc list-inside text-xs text-amber-700",children:g.missingFields.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]})]})]})})}function h(a){let c=a.receipt;return(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-xs text-slate-700 space-y-2",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"Receipt"}),(0,b.jsx)("p",{className:"font-mono text-slate-600",children:c.runId})]}),c.toolId?(0,b.jsxs)("p",{className:"text-[11px] text-slate-600",children:["tool: ",(0,b.jsx)("span",{className:"font-mono",children:c.toolId})]}):null,(0,b.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"mode"}),(0,b.jsx)("p",{className:"mt-1 text-slate-900",children:c.mode})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"duration"}),(0,b.jsxs)("p",{className:"mt-1 text-slate-900",children:[c.durationMs," ms"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"credits charged"}),(0,b.jsx)("p",{className:"mt-1 text-slate-900",children:c.creditsCharged})]})]}),(0,b.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"input / output"}),(0,b.jsxs)("p",{className:"mt-1 text-slate-900",children:[c.inputBytes," bytes / ",c.outputBytes," bytes"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"free tier applied"}),(0,b.jsxs)("p",{className:"mt-1 text-slate-900",children:[c.freeTierAppliedMs," ms free Â· ",c.paidMs," ms paid"]})]})]}),Array.isArray(c.guidanceTips)&&c.guidanceTips.length>0?(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[(0,b.jsx)("p",{className:"text-[11px] font-semibold text-slate-600",children:"tips"}),(0,b.jsx)("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:c.guidanceTips.slice(0,4).map((a,c)=>(0,b.jsx)("li",{className:"text-slate-700",children:a},c))})]}):null]})}a.s(["createToolError",()=>f,"default",()=>e],88766);var i=a.i(538232);let j=i.default;function k(a){let b=j.tools.find(b=>b.id===a);return b?{id:b.id,defaultInputs:b.defaultInputs||{},examples:b.examples||[],explain:b.explain||""}:null}async function l(a,b){return new Blob([a]).size/1024>b.limits.inputKb?{success:!1,error:{code:"input_too_large",message:`Input exceeds ${b.limits.inputKb}KB limit`}}:new Promise(c=>{let d=new Worker("/js-worker.js"),e=setTimeout(()=>{d.terminate(),c({success:!1,error:{code:"timeout",message:`Execution exceeded ${b.limits.wallMs}ms limit`}})},b.limits.wallMs);d.onmessage=a=>{clearTimeout(e),d.terminate();let b=a.data;b.success?c({success:!0,output:{stdout:b.stdout||[],result:b.result||""}}):c({success:!1,error:b.error})},d.onerror=a=>{clearTimeout(e),d.terminate(),c({success:!1,error:{code:"worker_error",message:a.message||"Worker execution failed"}})},d.postMessage({code:a,timeoutMs:b.limits.cpuMs,maxOutputKb:b.limits.outputKb})})}async function m(a,b){return new Blob([a]).size/1024>b.limits.inputKb?{success:!1,error:{code:"input_too_large",message:`Input exceeds ${b.limits.inputKb}KB limit`}}:new Promise(c=>{let d=new Worker("/pyodide-worker.js"),e=setTimeout(()=>{d.terminate(),c({success:!1,error:{code:"timeout",message:`Execution exceeded ${b.limits.wallMs}ms limit`}})},b.limits.wallMs);d.onmessage=a=>{clearTimeout(e),d.terminate();let b=a.data;b.success?c({success:!0,output:{stdout:b.stdout||[],result:b.result||""}}):c({success:!1,error:b.error||{code:"unknown_error",message:"Execution failed"}})},d.onerror=a=>{clearTimeout(e),d.terminate(),c({success:!1,error:{code:"worker_error",message:(a.message||"Worker execution failed")+". Pyodide worker may have failed to load. Check browser console."}})},d.postMessage({code:a,timeoutMs:b.limits.cpuMs,maxOutputKb:b.limits.outputKb})})}async function n(a,b){return new Blob([a]).size/1024>b.limits.inputKb?{success:!1,error:{code:"input_too_large",message:`Input exceeds ${b.limits.inputKb}KB limit`}}:new Promise(c=>{let d=new Worker("/sql-worker.js"),e=setTimeout(()=>{d.terminate(),c({success:!1,error:{code:"timeout",message:`Execution exceeded ${b.limits.wallMs}ms limit`}})},b.limits.wallMs);d.onmessage=a=>{clearTimeout(e),d.terminate();let b=a.data;b.success?c({success:!0,output:{rows:b.rows||[],columns:b.columns||[],rowCount:b.rowCount||0}}):c({success:!1,error:b.error||{code:"unknown_error",message:"Query execution failed"}})},d.onerror=a=>{clearTimeout(e),d.terminate(),c({success:!1,error:{code:"worker_error",message:a.message||"Worker execution failed. sql.js may not be loading correctly."}})},d.postMessage({query:a,timeoutMs:b.limits.cpuMs,maxOutputKb:b.limits.outputKb,maxRows:1e3})})}function o(a,b){let c=[];if(!a.inputs||0===a.inputs.length)return{valid:!0,errors:[]};for(let d of a.inputs){let a=b[d.name];if(!1!==d.required&&(null==a||""===a)){c.push({field:d.name,message:`${d.name} is required`});continue}if(null!=a&&""!==a)switch(d.type){case"string":if("string"!=typeof a)c.push({field:d.name,message:`${d.name} must be a string`});else{let b=d.limits.match(/max\s+(\d+)\s*kb/i);if(b){let e=1024*parseInt(b[1]);new Blob([a]).size>e&&c.push({field:d.name,message:`${d.name} exceeds ${b[1]}KB limit`})}}break;case"number":("number"!=typeof a||isNaN(a))&&c.push({field:d.name,message:`${d.name} must be a number`});break;case"boolean":"boolean"!=typeof a&&c.push({field:d.name,message:`${d.name} must be a boolean`});break;case"array":Array.isArray(a)||c.push({field:d.name,message:`${d.name} must be an array`});break;case"enum":if("string"!=typeof a)c.push({field:d.name,message:`${d.name} must be a string`});else{let b=d.limits.split("|");b.includes(a)||c.push({field:d.name,message:`${d.name} must be one of: ${b.join(", ")}`})}}}return{valid:0===c.length,errors:c}}async function p(a,b,c){let d=crypto.randomUUID(),e=Date.now();try{let f=o(a,c);if(!f.valid)return{ok:!1,error:{code:"validation_error",message:`Input validation failed: ${f.errors.map(a=>a.message).join(", ")}`,whatToDo:`Fix these fields: ${f.errors.map(a=>a.field).join(", ")}`,debugId:d}};if("compute"===b)try{let f=await fetch("/api/tools/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toolId:a.id,mode:b,inputs:c})});if(!f.ok){let a=await f.json().catch(()=>({}));return{ok:!1,error:{code:a.error?.code||"compute_error",message:a.error?.message||"Compute execution failed",whatToDo:a.error?.fixSuggestion||"Try using Local mode instead",debugId:d}}}let g=await f.json();if(!g.success)return{ok:!1,error:{code:g.error?.code||"compute_error",message:g.error?.message||"Execution failed",whatToDo:g.error?.fixSuggestion||"Check your inputs and try again",debugId:d}};{let a=Date.now()-e;return{ok:!0,output:"string"==typeof g.output?g.output:JSON.stringify(g.output,null,2),receipt:g.receipt??null,metrics:{durationMs:a,cpuMs:a,memoryMb:0}}}}catch(a){return{ok:!1,error:{code:"network_error",message:a instanceof Error?a.message:"Network request failed",whatToDo:"Check your connection and try again, or use Local mode",debugId:d}}}if("js-sandbox"===a.id||"javascript-sandbox"===a.id||a.route.includes("js-sandbox")){let b=c.code;if(!b||"string"!=typeof b)return{ok:!1,error:{code:"validation_error",message:"Code input is required",whatToDo:"Enter JavaScript code to execute",debugId:d}};let f=await l(b,a);if(!f.success||!f.output)return{ok:!1,error:{code:f.error?.code||"execution_error",message:f.error?.message||"Execution failed",whatToDo:"Check your code for syntax errors",debugId:d}};{let a,b=f.output;return a="string"==typeof b?b:b&&"object"==typeof b?b.result||(Array.isArray(b.stdout)?b.stdout.join("\n"):JSON.stringify(b,null,2)):String(b),{ok:!0,output:a,metrics:{durationMs:Date.now()-e,cpuMs:Date.now()-e,memoryMb:0}}}}if("python-playground"===a.id||a.route.includes("python-playground")){let b=c.code;if(!b||"string"!=typeof b)return{ok:!1,error:{code:"validation_error",message:"Code input is required",whatToDo:"Enter Python code to execute",debugId:d}};let f=await m(b,a);if(!f.success||!f.output)return{ok:!1,error:{code:f.error?.code||"execution_error",message:f.error?.message||"Execution failed",whatToDo:"Check your code for syntax errors or install Pyodide",debugId:d}};{let a,b=f.output;return a="string"==typeof b?b:b&&"object"==typeof b?b.result||(Array.isArray(b.stdout)?b.stdout.join("\n"):JSON.stringify(b,null,2)):String(b),{ok:!0,output:a,metrics:{durationMs:Date.now()-e,cpuMs:Date.now()-e,memoryMb:0}}}}{if(!("sql-sqlite"===a.id||"sql-sandbox"===a.id||a.route.includes("sql-sandbox")))return{ok:!1,error:{code:"not_implemented",message:`Local execution not implemented for ${a.id}`,whatToDo:"This tool may require compute mode or needs implementation",debugId:d}};let b=c.query;if(!b||"string"!=typeof b)return{ok:!1,error:{code:"validation_error",message:"Query input is required",whatToDo:"Enter a SQL query to execute",debugId:d}};let f=await n(b,a);if(f.success&&f.output)return{ok:!0,output:JSON.stringify(f.output,null,2),metrics:{durationMs:Date.now()-e,cpuMs:Date.now()-e,memoryMb:0}};return{ok:!1,error:{code:f.error?.code||"execution_error",message:f.error?.message||"Query execution failed",whatToDo:"Check your SQL syntax and try again",debugId:d}}}}catch(b){let a=Date.now()-e;return{ok:!1,error:{code:"runtime_error",message:b instanceof Error?b.message:"Unexpected error",whatToDo:"Try refreshing the page or contact support",debugId:d},metrics:{durationMs:a,cpuMs:a,memoryMb:0}}}}function q({contract:a,children:i,onRun:j,initialInputs:l={},examples:m=[],onInputsChange:n}){let q=(0,c.useMemo)(()=>{let b;return b=k(a.id),b?.defaultInputs||{}},[a.id]),r=(0,c.useMemo)(()=>{let b;return b=k(a.id),b?.examples||[]},[a.id]),s=(0,c.useMemo)(()=>{let b;return b=k(a.id),b?.explain||"No explanation available for this tool."},[a.id]),t=(0,c.useMemo)(()=>{let a=[...r,...m],b=new Set;return a.filter(a=>!b.has(a.title)&&(b.add(a.title),!0))},[r,m]),u=(0,c.useMemo)(()=>{let b={};if(a.inputs)for(let c of a.inputs)void 0!==c.default&&(b[c.name]=c.default);return{...b,...q,...l}},[a,q,l]),[v,w]=(0,c.useState)("run"),[x,y]=(0,c.useState)(a.defaultMode),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)("idle"),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)(!1);(0,c.useEffect)(()=>{Object.keys(u).length>0&&0===Object.keys(z).length&&A(u)},[u,z]),(0,c.useEffect)(()=>{n&&n(z)},[z,n]),(0,c.useEffect)(()=>{(B||D)&&"idle"!==H?O(!0):O(!1)},[B,D,H]),(0,c.useEffect)(()=>{M(o(a,z).errors)},[a,z]);let P=async()=>{if(!J){C(null),E(null),G(null),O(!1),I("running"),K(!0);try{let b;if(j)b=await j(x,z);else{let c=await p(a,x,z);b=c.ok?{success:!0,output:c.output,receipt:c.receipt??null}:{success:!1,error:c.error?f(c.error.code,a.id,{message:c.error.message,whatToDo:c.error.whatToDo}):f("unknown_error",a.id)}}b.success?(I("completed"),b.receipt&&G(b.receipt),C("string"==typeof b.output?b.output:JSON.stringify(b.output,null,2))):(I("failed"),E(b.error||{code:"unknown_error",message:"An unknown error occurred."}))}catch(a){I("failed"),E({code:"runtime_error",message:a instanceof Error?a.message:"Execution failed",fixSuggestion:"Check your inputs and try again."})}finally{K(!1)}}},Q=("local"===x||"compute"===x&&a.runner.startsWith("/api/"))&&0===L.length;return(0,b.jsxs)("div",{className:"tool-shell",children:[(0,b.jsx)(g,{contract:a,defaultInputs:u,examples:t,onRun:j}),(0,b.jsxs)("header",{className:"mb-6 space-y-3",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:a.title}),(0,b.jsx)("p",{className:"mt-2 text-base text-slate-700",children:a.description}),(0,b.jsx)("p",{className:"mt-2 text-sm italic text-slate-600",children:"Dedicated to Charis Chung Amponsah"})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[(0,b.jsxs)("span",{children:["Limits: ",a.limits.cpuMs,"ms CPU, ",a.limits.memoryMb,"MB memory, ",a.limits.outputKb,"KB output"]}),a.securityNotes&&(0,b.jsxs)("span",{className:"text-amber-700",children:["Important: ",a.securityNotes]})]})]}),(0,b.jsx)("div",{className:"mb-6 flex gap-2 border-b border-slate-200",children:["run","explain","examples"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>w(a),className:`border-b-2 px-4 py-2 text-sm font-semibold capitalize transition ${v===a?"border-slate-900 text-slate-900":"border-transparent text-slate-600 hover:text-slate-900"}`,children:a},a))}),N&&(0,b.jsx)("div",{className:"mb-4 rounded-lg border border-blue-200 bg-blue-50 p-4",role:"alert",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-lg","aria-hidden":"true",children:"ðŸ’¡"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-blue-900",children:"Ready for a new run?"}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-blue-700",children:["Click ",(0,b.jsx)("strong",{children:"Reset"})," to clear the previous results and start fresh. This ensures your code runs with clean inputs."]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>O(!1),className:"text-blue-600 hover:text-blue-800","aria-label":"Dismiss reminder",children:"Ã—"})]})}),"run"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Execution Mode:"}),(0,b.jsx)("div",{className:"flex gap-2 rounded-lg border border-slate-300 p-1",children:a.executionModes.map(c=>(0,b.jsx)("button",{type:"button",onClick:()=>y(c),disabled:"compute"===c&&!a.runner.startsWith("/api/"),className:`rounded-lg px-4 py-2 text-sm font-semibold transition ${x===c?"bg-slate-900 text-white":"bg-transparent text-slate-700 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:"local"===c?"Local":"Compute"},c))}),"compute"===x&&!a.runner.startsWith("/api/")&&(0,b.jsx)("p",{className:"text-sm text-amber-700",children:"Compute mode is temporarily unavailable. Use Local mode."})]}),(0,b.jsx)(d,{contract:a,mode:x,inputs:z}),i,(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:P,disabled:J||!Q,className:"rounded-lg bg-slate-900 px-6 py-2.5 text-sm font-semibold text-white transition hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:J?"Running...":"Run"}),J&&(0,b.jsx)("button",{type:"button",onClick:()=>{K(!1),I("idle")},className:"rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Stop"}),(0,b.jsx)("button",{type:"button",onClick:()=>{A(u),C(null),E(null),G(null),I("idle"),M([]),O(!1)},disabled:J,className:"rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Reset"}),B&&(0,b.jsx)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(B)},className:"rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Copy Output"})]}),D&&(0,b.jsx)(e,{error:D,onDismiss:()=>E(null)}),F&&!D?(0,b.jsx)(h,{receipt:F}):null,null!==B&&!D&&(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[(0,b.jsx)("h3",{className:"mb-2 text-sm font-semibold text-slate-900",children:"Output"}),(0,b.jsx)("pre",{className:"overflow-auto rounded bg-white p-3 text-sm text-slate-800",children:B})]})]}),"explain"===v&&(0,b.jsx)("div",{className:"max-w-3xl",children:s?function(a){let c=a.split("\n"),d=[],e=[],f=!1,g=[];function h(){e.length>0&&(d.push((0,b.jsx)("p",{className:"mb-3 text-sm text-slate-700 leading-relaxed",children:e.join(" ")},d.length)),e=[])}function i(){g.length>0&&(d.push((0,b.jsx)("ul",{className:"mb-4 ml-6 list-disc space-y-1 text-sm text-slate-700",children:g.map((a,c)=>(0,b.jsx)("li",{children:a},c))},d.length)),g=[],f=!1)}for(let a=0;a<c.length;a++){let j=c[a].trim();if(!j){h(),i();continue}if(j.startsWith("**")&&j.endsWith("**")){h(),i();let a=j.slice(2,-2);d.push((0,b.jsx)("h3",{className:"mb-3 mt-6 text-base font-semibold text-slate-900 first:mt-0",children:a},d.length));continue}if(j.startsWith("âœ…")||j.startsWith("âŒ")||j.startsWith("-")){h(),f||(f=!0);let a=j.replace(/^[âœ…âŒ-]\s*/,"");g.push(a);continue}i(),e.push(j)}return h(),i(),(0,b.jsx)("div",{children:d})}(s):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"mb-3 text-base font-semibold text-slate-900",children:"What this tool is for"}),(0,b.jsx)("p",{className:"mb-3 text-sm text-slate-700 leading-relaxed",children:a.description}),(0,b.jsx)("h3",{className:"mb-3 mt-6 text-base font-semibold text-slate-900",children:"Limits"}),(0,b.jsxs)("ul",{className:"mb-4 ml-6 list-disc space-y-1 text-sm text-slate-700",children:[(0,b.jsxs)("li",{children:["CPU: ",a.limits.cpuMs,"ms"]}),(0,b.jsxs)("li",{children:["Memory: ",a.limits.memoryMb,"MB"]}),(0,b.jsxs)("li",{children:["Output: ",a.limits.outputKb,"KB"]}),(0,b.jsxs)("li",{children:["Input: ",a.limits.inputKb,"KB"]})]}),a.securityNotes&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"mb-3 mt-6 text-base font-semibold text-slate-900",children:"Security"}),(0,b.jsx)("p",{className:"mb-3 text-sm text-slate-700 leading-relaxed",children:a.securityNotes})]})]})}),"examples"===v&&(0,b.jsx)("div",{className:"space-y-4",children:t.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("strong",{children:"ðŸ’¡ Tip:"})," Click Load this example to see it in action. After loading, click Run to execute it. Use Reset to clear results before trying a new example."]})}),t.map((a,c)=>(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[(0,b.jsx)("h3",{className:"mb-2 text-sm font-semibold text-slate-900",children:a.title}),a.expectedOutput&&(0,b.jsxs)("div",{className:"mb-3 rounded bg-slate-50 p-2 text-xs text-slate-600",children:[(0,b.jsx)("strong",{children:"Expected output:"})," ",a.expectedOutput]}),(0,b.jsx)("button",{type:"button",onClick:()=>{C(null),E(null),G(null),I("idle"),O(!1),A(a.inputs),w("run")},className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:"Load this example"})]},c))]}):(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"No examples available for this tool."})})]})}a.s(["runJs",()=>l],934737),a.s(["runPython",()=>m],51527),a.s(["runSql",()=>n],942656),a.s(["default",()=>q],580971);let r=i.default;function s(a){let b=r.tools.find(b=>b.id===a);return b?{id:b.id,title:b.title,description:b.description,category:b.category,difficulty:b.difficulty,route:b.route,executionModes:b.executionModes,defaultMode:b.defaultMode,inputs:b.inputs||[],limits:{cpuMs:b.limits.cpuMs,wallMs:b.limits.wallMs,memoryMb:b.limits.memoryMb,inputKb:b.limits.inputKb||64,outputKb:b.limits.outputKb},creditModel:b.creditModel,runner:b.runner||"local",failureModes:b.failureModes||["validation_error","execution_error","timeout","security_error"],statusStates:b.statusStates||["idle","running","completed","failed"],securityNotes:b.securityNotes}:null}a.s(["getToolContract",()=>s],474630)}];

//# debugId=aa85e7c4-85fb-376a-ba1f-03b7e510b46e
//# sourceMappingURL=src_components_tools_ToolShell_tsx_50746aa2._.js.map