{
  "version": 3,
  "sources": [],
  "debugId": "3151f0ff-ad6c-f268-b22d-0b822e0faf6c",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/list-checks.ts","../../../../node_modules/lucide-react/src/icons/scissors.ts","../../../../src/components/notes/tools/ai/advanced/TokenContextLab.jsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ListChecks\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMyAxNyAyIDIgNC00IiAvPgogIDxwYXRoIGQ9Im0zIDcgMiAyIDQtNCIgLz4KICA8cGF0aCBkPSJNMTMgNmg4IiAvPgogIDxwYXRoIGQ9Ik0xMyAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMyAxOGg4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/list-checks\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListChecks = createLucideIcon('ListChecks', [\n  ['path', { d: 'm3 17 2 2 4-4', key: '1jhpwq' }],\n  ['path', { d: 'm3 7 2 2 4-4', key: '1obspn' }],\n  ['path', { d: 'M13 6h8', key: '15sg57' }],\n  ['path', { d: 'M13 12h8', key: 'h98zly' }],\n  ['path', { d: 'M13 18h8', key: 'oe0vm4' }],\n]);\n\nexport default ListChecks;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Scissors\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMyIgLz4KICA8cGF0aCBkPSJNOC4xMiA4LjEyIDEyIDEyIiAvPgogIDxwYXRoIGQ9Ik0yMCA0IDguMTIgMTUuODgiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjE4IiByPSIzIiAvPgogIDxwYXRoIGQ9Ik0xNC44IDE0LjggMjAgMjAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/scissors\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Scissors = createLucideIcon('Scissors', [\n  ['circle', { cx: '6', cy: '6', r: '3', key: '1lh9wr' }],\n  ['path', { d: 'M8.12 8.12 12 12', key: '1alkpv' }],\n  ['path', { d: 'M20 4 8.12 15.88', key: 'xgtan2' }],\n  ['circle', { cx: '6', cy: '18', r: '3', key: 'fqmcym' }],\n  ['path', { d: 'M14.8 14.8 20 20', key: 'ptml3r' }],\n]);\n\nexport default Scissors;\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { ListChecks, Scissors } from \"lucide-react\";\n\nconst DEFAULT_TEXT =\n  \"Transformers break text into tokens, weigh them with attention, and stay within a context window. Short prompts leave room for reasoning.\";\n\nconst tokenize = (text) =>\n  text\n    .trim()\n    .split(/\\s+/)\n    .filter(Boolean);\n\nexport default function TokenContextLab() {\n  const [text, setText] = useState(DEFAULT_TEXT);\n  const [limit, setLimit] = useState(48);\n  const [focusIndex, setFocusIndex] = useState(0);\n\n  const tokens = useMemo(() => tokenize(text), [text]);\n  const truncated = tokens.slice(0, limit);\n  const overflow = tokens.length > limit;\n\n  const attentionHint = useMemo(() => {\n    if (!truncated.length) return [];\n    return truncated.map((_, index) => 1 / (1 + Math.abs(index - focusIndex)));\n  }, [truncated, focusIndex]);\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm\">\n      <div className=\"flex items-center gap-3\">\n        <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-sky-50 text-sky-700 ring-1 ring-sky-100\">\n          <ListChecks className=\"h-4 w-4\" aria-hidden=\"true\" />\n        </span>\n        <div>\n          <p className=\"text-sm font-semibold text-slate-900\">Explore tokens and context</p>\n          <p className=\"text-xs text-slate-600\">See how token limits and position hints shape model inputs.</p>\n        </div>\n      </div>\n\n      <div className=\"mt-4 grid gap-3 md:grid-cols-2\">\n        <label className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-3 text-xs text-slate-700\">\n          <span className=\"text-xs font-semibold text-slate-600\">Prompt text</span>\n          <textarea\n            value={text}\n            onChange={(event) => {\n              setText(event.target.value);\n              setFocusIndex(0);\n            }}\n            rows={5}\n            className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800\"\n          />\n          <p className=\"mt-2 text-sm text-slate-500\">\n            Tokens here are a simple split on whitespace to keep the idea clear.\n          </p>\n        </label>\n\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-xs text-slate-700\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <span className=\"text-xs font-semibold text-slate-700\">Context window</span>\n            <input\n              type=\"range\"\n              min={12}\n              max={120}\n              value={limit}\n              onChange={(event) => setLimit(Number(event.target.value))}\n              className=\"flex-1 accent-sky-500\"\n            />\n            <span className=\"rounded-full bg-slate-100 px-2 py-0.5 text-sm font-semibold text-slate-700\">\n              {limit} tokens\n            </span>\n          </div>\n          <p className=\"mt-2 text-sm text-slate-500\">\n            Total tokens: <span className=\"font-semibold text-slate-800\">{tokens.length}</span>{\" \"}\n            {overflow ? \"(will be truncated)\" : \"(fits)\"}\n          </p>\n          {overflow ? (\n            <div className=\"mt-2 rounded-xl border border-amber-200 bg-amber-50 p-2 text-sm text-amber-700\">\n              <p className=\"font-semibold\">Truncation</p>\n              <p>The model only sees the first {limit} tokens. Long prompts or retrieved context can fall out.</p>\n            </div>\n          ) : null}\n          <div className=\"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-2 text-sm text-slate-700\">\n            <p className=\"font-semibold text-slate-800\">Truncated view</p>\n            <p className=\"mt-1 text-sm leading-relaxed text-slate-600\">{truncated.join(\" \") || \"Add some text above.\"}</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-4 rounded-2xl border border-slate-200 bg-slate-50 p-3\">\n        <div className=\"flex items-center justify-between text-xs text-slate-700\">\n          <span className=\"font-semibold text-slate-800\">Token positions</span>\n          <div className=\"flex items-center gap-2 text-sm text-slate-600\">\n            <Scissors className=\"h-3.5 w-3.5\" aria-hidden=\"true\" />\n            <span>Click a token to focus attention</span>\n          </div>\n        </div>\n        <div className=\"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4\">\n          {truncated.slice(0, 24).map((token, index) => {\n            const weight = attentionHint[index];\n            const isActive = index === focusIndex;\n            const opacity = Math.max(0.25, Math.min(1, weight));\n            return (\n              <button\n                key={`${token}-${index}`}\n                type=\"button\"\n                onClick={() => setFocusIndex(index)}\n                className={`flex flex-col rounded-xl border px-3 py-2 text-left text-sm transition ${\n                  isActive ? \"border-sky-400 bg-sky-50 text-sky-800\" : \"border-slate-200 bg-white text-slate-700\"\n                }`}\n                style={{ boxShadow: `0 0 0 1px rgba(56, 189, 248, ${isActive ? 0.45 : 0})`, opacity }}\n              >\n                <span className=\"truncate font-semibold\">{token}</span>\n                <span className=\"text-[10px] text-slate-500\">Pos {index + 1}</span>\n              </button>\n            );\n          })}\n        </div>\n        <p className=\"mt-3 text-sm text-slate-600\">\n          Positional encodings tell the model where each token sits. Attention then turns that into a soft focus across the window.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wCAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAa,AAAb,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAa,OAAA,EAAiB,YAAc,CAAA,CAAA,AAChD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAAA,AAC9C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC7C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAAA,AACxC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACzC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAC1C,CAAA,CAAA,6HCNK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAW,CAAX,CAAA,CAAA,CAAA,CAAA,OAAW,OAAA,EAAiB,UAAY,CAAA,CAAA,AAC5C,CAAC,QAAU,CAAA,CAAE,AAAF,EAAM,CAAA,CAAA,CAAA,CAAA,CAAK,CAAI,CAAA,CAAA,GAAA,CAAK,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAAA,AACtD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACjD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AACjD,CAAC,QAAU,CAAA,CAAA,AAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAK,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAAA,AACvD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAE,AAAF,EAAK,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAClD,CAAA,CAAA,kECjBD,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,0BAWe,SAAS,IACtB,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,AATjC,6IAUM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEvC,EAAS,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAVvB,AAU6B,AAAS,EATnC,IAAI,GACJ,KAAK,CAAC,OACN,MAAM,CAAC,SAOmC,CAAC,EAAK,EAC7C,EAAY,EAAO,KAAK,CAAC,EAAG,GAC5B,EAAW,EAAO,MAAM,CAAG,EAE3B,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAC5B,AAAK,EAAU,EAAX,IAAiB,CACd,CADgB,CACN,GAAG,CAAC,CAAC,EAAG,IAAU,GAAK,CAAD,CAAK,KAAK,GAAG,CAAC,EAAQ,EAAA,CAAW,EAD1C,EAAE,CAE/B,CAAC,EAAW,EAAW,EAE1B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kHACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,UAAU,cAAY,WAE9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,+BACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,sEAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,0FACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,gBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,IACT,EAAQ,EAAM,MAAM,CAAC,KAAK,EAC1B,EAAc,EAChB,EACA,KAAM,EACN,UAAU,6FAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,4EAK7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,mBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,IAAK,GACL,IAAK,IACL,MAAO,EACP,SAAU,AAAC,GAAU,EAAS,OAAO,EAAM,MAAM,CAAC,KAAK,GACvD,UAAU,0BAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uFACb,EAAM,gBAGX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,wCAA8B,iBAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,EAAO,MAAM,GAAS,IACnF,EAAW,sBAAwB,YAErC,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,eAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,iCAA+B,EAAM,iEAExC,KACJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCAA+B,mBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAU,IAAI,CAAC,MAAQ,kCAKzF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,oBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CAAC,UAAU,cAAc,cAAY,SAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,2CAGV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAU,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,CAAC,EAAO,KAClC,IAAM,EAAS,CAAa,CAAC,EAAM,CAC7B,EAAW,IAAU,EACrB,EAAU,KAAK,GAAG,CAAC,IAAM,KAAK,GAAG,CAAC,EAAG,IAC3C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,EAAc,GAC7B,UAAW,CAAC,uEAAuE,EACjF,EAAW,wCAA0C,2CAAA,CACrD,CACF,MAAO,CAAE,UAAW,CAAC,6BAA6B,EAAa,MAAX,CAAkB,CAAE,CAAC,CAAC,SAAE,CAAQ,YAEpF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAA0B,IAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uCAA6B,OAAK,EAAQ,OATrD,CAAA,EAAG,EAAM,CAAC,EAAE,EAAA,CAAO,CAY9B,KAEF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,mIAMnD"}}]
}