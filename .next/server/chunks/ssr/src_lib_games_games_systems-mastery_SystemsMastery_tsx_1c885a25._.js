;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="e2f90aa8-9f41-c078-5efb-64c2933f9d77")}catch(e){}}();
module.exports=[7927,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(469124),e=a.i(233367),f=a.i(230133),g=a.i(621272),h=a.i(337525);let i={id:"systems-mastery",title:"Systems Mastery Game",description:"Flagship game for understanding complex systems. Learn systems thinking through interactive scenarios.",category:"educational",modes:["solo","campaign"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:30,tutorialAvailable:!0},j=[{id:"1",title:"Simple Pipeline",description:"A basic input-process-output system",components:[{id:"input",name:"Data Input",type:"input",connections:["process"],state:"healthy"},{id:"process",name:"Processor",type:"process",connections:["output"],state:"healthy"},{id:"output",name:"Data Output",type:"output",connections:[],state:"healthy"}],challenge:"Identify what happens if the processor fails",solution:["process"]},{id:"2",title:"Feedback Loop",description:"A system with feedback control",components:[{id:"input",name:"Input",type:"input",connections:["process"],state:"healthy"},{id:"process",name:"Processor",type:"process",connections:["output","feedback"],state:"healthy"},{id:"output",name:"Output",type:"output",connections:[],state:"healthy"},{id:"feedback",name:"Feedback",type:"feedback",connections:["process"],state:"healthy"}],challenge:"What happens if feedback is delayed?",solution:["feedback"]}];function k(){let[a,k]=(0,c.useState)("idle"),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(0),[r,s]=(0,c.useState)(null),t=(0,c.useMemo)(()=>Math.floor(1e6*Math.random()),[]),u=(0,c.useMemo)(()=>new e.StateManager({status:"idle"},t),[t]),v=(0,c.useMemo)(()=>new f.DifficultyEngine({initial:.3,target:.9,rampTime:18e5,adaptive:!0}),[]),w=(0,c.useMemo)(()=>new g.ExplainabilityEngine,[]);(0,h.useGameAnalytics)(i.id,a,u.getState());let x=j[l],y=(0,c.useCallback)(b=>{"playing"===a&&(o(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),u.recordMove("select-component",{componentId:b}))},[a,u]),z=(0,c.useCallback)(()=>{if("playing"!==a)return;let b=n.length===x.solution.length&&x.solution.every(a=>n.includes(a));u.recordMove("submit",{scenarioId:x.id,selected:n,correct:b}),b?(q(p+10),v.recordPerformance(1),l<j.length-1?setTimeout(()=>{m(l+1),o([])},2e3):(k("finished"),u.updateState({status:"finished",score:p}),s(w.analyzeGame(u.getState(),{id:i.id,type:"educational"})))):v.recordPerformance(0)},[a,n,x,l,p,u,v,w]),A=(0,c.useCallback)(()=>{k("playing"),m(0),o([]),q(0),u.updateState({status:"playing",timestamp:Date.now()}),u.recordMove("start",{}),v.reset()},[u,v]),B=(0,c.useCallback)(()=>{k("idle"),m(0),o([]),q(0),s(null),u.updateState({status:"idle",moves:[],score:0}),v.reset()},[u,v]),C=v.getCurrentDifficulty();return(0,b.jsxs)(d.default,{config:i,status:a,onStart:"idle"===a?A:void 0,onReset:B,rightPanel:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Progress"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-slate-900",children:["Scenario ",l+1," / ",j.length]}),(0,b.jsxs)("div",{className:"mt-2 text-sm text-slate-600",children:["Score: ",p]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Difficulty"}),(0,b.jsx)("div",{className:"text-sm text-slate-700",children:v.getDifficultyLabel(C)})]})]}),children:["idle"===a&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:"Ready to master systems thinking?"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Learn how complex systems work through interactive scenarios"})]}),"playing"===a&&x&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-900 mb-2",children:x.title}),(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:x.description}),(0,b.jsxs)("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Challenge:"}),(0,b.jsx)("p",{className:"text-sm text-blue-800",children:x.challenge})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"System Components"}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",role:"group","aria-label":"System components",children:x.components.map(a=>{let c=n.includes(a.id);return(0,b.jsxs)("button",{onClick:()=>y(a.id),className:`rounded-lg border-2 p-4 text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 ${c?"bg-blue-100 border-blue-500":"bg-white border-slate-200 hover:bg-slate-50"}`,type:"button","aria-label":`${a.name}, type ${a.type}${c?", selected":""}`,"aria-pressed":c,children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-600 mt-1",children:["Type: ",a.type]}),c&&(0,b.jsx)("div",{className:"text-xs text-blue-700 mt-1 font-medium","aria-hidden":"true",children:"Selected"})]},a.id)})})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:z,disabled:0===n.length,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",type:"button","aria-label":`Submit answer${0===n.length?". Select at least one component first":` with ${n.length} component${1===n.length?"":"s"} selected`}`,"aria-disabled":0===n.length,children:"Submit Answer"})})]}),"finished"===a&&r&&(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Course Complete!"}),(0,b.jsxs)("p",{className:"text-lg text-slate-600",children:["Final Score: ",p]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:(0,b.jsx)("p",{className:"text-sm text-blue-900",children:r.summary})})]})]})}a.s(["default",()=>k])}];

//# debugId=e2f90aa8-9f41-c078-5efb-64c2933f9d77
//# sourceMappingURL=src_lib_games_games_systems-mastery_SystemsMastery_tsx_1c885a25._.js.map