{
  "version": 3,
  "sources": [],
  "debugId": "615a4b46-3706-2cc3-dfd1-5a7c03c38bb4",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/architecture/RequestJourneyExplorer.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst initialHops = [\n  { id: 1, name: \"Browser and network\", latencyMs: 80, reliability: 99.0 },\n  { id: 2, name: \"API gateway\", latencyMs: 20, reliability: 99.5 },\n  { id: 3, name: \"Service\", latencyMs: 40, reliability: 99.0 },\n  { id: 4, name: \"Database\", latencyMs: 30, reliability: 99.5 },\n];\n\nexport function RequestJourneyExplorer() {\n  const [hops, setHops] = useState(initialHops);\n\n  function updateHop(id, patch) {\n    setHops((current) => current.map((h) => (h.id === id ? { ...h, ...patch } : h)));\n  }\n\n  const totals = useMemo(() => {\n    const totalLatency = hops.reduce((sum, h) => sum + h.latencyMs, 0);\n    const combinedReliability = hops.reduce((acc, h) => acc * (h.reliability / 100), 1);\n    return {\n      totalLatency,\n      combinedReliability,\n    };\n  }, [hops]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Every request is a small journey. This tool helps you see where time and risk sit in that\n        journey. You can tweak each hop and notice how the overall experience responds.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">\n            Request hops\n          </p>\n          <div className=\"space-y-3\">\n            {hops.map((hop) => (\n              <div key={hop.id} className=\"rounded-2xl border border-slate-100 bg-slate-50 p-3 shadow-sm\">\n                <p className=\"mb-2 text-sm font-semibold text-slate-800\">{hop.name}</p>\n                <label className=\"mb-2 block text-xs text-slate-600\">\n                  Latency (milliseconds)\n                  <input\n                    type=\"range\"\n                    min={0}\n                    max={400}\n                    value={hop.latencyMs}\n                    onChange={(e) => updateHop(hop.id, { latencyMs: Number(e.target.value) || 0 })}\n                    className=\"mt-1 w-full\"\n                  />\n                  <span className=\"mt-1 inline-block text-xs text-slate-700\">{hop.latencyMs} ms</span>\n                </label>\n\n                <label className=\"block text-xs text-slate-600\">\n                  Reliability (percentage of requests that succeed at this hop)\n                  <input\n                    type=\"range\"\n                    min={90}\n                    max={100}\n                    value={hop.reliability}\n                    onChange={(e) => updateHop(hop.id, { reliability: Number(e.target.value) || 0 })}\n                    className=\"mt-1 w-full\"\n                  />\n                  <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                    {hop.reliability.toFixed(2)}%\n                  </span>\n                </label>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">\n              Journey summary\n            </p>\n            <p className=\"text-sm text-slate-800\">\n              Total latency: <span className=\"font-semibold\">{totals.totalLatency.toFixed(0)} ms</span>\n            </p>\n            <p className=\"text-sm text-slate-800\">\n              Combined reliability:{\" \"}\n              <span className=\"font-semibold\">{(totals.combinedReliability * 100).toFixed(3)}%</span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-600\">\n              Combined reliability is the product of the reliability of each hop. Even strong values can drop when many hops are\n              chained together.\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Exercises</p>\n            <ul className=\"list-disc pl-4 space-y-1\">\n              <li>Halve database latency and see how that compares with shaving a few milliseconds from the gateway.</li>\n              <li>Reduce reliability at one hop and watch how quickly the end-to-end percentage falls.</li>\n              <li>Add an extra hop in your head, such as a fraud check, and think about where it is safest to place it.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}