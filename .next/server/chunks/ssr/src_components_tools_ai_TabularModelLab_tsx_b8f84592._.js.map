{
  "version": 3,
  "sources": [],
  "debugId": "bb00e3d1-5408-2a86-08d3-60224ed92ddb",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/tools/ai/TabularModelLab.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { Brain, UploadCloud } from \"lucide-react\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport Papa from \"papaparse\";\nimport { validateUpload } from \"@/utils/validateUpload\";\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from \"recharts\";\nimport { AiToolCard } from \"./AiToolCard\";\nimport { SecurityBanner } from \"@/components/dev-studios/SecurityBanner\";\n\ntype ParsedRow = Record<string, string | number | null>;\n\ntype ParsedData = {\n  columns: string[];\n  rows: ParsedRow[];\n};\n\ntype TrainingHistoryPoint = {\n  epoch: number;\n  loss: number;\n  metric: number;\n};\n\ntype ProblemType = \"classification\" | \"regression\";\n\ntype ModelState =\n  | { status: \"idle\" }\n  | { status: \"preparing\" }\n  | { status: \"training\"; epoch: number; totalEpochs: number }\n  | { status: \"trained\"; problemType: ProblemType; summary: string }\n  | { status: \"error\"; message: string };\n\nfunction detectColumns(rows: ParsedRow[]): string[] {\n  if (!rows.length) return [];\n  const first = rows[0];\n  return Object.keys(first);\n}\n\nfunction normaliseNumeric(\n  rows: ParsedRow[],\n  featureColumns: string[]\n): { normRows: ParsedRow[]; means: Record<string, number>; stds: Record<string, number> } {\n  const means: Record<string, number> = {};\n  const stds: Record<string, number> = {};\n  const normRows: ParsedRow[] = rows.map((row) => ({ ...row }));\n\n  featureColumns.forEach((col) => {\n    const nums = rows.map((r) => r[col]).filter((v): v is number => typeof v === \"number\");\n\n    if (!nums.length) {\n      means[col] = 0;\n      stds[col] = 1;\n      return;\n    }\n\n    const mean = nums.reduce((a, b) => a + b, 0) / nums.length;\n    const variance = nums.reduce((acc, v) => acc + (v - mean) * (v - mean), 0) / Math.max(1, nums.length - 1);\n    const std = Math.sqrt(variance || 1);\n\n    means[col] = mean;\n    stds[col] = std;\n\n    normRows.forEach((r) => {\n      const raw = r[col];\n      if (typeof raw === \"number\") {\n        (r as any)[col] = (raw - mean) / std;\n      }\n    });\n  });\n\n  return { normRows, means, stds };\n}\n\nfunction splitDataset<T>(rows: T[], trainRatio: number, valRatio: number) {\n  const shuffled = [...rows];\n  for (let i = shuffled.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n\n  const trainSize = Math.floor(shuffled.length * trainRatio);\n  const valSize = Math.floor(shuffled.length * valRatio);\n\n  const train = shuffled.slice(0, trainSize);\n  const val = shuffled.slice(trainSize, trainSize + valSize);\n  const test = shuffled.slice(trainSize + valSize);\n\n  return { train, val, test };\n}\n\nfunction createFeatureTensor(rows: ParsedRow[], featureColumns: string[]): tf.Tensor2D {\n  const data = rows.map((row) =>\n    featureColumns.map((col) => {\n      const v = row[col];\n      if (typeof v === \"number\") return v;\n      if (v === null || v === undefined) return 0;\n      const trimmed = String(v).trim();\n      if (trimmed === \"\") return 0;\n      const num = Number(trimmed);\n      return Number.isFinite(num) ? num : 0;\n    })\n  );\n  return tf.tensor2d(data);\n}\n\nfunction encodeLabels(rows: ParsedRow[], targetColumn: string): { labelsTensor: tf.Tensor1D; classes: string[] } {\n  const rawValues = rows.map((r) => r[targetColumn]);\n  const classSet = Array.from(\n    new Set(\n      rawValues.map((v) => (v === null || v === undefined ? \"null\" : String(v)))\n    )\n  );\n  const indexByClass = new Map<string, number>();\n  classSet.forEach((c, idx) => indexByClass.set(c, idx));\n\n  const encoded = rawValues.map((v) => {\n    const key = v === null || v === undefined ? \"null\" : String(v);\n    return indexByClass.get(key) ?? 0;\n  });\n\n  return {\n    labelsTensor: tf.tensor1d(encoded, \"int32\"),\n    classes: classSet,\n  };\n}\n\nexport function TabularModelLab() {\n  const [parsedData, setParsedData] = useState<ParsedData | null>(null);\n  const [targetColumn, setTargetColumn] = useState<string>(\"\");\n  const [featureColumns, setFeatureColumns] = useState<string[]>([]);\n  const [problemType, setProblemType] = useState<ProblemType>(\"classification\");\n  const [trainRatio, setTrainRatio] = useState(0.7);\n  const [valRatio, setValRatio] = useState(0.15);\n  const [modelState, setModelState] = useState<ModelState>({ status: \"idle\" });\n  const [history, setHistory] = useState<TrainingHistoryPoint[]>([]);\n  const [metricName, setMetricName] = useState<string>(\"accuracy\");\n  const [evalSummary, setEvalSummary] = useState<string>(\"\");\n  const [trainedModel, setTrainedModel] = useState<tf.LayersModel | null>(null);\n  const [classNames, setClassNames] = useState<string[] | null>(null);\n  const [predictionInput, setPredictionInput] = useState<Record<string, string>>({});\n  const [predictionOutput, setPredictionOutput] = useState<string>(\"\");\n\n  const handleFileChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { safeFiles, errors } = validateUpload(e.target.files, { maxBytes: 8 * 1024 * 1024, allowedExtensions: [\".csv\"] });\n    if (errors.length) alert(errors.join(\"\\n\"));\n    const file = safeFiles[0];\n    if (!file) return;\n\n    setModelState({ status: \"preparing\" });\n    setHistory([]);\n    setEvalSummary(\"\");\n    setTrainedModel(null);\n    setClassNames(null);\n    setPredictionInput({});\n    setPredictionOutput(\"\");\n\n    Papa.parse(file, {\n      header: true,\n      skipEmptyLines: true,\n      dynamicTyping: true,\n      complete: (results) => {\n        const rows = results.data as ParsedRow[];\n        if (!rows || rows.length === 0) {\n          setModelState({\n            status: \"error\",\n            message: \"The CSV file appears to be empty or malformed.\",\n          });\n          return;\n        }\n        const columns = detectColumns(rows);\n        if (!columns.length) {\n          setModelState({\n            status: \"error\",\n            message: \"Could not detect any columns in the CSV file.\",\n          });\n          return;\n        }\n        setParsedData({ columns, rows });\n        setTargetColumn(columns[columns.length - 1]);\n        setFeatureColumns(columns.slice(0, -1));\n        setModelState({ status: \"idle\" });\n      },\n      error: (err) => {\n        setModelState({\n          status: \"error\",\n          message: `Failed to parse CSV: ${err.message}`,\n        });\n      },\n    });\n  }, []);\n\n  const canTrain = useMemo(\n    () =>\n      parsedData &&\n      targetColumn &&\n      featureColumns.length > 0 &&\n      trainRatio > 0 &&\n      valRatio >= 0 &&\n      trainRatio + valRatio < 1,\n    [parsedData, targetColumn, featureColumns, trainRatio, valRatio]\n  );\n\n  const handleTrain = useCallback(async () => {\n    if (!parsedData || !canTrain) return;\n\n    try {\n      setModelState({ status: \"training\", epoch: 0, totalEpochs: 30 });\n      setHistory([]);\n      setEvalSummary(\"\");\n      setPredictionOutput(\"\");\n\n      const rows = parsedData.rows;\n      const { normRows } = normaliseNumeric(rows, featureColumns);\n      const all = normRows.map((r) => ({ ...r }));\n\n      const featureTensorAll = createFeatureTensor(all, featureColumns);\n\n      let labelsTensor: tf.Tensor1D;\n      let classes: string[] | null = null;\n\n      if (problemType === \"classification\") {\n        const encoded = encodeLabels(all, targetColumn);\n        labelsTensor = encoded.labelsTensor;\n        classes = encoded.classes;\n        setMetricName(\"accuracy\");\n        setClassNames(encoded.classes);\n      } else {\n        const vals = all.map((r) => r[targetColumn]);\n        const numeric = vals.map((v) => {\n          if (typeof v === \"number\") return v;\n          if (v === null || v === undefined) return 0;\n          const num = Number(String(v).trim());\n          return Number.isFinite(num) ? num : 0;\n        });\n        labelsTensor = tf.tensor1d(numeric, \"float32\");\n        setMetricName(\"meanSquaredError\");\n        setClassNames(null);\n      }\n\n      const combined: { x: number[]; y: number }[] = [];\n      const xs = featureTensorAll.arraySync() as number[][];\n      const ys = labelsTensor.arraySync() as number[];\n\n      for (let i = 0; i < xs.length; i += 1) {\n        combined.push({ x: xs[i], y: ys[i] });\n      }\n\n      const { train, val, test } = splitDataset(combined, trainRatio, valRatio);\n\n      if (train.length < featureColumns.length + 1) {\n        setModelState({\n          status: \"error\",\n          message: \"Training set is too small after splitting. Increase train ratio or provide more rows.\",\n        });\n        featureTensorAll.dispose();\n        labelsTensor.dispose();\n        return;\n      }\n\n      const makeFeatureTensorFrom = (subset: typeof combined) => tf.tensor2d(subset.map((r) => r.x));\n      const makeLabelTensorFrom = (subset: typeof combined) =>\n        tf.tensor1d(\n          subset.map((r) => r.y),\n          problemType === \"classification\" ? \"int32\" : \"float32\"\n        );\n\n      const xTrain = makeFeatureTensorFrom(train);\n      const yTrain = makeLabelTensorFrom(train);\n      const xVal = makeFeatureTensorFrom(val);\n      const yVal = makeLabelTensorFrom(val);\n      const xTest = makeFeatureTensorFrom(test);\n      const yTest = makeLabelTensorFrom(test);\n\n      const numFeatures = featureColumns.length;\n\n      const model = tf.sequential();\n\n      model.add(\n        tf.layers.dense({\n          inputShape: [numFeatures],\n          units: 16,\n          activation: \"relu\",\n        })\n      );\n      model.add(\n        tf.layers.dense({\n          units: 8,\n          activation: \"relu\",\n        })\n      );\n\n      if (problemType === \"classification\") {\n        const numClasses = classes ? classes.length : 2;\n        model.add(\n          tf.layers.dense({\n            units: numClasses,\n            activation: \"softmax\",\n          })\n        );\n        model.compile({\n          optimizer: tf.train.adam(0.01),\n          loss: \"sparseCategoricalCrossentropy\",\n          metrics: [\"accuracy\"],\n        });\n      } else {\n        model.add(\n          tf.layers.dense({\n            units: 1,\n            activation: \"linear\",\n          })\n        );\n        model.compile({\n          optimizer: tf.train.adam(0.01),\n          loss: \"meanSquaredError\",\n          metrics: [\"meanSquaredError\"],\n        });\n      }\n\n      const epochs = 30;\n      const batchSize = Math.max(8, Math.floor(train.length / 10));\n      const newHistory: TrainingHistoryPoint[] = [];\n\n      await model.fit(xTrain, yTrain, {\n        epochs,\n        batchSize,\n        validationData: [xVal, yVal],\n        callbacks: {\n          onEpochEnd: async (epoch, logs) => {\n            const loss = logs?.loss ?? 0;\n            const metric =\n              problemType === \"classification\"\n                ? logs?.acc ?? logs?.accuracy ?? 0\n                : logs?.meanSquaredError ?? 0;\n\n            newHistory.push({\n              epoch: epoch + 1,\n              loss,\n              metric: metric as number,\n            });\n            setHistory([...newHistory]);\n            setModelState({\n              status: \"training\",\n              epoch: epoch + 1,\n              totalEpochs: epochs,\n            });\n          },\n        },\n      });\n\n      const evalLogs = model.evaluate(xTest, yTest) as tf.Scalar | tf.Scalar[];\n\n      let lossTest = 0;\n      let metricTest = 0;\n\n      if (Array.isArray(evalLogs)) {\n        lossTest = (evalLogs[0].arraySync() as number) ?? 0;\n        metricTest = (evalLogs[1].arraySync() as number) ?? 0;\n        evalLogs.forEach((t) => t.dispose());\n      } else {\n        lossTest = (evalLogs.arraySync() as number) ?? 0;\n        evalLogs.dispose();\n      }\n\n      const summaryParts: string[] = [];\n      summaryParts.push(`Training rows: ${train.length}, validation rows: ${val.length}, test rows: ${test.length}.`);\n      summaryParts.push(`Final test loss: ${lossTest.toFixed(4)}.`);\n      if (problemType === \"classification\") {\n        summaryParts.push(`Approximate test accuracy: ${metricTest.toFixed(4)}.`);\n      } else {\n        summaryParts.push(`Approximate test mean squared error: ${metricTest.toFixed(4)}.`);\n      }\n\n      setEvalSummary(summaryParts.join(\" \"));\n\n      xTrain.dispose();\n      yTrain.dispose();\n      xVal.dispose();\n      yVal.dispose();\n      xTest.dispose();\n      yTest.dispose();\n      featureTensorAll.dispose();\n      labelsTensor.dispose();\n\n      setTrainedModel(model);\n      setModelState({\n        status: \"trained\",\n        problemType,\n        summary: summaryParts.join(\" \"),\n      });\n    } catch (err: any) {\n      setModelState({\n        status: \"error\",\n        message: \"Something went wrong during training. Try a smaller dataset or adjust the splits.\",\n      });\n    }\n  }, [parsedData, canTrain, featureColumns, targetColumn, trainRatio, valRatio, problemType]);\n\n  const learningCurve = useMemo(\n    () =>\n      history.map((h) => ({\n        epoch: h.epoch,\n        loss: h.loss,\n        metric: h.metric,\n      })),\n    [history]\n  );\n\n  const handlePredictionInputChange = useCallback((col: string, value: string) => {\n    setPredictionInput((prev) => ({ ...prev, [col]: value }));\n  }, []);\n\n  const handlePredict = useCallback(async () => {\n    if (!trainedModel || !parsedData) {\n      setPredictionOutput(\"Train a model first and upload a dataset before trying predictions.\");\n      return;\n    }\n\n    try {\n      const row: ParsedRow = {};\n      featureColumns.forEach((col) => {\n        const raw = predictionInput[col];\n        const num = Number(raw);\n        if (!raw) {\n          row[col] = 0;\n        } else if (isNaN(num)) {\n          row[col] = 0;\n        } else {\n          row[col] = num;\n        }\n      });\n\n      const x = createFeatureTensor([row], featureColumns);\n      const pred = trainedModel.predict(x) as tf.Tensor;\n      const arr = (await pred.array()) as any;\n\n      if (problemType === \"classification\" && classNames) {\n        const probs: number[] = arr[0];\n        let bestIdx = 0;\n        let bestScore = probs[0] ?? 0;\n        for (let i = 1; i < probs.length; i += 1) {\n          if (probs[i] > bestScore) {\n            bestScore = probs[i];\n            bestIdx = i;\n          }\n        }\n        const label = classNames[bestIdx] ?? \"(unknown)\";\n        setPredictionOutput(`Predicted class: ${label} with probability ${bestScore.toFixed(3)}.`);\n      } else {\n        const value = Array.isArray(arr[0]) ? arr[0][0] : arr[0];\n        setPredictionOutput(`Predicted numeric value: ${Number(value).toFixed(4)}.`);\n      }\n\n      x.dispose();\n      pred.dispose();\n    } catch (err: any) {\n      setPredictionOutput(\"Could not compute prediction for this input. Check your values and try again.\");\n    }\n  }, [trainedModel, parsedData, predictionInput, featureColumns, problemType, classNames]);\n\n  const statusText = useMemo(() => {\n    if (modelState.status === \"idle\") {\n      return \"Ready to train. Upload a CSV and choose target and features.\";\n    }\n    if (modelState.status === \"preparing\") {\n      return \"Parsing CSV and preparing data.\";\n    }\n    if (modelState.status === \"training\") {\n      return `Training epoch ${modelState.epoch} of ${modelState.totalEpochs}.`;\n    }\n    if (modelState.status === \"trained\") {\n      return \"Training complete. Review metrics and try a prediction.\";\n    }\n    if (modelState.status === \"error\") {\n      return `Error: ${modelState.message}`;\n    }\n    return \"\";\n  }, [modelState]);\n\n  const currentColumns = parsedData?.columns ?? [];\n\n  return (\n    <AiToolCard\n      id=\"tabular-model-lab-title\"\n      title=\"Tabular model builder and evaluator\"\n      icon={<Brain className=\"h-4 w-4\" aria-hidden=\"true\" />}\n      description=\"Upload a CSV, pick a target column and features, train a small model in your browser and inspect its performance.\"\n    >\n      <SecurityBanner />\n\n      <div className=\"grid gap-6 lg:grid-cols-3\">\n        <div className=\"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 lg:col-span-1\">\n          <div className=\"space-y-2\">\n            <label htmlFor=\"csv-upload\" className=\"block text-xs font-semibold text-slate-700\">\n              Upload CSV file\n            </label>\n            <div className=\"flex items-center gap-3\">\n              <label\n                htmlFor=\"csv-upload\"\n                className=\"inline-flex cursor-pointer items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm hover:border-sky-300 hover:text-sky-700\"\n              >\n                <UploadCloud className=\"h-4 w-4\" aria-hidden=\"true\" />\n                <span>Choose file</span>\n              </label>\n              <input id=\"csv-upload\" type=\"file\" accept=\".csv,text/csv\" className=\"hidden\" onChange={handleFileChange} />\n              <span className=\"text-sm text-slate-500\">CSV only, max 8MB. Data stays in your browser.</span>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-700\">Problem type</p>\n            <div className=\"inline-flex rounded-full bg-white p-0.5 ring-1 ring-slate-200 text-xs\">\n              <button\n                type=\"button\"\n                onClick={() => setProblemType(\"classification\")}\n                className={`px-3 py-1.5 rounded-full ${\n                  problemType === \"classification\" ? \"bg-slate-900 text-white\" : \"text-slate-600\"\n                }`}\n              >\n                Classification\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setProblemType(\"regression\")}\n                className={`px-3 py-1.5 rounded-full ${\n                  problemType === \"regression\" ? \"bg-slate-900 text-white\" : \"text-slate-600\"\n                }`}\n              >\n                Regression\n              </button>\n            </div>\n            <p className=\"text-sm text-slate-500\">\n              Classification predicts labels, regression predicts continuous numeric values. If you are unsure, classification\n              usually applies to categories like Yes or No and regression to quantities like price.\n            </p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label htmlFor=\"target-column\" className=\"block text-xs font-semibold text-slate-700\">\n              Target column\n            </label>\n            <select\n              id=\"target-column\"\n              value={targetColumn}\n              onChange={(e) => setTargetColumn(e.target.value)}\n              className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-1.5 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n            >\n              <option value=\"\">Select target</option>\n              {currentColumns.map((col) => (\n                <option key={col} value={col}>\n                  {col}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-700\">Feature columns</p>\n            <div className=\"flex flex-wrap gap-1.5\">\n              {currentColumns.map((col) => {\n                const isTarget = col === targetColumn;\n                const selected = featureColumns.includes(col);\n                return (\n                  <button\n                    key={col}\n                    type=\"button\"\n                    disabled={isTarget}\n                    onClick={() => {\n                      setFeatureColumns((prev) => (selected ? prev.filter((c) => c !== col) : [...prev, col]));\n                    }}\n                    className={`rounded-full border px-2 py-0.5 text-sm ${\n                      isTarget\n                        ? \"border-slate-200 bg-slate-100 text-slate-400 cursor-not-allowed\"\n                        : selected\n                        ? \"border-sky-500 bg-sky-50 text-sky-800\"\n                        : \"border-slate-200 bg-white text-slate-700\"\n                    }`}\n                  >\n                    {col}\n                  </button>\n                );\n              })}\n            </div>\n            <p className=\"text-sm text-slate-500\">Click to toggle features. The target column is excluded automatically.</p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-700\">Data split ratios</p>\n            <div className=\"flex items-center gap-2 text-sm text-slate-600\">\n              <span>Train</span>\n              <input\n                type=\"number\"\n                min={0.5}\n                max={0.9}\n                step={0.05}\n                value={trainRatio}\n                onChange={(e) => setTrainRatio(Number(e.target.value))}\n                className=\"w-14 rounded-2xl border border-slate-200 bg-white px-1.5 py-0.5 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-200\"\n              />\n              <span>Validation</span>\n              <input\n                type=\"number\"\n                min={0.05}\n                max={0.4}\n                step={0.05}\n                value={valRatio}\n                onChange={(e) => setValRatio(Number(e.target.value))}\n                className=\"w-14 rounded-2xl border border-slate-200 bg-white px-1.5 py-0.5 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-200\"\n              />\n              <span>Test auto set to {Math.max(0, 1 - trainRatio - valRatio).toFixed(2)}</span>\n            </div>\n          </div>\n\n          <button\n            type=\"button\"\n            onClick={handleTrain}\n            disabled={!canTrain || modelState.status === \"training\"}\n            className=\"inline-flex items-center justify-center rounded-2xl bg-slate-900 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300\"\n          >\n            {modelState.status === \"training\" ? \"Training...\" : \"Train model\"}\n          </button>\n\n          <p className=\"text-sm text-slate-500\">{statusText}</p>\n        </div>\n\n        <div className=\"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 lg:col-span-1\">\n          <p className=\"text-xs font-semibold text-slate-700\">Training progress</p>\n          <div className=\"h-48 rounded-2xl border border-slate-200 bg-white px-3 py-2\">\n            {learningCurve.length === 0 ? (\n              <p className=\"text-sm text-slate-500\">The learning curve will appear here once training begins.</p>\n            ) : (\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <LineChart data={learningCurve}>\n                  <XAxis\n                    dataKey=\"epoch\"\n                    tick={{ fontSize: 10 }}\n                    label={{ value: \"Epoch\", position: \"insideBottom\", offset: -4, fontSize: 10 }}\n                  />\n                  <YAxis\n                    tick={{ fontSize: 10 }}\n                    label={{\n                      value: metricName === \"accuracy\" ? \"Loss and accuracy\" : \"Loss and error\",\n                      angle: -90,\n                      position: \"insideLeft\",\n                      fontSize: 10,\n                    }}\n                  />\n                  <Tooltip contentStyle={{ fontSize: 10, borderRadius: 12, padding: 8 }} />\n                  <Line type=\"monotone\" dataKey=\"loss\" stroke=\"#94a3b8\" strokeWidth={1.6} dot={false} name=\"Loss\" />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"metric\"\n                    stroke=\"#0f766e\"\n                    strokeWidth={1.6}\n                    dot={false}\n                    name={metricName}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            )}\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-700\">Evaluation summary</p>\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-700 min-h-[64px]\">\n              {evalSummary || \"Metrics will appear here once the model is trained.\"}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/60 p-4 lg:col-span-1\">\n          <p className=\"text-xs font-semibold text-slate-700\">Try a prediction</p>\n          <div className=\"space-y-2\">\n            {featureColumns.length === 0 ? (\n              <p className=\"text-sm text-slate-500\">\n                After training, you can enter feature values here to see how your model responds.\n              </p>\n            ) : (\n              <>\n                {featureColumns.map((col) => (\n                  <div key={col} className=\"space-y-1\">\n                    <label htmlFor={`pred-${col}`} className=\"block text-sm font-medium text-slate-700\">\n                      {col}\n                    </label>\n                    <input\n                      id={`pred-${col}`}\n                      type=\"text\"\n                      value={predictionInput[col] ?? \"\"}\n                      onChange={(e) => handlePredictionInputChange(col, e.target.value)}\n                      className=\"w-full rounded-2xl border border-slate-200 bg-white px-2 py-1 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-200\"\n                      placeholder=\"Enter a numeric value\"\n                    />\n                  </div>\n                ))}\n                <button\n                  type=\"button\"\n                  onClick={handlePredict}\n                  disabled={!trainedModel}\n                  className=\"mt-1 inline-flex items-center justify-center rounded-2xl bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-500 disabled:bg-slate-300 disabled:cursor-not-allowed\"\n                >\n                  Predict\n                </button>\n              </>\n            )}\n          </div>\n          <div className=\"space-y-1\">\n            <p className=\"text-xs font-semibold text-slate-700\">Prediction output</p>\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-700 min-h-[48px]\">\n              {predictionOutput || \"Your prediction result will appear here.\"}\n            </div>\n            <p className=\"text-sm text-slate-500\">\n              This is not a production grade model. It is an educational lab to help you see how data, model choices and\n              metrics connect.\n            </p>\n          </div>\n        </div>\n      </div>\n    </AiToolCard>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}