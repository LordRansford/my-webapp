;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ac2960da-d426-91f6-f94c-554b0db8b1b4")}catch(e){}}();
module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},569264,a=>{a.n(a.i(354832))},881967,a=>{a.n(a.i(429735))},900827,a=>{a.n(a.i(995845))},918554,a=>{a.n(a.i(316801))},517537,a=>{a.n(a.i(903363))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},444067,a=>{a.n(a.i(436102))},989644,a=>{a.n(a.i(736900))},830069,a=>{"use strict";var b=a.i(907997),c=a.i(395936),d=a.i(929073);function e(a){try{return new Date(a).toLocaleString()}catch{return String(a)}}function f(a){let b=(a/100).toFixed(2);return`\xa3${b}`}async function g({params:a}){let{id:g}=await a,h=null;try{h=await d.prisma.creditLedgerEvent.findUnique({where:{id:g},select:{id:!0,userId:!0,type:!0,amountPence:!0,reason:!0,toolId:!0,runId:!0,createdAt:!0,createdBy:!0}})}catch{h=null}if(!h)return(0,b.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-10 md:px-6 lg:px-8 space-y-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Ledger entry not found"}),(0,b.jsx)("p",{className:"text-slate-700",children:"This entry does not exist."})]});let i=null;if(h.runId)try{i=await d.prisma.toolRun.findUnique({where:{id:h.runId},select:{id:!0,toolId:!0,computeMs:!0,computeUnits:!0,costPence:!0,status:!0,createdAt:!0}})}catch{i=null}return(0,b.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-10 md:px-6 lg:px-8 space-y-6",children:[(0,b.jsxs)("header",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-600",children:"Billing"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Credit ledger entry"}),(0,b.jsx)("p",{className:"text-slate-700",children:"Read-only detail view."})]}),(0,b.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Created"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:e(h.createdAt)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"User"}),(0,b.jsx)("p",{className:"mt-1 font-mono text-xs text-slate-700",children:h.userId})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Type"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:h.type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Amount"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:f(Number(h.amountPence||0))})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Reason"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:h.reason}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["Created by: ",h.createdBy||"system"]})]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Tool"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:h.toolId||""})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Run"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:h.runId||""})]})]})]}),i?(0,b.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-2",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Related tool run"}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,b.jsx)("span",{className:"font-semibold",children:i.toolId})," 路 ",i.status," 路 ",e(i.createdAt)]}),(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:["Compute: ",i.computeMs," ms 路 Units: ",i.computeUnits," 路 Cost: ",f(Number(i.costPence||0))]}),(0,b.jsx)(c.default,{href:`/admin/billing/usage/${encodeURIComponent(i.id)}`,className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Open run detail"})]}):null,(0,b.jsx)(c.default,{href:"/admin/billing/credits",className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Back to credits ledger"})]})}a.s(["default",()=>g,"dynamic",0,"force-dynamic","metadata",0,{title:"Admin: Credit ledger entry",robots:{index:!1,follow:!1}}])}];

//# debugId=ac2960da-d426-91f6-f94c-554b0db8b1b4
//# sourceMappingURL=%5Broot-of-the-server%5D__4102ede0._.js.map