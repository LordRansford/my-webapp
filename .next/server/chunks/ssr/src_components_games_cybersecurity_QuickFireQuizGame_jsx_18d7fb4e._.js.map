{
  "version": 3,
  "sources": [],
  "debugId": "44120b11-a54f-1994-ab04-8c428203e1b9",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/games/cybersecurity/QuickFireQuizGame.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst QUESTIONS = [\n  {\n    level: \"beginner\",\n    topic: \"cia\",\n    question: \"What does confidentiality aim to protect?\",\n    options: [\"Keeping data available\", \"Keeping data unchanged\", \"Keeping data secret from the wrong people\", \"Keeping logs centralised\"],\n    answer: 2,\n    explain: \"Confidentiality is about restricting access to those who are authorised.\",\n  },\n  {\n    level: \"beginner\",\n    topic: \"auth\",\n    question: \"Why use multi-factor authentication (MFA)?\",\n    options: [\"To speed logins\", \"To reduce password complexity\", \"To add an extra proof beyond the password\", \"To avoid auditing\"],\n    answer: 2,\n    explain: \"MFA adds an additional factor so stolen passwords alone are insufficient.\",\n  },\n  {\n    level: \"intermediate\",\n    topic: \"logs\",\n    question: \"What makes a log line more useful for investigations?\",\n    options: [\"Short messages\", \"Including correlation/trace IDs\", \"Removing timestamps\", \"Rotating logs hourly\"],\n    answer: 1,\n    explain: \"Correlation IDs let you link events across services.\",\n  },\n  {\n    level: \"intermediate\",\n    topic: \"crypto\",\n    question: \"Why salt passwords before hashing?\",\n    options: [\"To speed hashing\", \"To make rainbow tables ineffective\", \"To reduce entropy\", \"To avoid using hashes\"],\n    answer: 1,\n    explain: \"Salts make precomputed hash tables useless against stored passwords.\",\n  },\n  {\n    level: \"advanced\",\n    topic: \"risk\",\n    question: \"Which best describes risk?\",\n    options: [\"The number of servers you own\", \"Threat × vulnerability × impact\", \"Only regulatory fines\", \"A fixed score\"],\n    answer: 1,\n    explain: \"Risk is often thought of as likelihood (threat/vulnerability) times impact.\",\n  },\n  {\n    level: \"advanced\",\n    topic: \"network\",\n    question: \"Why segment networks?\",\n    options: [\"To increase broadcast domains\", \"To limit blast radius and lateral movement\", \"To reduce password resets\", \"To speed CI/CD\"],\n    answer: 1,\n    explain: \"Segmentation limits the spread of compromise.\",\n  },\n  {\n    level: \"intermediate\",\n    topic: \"threat-model\",\n    question: \"A good threat model outcome is:\",\n    options: [\"More features\", \"List of plausible attacks and mitigations\", \"Fewer logs\", \"Fewer teams\"],\n    answer: 1,\n    explain: \"Threat modelling surfaces likely attacks and prioritised mitigations.\",\n  },\n  {\n    level: \"beginner\",\n    topic: \"phishing\",\n    question: \"A common phishing clue is:\",\n    options: [\"Consistent branding\", \"Legit domain\", \"Urgent language plus odd links\", \"Expected sender\"],\n    answer: 2,\n    explain: \"Urgency and strange links/senders are classic phishing tells.\",\n  },\n];\n\nconst SESSION_LENGTH = 10;\nconst TIMER_SECONDS = 90;\n\nfunction sampleQuestions() {\n  const pool = [...QUESTIONS];\n  const result = [];\n  while (result.length < SESSION_LENGTH && pool.length) {\n    const idx = Math.floor(Math.random() * pool.length);\n    result.push(pool.splice(idx, 1)[0]);\n  }\n  return result;\n}\n\nexport default function QuickFireQuizGame() {\n  const [session, setSession] = useState(sampleQuestions());\n  const [index, setIndex] = useState(0);\n  const [score, setScore] = useState(0);\n  const [answered, setAnswered] = useState([]);\n  const [finished, setFinished] = useState(false);\n  const [startTime] = useState(() => Date.now());\n\n  const current = session[index];\n\n  const levelBreakdown = useMemo(() => {\n    const tally = {};\n    answered.forEach((a) => {\n      if (!tally[a.level]) tally[a.level] = { correct: 0, total: 0 };\n      tally[a.level].total += 1;\n      tally[a.level].correct += a.isCorrect ? 1 : 0;\n    });\n    return tally;\n  }, [answered]);\n\n  const timeRemaining = useMemo(() => {\n    const elapsed = (Date.now() - startTime) / 1000;\n    return Math.max(0, Math.round(TIMER_SECONDS - elapsed));\n  }, [startTime]);\n\n  const answer = (optionIndex) => {\n    if (finished || !current) return;\n    const isCorrect = optionIndex === current.answer;\n    setScore((s) => s + (isCorrect ? 1 : 0));\n    setAnswered((prev) => [...prev, { level: current.level, isCorrect }]);\n\n    setTimeout(() => {\n      if (index === session.length - 1 || timeRemaining <= 0) {\n        setFinished(true);\n      } else {\n        setIndex((i) => i + 1);\n      }\n    }, 250);\n  };\n\n  const reset = () => {\n    setSession(sampleQuestions());\n    setIndex(0);\n    setScore(0);\n    setAnswered([]);\n    setFinished(false);\n  };\n\n  if (!current && !finished) return null;\n\n  return (\n    <div className=\"rounded-2xl bg-white p-4 shadow-md ring-1 ring-slate-200\">\n      {!finished ? (\n        <>\n          <div className=\"flex items-center justify-between text-sm text-slate-700\">\n            <span>\n              Question {index + 1} / {session.length}\n            </span>\n            <span className=\"font-semibold text-slate-900\">Score: {score}</span>\n            <span className=\"rounded-full border border-slate-300 bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-800\">\n              {timeRemaining}s left\n            </span>\n          </div>\n          <div className=\"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n            <p className=\"text-base font-semibold text-slate-900\">{current.question}</p>\n            <div className=\"mt-3 grid gap-2\">\n              {current.options.map((opt, idx) => (\n                <button\n                  key={idx}\n                  onClick={() => answer(idx)}\n                  className=\"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm font-medium text-slate-900 transition hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n                >\n                  {opt}\n                </button>\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"space-y-3\">\n          <h4 className=\"text-base font-semibold text-slate-900\">Session complete</h4>\n          <p className=\"text-sm text-slate-800\">\n            You scored <strong>{score}</strong> out of {session.length}.\n          </p>\n          <div className=\"space-y-2 rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-900 shadow-sm\">\n            <p className=\"font-semibold text-slate-900\">Performance by level</p>\n            {[\"beginner\", \"intermediate\", \"advanced\"].map((level) => {\n              const data = levelBreakdown[level] || { correct: 0, total: 0 };\n              return (\n                <div key={level} className=\"flex items-center justify-between text-sm\">\n                  <span className=\"capitalize\">{level}</span>\n                  <span className=\"font-medium\">\n                    {data.correct} / {data.total || 0}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n          <p className=\"text-sm text-slate-800\">\n            Suggested review:{\" \"}\n            {Object.entries(levelBreakdown)\n              .sort((a, b) => (a[1].correct / (a[1].total || 1)) - (b[1].correct / (b[1].total || 1)))\n              .map(([level]) => level)[0] || \"beginner\"}{\" \"}\n            notes.\n          </p>\n          <button\n            onClick={reset}\n            className=\"rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 hover:text-sky-800 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n          >\n            Play again\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}