;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b8cea271-630a-46d1-27ac-fd112d918af4")}catch(e){}}();
module.exports=[780056,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(238246),e=a.i(50944),f=a.i(855825),g=a.i(553074);function h({id:a,label:d,help:e,example:f,required:g,validationMessage:h,why:i,children:j}){let[k,l]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("label",{htmlFor:a,className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[(0,b.jsx)("span",{children:d}),g?(0,b.jsx)("span",{className:"rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-800",children:"Required"}):null]}),e?(0,b.jsx)("p",{className:"text-xs text-slate-700",children:e}):null,j,f?(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Example: ",f]}):null,h?(0,b.jsx)("p",{className:"text-xs font-semibold text-rose-700",children:h}):null,i?(0,b.jsx)("button",{type:"button",onClick:()=>l(a=>!a),className:"text-xs font-semibold text-slate-700 underline decoration-slate-300 underline-offset-4 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2","aria-expanded":k,"aria-controls":`${a}-why`,children:"Why we ask this"}):null,i&&k?(0,b.jsx)("div",{id:`${a}-why`,className:"rounded-lg border border-slate-200 bg-slate-50/80 p-2 text-xs text-slate-700",children:i}):null]})}function i(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,placeholder:m,type:n="text"}=a;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsx)("input",{id:c,name:c,type:n,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",value:e??"",placeholder:m,onChange:a=>f(a.target.value)})})}function j(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,placeholder:m,rows:n=3}=a;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsx)("textarea",{id:c,name:c,rows:n,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",value:e??"",placeholder:m,onChange:a=>f(a.target.value)})})}function k(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,options:m}=a;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsxs)("select",{id:c,name:c,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",value:e??"",onChange:a=>f(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select..."}),m.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})})}function l(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,options:m}=a,n=Array.isArray(e)?e:[];return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(a=>{let c=n.includes(a.value);return(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.value,void(n.includes(b)?f(n.filter(a=>a!==b)):f([...n,b]))},className:`rounded-full border px-3 py-1 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${c?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,"aria-pressed":c,children:a.label},a.value)})})})}function m(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,placeholder:m,min:n,max:o,step:p}=a;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsx)("input",{id:c,name:c,type:"number",min:n,max:o,step:p||1,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",value:e??"",placeholder:m,onChange:a=>f(""===a.target.value?"":Number(a.target.value))})})}function n(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,min:m=0,max:n=10,step:o=1}=a,p="number"==typeof e?e:Number(e)||0;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{id:c,name:c,type:"range",min:m,max:n,step:o,value:p,onChange:a=>f(Number(a.target.value)),className:"flex-1 accent-slate-900"}),(0,b.jsx)("span",{className:"w-10 text-right text-sm font-semibold text-slate-900",children:p})]})})}function o(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,onLabel:m="On",offLabel:n="Off"}=a,o=!!e;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsxs)("button",{type:"button",onClick:()=>f(!o),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${o?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,"aria-pressed":o,children:[(0,b.jsx)("span",{"aria-hidden":"true",className:`relative inline-flex h-5 w-9 items-center rounded-full border ${o?"border-emerald-300 bg-emerald-500":"border-slate-300 bg-slate-200"}`,children:(0,b.jsx)("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition ${o?"translate-x-4":"translate-x-0.5"}`})}),o?m:n]})})}function p(a){let{id:c,label:d,value:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l}=a;return(0,b.jsx)(h,{id:c,label:d,help:g,example:i,required:j,validationMessage:k,why:l,children:(0,b.jsx)("input",{id:c,name:c,type:"date",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400",value:e??"",onChange:a=>f(a.target.value)})})}function q(c){let{id:d,label:e,onChange:f,help:g,example:i,required:j,validationMessage:k,why:l,accept:m=".txt,.csv,.json",onSafeParse:n}=c,{sanitizeFileName:o,validateFileType:p}=a.r(582257),{auditLogger:q,AuditActions:r}=a.r(388480),s=m.split(",").map(a=>a.trim().startsWith(".")?a.trim():`.${a.trim()}`);return(0,b.jsxs)(h,{id:d,label:e,help:g,example:i,required:j,validationMessage:k,why:l,children:[(0,b.jsx)("input",{id:d,name:d,type:"file",accept:m,className:"w-full text-sm text-slate-800",onChange:async a=>{let b=a.target.files?.[0];if(!b)return;let c=o(b.name),d=c!==b.name?new File([b],c,{type:b.type}):b;if(d.size>2097152){q.log(r.ERROR_OCCURRED,"template-field",{error:"file_too_large",fileName:c,fileSize:d.size}),f(null);return}let e="."+d.name.split(".").pop()?.toLowerCase();if(!p(d,[],s).valid){q.log(r.ERROR_OCCURRED,"template-field",{error:"invalid_file_type",fileName:c,extension:e}),f(null);return}if([".exe",".bat",".cmd",".com",".pif",".scr",".vbs",".js",".jar"].includes(e)){q.log(r.ERROR_OCCURRED,"template-field",{error:"dangerous_file_type",fileName:c,extension:e}),f(null);return}q.log(r.FILE_UPLOADED,"template-field",{fileName:c,fileSize:d.size});let g=await d.text();f(c),n?.(g)}}),(0,b.jsx)("p",{className:"text-xs text-slate-700",children:"Processed locally in your browser. No uploads are stored."})]})}function r({title:a,value:c,subtitle:d}){return(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:a}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-slate-900",children:c}),d?(0,b.jsx)("p",{className:"text-sm text-slate-700",children:d}):null]})}function s({band:a}){let c="Critical"===a?"bg-rose-100 text-rose-800":"High"===a?"bg-amber-100 text-amber-800":"Moderate"===a?"bg-yellow-100 text-yellow-800":"bg-emerald-100 text-emerald-800";return(0,b.jsxs)("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${c}`,children:[(0,b.jsx)("span",{"aria-hidden":"true",className:"h-2 w-2 rounded-full bg-current"}),a||"Not rated"]})}function t({items:a}){return a.length?(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Assumptions"}),(0,b.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:a.map(a=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{"aria-hidden":"true",children:"â€¢"}),(0,b.jsx)("span",{children:a})]},a))})]}):null}function u({text:a}){return(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Explanation"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-700 leading-relaxed",children:a})]})}function v({steps:a}){return a.length?(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Next steps"}),(0,b.jsx)("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700",children:a.map(a=>(0,b.jsx)("li",{children:a},a))})]}):null}let w=function({disabled:a=!0,disabledReason:c="Export unlocked later",summary:d,assumptions:e,references:f,fileBaseName:g}){let h=()=>{};return(0,b.jsxs)("div",{className:"sticky bottom-0 z-10 flex flex-wrap items-center gap-2 rounded-2xl border border-slate-200 bg-white/90 p-3 shadow-sm backdrop-blur",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Export"}),[{id:"pdf",label:"Export PDF"},{id:"docx",label:"Export DOCX"},{id:"csv",label:"Export CSV"}].map(d=>(0,b.jsx)("button",{type:"button",onClick:h,disabled:a,title:c,className:`rounded-full px-3 py-1 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${a?"cursor-not-allowed bg-slate-100 text-slate-400":"bg-slate-900 text-white hover:bg-slate-800"}`,children:d.label},d.id)),(0,b.jsx)("button",{type:"button",onClick:()=>navigator.clipboard.writeText(d),className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",children:"Copy summary"}),(0,b.jsx)("button",{type:"button",onClick:()=>navigator.clipboard.writeText(e.join("\n")),className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",children:"Copy assumptions"}),f?.length?(0,b.jsx)("button",{type:"button",onClick:()=>navigator.clipboard.writeText(f.join("\n")),className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",children:"Copy references"}):null,a?(0,b.jsx)("p",{className:"text-xs text-amber-700",children:c}):null]})};var x=a.i(819721);let y=(0,x.default)(async()=>{},{loadableGenerated:{modules:[283834]},ssr:!1}),z=(0,x.default)(async()=>{},{loadableGenerated:{modules:[774721]},ssr:!1}),A=(0,x.default)(async()=>{},{loadableGenerated:{modules:[546351]},ssr:!1});function B({placement:a}){let d=["Very Low","Low","Medium","High","Very High"];return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Risk matrix"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-1 min-w-[320px]",children:[(0,b.jsx)("div",{}),d.map(a=>(0,b.jsx)("div",{className:"text-center text-xs font-semibold text-slate-700",children:a},a)),["Very High","High","Medium","Low","Very Low"].map((e,f)=>(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("div",{className:"text-xs font-semibold text-slate-700",children:e}),d.map((c,d)=>{let g=a&&a.row===f&&a.col===d;return(0,b.jsx)("div",{className:`h-10 rounded ${g?"bg-amber-200 border-2 border-amber-500":"bg-slate-100"} flex items-center justify-center text-sm text-slate-700`,"aria-label":`${e} x ${c}`,children:g?"Current":""},c)})]},e))]})})]})}function C({data:a}){return a?.length?(0,b.jsx)(y,{data:a,dataKey:"name",valueKey:"value"}):null}function D({data:a,xKey:c,yKey:d}){return a?.length?(0,b.jsx)(z,{data:a,xKey:c,yKey:d}):null}function E({data:a,xKey:c,yKeys:d}){return a?.length?(0,b.jsx)(A,{data:a,xKey:c,yKeys:d}):null}function F({itemId:a,activityType:d,defaultObjectives:e=[],defaultMinutes:f=20,evidenceLinks:g=[],templateVersion:h,category:i}){let[j,k]=(0,c.useState)(e),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(null),p=Math.max(5,Math.round(Number(f)||20)),q=(0,c.useMemo)(()=>p>0&&j.length>0,[p,j]);return(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/95 p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"CPD evidence"}),(0,b.jsx)("p",{className:"text-sm text-slate-800",children:"Capture objectives, time, and a short reflection."})]}),(0,b.jsx)("span",{className:"rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold text-white",children:"Local only"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900",children:"Learning objectives met"}),(0,b.jsx)("textarea",{className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500 focus-visible:ring-offset-2",rows:2,value:j.join("\n"),onChange:a=>k(a.target.value.split("\n").filter(Boolean)),placeholder:"List objectives achieved..."})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900",children:"Time spent (minutes)"}),(0,b.jsx)("div",{className:"w-32 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-900",children:p}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"This is set by the site. Learners cannot edit time."})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-slate-900",children:"Reflection (optional)"}),(0,b.jsx)("textarea",{className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 shadow-inner focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-500 focus-visible:ring-offset-2",rows:3,value:l,onChange:a=>m(a.target.value),placeholder:"What did you learn? How will you apply it?"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;let c,e;q?(b={itemId:a,activityType:d,learningObjectives:j,timeMinutes:p,reflection:l.trim()||void 0,evidenceLinks:g,templateVersion:h,category:i},c=b.id||`server-${crypto.randomUUID()}`,e=b.completedAt||Date.now(),[...[].filter(a=>a.id!==c)],o("Saved to your CPD records locally.")):o("Add at least one objective and minutes.")},className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700",children:"Save CPD record"}),n&&(0,b.jsx)("p",{className:"text-xs font-semibold text-emerald-700",role:"status","aria-live":"polite",children:n})]})}function G(a){}function H(a){return[].filter(b=>b.templateSlug===a&&b.id.startsWith("server"))}function I(a){let b=a.id||`server-${crypto.randomUUID()}`,c=Date.now(),d={...a,id:b,createdAt:a.createdAt||c,updatedAt:c},e=[].filter(a=>a.id!==b);return e.unshift(d),G(e),d}function J(a){return void 0!==a.defaultValue?a.defaultValue:"toggle"!==a.type&&("slider"===a.type||"number"===a.type?0:"multiselect"===a.type?[]:"")}let K=Object.fromEntries(f.templateDefinitions.map(a=>[a.slug,a]));function L({slug:a}){let f=K[a],h=(0,e.useRouter)(),[x,y]=(0,c.useState)({}),[z,A]=(0,c.useState)({}),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)(),[V,W]=(0,c.useState)(),[X,Y]=(0,c.useState)({}),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)([]),[af,ag]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!f)return;ae(H(f.slug));let a={};f.fields.forEach(b=>{a[b.id]=J(b)}),y(a)},[f]);let ah=(0,c.useMemo)(()=>{var a;let b;return a=()=>{let a;if(!f||(a={},f?.fields.forEach(b=>{b.required&&(""===x[b.id]||void 0===x[b.id]||null===x[b.id]||Array.isArray(x[b.id])&&0===x[b.id].length)&&(a[b.id]="Required"),b.validation?.min!==void 0&&"number"==typeof x[b.id]&&x[b.id]<b.validation.min&&(a[b.id]=`Minimum ${b.validation.min}`),b.validation?.max!==void 0&&"number"==typeof x[b.id]&&x[b.id]>b.validation.max&&(a[b.id]=`Maximum ${b.validation.max}`)}),A(a),0!==Object.keys(a).length))return;let b=f.calcFn(x);Y(b.scores),W(b.riskBand),M(b.explanation),O(b.assumptions||[]),Q(b.nextSteps||[]),S(b.chartData||[]),U(b.matrixPlacement),$(b.meaning||""),aa(b.whyItMatters||""),ac(b.whenItBreaks||"");let c=I({templateSlug:f.slug,templateVersion:f.version,inputs:x,outputs:{scores:b.scores,riskBand:b.riskBand,explanation:b.explanation,assumptions:b.assumptions,nextSteps:b.nextSteps,chartData:b.chartData,matrixPlacement:b.matrixPlacement},summary:b.explanation||f.title});ae(a=>{let b=a.filter(a=>a.id!==c.id);return[c,...b]})},()=>{clearTimeout(b),b=setTimeout(a,250)}},[f,x]);if((0,c.useEffect)(()=>{ah()},[x,ah]),!f)return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-10 text-slate-800",children:[(0,b.jsx)("p",{className:"text-lg font-semibold",children:"Template not found."}),(0,b.jsx)("button",{type:"button",onClick:()=>h.push("/templates"),className:"mt-4 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white",children:"Back to templates"})]});let ai=g.TEMPLATE_CATEGORIES.find(a=>a.id===f.category),aj="number"==typeof X.risk?X.risk:0,ak=Math.max(0,Math.min(100,aj*(aj>10?1:10))),al="Critical"===V?"bg-rose-500":"High"===V?"bg-amber-500":"Moderate"===V?"bg-yellow-500":"bg-emerald-500",am=f.fields.some(a=>a.required&&(""===x[a.id]||void 0===x[a.id]||null===x[a.id]||Array.isArray(x[a.id])&&0===x[a.id].length));return(0,b.jsxs)("div",{className:"page-content mx-auto max-w-6xl space-y-6 px-4 py-8 sm:px-6","data-mode":"preview",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,b.jsx)(d.default,{href:"/templates",className:"font-semibold text-slate-900 underline decoration-slate-300 decoration-2 underline-offset-4",children:"Templates"}),(0,b.jsx)("span",{"aria-hidden":"true",children:"/"}),ai?(0,b.jsx)(d.default,{href:`/templates/${ai.id}`,className:"font-semibold text-slate-900 underline decoration-slate-300 decoration-2 underline-offset-4",children:ai.title}):(0,b.jsx)("span",{className:"text-slate-600",children:"Category"}),(0,b.jsx)("span",{"aria-hidden":"true",children:"/"}),(0,b.jsx)("span",{className:"text-slate-500",children:f.title})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-3xl bg-gradient-to-br from-slate-50 via-sky-50/60 to-slate-50 px-6 py-6 ring-1 ring-slate-100 shadow-[0_18px_45px_rgba(15,23,42,0.06)]",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Template runner"}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:f.title}),(0,b.jsx)("p",{className:"text-sm text-slate-700",children:f.description}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["Estimated ",f.estimatedMinutes," minutes. Processed locally in your browser."]}),af&&(0,b.jsx)("p",{className:"text-xs font-semibold text-amber-700",children:af})]}),(0,b.jsxs)("div",{className:"inline-flex flex-wrap items-center gap-2",children:[(0,b.jsx)(s,{band:V}),(0,b.jsx)("button",{type:"button",onClick:()=>{if(!window.confirm("Reset all inputs?"))return;let a={};f.fields.forEach(b=>{a[b.id]=J(b)}),y(a),A({}),Y({}),W(void 0),O([]),Q([]),M(""),S([]),U(void 0)},className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",children:"Reset"})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-700",children:"Disclaimer: informational only, not legal or professional advice. Results depend on inputs."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,b.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Inputs"}),(0,b.jsx)("span",{className:"text-xs text-slate-700",children:"Keyboard and screen reader friendly"})]}),(0,b.jsx)("div",{className:"space-y-4",children:f.fields.map(a=>{let c={id:a.id,label:a.label,help:a.help,example:a.example,required:a.required,validationMessage:z[a.id],why:a.why,value:x[a.id],onChange:b=>{var c;return c=a.id,void y(a=>({...a,[c]:b}))}};return"text"===a.type?(0,b.jsx)(i,{...c,placeholder:a.placeholder},a.id):"textarea"===a.type?(0,b.jsx)(j,{...c,placeholder:a.placeholder,rows:3},a.id):"select"===a.type?(0,b.jsx)(k,{...c,options:a.options||[]},a.id):"multiselect"===a.type?(0,b.jsx)(l,{...c,options:a.options||[]},a.id):"number"===a.type?(0,b.jsx)(m,{...c,min:a.validation?.min,max:a.validation?.max,step:a.step,placeholder:a.placeholder},a.id):"slider"===a.type?(0,b.jsx)(n,{...c,min:a.validation?.min,max:a.validation?.max,step:a.step},a.id):"toggle"===a.type?(0,b.jsx)(o,{...c},a.id):"date"===a.type?(0,b.jsx)(p,{...c},a.id):"file"===a.type?(0,b.jsx)(q,{...c},a.id):null})})]}),(0,b.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white/90 p-4 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"Results"}),(0,b.jsx)(s,{band:V})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,b.jsx)(r,{title:"Primary score",value:X.risk??"-"}),(0,b.jsx)(r,{title:"Estimated time",value:`${f.estimatedMinutes} mins`})]}),(0,b.jsx)(u,{text:L||"Adjust inputs to see results update live."}),(Z||_||ab)&&(0,b.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"What this means"}),(0,b.jsx)("p",{className:"mt-1",children:Z||"Updates as you change inputs."})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Why it matters"}),(0,b.jsx)("p",{className:"mt-1",children:_||"Shows impact of your selections."})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"When this breaks down"}),(0,b.jsx)("p",{className:"mt-1",children:ab||"Heuristics only; validate with real data."})]})]}),(0,b.jsx)(t,{items:N}),(0,b.jsx)(v,{steps:P}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Score guide"}),(0,b.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:(0,b.jsx)("div",{className:`h-full ${al}`,style:{width:`${ak}%`}})})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 text-sm text-slate-800",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"History"}),0===ad.length?(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"No runs saved yet. Fill inputs to save automatically."}):(0,b.jsx)("ul",{className:"mt-2 space-y-2",children:ad.map(a=>{let c=a.templateVersion&&f.version&&a.templateVersion!==f.version;return(0,b.jsxs)("li",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:new Date(a.updatedAt).toLocaleString()}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"button",className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700",onClick:()=>{c?ag("This template has been updated since this run."):ag(null),y(a.inputs)},children:"Resume"}),(0,b.jsx)("button",{type:"button",className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-800 hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700",onClick:()=>{var b;let c;b=a.id,((c=[].find(a=>a.id===b))?I({...c,id:void 0,createdAt:void 0}):null)&&ae(H(f.slug))},children:"Duplicate"}),(0,b.jsx)("button",{type:"button",className:"rounded-full border border-rose-200 px-3 py-1 text-xs font-semibold text-rose-800 hover:bg-rose-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-700",onClick:()=>{var b;b=a.id,G([].filter(a=>a.id!==b)),ae(H(f.slug))},children:"Delete"})]})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-700",children:a.summary}),c?(0,b.jsxs)("p",{className:"text-sm font-semibold text-amber-700",children:["This run used version ",a.templateVersion,". Current version is ",f.version,"."]}):null]},a.id)})})]}),(0,b.jsx)(F,{itemId:f.slug,activityType:"template-submission",defaultObjectives:[f.title],defaultMinutes:2*f.estimatedMinutes,evidenceLinks:[L],templateVersion:f.version,category:f.category}),(0,b.jsx)("div",{className:"space-y-2",children:f.charts.map(a=>"matrix"===a.type?(0,b.jsx)(B,{placement:T},a.id):"radar"===a.type?(0,b.jsx)(C,{data:R},a.id):"bar"===a.type?(0,b.jsx)(E,{data:R,xKey:a.xKey,yKeys:a.yKeys},a.id):"line"===a.type?(0,b.jsx)(D,{data:R,xKey:a.xKey,yKey:a.yKey},a.id):null)})]})]}),(0,b.jsx)(w,{disabled:am||!L,disabledReason:am?"Fill required fields to enable exports.":void 0,summary:L||"No summary yet. Complete required fields first.",assumptions:N,references:P,fileBaseName:f.slug})]})}a.s(["TemplateRunner",()=>L],780056)}];

//# debugId=b8cea271-630a-46d1-27ac-fd112d918af4
//# sourceMappingURL=src_components_templates_TemplateRunner_tsx_06b74d01._.js.map