{
  "version": 3,
  "sources": [],
  "debugId": "bb6e0e90-e223-2202-d377-156fedcb40f4",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/ui/CheckPill.tsx","../../../../src/components/dashboards/architecture/ChangeRiskSimulator.jsx"],"sourcesContent":["import React from \"react\";\n\ntype Tone = \"sky\" | \"emerald\" | \"violet\" | \"amber\" | \"rose\" | \"slate\";\n\ntype Props = {\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  children: React.ReactNode;\n  after?: React.ReactNode;\n  tone?: Tone;\n  className?: string;\n  size?: \"sm\" | \"xs\";\n  disabled?: boolean;\n};\n\nconst toneClasses: Record<Tone, { border: string; bg: string; ring: string }> = {\n  sky: { border: \"border-sky-400/40\", bg: \"bg-sky-500/15\", ring: \"focus-visible:ring-sky-300/40\" },\n  emerald: { border: \"border-emerald-400/40\", bg: \"bg-emerald-500/15\", ring: \"focus-visible:ring-emerald-300/40\" },\n  violet: { border: \"border-violet-400/40\", bg: \"bg-violet-500/15\", ring: \"focus-visible:ring-violet-300/40\" },\n  amber: { border: \"border-amber-400/40\", bg: \"bg-amber-500/15\", ring: \"focus-visible:ring-amber-300/40\" },\n  rose: { border: \"border-rose-400/40\", bg: \"bg-rose-500/15\", ring: \"focus-visible:ring-rose-300/40\" },\n  slate: { border: \"border-slate-400/40\", bg: \"bg-slate-500/10\", ring: \"focus-visible:ring-slate-300/30\" },\n};\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nexport function CheckPill({\n  checked,\n  onCheckedChange,\n  children,\n  after,\n  tone = \"sky\",\n  className,\n  size = \"sm\",\n  disabled = false,\n}: Props) {\n  const toneStyle = toneClasses[tone] || toneClasses.sky;\n  const padding = size === \"xs\" ? \"px-3 py-2\" : \"px-3.5 py-2.5\";\n  const text = size === \"xs\" ? \"text-[0.7rem]\" : \"text-xs\";\n  const toggle = size === \"xs\" ? \"h-5 w-9\" : \"h-6 w-11\";\n  const knob = size === \"xs\" ? \"h-4 w-4\" : \"h-5 w-5\";\n  const knobOn = size === \"xs\" ? \"translate-x-4\" : \"translate-x-5\";\n  const knobOff = \"translate-x-1\";\n\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={checked}\n      disabled={disabled}\n      onClick={() => onCheckedChange(!checked)}\n      className={cx(\n        \"inline-flex w-full items-center justify-between gap-3 rounded-2xl border transition\",\n        padding,\n        text,\n        \"bg-white/80 text-slate-900 hover:bg-white\",\n        \"dark:bg-slate-950/40 dark:text-slate-100 dark:hover:bg-slate-900/60 dark:border-slate-700\",\n        checked ? cx(toneStyle.bg, toneStyle.border) : \"border-slate-200\",\n        \"focus-visible:outline-none focus-visible:ring-2\",\n        toneStyle.ring,\n        disabled && \"cursor-not-allowed opacity-60\",\n        className\n      )}\n    >\n      <span className=\"min-w-0\">{children}</span>\n      <span className=\"inline-flex shrink-0 items-center gap-2\">\n        {after ? <span className=\"shrink-0\">{after}</span> : null}\n        <span\n          className={cx(\n            \"relative inline-flex items-center rounded-full border transition\",\n            toggle,\n            checked ? cx(toneStyle.border, toneStyle.bg) : \"border-slate-300 bg-slate-200\",\n            \"dark:border-slate-600 dark:bg-slate-800\"\n          )}\n          aria-hidden=\"true\"\n        >\n          <span\n            className={cx(\n              \"inline-block transform rounded-full bg-white shadow-sm transition\",\n              knob,\n              checked ? knobOn : knobOff\n            )}\n          />\n        </span>\n      </span>\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { CheckPill } from \"@/components/ui/CheckPill\";\n\nexport function ChangeRiskSimulator() {\n  const [deploysPerDay, setDeploysPerDay] = useState(5);\n  const [testDepth, setTestDepth] = useState(70);\n  const [blastRadius, setBlastRadius] = useState(60);\n  const [rollbackReady, setRollbackReady] = useState(true);\n\n  const stats = useMemo(() => {\n    const frequencyFactor = Math.min(deploysPerDay / 5, 3);\n    const testFactor = 1 - testDepth / 100;\n    const blastFactor = blastRadius / 100;\n    const rollbackFactor = rollbackReady ? 0.5 : 1;\n\n    const riskScore = frequencyFactor * testFactor * blastFactor * rollbackFactor * 100;\n\n    let band;\n    if (riskScore < 15) band = \"low\";\n    else if (riskScore < 40) band = \"medium\";\n    else band = \"high\";\n\n    return {\n      riskScore,\n      band,\n    };\n  }, [deploysPerDay, testDepth, blastRadius, rollbackReady]);\n\n  function bandColour(band) {\n    if (band === \"low\") return \"text-emerald-700\";\n    if (band === \"medium\") return \"text-amber-700\";\n    return \"text-rose-700\";\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Reason about change risk by adjusting deployment frequency, test depth, blast radius, and rollback readiness. This is for\n        discussion, not prediction.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <div className=\"space-y-4\">\n            <label className=\"block text-xs text-slate-600\">\n              Deployments per day\n              <input\n                type=\"range\"\n                min={0}\n                max={50}\n                value={deploysPerDay}\n                onChange={(e) => setDeploysPerDay(Number(e.target.value) || 0)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                {deploysPerDay} deployment{deploysPerDay === 1 ? \"\" : \"s\"} per day\n              </span>\n            </label>\n\n            <label className=\"block text-xs text-slate-600\">\n              Depth of automated tests\n              <input\n                type=\"range\"\n                min={0}\n                max={100}\n                value={testDepth}\n                onChange={(e) => setTestDepth(Number(e.target.value) || 0)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">Rough coverage and depth: {testDepth} percent</span>\n            </label>\n\n            <label className=\"block text-xs text-slate-600\">\n              Blast radius for a bad release\n              <input\n                type=\"range\"\n                min={1}\n                max={100}\n                value={blastRadius}\n                onChange={(e) => setBlastRadius(Number(e.target.value) || 1)}\n                className=\"mt-1 w-full\"\n              />\n              <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                A failure could affect about {blastRadius} percent of users.\n              </span>\n            </label>\n\n            <div className=\"mt-1\">\n              <CheckPill checked={rollbackReady} onCheckedChange={setRollbackReady} tone=\"emerald\">\n                We have a rehearsed rollback or a feature flag fallback\n              </CheckPill>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Risk summary</p>\n            <p className=\"text-xs text-slate-700\">\n              Relative risk score:{\" \"}\n              <span className={`font-semibold ${bandColour(stats.band)}`}>{stats.riskScore.toFixed(1)}</span> out of 100\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              Risk band: <span className={`font-semibold ${bandColour(stats.band)}`}>{stats.band.toUpperCase()}</span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-600\">\n              Lower risk usually comes from smaller blast radius, better automated tests, and a reliable rollback path rather than\n              simply doing fewer deployments.\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Discussion prompts</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              <li>Would a feature flag strategy reduce blast radius for risky changes.</li>\n              <li>Is your rollback process rehearsed often enough to be trusted in production.</li>\n              <li>Are you slowing delivery when you could instead improve tests and deployment automation.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}