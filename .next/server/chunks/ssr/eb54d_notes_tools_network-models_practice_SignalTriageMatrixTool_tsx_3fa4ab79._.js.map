{
  "version": 3,
  "sources": [],
  "debugId": "5ff76117-eec1-5369-d6a1-f44c4427dfed",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/notes/tools/network-models/practice/SignalTriageMatrixTool.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\ntype Symptom = \"slow\" | \"timeouts\" | \"cannot-connect\" | \"only-some-users\";\n\ntype Row = {\n  layer: string;\n  question: string;\n  smallestTest: string;\n  likelyCauses: string;\n};\n\nconst MATRIX: Record<Symptom, Row[]> = {\n  slow: [\n    {\n      layer: \"Link and Wi Fi\",\n      question: \"Is there loss, low signal quality, or interference\",\n      smallestTest: \"Compare a wired device and a Wi Fi device. Check retransmissions and loss signals.\",\n      likelyCauses: \"Weak signal, congestion, interference, overloaded access point.\",\n    },\n    {\n      layer: \"Transport\",\n      question: \"Is the connect phase slow or unstable\",\n      smallestTest: \"Measure connect time versus server response time. Look for resets and retries.\",\n      likelyCauses: \"SYN loss, middlebox timeouts, overloaded edge, bad path.\",\n    },\n    {\n      layer: \"Application\",\n      question: \"Is the server slow after the request is received\",\n      smallestTest: \"Check TTFB and server timings. Compare cached and uncached paths.\",\n      likelyCauses: \"Slow database, slow upstream call, CPU saturation, contention.\",\n    },\n  ],\n  timeouts: [\n    {\n      layer: \"DNS\",\n      question: \"Are name lookups timing out or returning inconsistent answers\",\n      smallestTest: \"Resolve with a known resolver and compare results. Check if the issue is cache related.\",\n      likelyCauses: \"Resolver outage, delegation issue, split DNS, captive portal.\",\n    },\n    {\n      layer: \"Transport\",\n      question: \"Do connections hang or drop mid session\",\n      smallestTest: \"Check for idle timeouts and NAT expiry. Look for retransmissions then a reset.\",\n      likelyCauses: \"NAT mapping expiry, firewall idle timeout, path MTU issues, loss bursts.\",\n    },\n    {\n      layer: \"Application\",\n      question: \"Are requests hitting a slow code path or failing under load\",\n      smallestTest: \"Look for correlated error spikes and latency spikes.\",\n      likelyCauses: \"Overload, thread pool exhaustion, rate limiting, upstream dependency failure.\",\n    },\n  ],\n  \"cannot-connect\": [\n    {\n      layer: \"Local network\",\n      question: \"Do you have an IP, default gateway, and DNS\",\n      smallestTest: \"Confirm a valid IP lease and that the gateway is reachable.\",\n      likelyCauses: \"DHCP failure, wrong VLAN, Wi Fi auth problem, cable issue.\",\n    },\n    {\n      layer: \"Routing\",\n      question: \"Is there a valid route to the destination network\",\n      smallestTest: \"Traceroute to find where the path stops. Compare with and without VPN.\",\n      likelyCauses: \"Missing route, policy route, VPN conflict, upstream outage.\",\n    },\n    {\n      layer: \"Firewall policy\",\n      question: \"Is the destination port blocked\",\n      smallestTest: \"Try a known open port and compare. Check if only one port fails.\",\n      likelyCauses: \"Blocked egress, blocked ingress, geo policy, service down.\",\n    },\n  ],\n  \"only-some-users\": [\n    {\n      layer: \"DNS and geo\",\n      question: \"Do different users resolve to different IPs\",\n      smallestTest: \"Compare DNS answers from different networks and locations.\",\n      likelyCauses: \"Geo DNS, CDN edge issue, stale cache, split horizon DNS.\",\n    },\n    {\n      layer: \"Path and MTU\",\n      question: \"Do some paths drop large packets\",\n      smallestTest: \"Compare behaviour on VPN versus direct. Look for handshake stalls.\",\n      likelyCauses: \"Path MTU black hole, asymmetric routing, middlebox quirks.\",\n    },\n    {\n      layer: \"Application and auth\",\n      question: \"Do only some accounts or sessions fail\",\n      smallestTest: \"Compare anonymous and signed in traffic. Check cookies and auth flows.\",\n      likelyCauses: \"Broken authorisation path, cache key mistakes, session bugs.\",\n    },\n  ],\n};\n\nexport default function SignalTriageMatrixTool() {\n  const [symptom, setSymptom] = useState<Symptom>(\"slow\");\n\n  const rows = useMemo(() => MATRIX[symptom], [symptom]);\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60\">\n      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n        <div>\n          <div className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Symptom</div>\n          <div className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">\n            Pick the user level symptom, then isolate boundaries.\n          </div>\n        </div>\n        <div className=\"w-full sm:w-80\">\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Choose one</label>\n          <select\n            value={symptom}\n            onChange={(e) => setSymptom(e.target.value as any)}\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n          >\n            <option value=\"slow\">The site is slow</option>\n            <option value=\"timeouts\">Requests time out</option>\n            <option value=\"cannot-connect\">Cannot connect at all</option>\n            <option value=\"only-some-users\">Only some users are affected</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"mt-4 grid gap-3\">\n        {rows.map((r) => (\n          <div key={r.layer} className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40\">\n            <div className=\"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between\">\n              <div className=\"font-semibold text-slate-900 dark:text-slate-100\">{r.layer}</div>\n              <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Boundary question</div>\n            </div>\n            <div className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">{r.question}</div>\n            <div className=\"mt-3 grid gap-2 sm:grid-cols-2\">\n              <div className=\"rounded-lg border border-slate-200 bg-white p-2 dark:border-slate-800 dark:bg-slate-900/40\">\n                <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Smallest test</div>\n                <div className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">{r.smallestTest}</div>\n              </div>\n              <div className=\"rounded-lg border border-slate-200 bg-white p-2 dark:border-slate-800 dark:bg-slate-900/40\">\n                <div className=\"text-xs font-semibold uppercase tracking-wide text-slate-600 dark:text-slate-300\">Likely causes</div>\n                <div className=\"mt-1 text-sm text-slate-700 dark:text-slate-200\">{r.likelyCauses}</div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-4 text-sm text-slate-600 dark:text-slate-300\">\n        The point is not to memorise. The point is to isolate one boundary, measure, then update your hypothesis.\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}