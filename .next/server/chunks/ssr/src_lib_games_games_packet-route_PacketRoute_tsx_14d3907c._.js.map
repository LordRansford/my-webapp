{
  "version": 3,
  "sources": [],
  "debugId": "a454befa-8c23-a1af-f309-45ad42fbda01",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/games/games/packet-route/PacketRoute.tsx","../../../../src/lib/games/games/packet-route/topologyGenerator.ts","../../../../src/lib/games/games/packet-route/trafficGenerator.ts","../../../../src/lib/games/games/packet-route/routingEngine.ts","../../../../src/lib/games/games/packet-route/failureEngine.ts","../../../../src/lib/games/games/packet-route/gameState.ts","../../../../src/lib/games/games/packet-route/persistence.ts","../../../../src/lib/games/games/packet-route/explainabilityAnalyzer.ts"],"sourcesContent":["/**\n * Packet Route - Main Game Component\n */\n\n\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport GameShell from \"@/lib/games/framework/GameShell\";\nimport type { GameConfig, GameStatus } from \"@/lib/games/framework/types\";\nimport type { GameState, RoutingPolicyConfig } from \"./types\";\nimport { generateTopology } from \"./topologyGenerator\";\nimport { initializeGameState, startGame, executeTick, updateRoutingPolicy, checkWinCondition } from \"./gameState\";\nimport { getProgress, saveProgress, updateProgressAfterGame } from \"./persistence\";\nimport {\n  getOrGenerateTodayChallenge,\n  completeTodayChallenge,\n} from \"@/lib/games/shared/dailyChallenges\";\nimport {\n  generateTodayChallengeCode,\n  storeChallengeCode,\n} from \"@/lib/games/shared/challengeCodes\";\nimport {\n  updateStreakForGame,\n  getStreakDataForGame,\n} from \"@/lib/games/shared/streakTracking\";\nimport {\n  checkAndUnlockAchievements,\n} from \"@/lib/games/shared/achievements\";\nimport {\n  submitScore,\n} from \"@/lib/games/shared/scoreComparison\";\nimport {\n  ChallengeCodeShare,\n  ScoreComparisonDisplay,\n  AchievementDisplay,\n  LeaderboardView,\n} from \"@/lib/games/shared/components\";\nimport type { ChallengeCode } from \"@/lib/games/shared/challengeCodes/types\";\nimport { analyzeRun } from \"./explainabilityAnalyzer\";\nimport { calculateBaseXP, createRewardContext, generateRewardResult } from \"@/lib/games/shared/variableRewards\";\n\nconst GAME_CONFIG: GameConfig = {\n  id: \"packet-route\",\n  title: \"Packet Route\",\n  description: \"Design routing policies for network topologies\",\n  category: \"strategy\",\n  modes: [\"solo\", \"daily\"],\n  supportsMultiplayer: false,\n  minPlayers: 1,\n  maxPlayers: 1,\n  estimatedMinutes: 15,\n  tutorialAvailable: true,\n};\n\nconst GAME_ID = \"packet-route\";\n\nexport default function PacketRoute() {\n  const [status, setStatus] = useState<GameStatus>(\"idle\");\n  const [gameState, setGameState] = useState<GameState | null>(null);\n  const [challengeCodeData, setChallengeCodeData] = useState<ChallengeCode | null>(null);\n  const [scoreComparison, setScoreComparison] = useState<any>(null);\n  const [achievementIds, setAchievementIds] = useState<string[]>([]);\n  const [playerScoreData, setPlayerScoreData] = useState<any>(null);\n  const [analysis, setAnalysis] = useState<any>(null);\n  const [startTime, setStartTime] = useState<number | null>(null);\n  const [autoAdvance, setAutoAdvance] = useState(false);\n\n  useEffect(() => {\n    if (status === \"idle\" && !gameState) {\n      initializeChallenge();\n    }\n  }, [status, gameState]);\n\n  useEffect(() => {\n    if (autoAdvance && status === \"playing\" && gameState) {\n      const interval = setInterval(() => {\n        const newState = executeTick(gameState);\n        setGameState(newState);\n        if (newState.status === 'finished') {\n          setAutoAdvance(false);\n          setStatus(\"finished\");\n          handleGameComplete(newState);\n        }\n      }, 2000); // 2 seconds per tick\n      return () => clearInterval(interval);\n    }\n  }, [autoAdvance, status, gameState]);\n\n  const initializeChallenge = useCallback(() => {\n    try {\n      const dailyChallenge = getOrGenerateTodayChallenge(GAME_ID);\n      const topology = generateTopology(dailyChallenge.seed, 'mesh', 'intermediate');\n      const slaTargets = {\n        maxLatency: 50,\n        minThroughput: 500,\n        maxLoss: 0.01,\n      };\n      const state = initializeGameState(topology, slaTargets, dailyChallenge.seed);\n      setGameState(state);\n      setChallengeCodeData(null);\n      setScoreComparison(null);\n      setAchievementIds([]);\n      setPlayerScoreData(null);\n      setAnalysis(null);\n    } catch (error) {\n      console.error(\"Error initializing challenge:\", error);\n    }\n  }, []);\n\n  const handleStart = useCallback(() => {\n    if (!gameState) {\n      initializeChallenge();\n      return;\n    }\n    const started = startGame(gameState);\n    setGameState(started);\n    setStatus(\"playing\");\n    setStartTime(Date.now());\n  }, [gameState, initializeChallenge]);\n\n  const handlePolicyChange = useCallback((policy: RoutingPolicyConfig) => {\n    if (!gameState || status !== \"playing\") return;\n    const updated = updateRoutingPolicy(gameState, policy);\n    setGameState(updated);\n  }, [gameState, status]);\n\n  const handleAdvanceTick = useCallback(() => {\n    if (!gameState || status !== \"playing\") return;\n    const newState = executeTick(gameState);\n    setGameState(newState);\n    if (newState.status === 'finished') {\n      setStatus(\"finished\");\n      handleGameComplete(newState);\n    }\n  }, [gameState, status]);\n\n  const handleGameComplete = useCallback((state: GameState) => {\n    if (!state.outcome || !startTime) return;\n    \n    const timeUsed = Date.now() - startTime;\n    const win = state.outcome === 'win';\n    \n    // Calculate score\n    const slaScore = state.metrics.availability * 100;\n    const latencyScore = Math.max(0, 100 - (state.metrics.averageLatency / state.slaTargets.maxLatency) * 100);\n    const throughputScore = Math.min(100, (state.metrics.throughput / state.slaTargets.minThroughput) * 100);\n    const score = win\n      ? Math.round(slaScore * 0.5 + latencyScore * 0.25 + throughputScore * 0.25)\n      : Math.round(slaScore * 0.3);\n    \n    // Generate challenge code\n    const codeData = generateTodayChallengeCode(GAME_ID, state.seed);\n    storeChallengeCode(codeData);\n    setChallengeCodeData(codeData);\n    \n    // Calculate base XP\n    const baseXP = calculateBaseXP({\n      win,\n      score,\n      efficiency: state.metrics.availability * 100,\n      time: timeUsed,\n      difficulty: state.topology.difficulty,\n      tier: getProgress().currentTier,\n    });\n    \n    // Generate variable rewards\n    const streakData = getStreakDataForGame(GAME_ID);\n    const rewardContext = createRewardContext({\n      gameId: GAME_ID,\n      seed: state.seed,\n      baseXP,\n      performance: {\n        score,\n        efficiency: state.metrics.availability * 100,\n        time: timeUsed,\n      },\n      streak: streakData.currentStreak,\n      tier: getProgress().currentTier,\n    });\n    const rewardResult = generateRewardResult(rewardContext);\n    \n    // Update progress\n    const progress = getProgress();\n    const updatedProgress = updateProgressAfterGame(progress, state, score);\n    updatedProgress.xp = rewardResult.totalXP;\n    saveProgress(updatedProgress);\n    \n    // Submit score\n    const scoreData = {\n      score,\n      time: timeUsed,\n      scoreValue: score,\n      timestamp: Date.now(),\n    };\n    setPlayerScoreData(scoreData);\n    const comparison = submitScore(codeData.code, scoreData);\n    setScoreComparison(comparison);\n    \n    // Complete daily challenge\n    completeTodayChallenge(GAME_ID, {\n      score,\n      time: timeUsed,\n      scoreValue: score,\n    });\n    \n    // Update streak\n    updateStreakForGame(GAME_ID, true);\n    \n    // Check achievements\n    const achievementResult = checkAndUnlockAchievements({\n      gameId: GAME_ID,\n      currentStreak: streakData.currentStreak + 1,\n      gamesCompleted: updatedProgress.stats.topologiesCompleted,\n      score,\n      time: timeUsed,\n    });\n    setAchievementIds(achievementResult.newlyUnlocked);\n    \n    // Generate analysis\n    const gameAnalysis = analyzeRun(state);\n    setAnalysis(gameAnalysis);\n  }, [startTime]);\n\n  const handleReset = useCallback(() => {\n    setStatus(\"idle\");\n    setGameState(null);\n    setChallengeCodeData(null);\n    setScoreComparison(null);\n    setAchievementIds([]);\n    setPlayerScoreData(null);\n    setAnalysis(null);\n    setStartTime(null);\n    setAutoAdvance(false);\n  }, []);\n\n  const rightPanel = gameState ? (\n    <div className=\"space-y-4\">\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Tick</h3>\n        <div className=\"text-lg font-bold\">\n          {gameState.currentTick} / {gameState.totalTicks}\n        </div>\n      </div>\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">SLA Status</h3>\n        <div className=\"text-sm space-y-1\">\n          <div>Latency: {gameState.metrics.averageLatency.toFixed(1)}ms / {gameState.slaTargets.maxLatency}ms</div>\n          <div>Throughput: {gameState.metrics.throughput.toFixed(0)} / {gameState.slaTargets.minThroughput}</div>\n          <div>Loss: {(gameState.metrics.packetLoss * 100).toFixed(2)}%</div>\n        </div>\n      </div>\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Availability</h3>\n        <div className={`text-lg font-bold ${\n          gameState.metrics.availability >= 0.95 ? 'text-green-600' :\n          gameState.metrics.availability >= 0.8 ? 'text-yellow-600' :\n          'text-red-600'\n        }`}>\n          {(gameState.metrics.availability * 100).toFixed(1)}%\n        </div>\n      </div>\n    </div>\n  ) : null;\n\n  return (\n    <GameShell\n      config={GAME_CONFIG}\n      status={status}\n      onStart={handleStart}\n      onReset={handleReset}\n      rightPanel={rightPanel}\n    >\n      <div className=\"p-4\">\n        {!gameState ? (\n          <div className=\"text-center text-slate-600\">Loading topology...</div>\n        ) : status === \"idle\" ? (\n          <div className=\"max-w-2xl mx-auto space-y-4\">\n            <h2 className=\"text-2xl font-bold text-slate-900\">{gameState.topology.name}</h2>\n            <p className=\"text-slate-600\">Design routing policies to meet SLA targets</p>\n            <div className=\"space-y-2\">\n              <div><strong>Nodes:</strong> {gameState.topology.nodes.length}</div>\n              <div><strong>Ticks:</strong> {gameState.totalTicks}</div>\n              <div><strong>SLA Targets:</strong> Latency &lt;{gameState.slaTargets.maxLatency}ms, Throughput &gt;{gameState.slaTargets.minThroughput}</div>\n            </div>\n            <button\n              onClick={handleStart}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Start Simulation\n            </button>\n          </div>\n        ) : status === \"playing\" || status === \"finished\" ? (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* Network Visualization (Simplified) */}\n            <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Network Topology</h3>\n              <div className=\"grid grid-cols-5 gap-2\">\n                {gameState.topology.nodes.map(node => (\n                  <div\n                    key={node.id}\n                    className=\"p-2 border rounded text-center text-xs\"\n                  >\n                    {node.name}\n                  </div>\n                ))}\n              </div>\n              <div className=\"mt-2 text-xs text-slate-600\">\n                Links: {gameState.topology.links.filter(l => !l.failed).length} active, {gameState.failures.length} failed\n              </div>\n            </div>\n\n            {/* Metrics Panel */}\n            <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Performance Metrics</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div>\n                  <div className=\"text-sm text-slate-600\">Latency</div>\n                  <div className={`text-lg font-bold ${\n                    gameState.metrics.averageLatency <= gameState.slaTargets.maxLatency ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {gameState.metrics.averageLatency.toFixed(1)}ms\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-sm text-slate-600\">Throughput</div>\n                  <div className={`text-lg font-bold ${\n                    gameState.metrics.throughput >= gameState.slaTargets.minThroughput ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {gameState.metrics.throughput.toFixed(0)}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-sm text-slate-600\">Packet Loss</div>\n                  <div className={`text-lg font-bold ${\n                    gameState.metrics.packetLoss <= gameState.slaTargets.maxLoss ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {(gameState.metrics.packetLoss * 100).toFixed(2)}%\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-sm text-slate-600\">Congestion</div>\n                  <div className={`text-lg font-bold ${\n                    gameState.metrics.congestionLevel < 0.7 ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {(gameState.metrics.congestionLevel * 100).toFixed(0)}%\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Routing Policy */}\n            {status === \"playing\" && (\n              <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Routing Policy</h3>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handlePolicyChange({ type: 'shortest-path', parameters: {} })}\n                    className={`px-3 py-2 rounded ${\n                      gameState.routingPolicy.type === 'shortest-path' \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-slate-200 text-slate-700'\n                    }`}\n                  >\n                    Shortest Path\n                  </button>\n                  <button\n                    onClick={() => handlePolicyChange({ type: 'load-balanced', parameters: {} })}\n                    className={`px-3 py-2 rounded ${\n                      gameState.routingPolicy.type === 'load-balanced' \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-slate-200 text-slate-700'\n                    }`}\n                  >\n                    Load Balanced\n                  </button>\n                  <button\n                    onClick={() => handlePolicyChange({ type: 'resilient', parameters: {} })}\n                    className={`px-3 py-2 rounded ${\n                      gameState.routingPolicy.type === 'resilient' \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-slate-200 text-slate-700'\n                    }`}\n                  >\n                    Resilient\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Action Panel */}\n            {status === \"playing\" && (\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={handleAdvanceTick}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  Advance Tick\n                </button>\n                <button\n                  onClick={() => setAutoAdvance(!autoAdvance)}\n                  className={`px-4 py-2 rounded-lg ${\n                    autoAdvance \n                      ? 'bg-red-600 text-white' \n                      : 'bg-slate-200 text-slate-700'\n                  }`}\n                >\n                  {autoAdvance ? 'Stop Auto' : 'Auto Advance'}\n                </button>\n              </div>\n            )}\n\n            {/* Results */}\n            {status === \"finished\" && challengeCodeData && (\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <div className={`text-3xl font-bold mb-2 ${\n                    gameState.outcome === 'win' ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {gameState.outcome === 'win' ? 'Success!' : 'Failed'}\n                  </div>\n                  <div className=\"text-sm text-slate-600\">\n                    Availability: {(gameState.metrics.availability * 100).toFixed(1)}%\n                  </div>\n                </div>\n\n                <ChallengeCodeShare code={challengeCodeData} score={playerScoreData?.score || 0} />\n\n                {scoreComparison && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <ScoreComparisonDisplay comparison={scoreComparison} />\n                  </div>\n                )}\n\n                <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                  <LeaderboardView\n                    challengeCode={challengeCodeData.code}\n                    playerScore={playerScoreData || undefined}\n                  />\n                </div>\n\n                {achievementIds.length > 0 && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <AchievementDisplay achievementIds={achievementIds} compact />\n                  </div>\n                )}\n\n                {analysis && (\n                  <div className=\"rounded-xl border border-slate-200 bg-white p-4\">\n                    <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Analysis</h3>\n                    <div className=\"space-y-3\">\n                      <div>\n                        <h4 className=\"font-medium text-slate-900 mb-1\">Summary</h4>\n                        <p className=\"text-sm text-slate-600\">{analysis.summary}</p>\n                      </div>\n                      {analysis.recommendations.length > 0 && (\n                        <div>\n                          <h4 className=\"font-medium text-slate-900 mb-1\">Recommendations</h4>\n                          <ul className=\"text-sm text-slate-600 list-disc list-inside space-y-1\">\n                            {analysis.recommendations.map((rec: any, i: number) => (\n                              <li key={i}>{rec.description}</li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  onClick={handleReset}\n                  className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  New Challenge\n                </button>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </GameShell>\n  );\n}\n","/**\n * Packet Route - Topology Generator\n * \n * Generates deterministic network topologies.\n */\n\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\nimport type { Topology, Node, Link, TopologyType, Difficulty } from './types';\n\nexport function generateTopology(\n  seed: number,\n  topologyType: TopologyType,\n  difficulty: Difficulty\n): Topology {\n  const rng = new SeededRNG(seed);\n  const config = getDifficultyConfig(difficulty);\n  \n  const { nodes, links } = generateTopologyStructure(topologyType, config, rng);\n  \n  return {\n    id: `topology-${seed}`,\n    name: `${topologyType} Network ${seed}`,\n    type: topologyType,\n    difficulty,\n    nodes,\n    links,\n    seed,\n  };\n}\n\ninterface DifficultyConfig {\n  nodeCount: number;\n  linkCapacity: number;\n  baseLatency: number;\n}\n\nfunction getDifficultyConfig(difficulty: Difficulty): DifficultyConfig {\n  switch (difficulty) {\n    case 'foundations':\n      return { nodeCount: 5, linkCapacity: 1000, baseLatency: 10 };\n    case 'intermediate':\n      return { nodeCount: 10, linkCapacity: 800, baseLatency: 15 };\n    case 'advanced':\n      return { nodeCount: 15, linkCapacity: 600, baseLatency: 20 };\n    case 'expert':\n      return { nodeCount: 20, linkCapacity: 500, baseLatency: 25 };\n  }\n}\n\nfunction generateTopologyStructure(\n  type: TopologyType,\n  config: DifficultyConfig,\n  rng: SeededRNG\n): { nodes: Node[]; links: Link[] } {\n  const nodes: Node[] = [];\n  const links: Link[] = [];\n  \n  // Generate nodes\n  for (let i = 0; i < config.nodeCount; i++) {\n    nodes.push({\n      id: `node-${i}`,\n      name: `Node ${i}`,\n      x: (i % 5) * 100 + 50,\n      y: Math.floor(i / 5) * 100 + 50,\n      capacity: 1000 + rng.next() * 500,\n      currentLoad: 0,\n    });\n  }\n  \n  // Generate links based on topology type\n  switch (type) {\n    case 'mesh':\n      // Fully connected\n      for (let i = 0; i < nodes.length; i++) {\n        for (let j = i + 1; j < nodes.length; j++) {\n          links.push(createLink(nodes[i].id, nodes[j].id, config, rng));\n        }\n      }\n      break;\n    case 'star':\n      // Central node connected to all others\n      const center = nodes[0];\n      for (let i = 1; i < nodes.length; i++) {\n        links.push(createLink(center.id, nodes[i].id, config, rng));\n      }\n      break;\n    case 'tree':\n      // Tree structure\n      for (let i = 1; i < nodes.length; i++) {\n        const parent = nodes[Math.floor((i - 1) / 2)];\n        links.push(createLink(parent.id, nodes[i].id, config, rng));\n      }\n      break;\n    case 'ring':\n      // Ring structure\n      for (let i = 0; i < nodes.length; i++) {\n        const next = nodes[(i + 1) % nodes.length];\n        links.push(createLink(nodes[i].id, next.id, config, rng));\n      }\n      break;\n    case 'hybrid':\n      // Combination (simplified)\n      // Start with ring, add some cross-connections\n      for (let i = 0; i < nodes.length; i++) {\n        const next = nodes[(i + 1) % nodes.length];\n        links.push(createLink(nodes[i].id, next.id, config, rng));\n      }\n      // Add some random cross-connections\n      for (let i = 0; i < nodes.length / 2; i++) {\n        const from = rng.sample(nodes, 1)[0];\n        const to = rng.sample(nodes.filter(n => n.id !== from.id), 1)[0];\n        if (!links.find(l => (l.from === from.id && l.to === to.id) || (l.from === to.id && l.to === from.id))) {\n          links.push(createLink(from.id, to.id, config, rng));\n        }\n      }\n      break;\n  }\n  \n  return { nodes, links };\n}\n\nfunction createLink(\n  from: string,\n  to: string,\n  config: DifficultyConfig,\n  rng: SeededRNG\n): Link {\n  return {\n    id: `link-${from}-${to}`,\n    from,\n    to,\n    capacity: config.linkCapacity + rng.next() * 200,\n    latency: config.baseLatency + rng.next() * 10,\n    currentLoad: 0,\n    failed: false,\n  };\n}\n","/**\n * Packet Route - Traffic Generator\n * \n * Generates deterministic traffic patterns.\n */\n\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\nimport type { TrafficFlow, Node } from './types';\n\nexport function generateTrafficPattern(\n  seed: number,\n  tick: number,\n  nodes: Node[]\n): TrafficFlow[] {\n  const rng = new SeededRNG(seed + tick * 1000);\n  const flowCount = 3 + Math.floor(rng.next() * 3); // 3-5 flows\n  const flows: TrafficFlow[] = [];\n  \n  for (let i = 0; i < flowCount; i++) {\n    const source = rng.sample(nodes, 1)[0];\n    const destination = rng.sample(nodes.filter(n => n.id !== source.id), 1)[0];\n    \n    flows.push({\n      id: `flow-${tick}-${i}`,\n      source: source.id,\n      destination: destination.id,\n      rate: 100 + rng.next() * 200, // packets per second\n      route: [], // Will be calculated by routing engine\n    });\n  }\n  \n  return flows;\n}\n","/**\n * Packet Route - Routing Engine\n * \n * Calculates routes based on routing policy.\n */\n\nimport type { GameState, TrafficFlow, Node, Link, RoutingPolicyConfig } from './types';\n\n/**\n * Calculate routes for all traffic flows\n */\nexport function calculateRoutes(state: GameState): TrafficFlow[] {\n  const flows: TrafficFlow[] = [];\n  \n  for (const flow of state.trafficFlows) {\n    const route = calculateRoute(\n      flow.source,\n      flow.destination,\n      state.topology.nodes,\n      state.topology.links,\n      state.routingPolicy\n    );\n    flows.push({\n      ...flow,\n      route,\n    });\n  }\n  \n  return flows;\n}\n\nfunction calculateRoute(\n  source: string,\n  destination: string,\n  nodes: Node[],\n  links: Link[],\n  policy: RoutingPolicyConfig\n): string[] {\n  // Simplified routing - in full implementation, would use Dijkstra's algorithm\n  // or other routing algorithms based on policy\n  \n  switch (policy.type) {\n    case 'shortest-path':\n      return calculateShortestPath(source, destination, nodes, links);\n    case 'load-balanced':\n      return calculateLoadBalancedPath(source, destination, nodes, links);\n    case 'resilient':\n      return calculateResilientPath(source, destination, nodes, links);\n    case 'hybrid':\n      return calculateShortestPath(source, destination, nodes, links); // Simplified\n    default:\n      return calculateShortestPath(source, destination, nodes, links);\n  }\n}\n\nfunction calculateShortestPath(\n  source: string,\n  destination: string,\n  nodes: Node[],\n  links: Link[]\n): string[] {\n  // Simplified shortest path (Dijkstra's would be used in full implementation)\n  const sourceNode = nodes.find(n => n.id === source);\n  const destNode = nodes.find(n => n.id === destination);\n  \n  if (!sourceNode || !destNode) return [source];\n  \n  // Find direct link\n  const directLink = links.find(l => \n    (l.from === source && l.to === destination) && !l.failed\n  );\n  if (directLink) {\n    return [source, destination];\n  }\n  \n  // Find path through one intermediate node\n  for (const node of nodes) {\n    if (node.id === source || node.id === destination) continue;\n    const link1 = links.find(l => l.from === source && l.to === node.id && !l.failed);\n    const link2 = links.find(l => l.from === node.id && l.to === destination && !l.failed);\n    if (link1 && link2) {\n      return [source, node.id, destination];\n    }\n  }\n  \n  return [source]; // No path found\n}\n\nfunction calculateLoadBalancedPath(\n  source: string,\n  destination: string,\n  nodes: Node[],\n  links: Link[]\n): string[] {\n  // Simplified - would consider current link loads\n  return calculateShortestPath(source, destination, nodes, links);\n}\n\nfunction calculateResilientPath(\n  source: string,\n  destination: string,\n  nodes: Node[],\n  links: Link[]\n): string[] {\n  // Simplified - would prefer paths with redundancy\n  return calculateShortestPath(source, destination, nodes, links);\n}\n\n/**\n * Simulate packet flow and calculate metrics\n */\nexport function simulatePacketFlow(state: GameState): GameState {\n  const flows = calculateRoutes(state);\n  \n  // Update link loads\n  const updatedLinks = state.topology.links.map(link => {\n    let load = 0;\n    for (const flow of flows) {\n      for (let i = 0; i < flow.route.length - 1; i++) {\n        if ((flow.route[i] === link.from && flow.route[i + 1] === link.to) ||\n            (flow.route[i] === link.to && flow.route[i + 1] === link.from)) {\n          load += flow.rate;\n        }\n      }\n    }\n    return {\n      ...link,\n      currentLoad: Math.min(1, load / link.capacity),\n    };\n  });\n  \n  // Calculate metrics\n  const totalLatency = flows.reduce((sum, flow) => {\n    let latency = 0;\n    for (let i = 0; i < flow.route.length - 1; i++) {\n      const link = updatedLinks.find(l =>\n        (l.from === flow.route[i] && l.to === flow.route[i + 1]) ||\n        (l.from === flow.route[i + 1] && l.to === flow.route[i])\n      );\n      if (link) {\n        latency += link.latency * (1 + link.currentLoad); // Latency increases with load\n      }\n    }\n    return sum + latency;\n  }, 0);\n  \n  const averageLatency = flows.length > 0 ? totalLatency / flows.length : 0;\n  const throughput = flows.reduce((sum, flow) => sum + flow.rate, 0);\n  const packetLoss = updatedLinks.reduce((sum, link) => {\n    return sum + Math.max(0, link.currentLoad - 1); // Loss when overloaded\n  }, 0) / updatedLinks.length;\n  \n  const congestionLevel = updatedLinks.reduce((sum, link) => sum + link.currentLoad, 0) / updatedLinks.length;\n  \n  // Check SLA compliance\n  const slaMet = averageLatency <= state.slaTargets.maxLatency &&\n                 throughput >= state.slaTargets.minThroughput &&\n                 packetLoss <= state.slaTargets.maxLoss;\n  \n  const availability = state.metrics.availability * 0.9 + (slaMet ? 0.1 : 0);\n  \n  return {\n    ...state,\n    topology: {\n      ...state.topology,\n      links: updatedLinks,\n    },\n    trafficFlows: flows,\n    metrics: {\n      averageLatency,\n      throughput,\n      packetLoss,\n      congestionLevel,\n      availability,\n    },\n  };\n}\n","/**\n * Packet Route - Failure Engine\n * \n * Generates and applies network failures.\n */\n\nimport { SeededRNG } from '@/lib/games/framework/SeededRNG';\nimport type { GameState, Link } from './types';\n\n/**\n * Generate failures for a tick\n */\nexport function generateFailures(\n  seed: number,\n  tick: number,\n  phase: number,\n  links: Link[]\n): string[] {\n  const rng = new SeededRNG(seed + tick * 2000);\n  const failureRate = getFailureRateForPhase(phase);\n  \n  const failures: string[] = [];\n  for (const link of links) {\n    if (!link.failed && rng.next() < failureRate) {\n      failures.push(link.id);\n    }\n  }\n  \n  return failures;\n}\n\n/**\n * Apply failures to game state\n */\nexport function applyFailures(state: GameState, failureIds: string[]): GameState {\n  const updatedLinks = state.topology.links.map(link => ({\n    ...link,\n    failed: link.failed || failureIds.includes(link.id),\n  }));\n  \n  return {\n    ...state,\n    topology: {\n      ...state.topology,\n      links: updatedLinks,\n    },\n    failures: [...state.failures, ...failureIds],\n  };\n}\n\nfunction getFailureRateForPhase(phase: number): number {\n  switch (phase) {\n    case 1: return 0.05; // 5% chance\n    case 2: return 0.10; // 10% chance\n    case 3: return 0.20; // 20% chance\n    case 4: return 0.30; // 30% chance\n    default: return 0.10;\n  }\n}\n","/**\n * Packet Route - Game State Management\n */\n\nimport type { GameState, Topology, RoutingPolicyConfig, SLATargets } from './types';\nimport { generateTrafficPattern } from './trafficGenerator';\nimport { simulatePacketFlow } from './routingEngine';\nimport { generateFailures, applyFailures } from './failureEngine';\n\n/**\n * Initialize game state\n */\nexport function initializeGameState(\n  topology: Topology,\n  slaTargets: SLATargets,\n  seed: number\n): GameState {\n  const initialTraffic = generateTrafficPattern(seed, 1, topology.nodes);\n  \n  return {\n    topology,\n    currentTick: 0,\n    totalTicks: getTotalTicksForDifficulty(topology.difficulty),\n    routingPolicy: {\n      type: 'shortest-path',\n      parameters: {},\n    },\n    trafficFlows: initialTraffic,\n    slaTargets,\n    metrics: {\n      averageLatency: 0,\n      throughput: 0,\n      packetLoss: 0,\n      congestionLevel: 0,\n      availability: 1.0,\n    },\n    failures: [],\n    seed,\n    status: 'idle',\n  };\n}\n\n/**\n * Start the game\n */\nexport function startGame(state: GameState): GameState {\n  return {\n    ...state,\n    status: 'playing',\n    currentTick: 1,\n  };\n}\n\n/**\n * Execute tick\n */\nexport function executeTick(state: GameState): GameState {\n  if (state.status !== 'playing') return state;\n  \n  let newState = { ...state };\n  \n  // Generate new traffic\n  const newTraffic = generateTrafficPattern(newState.seed, newState.currentTick, newState.topology.nodes);\n  newState.trafficFlows = newTraffic;\n  \n  // Generate failures\n  const phase = getPhaseForTick(newState.currentTick, newState.totalTicks);\n  const failures = generateFailures(newState.seed, newState.currentTick, phase, newState.topology.links);\n  newState = applyFailures(newState, failures);\n  \n  // Simulate packet flow\n  newState = simulatePacketFlow(newState);\n  \n  // Advance tick\n  newState.currentTick += 1;\n  \n  // Check win/loss\n  if (newState.currentTick > newState.totalTicks) {\n    newState.status = 'finished';\n    newState.outcome = newState.metrics.availability >= 0.95 ? 'win' : 'loss';\n  } else if (newState.metrics.availability < 0.5) {\n    // Critical failure\n    newState.status = 'finished';\n    newState.outcome = 'loss';\n  }\n  \n  return newState;\n}\n\n/**\n * Update routing policy\n */\nexport function updateRoutingPolicy(\n  state: GameState,\n  policy: RoutingPolicyConfig\n): GameState {\n  return {\n    ...state,\n    routingPolicy: policy,\n  };\n}\n\nfunction getTotalTicksForDifficulty(difficulty: GameState['topology']['difficulty']): number {\n  switch (difficulty) {\n    case 'foundations': return 20;\n    case 'intermediate': return 30;\n    case 'advanced': return 40;\n    case 'expert': return 40;\n  }\n}\n\nfunction getPhaseForTick(tick: number, totalTicks: number): number {\n  const phaseSize = totalTicks / 4;\n  if (tick <= phaseSize) return 1;\n  if (tick <= phaseSize * 2) return 2;\n  if (tick <= phaseSize * 3) return 3;\n  return 4;\n}\n\n/**\n * Check win condition\n */\nexport function checkWinCondition(state: GameState): boolean {\n  return state.metrics.availability >= 0.95;\n}\n\n/**\n * Check loss condition\n */\nexport function checkLossCondition(state: GameState): boolean {\n  return state.metrics.availability < 0.5;\n}\n","/**\n * Packet Route - Persistence\n */\n\nimport type { GameState } from './types';\n\nexport interface PacketRouteProgress {\n  version: 1;\n  xp: number;\n  currentTier: 'operator' | 'engineer' | 'architect' | 'master' | 'legend';\n  tierProgress: number;\n  unlockedTopologies: string[];\n  unlockedPolicyTypes: string[];\n  unlockedTools: string[];\n  personalBests: Record<string, {\n    bestScore: number;\n    bestLatency: number;\n    bestThroughput: number;\n    bestAvailability: number;\n  }>;\n  currentStreak: number;\n  longestStreak: number;\n  lastPlayedDate: string;\n  completedChallenges: Array<{\n    challengeCode: string;\n    completedDate: string;\n    score: number;\n    latency: number;\n    throughput: number;\n    availability: number;\n    policyHash: string;\n  }>;\n  stats: {\n    topologiesCompleted: number;\n    averageLatency: number;\n    averageThroughput: number;\n    averageAvailability: number;\n    bottleneckIdentifications: number;\n    policyChanges: number;\n    topologyTypeStats: Record<string, {\n      completed: number;\n      averageScore: number;\n      averageLatency: number;\n    }>;\n  };\n}\n\nconst STORAGE_KEY = 'packet-route-progress';\n\nexport function getProgress(): PacketRouteProgress {\n  if (typeof window === 'undefined') {\n    return getDefaultProgress();\n  }\n  \n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored);\n    }\n  } catch (error) {\n    console.error('Error loading progress:', error);\n  }\n  \n  return getDefaultProgress();\n}\n\nexport function saveProgress(progress: PacketRouteProgress): void {\n  if (typeof window === 'undefined') return;\n  \n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));\n  } catch (error) {\n    console.error('Error saving progress:', error);\n  }\n}\n\nfunction getDefaultProgress(): PacketRouteProgress {\n  return {\n    version: 1,\n    xp: 0,\n    currentTier: 'operator',\n    tierProgress: 0,\n    unlockedTopologies: ['mesh', 'star'],\n    unlockedPolicyTypes: ['shortest-path', 'load-balanced'],\n    unlockedTools: [],\n    personalBests: {},\n    currentStreak: 0,\n    longestStreak: 0,\n    lastPlayedDate: '',\n    completedChallenges: [],\n    stats: {\n      topologiesCompleted: 0,\n      averageLatency: 0,\n      averageThroughput: 0,\n      averageAvailability: 0,\n      bottleneckIdentifications: 0,\n      policyChanges: 0,\n      topologyTypeStats: {},\n    },\n  };\n}\n\nexport function updateProgressAfterGame(\n  progress: PacketRouteProgress,\n  state: GameState,\n  score: number\n): PacketRouteProgress {\n  const updated = { ...progress };\n  \n  updated.stats.topologiesCompleted += 1;\n  updated.stats.averageLatency = \n    (updated.stats.averageLatency * (updated.stats.topologiesCompleted - 1) + state.metrics.averageLatency) / \n    updated.stats.topologiesCompleted;\n  updated.stats.averageThroughput = \n    (updated.stats.averageThroughput * (updated.stats.topologiesCompleted - 1) + state.metrics.throughput) / \n    updated.stats.topologiesCompleted;\n  updated.stats.averageAvailability = \n    (updated.stats.averageAvailability * (updated.stats.topologiesCompleted - 1) + state.metrics.availability) / \n    updated.stats.topologiesCompleted;\n  \n  // Update personal bests\n  const topologyId = `topology-${state.seed}`;\n  const currentBest = updated.personalBests[topologyId];\n  if (!currentBest || score > currentBest.bestScore) {\n    updated.personalBests[topologyId] = {\n      bestScore: score,\n      bestLatency: state.metrics.averageLatency,\n      bestThroughput: state.metrics.throughput,\n      bestAvailability: state.metrics.availability,\n    };\n  }\n  \n  return updated;\n}\n","/**\n * Packet Route - Explainability Analyzer\n */\n\nimport type { GameState } from './types';\n\nexport interface Analysis {\n  keyDecisions: Array<{\n    tick: number;\n    description: string;\n    impact: 'positive' | 'negative' | 'neutral';\n    reasoning: string;\n  }>;\n  mistakes: Array<{\n    tick: number;\n    description: string;\n    cost: string;\n    recommendation: string;\n  }>;\n  recommendations: Array<{\n    type: 'policy' | 'routing' | 'resilience';\n    description: string;\n    rationale: string;\n  }>;\n  summary: string;\n}\n\nexport function analyzeRun(state: GameState): Analysis {\n  const keyDecisions: Analysis['keyDecisions'] = [];\n  const mistakes: Analysis['mistakes'] = [];\n  const recommendations: Analysis['recommendations'] = [];\n  \n  // Analyze congestion\n  const congestedLinks = state.topology.links.filter(l => l.currentLoad > 0.8);\n  if (congestedLinks.length > 0) {\n    mistakes.push({\n      tick: state.currentTick,\n      description: `${congestedLinks.length} links are congested (>80% load)`,\n      cost: 'Increased latency and packet loss',\n      recommendation: 'Use load balancing policy to distribute traffic',\n    });\n  }\n  \n  // Analyze failures\n  if (state.failures.length > 0) {\n    keyDecisions.push({\n      tick: state.currentTick,\n      description: `Handled ${state.failures.length} link failures`,\n      impact: state.metrics.availability > 0.9 ? 'positive' : 'negative',\n      reasoning: state.metrics.availability > 0.9 \n        ? 'Failures handled well, maintained availability'\n        : 'Failures caused availability issues',\n    });\n  }\n  \n  // Generate recommendations\n  if (state.metrics.congestionLevel > 0.7) {\n    recommendations.push({\n      type: 'routing',\n      description: 'Switch to load-balanced routing policy',\n      rationale: 'High congestion indicates need for better traffic distribution',\n    });\n  }\n  \n  if (state.failures.length > 0 && state.metrics.availability < 0.9) {\n    recommendations.push({\n      type: 'resilience',\n      description: 'Implement resilient routing with backup paths',\n      rationale: 'Failures caused availability issues, need better resilience',\n    });\n  }\n  \n  const win = state.outcome === 'win';\n  const summary = win\n    ? `Successfully maintained SLA targets with ${(state.metrics.availability * 100).toFixed(1)}% availability. Average latency: ${state.metrics.averageLatency.toFixed(1)}ms.`\n    : `Failed to maintain SLA targets. Availability dropped to ${(state.metrics.availability * 100).toFixed(1)}%.`;\n  \n  return {\n    keyDecisions: keyDecisions.slice(0, 3),\n    mistakes: mistakes.slice(0, 3),\n    recommendations,\n    summary,\n  };\n}\n"],"names":[],"mappings":"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"}}]
}