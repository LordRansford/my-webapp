{
  "version": 3,
  "sources": [],
  "debugId": "0876433e-c7d9-aeb4-b2ba-e5037e8e475d",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/pages/studios/model-forge/index.js","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n  ScatterChart,\n  Scatter,\n} from \"recharts\";\nimport { useStudiosStore } from \"@/stores/useStudiosStore\";\nimport { SecurityBanner } from \"@/components/dev-studios/SecurityBanner\";\nimport { validateUpload } from \"@/utils/validateUpload\";\nimport { useToolRunner } from \"@/hooks/useToolRunner\";\nimport ComputeEstimatePanel from \"@/components/compute/ComputeEstimatePanel\";\nimport ComputeSummaryPanel from \"@/components/compute/ComputeSummaryPanel\";\nimport { formatBytes, getToolFileLimits } from \"@/config/computeLimits\";\nimport StudioNavigation from \"@/components/studios/StudioNavigation\";\nimport { StudioBreadcrumbs } from \"@/components/studios/StudioBreadcrumbs\";\n\nconst sigmoid = (x) => 1 / (1 + Math.exp(-x));\nconst MB = 1024 * 1024;\n\nfunction inferTaskType(values) {\n  const nonNull = values.filter((v) => v !== null && v !== undefined);\n  if (nonNull.length === 0) return { type: \"unknown\", reason: \"Target is empty.\" };\n  const allNumeric = nonNull.every((v) => !Number.isNaN(Number(v)));\n  const uniques = new Set(nonNull.map((v) => String(v))).size;\n  if (allNumeric && uniques > 12) return { type: \"regression\", reason: \"Target is numeric with many distinct values.\" };\n  if (!allNumeric && uniques <= 20) return { type: \"classification\", reason: \"Target has repeated categories.\" };\n  if (allNumeric && uniques <= 20) return { type: \"classification\", reason: \"Target is numeric with few repeated values.\" };\n  return { type: \"regression\", reason: \"Defaulting to regression.\" };\n}\n\nfunction splitData(rows, targetCol, ratio = 0.8) {\n  const shuffled = [...rows].sort(() => Math.random() - 0.5);\n  const cutoff = Math.max(1, Math.floor(shuffled.length * ratio));\n  const train = shuffled.slice(0, cutoff);\n  const test = shuffled.slice(cutoff);\n  return { train, test };\n}\n\nfunction getColumnInfo(rows) {\n  if (!rows || rows.length === 0) return {};\n  const cols = Object.keys(rows[0] || {});\n  const info = {};\n  cols.forEach((col) => {\n    const vals = rows.map((r) => r[col]).filter((v) => v !== null && v !== undefined);\n    const numericVals = vals.map((v) => Number(v)).filter((v) => !Number.isNaN(v));\n    const unique = new Set(vals.map((v) => String(v))).size;\n    info[col] = {\n      isNumeric: numericVals.length === vals.length,\n      min: numericVals.length ? Math.min(...numericVals) : undefined,\n      max: numericVals.length ? Math.max(...numericVals) : undefined,\n      uniqueValues: vals.slice(0, 200).reduce((acc, v) => acc.add(String(v)), new Set()),\n      uniqueCount: unique,\n    };\n  });\n  return info;\n}\n\nfunction encodeRows(rows, columns, colInfo, targetCol) {\n  const featureCols = columns.filter((c) => c !== targetCol);\n  const encoded = [];\n  const cats = {};\n  featureCols.forEach((c) => {\n    if (!colInfo[c]?.isNumeric) {\n      cats[c] = Array.from(colInfo[c].uniqueValues).slice(0, 20);\n    }\n  });\n  rows.forEach((row) => {\n    const feats = [];\n    featureCols.forEach((c) => {\n      if (colInfo[c]?.isNumeric) {\n        const v = Number(row[c]);\n        feats.push(Number.isNaN(v) ? 0 : v);\n      } else {\n        const vals = cats[c] || [];\n        vals.forEach((val) => {\n          feats.push(row[c] === val ? 1 : 0);\n        });\n      }\n    });\n    encoded.push(feats);\n  });\n  return { featureCols, cats, encoded };\n}\n\nfunction normaliseNumericInPlace(encoded, featureCols, colInfo) {\n  if (!encoded?.length) return encoded;\n  // We only normalise the numeric feature columns (not one-hot blocks).\n  // This is intentionally simple for learning: min-max scaling by column range.\n  let cursor = 0;\n  const numericIdx = new Set();\n  featureCols.forEach((c) => {\n    if (colInfo[c]?.isNumeric) numericIdx.add(cursor);\n    cursor += colInfo[c]?.isNumeric ? 1 : Math.min(20, colInfo[c]?.uniqueCount || 0);\n  });\n  const mins = {};\n  const maxs = {};\n  numericIdx.forEach((j) => {\n    mins[j] = Infinity;\n    maxs[j] = -Infinity;\n  });\n  for (const row of encoded) {\n    numericIdx.forEach((j) => {\n      const v = Number(row[j]);\n      if (!Number.isFinite(v)) return;\n      mins[j] = Math.min(mins[j], v);\n      maxs[j] = Math.max(maxs[j], v);\n    });\n  }\n  for (const row of encoded) {\n    numericIdx.forEach((j) => {\n      const min = mins[j];\n      const max = maxs[j];\n      if (!Number.isFinite(min) || !Number.isFinite(max) || max === min) return;\n      row[j] = (row[j] - min) / (max - min);\n    });\n  }\n  return encoded;\n}\n\nfunction abortError() {\n  // Works across browsers and matches the AbortError check in useToolRunner.\n  throw new DOMException(\"Aborted\", \"AbortError\");\n}\n\nasync function trainLogisticRegressionAsync(signal, X, y, { lr = 0.05, epochs = 120 }) {\n  if (X.length === 0) return { weights: [], bias: 0 };\n  const m = X.length;\n  const n = X[0].length;\n  let w = new Array(n).fill(0);\n  let b = 0;\n  for (let epoch = 0; epoch < epochs; epoch += 1) {\n    if (signal?.aborted) abortError();\n    for (let i = 0; i < m; i += 1) {\n      if (signal?.aborted) abortError();\n      const z = w.reduce((acc, wj, j) => acc + wj * X[i][j], b);\n      const pred = sigmoid(z);\n      const err = pred - y[i];\n      for (let j = 0; j < n; j += 1) {\n        w[j] -= lr * err * X[i][j];\n      }\n      b -= lr * err;\n    }\n    if (epoch % 10 === 0) await new Promise((r) => setTimeout(r, 0));\n  }\n  return { weights: w, bias: b };\n}\n\nasync function trainLinearRegressionAsync(signal, X, y, { lr = 0.01, epochs = 200 }) {\n  if (X.length === 0) return { weights: [], bias: 0 };\n  const m = X.length;\n  const n = X[0].length;\n  let w = new Array(n).fill(0);\n  let b = 0;\n  for (let epoch = 0; epoch < epochs; epoch += 1) {\n    if (signal?.aborted) abortError();\n    for (let i = 0; i < m; i += 1) {\n      if (signal?.aborted) abortError();\n      const pred = w.reduce((acc, wj, j) => acc + wj * X[i][j], b);\n      const err = pred - y[i];\n      for (let j = 0; j < n; j += 1) {\n        w[j] -= lr * err * X[i][j];\n      }\n      b -= lr * err;\n    }\n    if (epoch % 10 === 0) await new Promise((r) => setTimeout(r, 0));\n  }\n  return { weights: w, bias: b };\n}\n\nfunction downloadJson(filename, data) {\n  const blob = new Blob([JSON.stringify(data, null, 2)], { type: \"application/json\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = filename;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n\nfunction trainLogisticRegression(X, y, { lr = 0.05, epochs = 120 }) {\n  if (X.length === 0) return { weights: [], bias: 0 };\n  const m = X.length;\n  const n = X[0].length;\n  let w = new Array(n).fill(0);\n  let b = 0;\n  for (let epoch = 0; epoch < epochs; epoch += 1) {\n    for (let i = 0; i < m; i += 1) {\n      const z = w.reduce((acc, wj, j) => acc + wj * X[i][j], b);\n      const pred = sigmoid(z);\n      const err = pred - y[i];\n      for (let j = 0; j < n; j += 1) {\n        w[j] -= lr * err * X[i][j];\n      }\n      b -= lr * err;\n    }\n  }\n  return { weights: w, bias: b };\n}\n\nfunction trainLinearRegression(X, y, { lr = 0.01, epochs = 200 }) {\n  if (X.length === 0) return { weights: [], bias: 0 };\n  const m = X.length;\n  const n = X[0].length;\n  let w = new Array(n).fill(0);\n  let b = 0;\n  for (let epoch = 0; epoch < epochs; epoch += 1) {\n    for (let i = 0; i < m; i += 1) {\n      const pred = w.reduce((acc, wj, j) => acc + wj * X[i][j], b);\n      const err = pred - y[i];\n      for (let j = 0; j < n; j += 1) {\n        w[j] -= lr * err * X[i][j];\n      }\n      b -= lr * err;\n    }\n  }\n  return { weights: w, bias: b };\n}\n\nfunction computeClassificationMetrics(yTrue, yPred) {\n  let tp = 0;\n  let fp = 0;\n  let tn = 0;\n  let fn = 0;\n  for (let i = 0; i < yTrue.length; i += 1) {\n    if (yTrue[i] === 1 && yPred[i] === 1) tp += 1;\n    else if (yTrue[i] === 0 && yPred[i] === 1) fp += 1;\n    else if (yTrue[i] === 0 && yPred[i] === 0) tn += 1;\n    else if (yTrue[i] === 1 && yPred[i] === 0) fn += 1;\n  }\n  const accuracy = (tp + tn) / Math.max(1, yTrue.length);\n  const precision = tp / Math.max(1, tp + fp);\n  const recall = tp / Math.max(1, tp + fn);\n  const f1 = precision + recall > 0 ? (2 * precision * recall) / (precision + recall) : 0;\n  return { tp, fp, tn, fn, accuracy, precision, recall, f1 };\n}\n\nfunction computeRegressionMetrics(yTrue, yPred) {\n  const n = yTrue.length;\n  if (n === 0) return { mae: 0, mse: 0, rmse: 0, r2: 0 };\n  let mae = 0;\n  let mse = 0;\n  let ssTot = 0;\n  let ssRes = 0;\n  const meanY = yTrue.reduce((a, b) => a + b, 0) / n;\n  for (let i = 0; i < n; i += 1) {\n    const e = yPred[i] - yTrue[i];\n    mae += Math.abs(e);\n    mse += e * e;\n    ssTot += (yTrue[i] - meanY) * (yTrue[i] - meanY);\n    ssRes += e * e;\n  }\n  mae /= n;\n  mse /= n;\n  const rmse = Math.sqrt(mse);\n  const r2 = ssTot === 0 ? 0 : 1 - ssRes / ssTot;\n  return { mae, mse, rmse, r2 };\n}\n\nexport default function ModelForgePage() {\n  const datasets = useStudiosStore((s) => s.datasets);\n  const parsedDataById = useStudiosStore((s) => s.parsedDataById);\n  const addJob = useStudiosStore((s) => s.addJob);\n  const updateJob = useStudiosStore((s) => s.updateJob);\n  const addDataset = useStudiosStore((s) => s.addDataset);\n\n  const [selectedDatasetId, setSelectedDatasetId] = useState(datasets[0]?.id || \"\");\n  const [targetCol, setTargetCol] = useState(\"\");\n  const [taskInfo, setTaskInfo] = useState({ type: \"unknown\", reason: \"\" });\n  const [algorithm, setAlgorithm] = useState(\"logistic\");\n  const [split, setSplit] = useState(0.8);\n  const [maxDepth, setMaxDepth] = useState(4);\n  const [numTrees, setNumTrees] = useState(30);\n  const [regStrength, setRegStrength] = useState(0.1);\n  const [normaliseNumeric, setNormaliseNumeric] = useState(true);\n  const [epochs, setEpochs] = useState(160);\n  const [learningRate, setLearningRate] = useState(0.05);\n  const [sensitiveCol, setSensitiveCol] = useState(\"\");\n  const [training, setTraining] = useState(false);\n  const [trainError, setTrainError] = useState(\"\");\n  const [modelState, setModelState] = useState(null);\n  const [runHistory, setRunHistory] = useState([]);\n  const [uploadError, setUploadError] = useState(\"\");\n  const [predInput, setPredInput] = useState({});\n  const [predResult, setPredResult] = useState(null);\n\n  const runner = useToolRunner({ minIntervalMs: 800, timeoutMs: 45_000, toolId: \"model-forge-train\" });\n  const fileLimits = useMemo(() => getToolFileLimits(\"model-forge-train\"), []);\n\n  const dataset = useMemo(() => datasets.find((d) => d.id === selectedDatasetId), [datasets, selectedDatasetId]);\n  const parsed = useMemo(() => (dataset ? parsedDataById[dataset.id] : null), [dataset, parsedDataById]);\n  const rows = useMemo(() => parsed?.rows || [], [parsed]);\n  const columns = useMemo(() => parsed?.columns || [], [parsed]);\n  const colInfo = useMemo(() => getColumnInfo(rows), [rows]);\n\n  useEffect(() => {\n    if (columns.length > 0 && !targetCol) {\n      setTargetCol(columns[columns.length - 1]);\n    }\n  }, [columns, targetCol]);\n\n  useEffect(() => {\n    if (targetCol && rows.length > 0) {\n      const vals = rows.map((r) => r[targetCol]);\n      setTaskInfo(inferTaskType(vals));\n      if (inferTaskType(vals).type === \"classification\") {\n        setAlgorithm(\"logistic\");\n      } else {\n        setAlgorithm(\"linear\");\n      }\n    }\n  }, [targetCol, rows]);\n\n  useEffect(() => {\n    if (columns.length > 0 && !sensitiveCol) {\n      // Default to the first non-target categorical column if possible.\n      const candidate = columns.find((c) => c !== targetCol && !colInfo[c]?.isNumeric) || \"\";\n      setSensitiveCol(candidate);\n    }\n  }, [columns, targetCol, sensitiveCol, colInfo]);\n\n  const maxFreeBytes = fileLimits?.freeMaxBytes ?? 350 * 1024;\n  const maxPaidBytes = fileLimits?.paidMaxBytes ?? 2 * MB;\n  const maxAbsoluteBytes = fileLimits?.absoluteMaxBytes ?? 4 * MB;\n\n  const allowedUploadBytes = runner.compute.creditsVisible ? maxPaidBytes : maxFreeBytes;\n  const maxAllowedEpochs = runner.compute.creditsVisible ? 600 : 200;\n\n  const parseDatasetFile = async (file) => {\n    const raw = await file.text();\n    const name = file.name;\n    const ext = (name.split(\".\").pop() || \"\").toLowerCase();\n    let parsedRows = [];\n    if (ext === \"json\") {\n      const obj = JSON.parse(raw);\n      if (Array.isArray(obj)) parsedRows = obj;\n      else if (obj && Array.isArray(obj.rows)) parsedRows = obj.rows;\n      else throw new Error(\"JSON must be an array of objects or an object with a rows array.\");\n    } else {\n      // CSV: simple parser for learning use (no quoted commas).\n      const lines = raw.split(/\\r?\\n/).filter(Boolean).slice(0, 2000);\n      const header = lines[0]?.split(\",\").map((c) => c.trim()) || [];\n      parsedRows = lines.slice(1).map((line) => {\n        const parts = line.split(\",\");\n        const row = {};\n        header.forEach((h, idx) => {\n          row[h] = parts[idx] ?? \"\";\n        });\n        return row;\n      });\n    }\n    const cols = Object.keys(parsedRows[0] || {});\n    return { columns: cols, rows: parsedRows };\n  };\n\n  const handleUpload = async (fileList) => {\n    setUploadError(\"\");\n    const { safeFiles, errors } = validateUpload(fileList, { maxBytes: maxAbsoluteBytes, allowedExtensions: [\".csv\", \".json\"] });\n    if (errors.length) {\n      setUploadError(errors.join(\" \"));\n      return;\n    }\n    const f = safeFiles[0];\n    if (!f) return;\n    if (f.size > allowedUploadBytes) {\n      setUploadError(\n        `This file is larger than the current limit (${formatBytes(allowedUploadBytes)}). Sign in to unlock the higher studio tier.`\n      );\n      return;\n    }\n    try {\n      const parsedLocal = await parseDatasetFile(f);\n      const id = `ds-${Date.now()}`;\n      addDataset(\n        {\n          id,\n          name: f.name.replace(/\\.(csv|json)$/i, \"\"),\n          sizeBytes: f.size,\n          rowCount: parsedLocal.rows.length,\n          columnCount: parsedLocal.columns.length,\n          columns: parsedLocal.columns,\n          createdAt: new Date().toISOString(),\n        },\n        parsedLocal\n      );\n      setSelectedDatasetId(id);\n    } catch (e) {\n      setUploadError((e && e.message) || \"Could not parse that file.\");\n    }\n  };\n\n  const featureCols = useMemo(() => columns.filter((c) => c !== targetCol), [columns, targetCol]);\n\n  const handleTrain = async () => {\n    setTrainError(\"\");\n    if (!dataset || !targetCol || !rows.length) {\n      setTrainError(\"Select a dataset and target column first.\");\n      return;\n    }\n    setTraining(true);\n    try {\n      runner.resetError();\n      const effectiveEpochs = Math.max(10, Math.min(maxAllowedEpochs, Number(epochs) || 160));\n      const effectiveLr = Math.max(0.0005, Math.min(0.5, Number(learningRate) || 0.05));\n\n      const jobId = `job-${Date.now()}`;\n      addJob({ id: jobId, name: `Model Forge - ${algorithm} on ${dataset.name}`, studio: \"model-forge\", datasetId: dataset.id, status: \"running\" });\n\n      const maxRowsFree = 600;\n      const maxRowsPaid = 1500;\n      const maxRows = runner.compute.creditsVisible ? maxRowsPaid : maxRowsFree;\n      const limitedRows = rows.length > maxRows ? rows.slice(0, maxRows) : rows;\n      if (rows.length > maxRows) setTrainError(`Dataset sampled to ${maxRows} rows for this studio tier.`);\n\n      const meta = { inputBytes: dataset.sizeBytes || Math.min(1_000_000, limitedRows.length * columns.length * 10), steps: effectiveEpochs, expectedWallMs: 3500 };\n      runner.prepare(meta);\n\n      const trained = await runner.run(async (signal) => {\n        const targetVals = limitedRows.map((r) => r[targetCol]);\n        const enc = encodeRows(limitedRows, columns, colInfo, targetCol);\n        const encoded = normaliseNumeric ? normaliseNumericInPlace(enc.encoded, enc.featureCols, colInfo) : enc.encoded;\n\n        const { train, test } = splitData(\n          limitedRows.map((row, idx) => ({ x: encoded[idx], y: targetVals[idx], raw: row })),\n          \"y\",\n          split\n        );\n        const Xtrain = train.map((t) => t.x);\n        const Xtest = test.map((t) => t.x);\n\n        if (taskInfo.type === \"classification\") {\n          const labels = Array.from(new Set(targetVals.map((v) => String(v))));\n          if (labels.length !== 2) throw new Error(\"This studio currently supports only binary classification for the tabular workbench.\");\n          const positiveLabel = labels[0];\n          const ytrain = train.map((t) => (String(t.y) === positiveLabel ? 1 : 0));\n          const ytest = test.map((t) => (String(t.y) === positiveLabel ? 1 : 0));\n\n          const clf = await trainLogisticRegressionAsync(signal, Xtrain, ytrain, { lr: effectiveLr, epochs: effectiveEpochs });\n\n          const predsTest = Xtest.map((x) => sigmoid(clf.weights.reduce((acc, wj, j) => acc + wj * x[j], clf.bias)));\n          const predLabelsTest = predsTest.map((p) => (p >= 0.5 ? 1 : 0));\n          const testMetrics = computeClassificationMetrics(ytest, predLabelsTest);\n\n          const predsTrain = Xtrain.map((x) => sigmoid(clf.weights.reduce((acc, wj, j) => acc + wj * x[j], clf.bias)));\n          const predLabelsTrain = predsTrain.map((p) => (p >= 0.5 ? 1 : 0));\n          const trainMetrics = computeClassificationMetrics(ytrain, predLabelsTrain);\n\n          return {\n            taskType: \"classification\",\n            model: { type: \"classification\", positiveLabel, clf, featureCols: enc.featureCols, cats: enc.cats },\n            metrics: { test: testMetrics, train: trainMetrics },\n            testRows: test,\n          };\n        }\n\n        const ytrain = train.map((t) => Number(t.y) || 0);\n        const ytest = test.map((t) => Number(t.y) || 0);\n        const reg = await trainLinearRegressionAsync(signal, Xtrain, ytrain, { lr: 0.01 + regStrength * 0.01, epochs: effectiveEpochs });\n        const predsTest = Xtest.map((x) => reg.weights.reduce((acc, wj, j) => acc + wj * x[j], reg.bias));\n        const predsTrain = Xtrain.map((x) => reg.weights.reduce((acc, wj, j) => acc + wj * x[j], reg.bias));\n        const testMetrics = computeRegressionMetrics(ytest, predsTest);\n        const trainMetrics = computeRegressionMetrics(ytrain, predsTrain);\n\n        return {\n          taskType: \"regression\",\n          model: { type: \"regression\", reg, featureCols: enc.featureCols, cats: enc.cats },\n          metrics: { test: testMetrics, train: trainMetrics },\n          testRows: test,\n        };\n      }, meta);\n\n      if (!trained) {\n        updateJob(jobId, { status: \"cancelled\", finishedAt: new Date().toISOString() });\n        return;\n      }\n\n      updateJob(jobId, { status: \"completed\", finishedAt: new Date().toISOString(), metrics: trained.metrics?.test || {} });\n\n      const nextState = {\n        id: `run-${Date.now()}`,\n        datasetId: dataset.id,\n        datasetName: dataset.name,\n        targetCol,\n        taskType: trained.taskType,\n        algorithm,\n        split,\n        normaliseNumeric,\n        params: { epochs: effectiveEpochs, learningRate: effectiveLr, regStrength },\n        model: trained.model,\n        metrics: trained.metrics,\n        testRows: trained.testRows,\n        trainedAt: new Date().toISOString(),\n      };\n\n      setModelState(nextState);\n      setRunHistory((prev) => [nextState, ...prev].slice(0, 8));\n\n      const initialPredInput = {};\n      (trained.model.featureCols || []).forEach((f) => {\n        if (colInfo[f]?.isNumeric) initialPredInput[f] = colInfo[f].min ?? 0;\n        else initialPredInput[f] = Array.from(colInfo[f].uniqueValues || [])[0] ?? \"\";\n      });\n      setPredInput(initialPredInput);\n    } catch (err) {\n      setTrainError(err?.message || \"Training failed\");\n    } finally {\n      setTraining(false);\n    }\n  };\n\n  const classificationChartData = useMemo(() => {\n    if (!modelState || taskInfo.type !== \"classification\") return [];\n    const m = modelState.metrics?.test || modelState.metrics || {};\n    return [\n      { name: \"Precision\", value: m.precision },\n      { name: \"Recall\", value: m.recall },\n      { name: \"F1\", value: m.f1 },\n      { name: \"Accuracy\", value: m.accuracy },\n    ];\n  }, [modelState, taskInfo.type]);\n\n  const regressionScatter = useMemo(() => {\n    if (!modelState || taskInfo.type !== \"regression\") return [];\n    const parsedRows = rows.slice(0, 200);\n    const usedFeatures = modelState.model?.featureCols || modelState.model?.usedFeatures || [];\n    const { encoded } = encodeRows(parsedRows, columns, colInfo, targetCol);\n    const enc2 = normaliseNumeric ? normaliseNumericInPlace(encoded, usedFeatures, colInfo) : encoded;\n    const preds = enc2.map((x) => modelState.model.reg.weights.reduce((acc, wj, j) => acc + wj * x[j], modelState.model.reg.bias));\n    return parsedRows.map((row, idx) => ({\n      actual: Number(row[targetCol]) || 0,\n      predicted: preds[idx],\n    }));\n  }, [modelState, taskInfo.type, rows, columns, colInfo, targetCol, normaliseNumeric]);\n\n  const predictSingle = () => {\n    if (!modelState) return;\n    const { model } = modelState;\n    const usedFeatures = model.featureCols || model.usedFeatures || [];\n    const cats = model.cats || {};\n    const featVec = [];\n    usedFeatures.forEach((c) => {\n      if (colInfo[c]?.isNumeric) {\n        featVec.push(Number(predInput[c]) || 0);\n      } else {\n        const vals = cats[c] || [];\n        vals.forEach((v) => featVec.push(predInput[c] === v ? 1 : 0));\n      }\n    });\n    if (model.type === \"classification\") {\n      const z = model.clf.weights.reduce((acc, wj, j) => acc + wj * featVec[j], model.clf.bias);\n      const p = sigmoid(z);\n      setPredResult({\n        type: \"classification\",\n        prob: p,\n        label: p >= 0.5 ? model.positiveLabel : `not ${model.positiveLabel}`,\n      });\n    } else {\n      const val = model.reg.weights.reduce((acc, wj, j) => acc + wj * featVec[j], model.reg.bias);\n      setPredResult({ type: \"regression\", value: val });\n    }\n  };\n\n  const previewRows = rows.slice(0, 5);\n\n  const fairnessByGroup = useMemo(() => {\n    if (!modelState) return [];\n    if (modelState.taskType !== \"classification\") return [];\n    if (!sensitiveCol) return [];\n    const testRows = Array.isArray(modelState.testRows) ? modelState.testRows : [];\n    if (!testRows.length) return [];\n\n    const groups = new Map();\n    for (const t of testRows) {\n      const g = String(t.raw?.[sensitiveCol] ?? \"unknown\");\n      const yTrue = String(t.y);\n      const positive = modelState.model?.positiveLabel;\n      const y = yTrue === String(positive) ? 1 : 0;\n\n      const z = modelState.model.clf.weights.reduce((acc, wj, j) => acc + wj * t.x[j], modelState.model.clf.bias);\n      const p = sigmoid(z);\n      const yPred = p >= 0.5 ? 1 : 0;\n\n      const bucket = groups.get(g) || { group: g, yTrue: [], yPred: [], avgProb: 0, n: 0 };\n      bucket.yTrue.push(y);\n      bucket.yPred.push(yPred);\n      bucket.avgProb += p;\n      bucket.n += 1;\n      groups.set(g, bucket);\n    }\n\n    return Array.from(groups.values())\n      .map((b) => {\n        const m = computeClassificationMetrics(b.yTrue, b.yPred);\n        return {\n          group: b.group,\n          n: b.n,\n          accuracy: m.accuracy,\n          precision: m.precision,\n          recall: m.recall,\n          avgProb: b.avgProb / Math.max(1, b.n),\n        };\n      })\n      .sort((a, b) => b.n - a.n)\n      .slice(0, 8);\n  }, [modelState, sensitiveCol]);\n\n  return (\n    <div className=\"mx-auto w-full max-w-5xl px-4 py-6 space-y-6 sm:px-6 sm:py-8 md:space-y-8\">\n      {/* Navigation */}\n      <div className=\"space-y-3\">\n        <StudioBreadcrumbs\n          items={[\n            { label: \"Studios Hub\", href: \"/studios/hub\" },\n            { label: \"Model Forge\" }\n          ]}\n        />\n        <StudioNavigation\n          studioType=\"lab\"\n          showHome={true}\n          showHub={true}\n          currentStudio=\"Model Forge\"\n          currentStudioHref=\"/studios/model-forge\"\n        />\n      </div>\n\n      <div className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-8 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-3\">\n        <div className=\"inline-flex items-center gap-2 rounded-2xl bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-800 ring-1 ring-sky-100\">\n          Model Forge\n        </div>\n        <h1 className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-slate-900\">Model Forge</h1>\n        <p className=\"text-sm text-slate-700 max-w-3xl\">\n          This is where spreadsheets come to be judged. We take your tabular data, agree what you are trying to predict, and build\n          small models you can actually interrogate.\n        </p>\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <Link href=\"/studios\" className=\"text-sm font-semibold text-emerald-700 hover:underline\">\n            Back to Studios\n          </Link>\n          <span className=\"text-slate-300\" aria-hidden=\"true\">\n            |\n          </span>\n          <Link href=\"/courses/ai\" className=\"text-sm font-semibold text-slate-700 hover:underline\">\n            Back to AI course\n          </Link>\n        </div>\n        <nav aria-label=\"AI Studio navigation\" className=\"flex flex-wrap gap-2 pt-1\">\n          {[\n            [\"Overview\", \"#overview\"],\n            [\"Data preparation\", \"#data-prep\"],\n            [\"Training\", \"#training\"],\n            [\"Evaluation\", \"#evaluation\"],\n            [\"Inference\", \"#inference\"],\n            [\"Responsible AI\", \"#responsible-ai\"],\n            [\"Export and next steps\", \"#export\"],\n          ].map(([label, href]) => (\n            <a\n              key={href}\n              href={href}\n              className=\"inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n            >\n              {label}\n            </a>\n          ))}\n        </nav>\n      </div>\n\n      <SecurityBanner />\n\n      <section id=\"overview\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Overview</h2>\n        <div className=\"grid gap-3 md:grid-cols-3\">\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">What this teaches</p>\n            <p className=\"mt-2 text-sm text-slate-700\">How data choices, training settings, and evaluation metrics change what a model can do.</p>\n          </div>\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">Real world use</p>\n            <p className=\"mt-2 text-sm text-slate-700\">A small workbench for quick baselines, sanity checks, and explaining metrics to humans.</p>\n          </div>\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">Compute and limits</p>\n            <p className=\"mt-2 text-sm text-slate-700\">\n              Free tier supports small datasets and modest epochs. Signed-in users can use a higher tier. Limits are shown before you run.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"data-prep\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-5\">\n        <div className=\"flex flex-col gap-2\">\n          <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Data preparation</h2>\n          <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Upload a small dataset, inspect its shape, and make deliberate choices before training.</p>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <label className=\"cursor-pointer inline-flex items-center rounded-2xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:border-sky-300 hover:text-sky-700\">\n              <input type=\"file\" className=\"hidden\" accept=\".csv,.json\" onChange={(e) => handleUpload(e.target.files)} />\n              Upload CSV or JSON\n            </label>\n            <p className=\"text-xs text-slate-600\">\n              Current file limit: {formatBytes(allowedUploadBytes)} (hard cap {formatBytes(maxAbsoluteBytes)}).\n            </p>\n          </div>\n          {uploadError ? (\n            <p className=\"text-sm font-semibold text-rose-700\" role=\"alert\" aria-live=\"polite\">\n              {uploadError}\n            </p>\n          ) : null}\n          <select\n            className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n            value={selectedDatasetId}\n            onChange={(e) => setSelectedDatasetId(e.target.value)}\n          >\n            {datasets.map((d) => (\n              <option key={d.id} value={d.id}>\n                {d.name}\n              </option>\n            ))}\n            {datasets.length === 0 && <option>No datasets</option>}\n          </select>\n        </div>\n\n        {datasets.length === 0 && (\n          <div className=\"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 px-4 py-3 text-sm text-slate-700\">\n            No datasets yet. Upload a CSV or JSON in Control Room first.\n          </div>\n        )}\n\n        {dataset && (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n              <p className=\"text-xs font-semibold text-slate-900\">Dataset summary</p>\n              <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">{dataset.name}</p>\n              <p className=\"text-xs text-slate-700\">\n                {dataset.rowCount ?? rows.length} rows • {dataset.columnCount ?? columns.length} columns\n              </p>\n              <p className=\"text-xs text-slate-700\">Size: {formatBytes(dataset.sizeBytes || 0)}</p>\n            </div>\n            <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n              <p className=\"text-xs font-semibold text-slate-900\">Preview (first 5 rows)</p>\n              <div className=\"overflow-auto rounded-xl border border-slate-200 bg-white\">\n                <table className=\"min-w-full text-xs text-slate-700\">\n                  <thead className=\"bg-slate-50\">\n                    <tr>\n                      {columns.map((c) => (\n                        <th key={c} className=\"px-2 py-1 text-left font-semibold\">\n                          {c}\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {previewRows.map((r, idx) => (\n                      <tr key={idx} className=\"border-t border-slate-100\">\n                        {columns.map((c) => (\n                          <td key={c} className=\"px-2 py-1\">\n                            {String(r[c])}\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n      </section>\n\n      <section id=\"training\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Model training</h2>\n        <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Pick a target, choose a simple model, tune parameters, and train with predictable limits.</p>\n        <div className=\"grid gap-4 lg:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold text-slate-900\">Target column</label>\n            <select\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              value={targetCol}\n              onChange={(e) => setTargetCol(e.target.value)}\n            >\n              {columns.map((c) => (\n                <option key={c} value={c}>\n                  {c}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-900\">Inferred task</p>\n            <p className=\"text-sm text-slate-800 capitalize\">{taskInfo.type}</p>\n            <p className=\"text-xs text-slate-700\">{taskInfo.reason}</p>\n          </div>\n        </div>\n\n        <div className=\"grid gap-4 lg:grid-cols-3\">\n          <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">Training split</p>\n            <input type=\"range\" min={0.5} max={0.9} step={0.05} value={split} onChange={(e) => setSplit(Number(e.target.value))} className=\"w-full\" />\n            <p className=\"text-xs text-slate-700\">Train fraction: {split.toFixed(2)}</p>\n          </div>\n          <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">Normalisation</p>\n            <label className=\"flex items-center gap-2 text-sm text-slate-700\">\n              <input type=\"checkbox\" checked={normaliseNumeric} onChange={(e) => setNormaliseNumeric(e.target.checked)} />\n              Min-max scale numeric features\n            </label>\n            <p className=\"text-xs text-slate-600\">Normalisation can stabilise training when columns have very different ranges.</p>\n          </div>\n          <div className=\"space-y-2 rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n            <p className=\"text-sm font-semibold text-slate-900\">Parameters</p>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <label className=\"text-xs font-semibold text-slate-900\">\n                Epochs (max {maxAllowedEpochs})\n                <input\n                  type=\"number\"\n                  value={epochs}\n                  onChange={(e) => setEpochs(e.target.value)}\n                  className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                />\n              </label>\n              <label className=\"text-xs font-semibold text-slate-900\">\n                Learning rate\n                <input\n                  type=\"number\"\n                  value={learningRate}\n                  step={0.005}\n                  onChange={(e) => setLearningRate(e.target.value)}\n                  className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                />\n              </label>\n            </div>\n            <p className=\"text-xs text-slate-600\">More epochs and higher learning rates can improve or destabilise learning.</p>\n          </div>\n        </div>\n      </section>\n\n      <section id=\"evaluation\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <div>\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Evaluation</h2>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n              Evaluate on a holdout set. Watch for overfitting: great train metrics and weak test metrics.\n            </p>\n          </div>\n          <button\n            onClick={handleTrain}\n            disabled={training || runner.loading || !dataset || !targetCol}\n            className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300\"\n          >\n            {training || runner.loading ? \"Training...\" : \"Train model\"}\n          </button>\n        </div>\n\n        <div className=\"space-y-3\">\n          <ComputeEstimatePanel estimate={runner.compute.pre || runner.compute.live} />\n          <ComputeSummaryPanel toolId=\"model-forge-train\" summary={runner.compute.post} />\n          {runner.errorMessage ? (\n            <p className=\"text-sm font-semibold text-rose-700\" role=\"alert\" aria-live=\"polite\">\n              {runner.errorMessage}\n            </p>\n          ) : null}\n        </div>\n\n        {trainError && <p className=\"text-xs text-amber-700\">{trainError}</p>}\n\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          {taskInfo.type === \"classification\" && (\n            <>\n              <button\n                onClick={() => setAlgorithm(\"logistic\")}\n                className={`rounded-2xl border px-4 py-3 text-left transition ${\n                  algorithm === \"logistic\"\n                    ? \"border-sky-300 bg-sky-50 ring-1 ring-sky-200\"\n                    : \"border-slate-200 bg-slate-50/60\"\n                }`}\n              >\n                <p className=\"text-sm font-semibold text-slate-900\">Logistic regression</p>\n                <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Fast, simple baseline. Good for linearly separable signals.</p>\n              </button>\n              <button\n                onClick={() => setAlgorithm(\"rf\")}\n                className={`rounded-2xl border px-4 py-3 text-left transition ${\n                  algorithm === \"rf\" ? \"border-sky-300 bg-sky-50 ring-1 ring-sky-200\" : \"border-slate-200 bg-slate-50/60\"\n                }`}\n              >\n                <p className=\"text-sm font-semibold text-slate-900\">Tree ensemble</p>\n                <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Handles non-linear patterns. This demo reuses a light trainer.</p>\n              </button>\n              <div className=\"space-y-2\">\n                <label className=\"text-xs font-semibold text-slate-900\">Max depth (trees)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-24 rounded-xl border border-slate-200 bg-white px-3 py-1 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                  value={maxDepth}\n                  onChange={(e) => setMaxDepth(Number(e.target.value) || 1)}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"text-xs font-semibold text-slate-900\">Number of trees</label>\n                <input\n                  type=\"number\"\n                  className=\"w-24 rounded-xl border border-slate-200 bg-white px-3 py-1 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                  value={numTrees}\n                  onChange={(e) => setNumTrees(Number(e.target.value) || 10)}\n                />\n              </div>\n            </>\n          )}\n          {taskInfo.type === \"regression\" && (\n            <>\n              <button\n                onClick={() => setAlgorithm(\"linear\")}\n                className={`rounded-2xl border px-4 py-3 text-left transition ${\n                  algorithm === \"linear\"\n                    ? \"border-sky-300 bg-sky-50 ring-1 ring-sky-200\"\n                    : \"border-slate-200 bg-slate-50/60\"\n                }`}\n              >\n                <p className=\"text-sm font-semibold text-slate-900\">Linear regression</p>\n                <p className=\"text-xs text-slate-600\">Simple baseline with regularisation.</p>\n              </button>\n              <button\n                onClick={() => setAlgorithm(\"tree-reg\")}\n                className={`rounded-2xl border px-4 py-3 text-left transition ${\n                  algorithm === \"tree-reg\"\n                    ? \"border-sky-300 bg-sky-50 ring-1 ring-sky-200\"\n                    : \"border-slate-200 bg-slate-50/60\"\n                }`}\n              >\n                <p className=\"text-sm font-semibold text-slate-900\">Tree-based regression</p>\n                <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Captures non-linearities. Demo uses light-weight trainer.</p>\n              </button>\n              <div className=\"space-y-2\">\n                <label className=\"text-xs font-semibold text-slate-900\">Regularisation strength</label>\n                <input\n                  type=\"number\"\n                  className=\"w-24 rounded-xl border border-slate-200 bg-white px-3 py-1 text-xs text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                  value={regStrength}\n                  onChange={(e) => setRegStrength(Number(e.target.value) || 0.1)}\n                />\n              </div>\n            </>\n          )}\n        </div>\n\n        {modelState && taskInfo.type === \"classification\" && modelState.metrics?.test && (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 space-y-2\">\n              <p className=\"text-xs font-semibold text-slate-900\">Confusion matrix</p>\n              <div className=\"grid grid-cols-2 gap-2 text-center text-xs\">\n                <div className=\"rounded-xl bg-emerald-50 px-2 py-2\">\n                  <p className=\"text-slate-500\">TP</p>\n                  <p className=\"text-sm font-semibold text-emerald-700\">{modelState.metrics.test.tp}</p>\n                </div>\n                <div className=\"rounded-xl bg-amber-50 px-2 py-2\">\n                  <p className=\"text-slate-500\">FP</p>\n                  <p className=\"text-sm font-semibold text-amber-700\">{modelState.metrics.test.fp}</p>\n                </div>\n                <div className=\"rounded-xl bg-rose-50 px-2 py-2\">\n                  <p className=\"text-slate-500\">FN</p>\n                  <p className=\"text-sm font-semibold text-rose-700\">{modelState.metrics.test.fn}</p>\n                </div>\n                <div className=\"rounded-xl bg-slate-50 px-2 py-2\">\n                  <p className=\"text-slate-500\">TN</p>\n                  <p className=\"text-sm font-semibold text-slate-700\">{modelState.metrics.test.tn}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"rounded-2xl border border-slate-100 bg-white p-4\">\n              <p className=\"text-xs font-semibold text-slate-900 mb-2\">Precision / Recall / F1</p>\n              <div className=\"h-48\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <BarChart data={classificationChartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\n                    <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                    <YAxis domain={[0, 1]} tick={{ fontSize: 11 }} />\n                    <Tooltip />\n                    <Bar dataKey=\"value\" fill=\"#0f766e\" radius={[8, 8, 0, 0]} />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {modelState && taskInfo.type === \"regression\" && modelState.metrics?.test && (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 space-y-1 text-sm text-slate-800\">\n              <p className=\"text-xs font-semibold text-slate-900 mb-1\">Error metrics</p>\n              <p>Test MAE: {modelState.metrics.test.mae.toFixed(3)}</p>\n              <p>Test RMSE: {modelState.metrics.test.rmse.toFixed(3)}</p>\n              <p>Test R²: {modelState.metrics.test.r2.toFixed(3)}</p>\n              <p className=\"mt-2 text-xs text-slate-600\">\n                Overfitting hint: if train RMSE is far lower than test RMSE, the model is memorising.\n              </p>\n            </div>\n            <div className=\"rounded-2xl border border-slate-100 bg-white p-4\">\n              <p className=\"text-xs font-semibold text-slate-900 mb-2\">Predicted vs actual</p>\n              <div className=\"h-48\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <ScatterChart>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\n                    <XAxis dataKey=\"actual\" name=\"Actual\" tick={{ fontSize: 11 }} />\n                    <YAxis dataKey=\"predicted\" name=\"Predicted\" tick={{ fontSize: 11 }} />\n                    <Tooltip />\n                    <Scatter data={regressionScatter} fill=\"#0f766e\" />\n                  </ScatterChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n          </div>\n        )}\n      </section>\n\n      {modelState && (\n        <section id=\"inference\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n          <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Inference playground</h2>\n          <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n            Generated inputs from your feature columns. Predictions happen in your browser. Use this for intuition, not production\n            decisions.\n          </p>\n\n          {runHistory.length > 1 ? (\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4\">\n              <p className=\"text-sm font-semibold text-slate-900\">Compare recent runs</p>\n              <p className=\"mt-1 text-xs text-slate-600\">Different training settings can change performance. Pick one run to use for inference.</p>\n              <div className=\"mt-2 flex flex-wrap gap-2\">\n                {runHistory.map((r) => (\n                  <button\n                    key={r.id}\n                    type=\"button\"\n                    onClick={() => setModelState(r)}\n                    className={`rounded-full border px-3 py-1.5 text-sm font-semibold ${\n                      r.id === modelState.id ? \"border-sky-300 bg-sky-50 text-sky-900\" : \"border-slate-200 bg-white text-slate-800\"\n                    }`}\n                  >\n                    {new Date(r.trainedAt).toLocaleTimeString()} ({r.algorithm})\n                  </button>\n                ))}\n              </div>\n            </div>\n          ) : null}\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            {featureCols.map((f) => (\n              <div key={f} className=\"space-y-1\">\n                <label className=\"text-xs font-semibold text-slate-900\">{f}</label>\n                {colInfo[f]?.isNumeric ? (\n                  <input\n                    type=\"number\"\n                    className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                    value={predInput[f] ?? \"\"}\n                    onChange={(e) => setPredInput((prev) => ({ ...prev, [f]: e.target.value }))}\n                  />\n                ) : (\n                  <select\n                    className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                    value={predInput[f] ?? \"\"}\n                    onChange={(e) => setPredInput((prev) => ({ ...prev, [f]: e.target.value }))}\n                  >\n                    {(colInfo[f]?.uniqueValues ? Array.from(colInfo[f].uniqueValues) : []).map((val) => (\n                      <option key={val} value={val}>\n                        {val}\n                      </option>\n                    ))}\n                  </select>\n                )}\n              </div>\n            ))}\n          </div>\n          <button\n            onClick={predictSingle}\n            className=\"inline-flex items-center rounded-2xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500\"\n          >\n            Predict\n          </button>\n\n          {predResult && (\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 text-sm text-slate-800 space-y-1\">\n              {predResult.type === \"classification\" ? (\n                <>\n                  <p className=\"font-semibold text-slate-900\">Predicted class: {predResult.label}</p>\n                  <p>Probability: {predResult.prob.toFixed(3)}</p>\n                </>\n              ) : (\n                <>\n                  <p className=\"font-semibold text-slate-900\">Predicted value: {predResult.value.toFixed(3)}</p>\n                </>\n              )}\n              <p className=\"text-xs text-slate-700\">\n                This is a classroom-level model trained in your browser on a small sample. Great for intuition, not for medical or\n                credit decisions.\n              </p>\n            </div>\n          )}\n        </section>\n      )}\n\n      {modelState ? (\n        <section id=\"responsible-ai\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n          <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Responsible AI and limitations</h2>\n          <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n            This is not compliance theatre. It is a way to build the habit of checking how a model behaves across groups, and noticing quiet failures.\n          </p>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 space-y-2\">\n              <p className=\"text-sm font-semibold text-slate-900\">Group check (holdout set)</p>\n              <label className=\"text-xs font-semibold text-slate-900\">\n                Group column\n                <select\n                  className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                  value={sensitiveCol}\n                  onChange={(e) => setSensitiveCol(e.target.value)}\n                >\n                  <option value=\"\">None</option>\n                  {columns\n                    .filter((c) => c !== targetCol)\n                    .map((c) => (\n                      <option key={c} value={c}>\n                        {c}\n                      </option>\n                    ))}\n                </select>\n              </label>\n              <p className=\"text-xs text-slate-600\">\n                This shows basic differences by group. It does not prove fairness, and it does not replace a proper domain review.\n              </p>\n            </div>\n            <div className=\"rounded-2xl border border-slate-100 bg-white p-4 space-y-2\">\n              <p className=\"text-sm font-semibold text-slate-900\">Common pitfalls</p>\n              <ul className=\"list-disc pl-5 text-sm text-slate-700 space-y-1\">\n                <li>Different base rates can make metrics look better or worse without any change in harm.</li>\n                <li>Small groups produce noisy metrics. Treat tiny samples as a warning, not evidence.</li>\n                <li>Choosing the wrong target can encode policy decisions as if they were facts.</li>\n              </ul>\n            </div>\n          </div>\n\n          {fairnessByGroup.length ? (\n            <div className=\"overflow-auto rounded-2xl border border-slate-200 bg-white\">\n              <table className=\"min-w-full text-sm text-slate-800\">\n                <thead className=\"bg-slate-50\">\n                  <tr>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Group</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">N</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Accuracy</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Precision</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Recall</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Avg probability</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {fairnessByGroup.map((r) => (\n                    <tr key={r.group} className=\"border-t border-slate-100\">\n                      <td className=\"px-3 py-2\">{r.group}</td>\n                      <td className=\"px-3 py-2\">{r.n}</td>\n                      <td className=\"px-3 py-2\">{r.accuracy.toFixed(3)}</td>\n                      <td className=\"px-3 py-2\">{r.precision.toFixed(3)}</td>\n                      <td className=\"px-3 py-2\">{r.recall.toFixed(3)}</td>\n                      <td className=\"px-3 py-2\">{r.avgProb.toFixed(3)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Train a classification model and choose a group column to see a simple breakdown.</p>\n          )}\n        </section>\n      ) : null}\n\n      <section id=\"export\" className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\">\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">Export and next steps</h2>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-4 space-y-2\">\n            <p className=\"text-sm font-semibold text-slate-900\">Export</p>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n              Export a small JSON summary of your run for notes, review, or a model card draft. This is not a deployment artifact.\n            </p>\n            <button\n              type=\"button\"\n              disabled={!modelState}\n              onClick={() => downloadJson(\"model-forge-run.json\", modelState)}\n              className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300\"\n            >\n              Download run summary\n            </button>\n          </div>\n          <div className=\"rounded-2xl border border-slate-100 bg-white p-4 space-y-2\">\n            <p className=\"text-sm font-semibold text-slate-900\">What to do next in real work</p>\n            <ul className=\"list-disc pl-5 text-sm text-slate-700 space-y-1\">\n              <li>Define success with stakeholders before you pick a metric.</li>\n              <li>Confirm data lineage and label quality.</li>\n              <li>Run a bias review with domain experts, not only with dashboards.</li>\n              <li>Document limitations and decide when not to use the model.</li>\n            </ul>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[1]}}]
}