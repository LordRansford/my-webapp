{
  "version": 3,
  "sources": [],
  "debugId": "879c7ba8-42d0-080d-6c1e-b798a3514837",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/cybersecurity/advanced/AdvancedQuizBoard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst QUESTIONS = [\n  {\n    topic: \"crypto\",\n    question: \"Why do strong algorithms still fail in practice?\",\n    options: [\n      \"Math is wrong\",\n      \"Protocols and key management introduce assumptions and mistakes\",\n      \"Keys never expire\",\n      \"Certificates are optional\",\n    ],\n    answer: 1,\n    explain: \"Real failures come from protocol design, lifecycle mistakes, and bad assumptions.\",\n  },\n  {\n    topic: \"pki\",\n    question: \"What breaks a certificate chain?\",\n    options: [\"Short expiry\", \"Untrusted root or invalid intermediate\", \"Long subject names\", \"Using TLS 1.3\"],\n    answer: 1,\n    explain: \"If the root is untrusted or an intermediate is invalid, the chain should not be trusted.\",\n  },\n  {\n    topic: \"protocol\",\n    question: \"What is a common OAuth pitfall?\",\n    options: [\"Too short tokens\", \"Leaking auth codes or tokens in logs or URLs\", \"Using HTTPS\", \"Short redirect URIs\"],\n    answer: 1,\n    explain: \"Leaked codes or tokens let attackers impersonate sessions.\",\n  },\n  {\n    topic: \"token\",\n    question: \"Why prefer short lived tokens with narrow scopes?\",\n    options: [\n      \"They are faster\",\n      \"They reduce blast radius if stolen\",\n      \"They skip validation\",\n      \"They reduce CPU usage\",\n    ],\n    answer: 1,\n    explain: \"Short lived, narrow scope tokens limit impact if leaked.\",\n  },\n  {\n    topic: \"design\",\n    question: \"What is a benefit of segmentation?\",\n    options: [\"Simpler routing\", \"Reduced blast radius and lateral movement\", \"Longer incident timelines\", \"No need for identity\"],\n    answer: 1,\n    explain: \"Segmentation constrains spread during compromise.\",\n  },\n  {\n    topic: \"detection\",\n    question: \"Raising detection thresholds usually:\",\n    options: [\"Reduces false positives but risks missing attacks\", \"Finds more attacks\", \"Stops logging\", \"Increases storage\"],\n    answer: 0,\n    explain: \"Higher thresholds cut noise but may miss true positives.\",\n  },\n];\n\nconst SESSION_LENGTH = 10;\n\nfunction sampleQuestions() {\n  const pool = [...QUESTIONS];\n  const result = [];\n  while (result.length < SESSION_LENGTH) {\n    const idx = Math.floor(Math.random() * pool.length);\n    result.push(pool[idx]);\n  }\n  return result;\n}\n\nexport default function AdvancedQuizBoard() {\n  const [session, setSession] = useState(sampleQuestions());\n  const [index, setIndex] = useState(0);\n  const [score, setScore] = useState(0);\n  const [feedback, setFeedback] = useState(\"\");\n  const [finished, setFinished] = useState(false);\n\n  const current = session[index];\n\n  const topicBreakdown = useMemo(() => {\n    const tally = {};\n    session.slice(0, index).forEach((q, idx) => {\n      const correct = feedback.includes(\"Correct\") && idx === index - 1; // not perfect but simple\n      if (!tally[q.topic]) tally[q.topic] = { correct: 0, total: 0 };\n      tally[q.topic].total += 1;\n      tally[q.topic].correct += correct ? 1 : 0;\n    });\n    return tally;\n  }, [session, index, feedback]);\n\n  const answer = (opt) => {\n    if (finished || !current) return;\n    const isCorrect = opt === current.answer;\n    setScore((s) => s + (isCorrect ? 1 : 0));\n    setFeedback(isCorrect ? \"Correct.\" : `Not quite. ${current.explain}`);\n    setTimeout(() => {\n      if (index === session.length - 1) {\n        setFinished(true);\n      } else {\n        setIndex((i) => i + 1);\n        setFeedback(\"\");\n      }\n    }, 350);\n  };\n\n  const reset = () => {\n    setSession(sampleQuestions());\n    setIndex(0);\n    setScore(0);\n    setFeedback(\"\");\n    setFinished(false);\n  };\n\n  if (!current && !finished) return null;\n\n  return (\n    <div className=\"rounded-2xl bg-white p-4 shadow-md ring-1 ring-slate-200\">\n      {!finished ? (\n        <>\n          <div className=\"flex items-center justify-between text-sm text-slate-700\">\n            <span>\n              Question {index + 1} / {session.length}\n            </span>\n            <span className=\"font-semibold text-slate-900\">Score: {score}</span>\n          </div>\n          <div className=\"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n            <p className=\"text-base font-semibold text-slate-900\">{current.question}</p>\n            <div className=\"mt-3 grid gap-2\">\n              {current.options.map((opt, idx) => (\n                <button\n                  key={idx}\n                  onClick={() => answer(idx)}\n                  className=\"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm font-medium text-slate-900 transition hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n                >\n                  {opt}\n                </button>\n              ))}\n            </div>\n          </div>\n          {feedback && (\n            <div className=\"mt-2 rounded-lg border border-slate-200 bg-white p-2 text-sm text-slate-800\">{feedback}</div>\n          )}\n        </>\n      ) : (\n        <div className=\"space-y-3\">\n          <h4 className=\"text-base font-semibold text-slate-900\">Session complete</h4>\n          <p className=\"text-sm text-slate-800\">\n            You scored <strong>{score}</strong> out of {session.length}.\n          </p>\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-900 shadow-sm\">\n            <p className=\"font-semibold text-slate-900\">Performance by topic</p>\n            <ul className=\"mt-2 space-y-1\">\n              {Object.entries(topicBreakdown).map(([topic, data]) => (\n                <li key={topic} className=\"flex justify-between\">\n                  <span className=\"capitalize\">{topic}</span>\n                  <span className=\"font-semibold\">\n                    {data.correct}/{data.total}\n                  </span>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <button\n            onClick={reset}\n            className=\"rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-800 shadow-sm hover:border-sky-300 hover:text-sky-800 focus:outline-none focus:ring-2 focus:ring-sky-300\"\n          >\n            Play again\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}