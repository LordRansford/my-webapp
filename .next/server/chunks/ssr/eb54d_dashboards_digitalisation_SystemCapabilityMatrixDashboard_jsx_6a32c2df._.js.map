{
  "version": 3,
  "sources": [],
  "debugId": "094db665-dc71-89c5-c639-0dfefcf66b8e",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/dashboards/digitalisation/SystemCapabilityMatrixDashboard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nconst levels = [\"None\", \"Partial\", \"Strong\"];\n\nexport default function SystemCapabilityMatrixDashboard() {\n  const [capabilities, setCapabilities] = useState([\"Customer onboarding\", \"Billing\"]);\n  const [systems, setSystems] = useState([\"CRM\", \"ERP\"]);\n  const [matrix, setMatrix] = useState({\n    \"Customer onboarding\": { CRM: \"Strong\", ERP: \"Partial\" },\n    Billing: { CRM: \"Partial\", ERP: \"Strong\" },\n  });\n\n  const weakest = useMemo(() => {\n    const scores = capabilities.map((cap) => {\n      const vals = systems.map((sys) => levelScore(matrix?.[cap]?.[sys] || \"None\"));\n      const avg = vals.reduce((a, b) => a + b, 0) / (vals.length || 1);\n      return { cap, avg };\n    });\n    return scores.sort((a, b) => a.avg - b.avg)[0];\n  }, [capabilities, systems, matrix]);\n\n  function levelScore(val) {\n    return levels.indexOf(val) ?? 0;\n  }\n\n  const updateCell = (cap, sys, val) => {\n    setMatrix((prev) => ({\n      ...prev,\n      [cap]: { ...(prev[cap] || {}), [sys]: val },\n    }));\n  };\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm\">\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm text-slate-700\">\n            <span className=\"font-semibold text-slate-900\">Add capability</span>\n            <input\n              className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100\"\n              placeholder=\"e.g., Identity\"\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" && e.currentTarget.value.trim()) {\n                  const value = e.currentTarget.value.trim();\n                  setCapabilities((prev) => (prev.includes(value) ? prev : [...prev, value]));\n                  setMatrix((prev) => ({ ...prev, [value]: {} }));\n                  e.currentTarget.value = \"\";\n                }\n              }}\n            />\n          </label>\n          <label className=\"block text-sm text-slate-700\">\n            <span className=\"font-semibold text-slate-900\">Add system</span>\n            <input\n              className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100\"\n              placeholder=\"e.g., Data hub\"\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" && e.currentTarget.value.trim()) {\n                  const value = e.currentTarget.value.trim();\n                  setSystems((prev) => (prev.includes(value) ? prev : [...prev, value]));\n                  e.currentTarget.value = \"\";\n                }\n              }}\n            />\n          </label>\n          <div className=\"rounded-xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"font-semibold text-slate-900\">Weakest coverage</p>\n            <p className=\"mt-1\">\n              {weakest ? `${weakest.cap} shows the lowest support. Consider reinforcing.` : \"Add data to see insights.\"}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"overflow-auto rounded-xl border border-slate-200\">\n          <table className=\"min-w-full divide-y divide-slate-200 text-sm\">\n            <thead className=\"bg-slate-50\">\n              <tr>\n                <th className=\"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600\">\n                  Capability / System\n                </th>\n                {systems.map((sys) => (\n                  <th key={sys} className=\"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600\">\n                    {sys}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-200 bg-white\">\n              {capabilities.map((cap) => (\n                <tr key={cap}>\n                  <th className=\"px-3 py-2 text-left font-semibold text-slate-900\">{cap}</th>\n                  {systems.map((sys) => (\n                    <td key={sys} className=\"px-3 py-2\">\n                      <select\n                        value={matrix?.[cap]?.[sys] || \"None\"}\n                        onChange={(e) => updateCell(cap, sys, e.target.value)}\n                        className=\"w-full rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100\"\n                      >\n                        {levels.map((level) => (\n                          <option key={level}>{level}</option>\n                        ))}\n                      </select>\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}