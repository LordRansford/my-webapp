;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="6e5d21e3-8e3e-4a1f-a992-152763464359")}catch(e){}}();
module.exports=[379996,112882,a=>{"use strict";a.s(["default",0,function(a){return function(){return a}}],379996);let b=Math.PI,c=2*b,d=c-1e-6;function e(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class f{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?e:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return e;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,c,d,e,f){if(a*=1,c*=1,d*=1,e*=1,(f*=1)<0)throw Error(`negative radius: ${f}`);let g=this._x1,h=this._y1,i=d-a,j=e-c,k=g-a,l=h-c,m=k*k+l*l;if(null===this._x1)this._append`M${this._x1=a},${this._y1=c}`;else if(m>1e-6)if(Math.abs(l*i-j*k)>1e-6&&f){let n=d-g,o=e-h,p=i*i+j*j,q=Math.sqrt(p),r=Math.sqrt(m),s=f*Math.tan((b-Math.acos((p+m-(n*n+o*o))/(2*q*r)))/2),t=s/r,u=s/q;Math.abs(t-1)>1e-6&&this._append`L${a+t*k},${c+t*l}`,this._append`A${f},${f},0,0,${+(l*n>k*o)},${this._x1=a+u*i},${this._y1=c+u*j}`}else this._append`L${this._x1=a},${this._y1=c}`}arc(a,e,f,g,h,i){if(a*=1,e*=1,f*=1,i=!!i,f<0)throw Error(`negative radius: ${f}`);let j=f*Math.cos(g),k=f*Math.sin(g),l=a+j,m=e+k,n=1^i,o=i?g-h:h-g;null===this._x1?this._append`M${l},${m}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-m)>1e-6)&&this._append`L${l},${m}`,f&&(o<0&&(o=o%c+c),o>d?this._append`A${f},${f},0,1,${n},${a-j},${e-k}A${f},${f},0,1,${n},${this._x1=l},${this._y1=m}`:o>1e-6&&this._append`A${f},${f},0,${+(o>=b)},${n},${this._x1=a+f*Math.cos(h)},${this._y1=e+f*Math.sin(h)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function g(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new f(b)}f.prototype,a.s(["withPath",()=>g],112882)},884885,a=>{"use strict";Array.prototype.slice,a.s(["default",0,function(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}])},398153,a=>{"use strict";var b=a.i(884885),c=a.i(379996),d=a.i(632794),e=a.i(112882);function f(a){return a[0]}function g(a){return a[1]}a.s(["line",0,function(a,h){var i=(0,c.default)(!0),j=null,k=d.default,l=null,m=(0,e.withPath)(n);function n(c){var d,e,f,g=(c=(0,b.default)(c)).length,n=!1;for(null==j&&(l=k(f=m())),d=0;d<=g;++d)!(d<g&&i(e=c[d],d,c))===n&&((n=!n)?l.lineStart():l.lineEnd()),n&&l.point(+a(e,d,c),+h(e,d,c));if(f)return l=null,f+""||null}return a="function"==typeof a?a:void 0===a?f:(0,c.default)(a),h="function"==typeof h?h:void 0===h?g:(0,c.default)(h),n.x=function(b){return arguments.length?(a="function"==typeof b?b:(0,c.default)(+b),n):a},n.y=function(a){return arguments.length?(h="function"==typeof a?a:(0,c.default)(+a),n):h},n.defined=function(a){return arguments.length?(i="function"==typeof a?a:(0,c.default)(!!a),n):i},n.curve=function(a){return arguments.length?(k=a,null!=j&&(l=k(j)),n):k},n.context=function(a){return arguments.length?(null==a?j=l=null:l=k(j=a),n):j},n}],398153)},486475,a=>{"use strict";var b=a.i(890644);a.i(975930);var c=a.i(398153),d=a.i(737645),e=a.i(671731);a.i(858762);var f=a.i(783287);a.i(797774);var g=a.i(661256),h=a.i(407860);a.i(554757),a.i(951772),a.i(670773),a.i(737132);let i=0,j=function(a){let b=a.id;return a.type&&(b+="<"+(0,h.x)(a.type)+">"),b},k=function(a,b,c,d){let{displayText:e,cssStyle:f}=b.getDisplayDetails(),g=a.append("tspan").attr("x",d.padding).text(e);""!==f&&g.attr("style",b.cssStyle),c||g.attr("dy",d.textHeight)},l=function(a,b,c,d){let e,f,g,i;h.l.debug("Rendering class ",b,c);let l=b.id,m={id:l,label:b.id,width:0,height:0},n=a.append("g").attr("id",d.db.lookUpDomId(l)).attr("class","classGroup");e=b.link?n.append("svg:a").attr("xlink:href",b.link).attr("target",b.linkTarget).append("text").attr("y",c.textHeight+c.padding).attr("x",0):n.append("text").attr("y",c.textHeight+c.padding).attr("x",0);let o=!0;b.annotations.forEach(function(a){let b=e.append("tspan").text("«"+a+"»");o||b.attr("dy",c.textHeight),o=!1});let p=j(b),q=e.append("tspan").text(p).attr("class","title");o||q.attr("dy",c.textHeight);let r=e.node().getBBox().height;if(b.members.length>0){f=n.append("line").attr("x1",0).attr("y1",c.padding+r+c.dividerMargin/2).attr("y2",c.padding+r+c.dividerMargin/2);let a=n.append("text").attr("x",c.padding).attr("y",r+c.dividerMargin+c.textHeight).attr("fill","white").attr("class","classText");o=!0,b.members.forEach(function(b){k(a,b,o,c),o=!1}),g=a.node().getBBox()}if(b.methods.length>0){i=n.append("line").attr("x1",0).attr("y1",c.padding+r+c.dividerMargin+g.height).attr("y2",c.padding+r+c.dividerMargin+g.height);let a=n.append("text").attr("x",c.padding).attr("y",r+2*c.dividerMargin+g.height+c.textHeight).attr("fill","white").attr("class","classText");o=!0,b.methods.forEach(function(b){k(a,b,o,c),o=!1})}let s=n.node().getBBox();var t=" ";b.cssClasses.length>0&&(t+=b.cssClasses.join(" "));let u=n.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",s.width+2*c.padding).attr("height",s.height+c.padding+.5*c.dividerMargin).attr("class",t).node().getBBox().width;return e.node().childNodes.forEach(function(a){a.setAttribute("x",(u-a.getBBox().width)/2)}),b.tooltip&&e.insert("title").text(b.tooltip),f&&f.attr("x2",u),i&&i.attr("x2",u),m.width=u,m.height=s.height+c.padding+.5*c.dividerMargin,m},m=function(a,b,e,f,g){let j,k,l,m,n,o,p=function(a){switch(a){case g.db.relationType.AGGREGATION:return"aggregation";case g.db.relationType.EXTENSION:return"extension";case g.db.relationType.COMPOSITION:return"composition";case g.db.relationType.DEPENDENCY:return"dependency";case g.db.relationType.LOLLIPOP:return"lollipop"}};b.points=b.points.filter(a=>!Number.isNaN(a.y));let q=b.points,r=(0,c.line)().x(function(a){return a.x}).y(function(a){return a.y}).curve(d.curveBasis),s=a.append("path").attr("d",r(q)).attr("id","edge"+i).attr("class","relation"),t="";f.arrowMarkerAbsolute&&(t=(t=(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==e.relation.lineType&&s.attr("class","relation dashed-line"),10==e.relation.lineType&&s.attr("class","relation dotted-line"),"none"!==e.relation.type1&&s.attr("marker-start","url("+t+"#"+p(e.relation.type1)+"Start)"),"none"!==e.relation.type2&&s.attr("marker-end","url("+t+"#"+p(e.relation.type2)+"End)");let u=b.points.length,v=h.u.calcLabelPosition(b.points);if(j=v.x,k=v.y,u%2!=0&&u>1){let a=h.u.calcCardinalityPosition("none"!==e.relation.type1,b.points,b.points[0]),c=h.u.calcCardinalityPosition("none"!==e.relation.type2,b.points,b.points[u-1]);h.l.debug("cardinality_1_point "+JSON.stringify(a)),h.l.debug("cardinality_2_point "+JSON.stringify(c)),l=a.x,m=a.y,n=c.x,o=c.y}if(void 0!==e.title){let b=a.append("g").attr("class","classLabel"),c=b.append("text").attr("class","label").attr("x",j).attr("y",k).attr("fill","red").attr("text-anchor","middle").text(e.title);window.label=c;let d=c.node().getBBox();b.insert("rect",":first-child").attr("class","box").attr("x",d.x-f.padding/2).attr("y",d.y-f.padding/2).attr("width",d.width+f.padding).attr("height",d.height+f.padding)}h.l.info("Rendering relation "+JSON.stringify(e)),void 0!==e.relationTitle1&&"none"!==e.relationTitle1&&a.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",l).attr("y",m).attr("fill","black").attr("font-size","6").text(e.relationTitle1),void 0!==e.relationTitle2&&"none"!==e.relationTitle2&&a.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",n).attr("y",o).attr("fill","black").attr("font-size","6").text(e.relationTitle2),i++},n=function(a,b,c,d){h.l.debug("Rendering note ",b,c);let e=b.id,f={id:e,text:b.text,width:0,height:0},g=a.append("g").attr("id",e).attr("class","classGroup"),i=g.append("text").attr("y",c.textHeight+c.padding).attr("x",0),j=JSON.parse(`"${b.text}"`).split("\n");j.forEach(function(a){h.l.debug(`Adding line: ${a}`),i.append("tspan").text(a).attr("class","title").attr("dy",c.textHeight)});let k=g.node().getBBox(),l=g.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",k.width+2*c.padding).attr("height",k.height+j.length*c.textHeight+c.padding+.5*c.dividerMargin).node().getBBox().width;return i.node().childNodes.forEach(function(a){a.setAttribute("x",(l-a.getBBox().width)/2)}),f.width=l,f.height=k.height+j.length*c.textHeight+c.padding+.5*c.dividerMargin,f},o={},p=function(a){let b=Object.entries(o).find(b=>b[1].label===a);if(b)return b[0]},q=function(a){a.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),a.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),a.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},r={parser:b.p,db:b.d,renderer:{draw:function(a,b,c,d){let i,j=(0,h.c)().class;o={},h.l.info("Rendering diagram "+a);let k=(0,h.c)().securityLevel;"sandbox"===k&&(i=(0,e.select)("#i"+b));let r="sandbox"===k?(0,e.select)(i.nodes()[0].contentDocument.body):(0,e.select)("body"),s=r.select(`[id='${b}']`);q(s);let t=new g.Graph({multigraph:!0});t.setGraph({isMultiGraph:!0}),t.setDefaultEdgeLabel(function(){return{}});let u=d.db.getClasses();for(let a of Object.keys(u)){let b=l(s,u[a],j,d);o[b.id]=b,t.setNode(b.id,b),h.l.info("Org height: "+b.height)}d.db.getRelations().forEach(function(a){h.l.info("tjoho"+p(a.id1)+p(a.id2)+JSON.stringify(a)),t.setEdge(p(a.id1),p(a.id2),{relation:a},a.title||"DEFAULT")}),d.db.getNotes().forEach(function(a){h.l.debug(`Adding note: ${JSON.stringify(a)}`);let b=n(s,a,j,d);o[b.id]=b,t.setNode(b.id,b),a.class&&a.class in u&&t.setEdge(a.id,p(a.class),{relation:{id1:a.id,id2:a.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,f.layout)(t),t.nodes().forEach(function(a){void 0!==a&&void 0!==t.node(a)&&(h.l.debug("Node "+a+": "+JSON.stringify(t.node(a))),r.select("#"+(d.db.lookUpDomId(a)||a)).attr("transform","translate("+(t.node(a).x-t.node(a).width/2)+","+(t.node(a).y-t.node(a).height/2)+" )"))}),t.edges().forEach(function(a){void 0!==a&&void 0!==t.edge(a)&&(h.l.debug("Edge "+a.v+" -> "+a.w+": "+JSON.stringify(t.edge(a))),m(s,t.edge(a),t.edge(a).relation,j,d))});let v=s.node().getBBox(),w=v.width+40,x=v.height+40;(0,h.i)(s,x,w,j.useMaxWidth);let y=`${v.x-20} ${v.y-20} ${w} ${x}`;h.l.debug(`viewBox ${y}`),s.attr("viewBox",y)}},styles:b.s,init:a=>{a.class||(a.class={}),a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,b.d.clear()}};a.s(["diagram",()=>r])}];

//# debugId=6e5d21e3-8e3e-4a1f-a992-152763464359
//# sourceMappingURL=node_modules_d32bb204._.js.map