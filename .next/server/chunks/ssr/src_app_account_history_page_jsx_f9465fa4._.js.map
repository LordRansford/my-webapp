{
  "version": 3,
  "sources": [],
  "debugId": "88a2359f-4bef-70e6-ed02-1aa2617a64a9",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/app/account/history/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\nexport default function ExportHistoryPage() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/api/account/history\")\n      .then((r) => r.json())\n      .then((json) => setData(json))\n      .catch(() => setData({ authenticated: false, recentToolRuns: [], recentDownloads: [] }));\n  }, []);\n\n  const recentToolRuns = data?.recentToolRuns || [];\n  const recentDownloads = data?.recentDownloads || [];\n\n  return (\n    <main className=\"mx-auto max-w-4xl px-4 py-12 md:px-6 lg:px-8\">\n      <section className=\"space-y-3 rounded-3xl border border-slate-200 bg-white/90 p-8 shadow-sm backdrop-blur\">\n        <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">Account</p>\n        <h1 className=\"text-3xl font-semibold text-slate-900\">My history</h1>\n        <p className=\"text-base text-slate-700\">\n          This page shows recent downloads and tool runs tied to your account. CPD summary will sit here later.\n        </p>\n        {!data ? (\n          <p className=\"text-sm text-slate-700\">Loading your history...</p>\n        ) : data.authenticated ? null : (\n          <p className=\"text-sm text-slate-700\">\n            You are not signed in. You can still browse everything. Sign in if you want history saved across devices.\n          </p>\n        )}\n        <div className=\"flex flex-wrap gap-2\">\n          <Link href=\"/signin\" className=\"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800\">\n            Sign in\n          </Link>\n          <Link href=\"/pricing\" className=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50\">\n            See plans\n          </Link>\n        </div>\n      </section>\n\n      <section className=\"mt-8 grid gap-6 md:grid-cols-2\">\n        <div className=\"rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm\">\n          <h2 className=\"text-lg font-semibold text-slate-900\">Recent template downloads</h2>\n          {recentDownloads.length === 0 ? (\n            <p className=\"mt-3 text-sm text-slate-700\">No downloads yet.</p>\n          ) : (\n            <ul className=\"mt-3 space-y-2 text-sm text-slate-800\">\n              {recentDownloads.map((d) => (\n                <li key={d.id} className=\"rounded-2xl bg-slate-50 px-3 py-2\">\n                  <div className=\"font-semibold text-slate-900\">{d.templateId}</div>\n                  <div className=\"text-xs text-slate-700\">\n                    {d.licenseChoice === \"internal_use\" ? \"Internal use\" : \"Commercial use\"} · Attribution{\" \"}\n                    {d.signaturePolicyApplied === \"kept\" ? \"kept\" : \"removed\"} · {new Date(d.timestamp).toLocaleString()}\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        <div className=\"rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-sm\">\n          <h2 className=\"text-lg font-semibold text-slate-900\">Recent tool runs</h2>\n          {recentToolRuns.length === 0 ? (\n            <p className=\"mt-3 text-sm text-slate-700\">No tool runs yet.</p>\n          ) : (\n            <ul className=\"mt-3 space-y-2 text-sm text-slate-800\">\n              {recentToolRuns.map((r) => (\n                <li key={r.id} className=\"rounded-2xl bg-slate-50 px-3 py-2\">\n                  <div className=\"font-semibold text-slate-900\">{r.toolId}</div>\n                  <div className=\"text-xs text-slate-700\">{new Date(r.timestamp).toLocaleString()}</div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}