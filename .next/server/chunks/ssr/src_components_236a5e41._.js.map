{
  "version": 3,
  "sources": [],
  "debugId": "25f38dda-632b-11a6-5c87-45679c75d479",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/ui/CheckPill.tsx","../../../../src/components/dashboards/architecture/DeploymentTopologyMapper.jsx"],"sourcesContent":["import React from \"react\";\n\ntype Tone = \"sky\" | \"emerald\" | \"violet\" | \"amber\" | \"rose\" | \"slate\";\n\ntype Props = {\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  children: React.ReactNode;\n  after?: React.ReactNode;\n  tone?: Tone;\n  className?: string;\n  size?: \"sm\" | \"xs\";\n  disabled?: boolean;\n};\n\nconst toneClasses: Record<Tone, { border: string; bg: string; ring: string }> = {\n  sky: { border: \"border-sky-400/40\", bg: \"bg-sky-500/15\", ring: \"focus-visible:ring-sky-300/40\" },\n  emerald: { border: \"border-emerald-400/40\", bg: \"bg-emerald-500/15\", ring: \"focus-visible:ring-emerald-300/40\" },\n  violet: { border: \"border-violet-400/40\", bg: \"bg-violet-500/15\", ring: \"focus-visible:ring-violet-300/40\" },\n  amber: { border: \"border-amber-400/40\", bg: \"bg-amber-500/15\", ring: \"focus-visible:ring-amber-300/40\" },\n  rose: { border: \"border-rose-400/40\", bg: \"bg-rose-500/15\", ring: \"focus-visible:ring-rose-300/40\" },\n  slate: { border: \"border-slate-400/40\", bg: \"bg-slate-500/10\", ring: \"focus-visible:ring-slate-300/30\" },\n};\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nexport function CheckPill({\n  checked,\n  onCheckedChange,\n  children,\n  after,\n  tone = \"sky\",\n  className,\n  size = \"sm\",\n  disabled = false,\n}: Props) {\n  const toneStyle = toneClasses[tone] || toneClasses.sky;\n  const padding = size === \"xs\" ? \"px-3 py-2\" : \"px-3.5 py-2.5\";\n  const text = size === \"xs\" ? \"text-[0.7rem]\" : \"text-xs\";\n  const toggle = size === \"xs\" ? \"h-5 w-9\" : \"h-6 w-11\";\n  const knob = size === \"xs\" ? \"h-4 w-4\" : \"h-5 w-5\";\n  const knobOn = size === \"xs\" ? \"translate-x-4\" : \"translate-x-5\";\n  const knobOff = \"translate-x-1\";\n\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={checked}\n      disabled={disabled}\n      onClick={() => onCheckedChange(!checked)}\n      className={cx(\n        \"inline-flex w-full items-center justify-between gap-3 rounded-2xl border transition\",\n        padding,\n        text,\n        \"bg-white/80 text-slate-900 hover:bg-white\",\n        \"dark:bg-slate-950/40 dark:text-slate-100 dark:hover:bg-slate-900/60 dark:border-slate-700\",\n        checked ? cx(toneStyle.bg, toneStyle.border) : \"border-slate-200\",\n        \"focus-visible:outline-none focus-visible:ring-2\",\n        toneStyle.ring,\n        disabled && \"cursor-not-allowed opacity-60\",\n        className\n      )}\n    >\n      <span className=\"min-w-0\">{children}</span>\n      <span className=\"inline-flex shrink-0 items-center gap-2\">\n        {after ? <span className=\"shrink-0\">{after}</span> : null}\n        <span\n          className={cx(\n            \"relative inline-flex items-center rounded-full border transition\",\n            toggle,\n            checked ? cx(toneStyle.border, toneStyle.bg) : \"border-slate-300 bg-slate-200\",\n            \"dark:border-slate-600 dark:bg-slate-800\"\n          )}\n          aria-hidden=\"true\"\n        >\n          <span\n            className={cx(\n              \"inline-block transform rounded-full bg-white shadow-sm transition\",\n              knob,\n              checked ? knobOn : knobOff\n            )}\n          />\n        </span>\n      </span>\n    </button>\n  );\n}\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { CheckPill } from \"@/components/ui/CheckPill\";\n\nexport function DeploymentTopologyMapper() {\n  const [environments, setEnvironments] = useState([\n    { id: 1, name: \"Production\", instances: 12, userFacing: true },\n    { id: 2, name: \"Staging\", instances: 4, userFacing: true },\n    { id: 3, name: \"Non prod shared\", instances: 6, userFacing: false },\n  ]);\n\n  function updateEnv(id, patch) {\n    setEnvironments((current) => current.map((env) => (env.id === id ? { ...env, ...patch } : env)));\n  }\n\n  function addEnv() {\n    const nextId = environments.length ? Math.max(...environments.map((e) => e.id)) + 1 : 1;\n    setEnvironments((current) => [...current, { id: nextId, name: \"\", instances: 1, userFacing: false }]);\n  }\n\n  function removeEnv(id) {\n    setEnvironments((current) => current.filter((env) => env.id !== id));\n  }\n\n  const stats = useMemo(() => {\n    const totalInstances = environments.reduce((sum, env) => sum + env.instances, 0);\n    const userFacingEnvs = environments.filter((env) => env.userFacing).length;\n    return {\n      totalInstances,\n      userFacingEnvs,\n    };\n  }, [environments]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p className=\"text-sm text-slate-600\">\n        Map out the environments where your system runs. This helps you talk about blast radius, deployment patterns and where\n        experiments are safe or dangerous.\n      </p>\n\n      <div className=\"grid gap-4 md:grid-cols-[2fr,1fr]\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n          <div className=\"mb-2 flex items-center justify-between\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-slate-500\">Environments</p>\n            <button\n              type=\"button\"\n              onClick={addEnv}\n              className=\"rounded-full bg-slate-900 px-3 py-1 text-xs font-medium text-white hover:bg-slate-800\"\n            >\n              Add environment\n            </button>\n          </div>\n\n          <div className=\"flex flex-col gap-3\">\n            {environments.map((env) => (\n              <div key={env.id} className=\"rounded-2xl border border-slate-100 bg-slate-50 p-3 shadow-sm\">\n                <div className=\"mb-2 flex items-center justify-between gap-2\">\n                  <input\n                    className=\"w-full rounded-xl border border-slate-200 px-2 py-1 text-sm font-semibold\"\n                    placeholder=\"For example Production EU\"\n                    value={env.name}\n                    onChange={(e) => updateEnv(env.id, { name: e.target.value })}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeEnv(env.id)}\n                    className=\"rounded-full px-2 py-1 text-xs text-slate-400 hover:bg-slate-100 hover:text-slate-700\"\n                  >\n                    Remove\n                  </button>\n                </div>\n\n                <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\n                  <label className=\"text-xs text-slate-600\">\n                    Instances\n                    <input\n                      type=\"range\"\n                      min={1}\n                      max={30}\n                      value={env.instances}\n                      onChange={(e) => updateEnv(env.id, { instances: Number(e.target.value) || 1 })}\n                      className=\"mt-1 w-full\"\n                    />\n                    <span className=\"mt-1 inline-block text-xs text-slate-700\">\n                      {env.instances} instance{env.instances === 1 ? \"\" : \"s\"}\n                    </span>\n                  </label>\n\n                  <div className=\"sm:max-w-xs\">\n                    <CheckPill\n                      checked={env.userFacing}\n                      onCheckedChange={(checked) => updateEnv(env.id, { userFacing: checked })}\n                      tone=\"emerald\"\n                    >\n                      User facing environment\n                    </CheckPill>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-3 text-sm\">\n            <p className=\"mb-2 text-xs font-medium uppercase tracking-wide text-slate-500\">Topology summary</p>\n            <p className=\"text-xs text-slate-700\">\n              Total instances across all environments: <span className=\"font-semibold\">{stats.totalInstances}</span>\n            </p>\n            <p className=\"text-xs text-slate-700\">\n              User facing environments: <span className=\"font-semibold\">{stats.userFacingEnvs}</span>\n            </p>\n            <p className=\"mt-2 text-xs text-slate-600\">\n              A wide blast radius often comes from many user facing environments sharing the same failure modes. Separate control\n              planes and strict deployment rules can reduce the chance of one mistake affecting everyone.\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl bg-slate-50 p-3 text-xs text-slate-700\">\n            <p className=\"mb-1 font-medium\">Questions to consider</p>\n            <ul className=\"list-disc space-y-1 pl-4\">\n              <li>Where would you try a risky change first.</li>\n              <li>Which environment has the widest blast radius today.</li>\n              <li>Do you have a safe place to rehearse incident run books and failover tests.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}