{
  "version": 3,
  "sources": [],
  "debugId": "5a8a7b8f-d82c-ac64-3546-9c8eb43a75d3",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../node_modules/next/src/client/components/noop-head.tsx","../../../../node_modules/%40emotion/memoize/dist/memoize.esm.js","../../../../node_modules/%40emotion/is-prop-valid/dist/is-prop-valid.esm.js","../../../../node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","../../../../node_modules/framer-motion/dist/es/utils/GlobalConfig.mjs","../../../../node_modules/framer-motion/dist/es/frameloop/render-step.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/definitions.mjs","../../../../node_modules/framer-motion/dist/es/utils/is-browser.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../../../../src/components/a11y/ReadAloudControls.tsx","../../../../node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","../../../../node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","../../../../node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../../../../node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../../../../node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","../../../../node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","../../../../node_modules/framer-motion/dist/es/value/types/utils.mjs","../../../../node_modules/framer-motion/dist/es/utils/clamp.mjs","../../../../node_modules/framer-motion/dist/es/utils/mix.mjs","../../../../node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../../../../node_modules/framer-motion/dist/es/utils/pipe.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../../../../node_modules/framer-motion/dist/es/utils/progress.mjs","../../../../node_modules/framer-motion/dist/es/utils/offsets/time.mjs","../../../../node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","../../../../node_modules/framer-motion/dist/es/utils/memo.mjs","../../../../node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","../../../../node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../../../../node_modules/framer-motion/dist/es/utils/noop.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/Feature.mjs","../../../../node_modules/framer-motion/dist/es/events/add-dom-event.mjs","../../../../node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","../../../../node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","../../../../node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","../../../../src/components/Layout.js","../../../../node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","../../../../node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/render.mjs","../../../../node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","../../../../node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","../../../../node_modules/framer-motion/dist/es/projection/geometry/models.mjs","../../../../node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","../../../../node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","../../../../node_modules/framer-motion/dist/es/render/store.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","../../../../src/components/notes/Layout.jsx","../../../../node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","../../../../node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","../../../../src/components/notes/ContentsSidebar.jsx","../../../../src/components/notes/ProgressBar.jsx","../../../../src/components/notes/summary/NotesStepper.jsx","../../../../src/components/notes/PreviewBanner.jsx","../../../../src/components/feedback/FeedbackPanel.tsx","../../../../node_modules/framer-motion/dist/es/utils/array.mjs","../../../../src/lib/ui/highlightAnchor.ts","../../../../src/lib/motion.js","../../../../node_modules/framer-motion/dist/es/utils/errors.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","../../../../node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","../../../../node_modules/framer-motion/dist/es/easing/ease.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","../../../../node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","../../../../node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-constant.mjs","../../../../node_modules/framer-motion/dist/es/context/LazyContext.mjs","../../../../node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../../../../node_modules/framer-motion/dist/es/context/PresenceContext.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../../../../node_modules/framer-motion/dist/es/events/event-info.mjs","../../../../node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../../../../node_modules/framer-motion/dist/es/utils/offsets/default.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","../../../../node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../../../../node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","../../../../node_modules/framer-motion/dist/es/frameloop/microtask.mjs","../../../../node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/load-features.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","../../../../node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","../../../../node_modules/framer-motion/dist/es/value/types/color/utils.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","../../../../node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","../../../../node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../../../../node_modules/framer-motion/dist/es/easing/anticipate.mjs","../../../../src/components/TestingModeBanner.jsx","../../../../node_modules/framer-motion/dist/es/motion/features/animations.mjs","../../../../node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","../../../../node_modules/framer-motion/dist/es/frameloop/batcher.mjs","../../../../node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","../../../../node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","../../../../node_modules/framer-motion/dist/es/frameloop/frame.mjs","../../../../node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","../../../../node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/instant.mjs","../../../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","../../../../node_modules/framer-motion/dist/es/frameloop/sync-time.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/js/driver-frameloop.mjs","../../../../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../../../../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/motion-minimal.mjs","../../../../node_modules/framer-motion/dist/es/value/types/color/hex.mjs","../../../../node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","../../../../node_modules/framer-motion/dist/es/easing/circ.mjs","../../../../node_modules/framer-motion/dist/es/projection/utils/measure.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","../../../../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","../../../../node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../../../../node_modules/framer-motion/dist/es/animation/utils/keyframes.mjs","../../../../node_modules/framer-motion/dist/es/utils/use-force-update.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","../../../../node_modules/framer-motion/dist/es/gestures/focus.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","../../../../node_modules/framer-motion/dist/es/easing/back.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","../../../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/features-animation.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","../../../../node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","../../../../node_modules/framer-motion/dist/es/render/html/config-motion.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","../../../../node_modules/framer-motion/dist/es/components/LazyMotion/index.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","../../../../node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","../../../../node_modules/framer-motion/dist/es/motion/features/gestures.mjs","../../../../node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","../../../../node_modules/framer-motion/dist/es/value/types/color/index.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","../../../../node_modules/framer-motion/dist/es/utils/reduced-motion/use-reduced-motion.mjs","../../../../node_modules/framer-motion/dist/es/render/html/use-props.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/use-props.mjs","../../../../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../../../../node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","../../../../node_modules/framer-motion/dist/es/value/types/complex/index.mjs","../../../../node_modules/framer-motion/dist/es/value/index.mjs","../../../../node_modules/framer-motion/dist/es/gestures/hover.mjs","../../../../node_modules/framer-motion/dist/es/utils/mix-color.mjs","../../../../node_modules/framer-motion/dist/es/utils/mix-complex.mjs","../../../../node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/use-render.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","../../../../node_modules/framer-motion/dist/es/easing/utils/map.mjs","../../../../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","../../../../node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../../../../src/lib/testingMode.ts","../../../../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/waapi/create-accelerated-animation.mjs","../../../../node_modules/framer-motion/dist/es/render/utils/setters.mjs","../../../../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","../../../../node_modules/lucide-react/src/icons/square.ts","../../../../node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","../../../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../../../../node_modules/framer-motion/dist/es/gestures/press.mjs","../../../../node_modules/framer-motion/dist/es/utils/interpolate.mjs","../../../../node_modules/framer-motion/dist/es/animation/animators/js/index.mjs","../../../../node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","../../../../node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","../../../../node_modules/framer-motion/dist/es/motion/index.mjs","../../../../node_modules/framer-motion/dist/es/render/VisualElement.mjs"],"sourcesContent":["export default function NoopHead() {\n  return null\n}\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^\\-?\\d*\\.?\\d+$/.test(v);\n\nexport { isNumericalString };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","class Queue {\n    constructor() {\n        this.order = [];\n        this.scheduled = new Set();\n    }\n    add(process) {\n        if (!this.scheduled.has(process)) {\n            this.scheduled.add(process);\n            this.order.push(process);\n            return true;\n        }\n    }\n    remove(process) {\n        const index = this.order.indexOf(process);\n        if (index !== -1) {\n            this.order.splice(index, 1);\n            this.scheduled.delete(process);\n        }\n    }\n    clear() {\n        this.order.length = 0;\n        this.scheduled.clear();\n    }\n}\nfunction createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Queue();\n    let nextFrame = new Queue();\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (queue.add(callback) && addToCurrentFrame && isProcessing) {\n                // If we're adding it to the currently running queue, update its measured size\n                numToRun = thisFrame.order.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.remove(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            numToRun = thisFrame.order.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = thisFrame.order[i];\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                    callback(frameData);\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","\"use client\";\n\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Pause, Play, Square } from \"lucide-react\";\nimport { highlightAnchorFromLocation } from \"@/lib/ui/highlightAnchor\";\n\ntype Status = \"idle\" | \"playing\" | \"paused\";\ntype ReadMode = \"page\" | \"section\";\n\nfunction canSpeak() {\n  return typeof window !== \"undefined\" && \"speechSynthesis\" in window && typeof window.SpeechSynthesisUtterance !== \"undefined\";\n}\n\nfunction extractReadableText(selector: string) {\n  try {\n    const root = document.querySelector(selector);\n    if (!root) return \"\";\n    // Remove nav-like blocks from reading, keep headings and paragraphs.\n    const clone = root.cloneNode(true) as HTMLElement;\n    clone.querySelectorAll(\"nav, aside, button, input, textarea, select\").forEach((n) => n.remove());\n    const text = (clone.textContent || \"\").replace(/\\s+/g, \" \").trim();\n    return text.slice(0, 18_000);\n  } catch {\n    return \"\";\n  }\n}\n\nfunction clampText(value: string, maxLen: number) {\n  const clean = String(value || \"\").replace(/\\s+/g, \" \").trim();\n  return clean.length > maxLen ? clean.slice(0, maxLen) : clean;\n}\n\nfunction getHeadingNodes(selector: string): HTMLElement[] {\n  try {\n    const root = document.querySelector(selector);\n    if (!root) return [];\n    const nodes = Array.from(root.querySelectorAll(\"h2[id]\")) as HTMLElement[];\n    return nodes.filter((n) => Boolean(n.id));\n  } catch {\n    return [];\n  }\n}\n\nfunction extractSectionText(selector: string, headingId: string) {\n  try {\n    const root = document.querySelector(selector);\n    if (!root) return \"\";\n    const heading = root.querySelector(`#${CSS.escape(headingId)}`) as HTMLElement | null;\n    if (!heading) return \"\";\n\n    const headings = getHeadingNodes(selector);\n    const index = headings.findIndex((h) => h.id === headingId);\n    const nextHeading = index >= 0 ? headings[index + 1] : null;\n\n    const range = document.createRange();\n    range.setStartBefore(heading);\n    if (nextHeading) range.setEndBefore(nextHeading);\n    else range.setEndAfter(root);\n\n    const fragment = range.cloneContents();\n    const container = document.createElement(\"div\");\n    container.appendChild(fragment);\n    container.querySelectorAll(\"nav, aside, button, input, textarea, select\").forEach((n) => n.remove());\n    return clampText(container.textContent || \"\", 9_000);\n  } catch {\n    return \"\";\n  }\n}\n\nfunction setHeadingHighlight(headingId: string, enabled: boolean) {\n  try {\n    const node = document.getElementById(headingId);\n    if (!node) return;\n    if (enabled) {\n      node.classList.add(\"rounded-lg\", \"ring-2\", \"ring-slate-400\", \"bg-slate-50\");\n      node.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\n    } else {\n      node.classList.remove(\"rounded-lg\", \"ring-2\", \"ring-slate-400\", \"bg-slate-50\");\n    }\n  } catch {\n    // ignore\n  }\n}\n\nfunction getSelectedText(): string {\n  try {\n    const sel = window.getSelection();\n    const text = sel ? String(sel.toString() || \"\").replace(/\\s+/g, \" \").trim() : \"\";\n    return text.slice(0, 3_000);\n  } catch {\n    return \"\";\n  }\n}\n\nfunction canFindInPage() {\n  // window.find is supported in most modern browsers.\n  // It highlights matches using the browser selection, which is accessible.\n  return typeof window !== \"undefined\" && typeof (window as any).find === \"function\";\n}\n\nfunction findFirstTextMatch(selector: string, query: string) {\n  try {\n    const root = document.querySelector(selector);\n    if (!root) return false;\n    const q = String(query || \"\").trim().toLowerCase();\n    if (!q) return false;\n    const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: (node) => {\n        const el = node as Element;\n        const tag = el.tagName?.toLowerCase?.() || \"\";\n        if ([\"script\", \"style\", \"noscript\"].includes(tag)) return NodeFilter.FILTER_REJECT;\n        const text = (el.textContent || \"\").toLowerCase();\n        if (text.includes(q)) return NodeFilter.FILTER_ACCEPT;\n        return NodeFilter.FILTER_SKIP;\n      },\n    } as any);\n    const hit = walker.nextNode() as Element | null;\n    if (!hit) return false;\n    (hit as any).scrollIntoView?.({ behavior: \"smooth\", block: \"center\" });\n    // Reuse the anchor highlight style as a general focus affordance.\n    const id = (hit as any).id ? `#${String((hit as any).id)}` : \"\";\n    if (id) {\n      const url = new URL(window.location.href);\n      url.hash = id;\n      window.history.replaceState(null, \"\", url.toString());\n      highlightAnchorFromLocation();\n    } else {\n      (hit as HTMLElement).classList.add(\"outline\", \"outline-2\", \"outline-slate-400\", \"outline-offset-4\", \"rounded-lg\");\n      window.setTimeout(() => {\n        (hit as HTMLElement).classList.remove(\"outline\", \"outline-2\", \"outline-slate-400\", \"outline-offset-4\", \"rounded-lg\");\n      }, 1400);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport default function ReadAloudControls({\n  selector = \"main article\",\n  label = \"Listen\",\n  activeHeadingId,\n}: {\n  selector?: string;\n  label?: string;\n  activeHeadingId?: string;\n}) {\n  const [available, setAvailable] = useState(false);\n  const [status, setStatus] = useState<Status>(\"idle\");\n  const [mode, setMode] = useState<ReadMode>(\"page\");\n  const [autoNext, setAutoNext] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [findAvailable, setFindAvailable] = useState(false);\n  const [currentHeadingId, setCurrentHeadingId] = useState<string>(\"\");\n  const utterRef = useRef<SpeechSynthesisUtterance | null>(null);\n  const activeHighlightRef = useRef<string>(\"\");\n\n  useEffect(() => {\n    setAvailable(canSpeak());\n    setFindAvailable(canFindInPage());\n    return () => {\n      try {\n        if (activeHighlightRef.current) setHeadingHighlight(activeHighlightRef.current, false);\n        window.speechSynthesis?.cancel?.();\n      } catch {\n        // ignore\n      }\n    };\n  }, []);\n\n  const text = useMemo(() => (available ? extractReadableText(selector) : \"\"), [available, selector]);\n  const headings = useMemo(() => (available ? getHeadingNodes(selector) : []), [available, selector]);\n\n  useEffect(() => {\n    const resolved =\n      String(activeHeadingId || \"\").trim() ||\n      String(currentHeadingId || \"\").trim() ||\n      String(headings?.[0]?.id || \"\").trim();\n    if (resolved) setCurrentHeadingId(resolved);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeHeadingId, headings.length]);\n\n  const speak = (input: string, opts?: { headingId?: string; onEnded?: () => void }) => {\n    if (!available) return;\n    const value = String(input || \"\").trim();\n    if (!value) return;\n    try {\n      const nextHeadingId = String(opts?.headingId || \"\").trim();\n      window.speechSynthesis.cancel();\n      const utter = new SpeechSynthesisUtterance(value);\n      utter.rate = 1;\n      utter.pitch = 1;\n      utter.onend = () => {\n        setStatus(\"idle\");\n        if (nextHeadingId) {\n          setHeadingHighlight(nextHeadingId, false);\n          if (activeHighlightRef.current === nextHeadingId) activeHighlightRef.current = \"\";\n        }\n        opts?.onEnded?.();\n      };\n      utter.onerror = () => {\n        setStatus(\"idle\");\n        if (nextHeadingId) {\n          setHeadingHighlight(nextHeadingId, false);\n          if (activeHighlightRef.current === nextHeadingId) activeHighlightRef.current = \"\";\n        }\n      };\n      utter.onpause = () => setStatus(\"paused\");\n      utter.onresume = () => setStatus(\"playing\");\n      utterRef.current = utter;\n      if (nextHeadingId) {\n        if (activeHighlightRef.current && activeHighlightRef.current !== nextHeadingId) {\n          setHeadingHighlight(activeHighlightRef.current, false);\n        }\n        activeHighlightRef.current = nextHeadingId;\n        setHeadingHighlight(nextHeadingId, true);\n      }\n      window.speechSynthesis.speak(utter);\n      setStatus(\"playing\");\n    } catch {\n      setStatus(\"idle\");\n    }\n  };\n\n  const start = () => speak(text);\n\n  const pause = () => {\n    if (!available) return;\n    try {\n      window.speechSynthesis.pause();\n      setStatus(\"paused\");\n    } catch {\n      // ignore\n    }\n  };\n\n  const resume = () => {\n    if (!available) return;\n    try {\n      window.speechSynthesis.resume();\n      setStatus(\"playing\");\n    } catch {\n      // ignore\n    }\n  };\n\n  const stop = () => {\n    if (!available) return;\n    try {\n      if (activeHighlightRef.current) setHeadingHighlight(activeHighlightRef.current, false);\n      activeHighlightRef.current = \"\";\n      window.speechSynthesis.cancel();\n      setStatus(\"idle\");\n    } catch {\n      // ignore\n    }\n  };\n\n  if (!available) return null;\n\n  const readSelection = () => {\n    const selected = getSelectedText();\n    if (!selected) return;\n    speak(selected);\n  };\n\n  const readCurrentSection = () => {\n    const id = String(currentHeadingId || \"\").trim();\n    if (!id) return;\n    const sectionText = extractSectionText(selector, id);\n    if (!sectionText) return;\n    speak(sectionText, {\n      headingId: id,\n      onEnded: () => {\n        if (!autoNext) return;\n        const index = headings.findIndex((h) => h.id === id);\n        const next = index >= 0 ? headings[index + 1] : null;\n        if (!next?.id) return;\n        setCurrentHeadingId(next.id);\n        const nextText = extractSectionText(selector, next.id);\n        if (!nextText) return;\n        speak(nextText, { headingId: next.id });\n      },\n    });\n  };\n\n  const goPrevSection = () => {\n    const id = String(currentHeadingId || \"\").trim();\n    const index = headings.findIndex((h) => h.id === id);\n    const prev = index > 0 ? headings[index - 1] : null;\n    if (prev?.id) setCurrentHeadingId(prev.id);\n  };\n\n  const goNextSection = () => {\n    const id = String(currentHeadingId || \"\").trim();\n    const index = headings.findIndex((h) => h.id === id);\n    const next = index >= 0 ? headings[index + 1] : null;\n    if (next?.id) setCurrentHeadingId(next.id);\n  };\n\n  const findNext = () => {\n    const q = String(query || \"\").trim();\n    if (!q) return;\n    try {\n      if (findAvailable) {\n        // Search forward, wrap around.\n        (window as any).find(q, false, false, true, false, true, false);\n      } else {\n        findFirstTextMatch(selector, q);\n      }\n    } catch {\n      // ignore\n    }\n  };\n\n  return (\n    <div className=\"inline-flex flex-wrap items-center gap-2\">\n      <span className=\"text-sm font-semibold text-slate-900\">{label}</span>\n      <div className=\"inline-flex items-center gap-2\">\n        <button\n          type=\"button\"\n          className={\n            \"inline-flex h-10 items-center justify-center rounded-full border px-3 text-sm font-semibold shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 \" +\n            (mode === \"page\" ? \"border-slate-300 bg-slate-900 text-white\" : \"border-slate-200 bg-white text-slate-900 hover:bg-slate-50\")\n          }\n          onClick={() => setMode(\"page\")}\n          aria-pressed={mode === \"page\"}\n        >\n          Page\n        </button>\n        <button\n          type=\"button\"\n          className={\n            \"inline-flex h-10 items-center justify-center rounded-full border px-3 text-sm font-semibold shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 \" +\n            (mode === \"section\" ? \"border-slate-300 bg-slate-900 text-white\" : \"border-slate-200 bg-white text-slate-900 hover:bg-slate-50\")\n          }\n          onClick={() => setMode(\"section\")}\n          aria-pressed={mode === \"section\"}\n        >\n          Section\n        </button>\n        {mode === \"section\" ? (\n          <button\n            type=\"button\"\n            className={\n              \"inline-flex h-10 items-center justify-center rounded-full border px-3 text-sm font-semibold shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 \" +\n              (autoNext ? \"border-slate-300 bg-slate-900 text-white\" : \"border-slate-200 bg-white text-slate-900 hover:bg-slate-50\")\n            }\n            onClick={() => setAutoNext((v) => !v)}\n            aria-pressed={autoNext}\n          >\n            Auto next\n          </button>\n        ) : null}\n      </div>\n      <div className=\"inline-flex items-center gap-2\">\n        {status !== \"playing\" ? (\n          <button\n            type=\"button\"\n            className=\"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n            onClick={\n              status === \"paused\"\n                ? resume\n                : mode === \"section\"\n                ? () => readCurrentSection()\n                : start\n            }\n            aria-label={status === \"paused\" ? \"Resume reading\" : \"Start reading\"}\n          >\n            <Play className=\"h-4 w-4\" aria-hidden=\"true\" />\n            {status === \"paused\" ? \"Resume\" : mode === \"section\" ? \"Play section\" : \"Play\"}\n          </button>\n        ) : (\n          <button\n            type=\"button\"\n            className=\"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n            onClick={pause}\n            aria-label=\"Pause reading\"\n          >\n            <Pause className=\"h-4 w-4\" aria-hidden=\"true\" />\n            Pause\n          </button>\n        )}\n        <button\n          type=\"button\"\n          className=\"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n          onClick={stop}\n          aria-label=\"Stop reading\"\n        >\n          <Square className=\"h-4 w-4\" aria-hidden=\"true\" />\n          Stop\n        </button>\n        <button\n          type=\"button\"\n          className=\"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n          onClick={readSelection}\n          aria-label=\"Read selected text\"\n        >\n          Read selection\n        </button>\n        {mode === \"section\" ? (\n          <div className=\"inline-flex items-center gap-2\">\n            <button\n              type=\"button\"\n              className=\"inline-flex h-10 items-center justify-center rounded-full border border-slate-200 bg-white px-3 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n              onClick={goPrevSection}\n              aria-label=\"Previous section\"\n              disabled={headings.length === 0}\n            >\n              Prev\n            </button>\n            <button\n              type=\"button\"\n              className=\"inline-flex h-10 items-center justify-center rounded-full border border-slate-200 bg-white px-3 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n              onClick={goNextSection}\n              aria-label=\"Next section\"\n              disabled={headings.length === 0}\n            >\n              Next section\n            </button>\n          </div>\n        ) : null}\n      </div>\n\n      <div className=\"inline-flex items-center gap-2\">\n        <label className=\"text-xs font-semibold text-slate-700\" htmlFor=\"reading-tools-search\">\n          Search\n        </label>\n        <input\n          id=\"reading-tools-search\"\n          type=\"search\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          className=\"h-10 w-44 rounded-full border border-slate-200 bg-white px-3 text-sm text-slate-900 shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n          placeholder=\"Find text\"\n        />\n        <button\n          type=\"button\"\n          className=\"inline-flex h-10 items-center justify-center rounded-full border border-slate-200 bg-white px-3 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400\"\n          onClick={findNext}\n          aria-label=\"Find next match\"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n}\n\n\n\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","function getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }) {\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : keyframes.length - 1;\n    return keyframes[index];\n}\n\nexport { getFinalKeyframe };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst isCSSVariableToken = checkStringStartsWith(\"var(--\");\nconst cssVariableRegex = /var\\s*\\(\\s*--[\\w-]+(\\s*,\\s*(?:(?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)+)?\\s*\\)/g;\n\nexport { cssVariableRegex, isCSSVariableName, isCSSVariableToken };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/.test(v);\n\nexport { isZeroValueString };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","const noop = (any) => any;\n\nexport { noop };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import Head from \"next/head\";\nimport Link from \"next/link\";\nimport TestingModeBanner from \"@/components/TestingModeBanner\";\nimport BetaBanner from \"@/components/notes/BetaBanner\";\nimport SpotifyMiniPlayerMount from \"@/components/spotify/SpotifyMiniPlayerMount\";\nimport AppShell from \"@/components/navigation/AppShell\";\nexport default function Layout({\n  children,\n  title = \"Ransford's Notes\",\n  description = \"Demystifying data, digitalisation, AI, cybersecurity, and engineering with hands-on tools.\",\n}) {\n  return (\n    <>\n      <Head>\n        <title>{title}</title>\n        <meta name=\"description\" content={description} />\n      </Head>\n\n      <TestingModeBanner />\n      <div className=\"mx-auto max-w-6xl px-4 pt-4\">\n        <BetaBanner />\n      </div>\n      <AppShell>\n        {children}\n      </AppShell>\n      <SpotifyMiniPlayerMount />\n\n      <style>{`\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n            scroll-behavior: auto !important;\n          }\n        }\n      `}</style>\n    </>\n  );\n}\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","\"use client\";\n\nimport Layout from \"@/components/Layout\";\nimport Link from \"next/link\";\nimport ContentsSidebar from \"./ContentsSidebar\";\nimport ProgressBar from \"./ProgressBar\";\nimport NotesStepper from \"./summary/NotesStepper\";\nimport DonateButton from \"@/components/donations/DonateButton\";\nimport BetaBanner from \"./BetaBanner\";\nimport PreviewBanner from \"./PreviewBanner\";\nimport cybersecurityCourse from \"../../../content/courses/cybersecurity.json\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport FeedbackPanel from \"@/components/feedback/FeedbackPanel\";\nimport { highlightAnchorFromLocation } from \"@/lib/ui/highlightAnchor\";\nimport ReadAloudControls from \"@/components/a11y/ReadAloudControls\";\nimport { CourseAssessmentTemplate, CourseLessonTemplate, CourseOverviewTemplate } from \"@/components/templates/PageTemplates\";\n\n/** @param {{ meta?: any, headings?: any[], children: any, activeLevelId?: any, showContentsSidebar?: boolean, showStepper?: boolean, useAppShell?: boolean }} props */\nexport default function NotesLayout(props) {\n  const { meta = {}, headings = [], children, activeLevelId, showContentsSidebar, showStepper, useAppShell } = props;\n  const [activeId, setActiveId] = useState(\"\");\n  const [mobileOpen, setMobileOpen] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) setActiveId(entry.target.id);\n        });\n      },\n      { rootMargin: \"-35% 0% -55% 0%\" }\n    );\n    document.querySelectorAll(\"article h2, article h3\").forEach((node) => observer.observe(node));\n    return () => observer.disconnect();\n  }, []);\n\n  useEffect(() => {\n    // Briefly highlight headings when navigating to an anchor link.\n    highlightAnchorFromLocation();\n    const onHash = () => highlightAnchorFromLocation();\n    window.addEventListener(\"hashchange\", onHash);\n    return () => window.removeEventListener(\"hashchange\", onHash);\n  }, []);\n\n  // Compute slug early so downstream calculations don't reference it before initialization.\n  const slug =\n    typeof window !== \"undefined\"\n      ? String(meta.slug || window.location?.pathname || \"\")\n      : String(meta.slug || \"\");\n\n  const resolvedSection =\n    meta.section ||\n    (slug?.includes(\"/ai\") && \"ai\") ||\n    (slug?.includes(\"/digitalisation\") && \"digitalisation\") ||\n    (slug?.includes(\"/software-architecture\") && \"architecture\") ||\n    (slug?.includes(\"/data\") && \"data\") ||\n    (slug?.includes(\"/cybersecurity\") && \"cybersecurity\") ||\n    \"\";\n\n  const sectionLabelMap = {\n    ai: \"AI\",\n    data: \"Data\",\n    cybersecurity: \"Cybersecurity\",\n    digitalisation: \"Digitalisation strategy\",\n    architecture: \"Software architecture\",\n  };\n\n  const cybersecurityStepperItems = [];\n\n  if (cybersecurityCourse?.overview_route) {\n    cybersecurityStepperItems.push({\n      id: \"overview\",\n      label: \"Overview\",\n      href: cybersecurityCourse.overview_route,\n      active: meta.slug === cybersecurityCourse.overview_route,\n    });\n  }\n\n  (cybersecurityCourse?.levels || []).forEach((level) => {\n    cybersecurityStepperItems.push({\n      id: level.id,\n      label: level.label || level.title,\n      href: level.route,\n      active: meta.slug?.startsWith(level.route) || meta.slug?.includes(level.route),\n    });\n  });\n\n  if (cybersecurityCourse?.summary_route) {\n    cybersecurityStepperItems.push({\n      id: \"summary\",\n      label: \"Summary and games\",\n      href: cybersecurityCourse.summary_route,\n      active: meta.slug?.startsWith(cybersecurityCourse.summary_route) || meta.slug?.includes(\"/summary\"),\n    });\n  }\n\n  const stepperItems =\n    resolvedSection === \"ai\"\n      ? [\n          { label: \"Foundations\", href: \"/ai/beginner\", active: meta.slug?.includes(\"/ai/beginner\") },\n          { label: \"Intermediate\", href: \"/ai/intermediate\", active: meta.slug?.includes(\"/ai/intermediate\") },\n          { label: \"Advanced\", href: \"/ai/advanced\", active: meta.slug?.includes(\"/ai/advanced\") },\n          { label: \"Summary and games\", href: \"/ai/summary\", active: meta.slug?.includes(\"/ai/summary\") },\n        ]\n      : resolvedSection === \"data\"\n      ? [\n          { label: \"Foundations\", href: \"/data/foundations\", active: meta.slug?.includes(\"/data/foundations\") },\n          { label: \"Intermediate\", href: \"/data/intermediate\", active: meta.slug?.includes(\"/data/intermediate\") },\n          { label: \"Advanced\", href: \"/data/advanced\", active: meta.slug?.includes(\"/data/advanced\") },\n          { label: \"Summary and games\", href: \"/data/summary\", active: meta.slug?.includes(\"/data/summary\") },\n        ]\n      : resolvedSection === \"digitalisation\"\n      ? [\n          { label: \"Beginner\", href: \"/digitalisation/beginner\", active: meta.slug?.includes(\"/digitalisation/beginner\") },\n          { label: \"Intermediate\", href: \"/digitalisation/intermediate\", active: meta.slug?.includes(\"/digitalisation/intermediate\") },\n          { label: \"Advanced\", href: \"/digitalisation/advanced\", active: meta.slug?.includes(\"/digitalisation/advanced\") },\n          { label: \"Summary and games\", href: \"/digitalisation/summary\", active: meta.slug?.includes(\"/digitalisation/summary\") },\n        ]\n      : resolvedSection === \"architecture\"\n      ? [\n          { label: \"Foundations\", href: \"/software-architecture/beginner\", active: meta.slug?.includes(\"/software-architecture/beginner\") },\n          { label: \"Intermediate\", href: \"/software-architecture/intermediate\", active: meta.slug?.includes(\"/software-architecture/intermediate\") },\n          { label: \"Advanced\", href: \"/software-architecture/advanced\", active: meta.slug?.includes(\"/software-architecture/advanced\") },\n          { label: \"Summary and games\", href: \"/software-architecture/summary\", active: meta.slug?.includes(\"/software-architecture/summary\") },\n        ]\n      : cybersecurityStepperItems;\n\n  const showDonate = useMemo(() => {\n    const level = (meta.level || \"\").toLowerCase();\n    return level.includes(\"summary\") || (meta.slug || \"\").includes(\"summary\");\n  }, [meta.level, meta.slug]);\n\n  const showPreviewBanner = !slug.startsWith(\"/admin\");\n  const showFeedbackPanel = !slug.startsWith(\"/admin\") && slug !== \"/feedback\" && slug !== \"/signin\";\n  const showReadAloud =\n    Boolean(slug) &&\n    (slug === \"/\" ||\n      slug.endsWith(\"/summary\") ||\n      slug.includes(\"/beginner\") ||\n      slug.includes(\"/foundations\") ||\n      slug.endsWith(\"/course\") ||\n      slug.endsWith(\"/index\"));\n\n  const isCourseLearningPage =\n    slug.startsWith(\"/courses/\") &&\n    (slug.includes(\"/beginner\") ||\n      slug.includes(\"/foundations\") ||\n      slug.includes(\"/intermediate\") ||\n      slug.includes(\"/advanced\") ||\n      slug.endsWith(\"/summary\") ||\n      slug.includes(\"/lesson\") ||\n      slug.includes(\"/module\"));\n\n  const isCourseNavigationAllowed = slug.startsWith(\"/courses/\") && isCourseLearningPage;\n  const isCourseOverview = slug.endsWith(\"/course\") || slug.endsWith(\"/overview\") || meta.page === \"Overview\";\n  const isCourseAssessment = (meta.level || \"\").toLowerCase().includes(\"assessment\") || slug.includes(\"/assessment\");\n\n  const resolvedShowContentsSidebar = false; // Disabled to give more space to content\n\n  const resolvedShowStepper =\n    typeof showStepper === \"boolean\" ? showStepper && isCourseNavigationAllowed : isCourseNavigationAllowed;\n\n  const showCourseProgress = isCourseNavigationAllowed;\n\n  const body = (\n    <>\n      {showPreviewBanner ? <PreviewBanner /> : null}\n      <div className=\"flex flex-col lg:flex-row lg:gap-6\">\n        {resolvedShowContentsSidebar ? (\n          <div className=\"mb-3 flex items-center justify-between lg:hidden\">\n            <button\n              className=\"rounded-full border px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm focus:outline-none focus:ring focus:ring-blue-300\"\n              onClick={() => setMobileOpen(true)}\n              aria-expanded={mobileOpen}\n              aria-controls=\"contents-nav-mobile\"\n            >\n              Contents\n            </button>\n          </div>\n        ) : null}\n\n        {resolvedShowContentsSidebar ? (\n          <ContentsSidebar\n            headings={headings}\n            activeId={activeId}\n            mobileOpen={mobileOpen}\n            onNavigate={() => setMobileOpen(false)}\n            onClose={() => setMobileOpen(false)}\n          />\n        ) : null}\n        <main className=\"w-full max-w-full flex-1\">\n          <BetaBanner />\n          <header className=\"mb-4 rounded-3xl border border-gray-200 bg-white/90 p-4 shadow-sm backdrop-blur\">\n            <p className=\"eyebrow m-0 text-gray-700\">\n              {sectionLabelMap[resolvedSection] || \"Notes\"}  {meta.level || \"Notes\"}\n            </p>\n            <h1 className=\"text-3xl font-semibold leading-tight text-gray-900\">{meta.title}</h1>\n            {meta.page ? (\n              <p className=\"text-sm text-gray-800\">\n                Page {meta.page} of {meta.totalPages || \"?\"}\n              </p>\n            ) : null}\n            {meta.description ? <p className=\"mt-2 text-base text-gray-800\">{meta.description}</p> : null}\n            <div className=\"mt-3 flex flex-wrap gap-2\">\n              {showReadAloud ? <ReadAloudControls selector=\"main article\" label=\"Listen\" activeHeadingId={activeId} /> : null}\n            </div>\n            <div className=\"mt-4\">\n              {resolvedShowStepper ? (\n                <NotesStepper\n                  items={stepperItems}\n                  activeLevelId={resolvedSection === \"cybersecurity\" ? activeLevelId : undefined}\n                />\n              ) : null}\n            </div>\n          </header>\n          <article className=\"prose prose-neutral max-w-none rounded-3xl border border-gray-200 bg-white/90 p-5 shadow-sm backdrop-blur\">\n            {children}\n          </article>\n          {showDonate ? (\n            <div className=\"mt-4 flex items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white/95 p-4 shadow-sm\">\n              <div>\n                <p className=\"text-sm font-semibold uppercase tracking-wide text-slate-700\">Support</p>\n                <p className=\"text-sm text-slate-800\">\n                  If these notes or games help you, a small donation keeps the site independent and well tested.\n                </p>\n              </div>\n              <DonateButton />\n            </div>\n          ) : null}\n          {showFeedbackPanel ? <FeedbackPanel /> : null}\n        </main>\n      </div>\n    </>\n  );\n\n  if (useAppShell) return body;\n\n  const breadcrumbs = [\n    { label: \"Home\", href: \"/\" },\n    resolvedSection ? { label: sectionLabelMap[resolvedSection] || \"Course\", href: `/${resolvedSection || \"\"}` } : null,\n    meta.title ? { label: meta.title } : null,\n  ].filter(Boolean);\n\n  if (isCourseNavigationAllowed) {\n    const Template = isCourseAssessment ? CourseAssessmentTemplate : isCourseOverview ? CourseOverviewTemplate : CourseLessonTemplate;\n    const wrapped = (\n      <Template breadcrumbs={breadcrumbs}>\n        {showCourseProgress ? <ProgressBar /> : null}\n        {body}\n      </Template>\n    );\n    return (\n      <Layout title={meta.title} description={meta.description}>\n        {wrapped}\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout title={meta.title} description={meta.description}>\n      {body}\n    </Layout>\n  );\n}\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { AnimatePresence, LazyMotion, domAnimation, m, useReducedMotion } from \"framer-motion\";\nimport { motionTransition } from \"@/lib/motion\";\n\nexport default function ContentsSidebar({\n  headings = [],\n  activeId = \"\",\n  mobileOpen = false,\n  initialOpen = true,\n  className = \"\",\n  onNavigate,\n  onClose,\n}) {\n  const [open, setOpen] = useState(initialOpen);\n  const [expanded, setExpanded] = useState({});\n  const navId = mobileOpen ? \"contents-nav-mobile\" : \"contents-nav-desktop\";\n  const reduce = useReducedMotion();\n  // Avoid hydration mismatch: server render cannot know matchMedia, so start false and update on mount.\n  const [isDesktop, setIsDesktop] = useState(false);\n\n  useEffect(() => {\n    const mq = window.matchMedia(\"(min-width: 1024px)\");\n    const update = () => setIsDesktop(mq.matches);\n    update();\n    mq.addEventListener?.(\"change\", update);\n    return () => mq.removeEventListener?.(\"change\", update);\n  }, []);\n\n  // Build a simple section tree: h2 with following h3 children\n  const sections = useMemo(() => {\n    const result = [];\n    headings.forEach((h) => {\n      if (h.depth === 2) {\n        result.push({ ...h, children: [] });\n      } else if (h.depth === 3 && result.length) {\n        result[result.length - 1].children.push(h);\n      }\n    });\n    return result;\n  }, [headings]);\n\n  // Reset expanded state when headings change (keep everything collapsed until explicitly expanded)\n  useEffect(() => {\n    if (!sections.length) return;\n    setExpanded({});\n  }, [sections]);\n\n  return (\n    <>\n      <LazyMotion features={domAnimation}>\n        <AnimatePresence initial={false}>\n          {mobileOpen ? (\n            <m.button\n              type=\"button\"\n              aria-label=\"Close contents\"\n              className=\"fixed inset-0 z-30 bg-black/35 backdrop-blur-sm lg:hidden\"\n              onClick={onClose}\n              initial={reduce ? false : { opacity: 0 }}\n              animate={reduce ? false : { opacity: 1 }}\n              exit={reduce ? undefined : { opacity: 0 }}\n              transition={reduce ? { duration: 0 } : motionTransition}\n            />\n          ) : null}\n        </AnimatePresence>\n\n        <m.aside\n          aria-label=\"On-page contents\"\n          className={`fixed inset-y-0 left-0 z-40 w-10/12 max-w-sm overflow-y-auto bg-[var(--surface)] p-4 shadow-xl lg:inset-auto lg:block lg:w-72 lg:max-w-xs lg:p-0 lg:shadow-none lg:sticky lg:top-24 lg:h-[calc(100vh-140px)] ${className}`}\n          initial={false}\n          animate={\n            reduce\n              ? undefined\n              : isDesktop\n              ? { x: 0, opacity: 1 }\n              : mobileOpen\n              ? { x: 0, opacity: 1 }\n              : { x: \"-100%\", opacity: 1 }\n          }\n          transition={reduce ? { duration: 0 } : motionTransition}\n          style={reduce ? undefined : { willChange: \"transform\" }}\n        >\n          <div className=\"sticky top-4 rounded-2xl border border-[color:var(--line)] bg-[var(--surface)]/95 p-3 shadow-sm backdrop-blur lg:top-4\">\n            <div className=\"flex items-center justify-between gap-2\">\n              <span className=\"text-sm font-semibold text-[var(--text-body)]\">Contents</span>\n              <button\n                onClick={() => setOpen((v) => !v)}\n                className=\"rounded-full border border-[color:var(--line)] px-3 py-1 text-sm text-[var(--text-body)] hover:bg-[var(--surface-2)] focus:outline-none focus:ring focus:ring-blue-200\"\n                aria-expanded={open}\n                aria-controls={navId}\n              >\n                {open ? \"Hide\" : \"Show\"}\n              </button>\n            </div>\n            {open ? (\n              <nav aria-label=\"Contents\" id={navId} className=\"mt-3\">\n                <ul className=\"space-y-1 text-sm\">\n                  {sections.map((section) => {\n                    const isActive = activeId === section.id;\n                    const isExpanded = expanded[section.id] ?? false;\n                    return (\n                      <li key={section.id}>\n                        <div\n                          className={`flex items-center justify-between rounded px-2 py-1 ${\n                            isActive ? \"bg-blue-50 text-blue-800\" : \"text-[var(--text-body)]\"\n                          }`}\n                        >\n                          <a\n                            className=\"flex-1 text-left hover:underline focus:outline-none focus:ring focus:ring-blue-200\"\n                            href={`#${section.id}`}\n                            aria-current={isActive ? \"location\" : undefined}\n                            onClick={(event) => {\n                              setExpanded((prev) => ({ ...prev, [section.id]: true }));\n                              if (typeof onNavigate === \"function\") onNavigate(event);\n                              if (typeof onClose === \"function\" && mobileOpen) onClose(event);\n                            }}\n                          >\n                            {section.title}\n                          </a>\n                          <button\n                            type=\"button\"\n                            className=\"ml-2 rounded-full border border-[color:var(--line)] px-2 text-sm text-[var(--text-muted)] hover:bg-[var(--surface-2)] focus:outline-none focus:ring focus:ring-blue-200\"\n                            aria-label={isExpanded ? `Collapse ${section.title}` : `Expand ${section.title}`}\n                            aria-expanded={isExpanded}\n                            aria-controls={`${section.id}-children`}\n                            onClick={() => setExpanded((prev) => ({ ...prev, [section.id]: !isExpanded }))}\n                          >\n                            {isExpanded ? \"-\" : \"+\"}\n                          </button>\n                        </div>\n                        {isExpanded && section.children.length ? (\n                          <ul\n                            id={`${section.id}-children`}\n                            className=\"ml-2 mt-1 space-y-1 border-l border-[color:var(--line)] pl-2\"\n                          >\n                            {section.children.map((c) => (\n                              <li key={c.id}>\n                                <a\n                                  className={`block rounded px-2 py-1 text-sm ${\n                                    activeId === c.id ? \"bg-blue-50 text-blue-800\" : \"text-[var(--text-body)]\"\n                                  } hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200`}\n                                  href={`#${c.id}`}\n                                  aria-current={activeId === c.id ? \"location\" : undefined}\n                                  onClick={(event) => {\n                                    if (typeof onNavigate === \"function\") onNavigate(event);\n                                    if (typeof onClose === \"function\" && mobileOpen) onClose(event);\n                                  }}\n                                >\n                                  {c.title}\n                                </a>\n                              </li>\n                            ))}\n                          </ul>\n                        ) : null}\n                      </li>\n                    );\n                  })}\n                </ul>\n              </nav>\n            ) : null}\n          </div>\n        </m.aside>\n      </LazyMotion>\n    </>\n  );\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nexport default function ProgressBar() {\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const handler = () => {\n      const doc = document.documentElement;\n      const scrolled = doc.scrollTop;\n      const height = doc.scrollHeight - doc.clientHeight;\n      const value = height > 0 ? Math.min(100, Math.max(0, (scrolled / height) * 100)) : 0;\n      setProgress(value);\n    };\n    handler();\n    window.addEventListener(\"scroll\", handler, { passive: true });\n    return () => window.removeEventListener(\"scroll\", handler);\n  }, []);\n\n  return (\n    <div className=\"sticky top-0 z-30 h-1.5 w-full bg-transparent\">\n      <div\n        className=\"h-full rounded-full bg-gradient-to-r from-blue-500 to-emerald-400 transition-[width] duration-200 ease-out\"\n        style={{ width: `${progress}%` }}\n        aria-label=\"Page progress\"\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { AnimatePresence, LazyMotion, domAnimation, m, useReducedMotion } from \"framer-motion\";\nimport { motionPresets, reducedMotionProps } from \"@/lib/motion\";\n\nexport default function NotesStepper({ items, activeLevelId }) {\n  const reduce = useReducedMotion();\n  return (\n    <div className=\"mb-6 w-full rounded-2xl border border-[color:var(--line)] bg-[var(--surface)]/80 p-4 shadow-sm\">\n      <div className=\"text-xs uppercase tracking-[0.18em] text-gray-500 mb-2\">Progress</div>\n      <LazyMotion features={domAnimation}>\n        <div className=\"grid gap-2 [grid-template-columns:repeat(auto-fit,minmax(9.5rem,1fr))]\">\n          <AnimatePresence initial={false}>\n            {items.map((item) => {\n              const isActive = activeLevelId ? item.id === activeLevelId : item.active;\n              return (\n                <m.div key={item.label} {...reducedMotionProps(reduce, motionPresets.slideUp)}>\n                  <Link\n                    href={item.href}\n                    aria-current={isActive ? \"page\" : undefined}\n                    className={`flex w-full items-center justify-center ${activeLevelId ? \"gap-2\" : \"gap-1\"} rounded-full border px-3 py-2 text-sm font-semibold transition focus:outline-none focus:ring focus:ring-blue-200 ${\n                      isActive ? \"bg-blue-600 text-white border-blue-600\" : \"bg-[var(--surface)] text-[var(--text-body)] border-[color:var(--line)] hover:bg-[var(--surface-2)]\"\n                    }`}\n                  >\n                    <span>{item.label}</span>\n                    {activeLevelId && isActive ? (\n                      <span className=\"rounded-full bg-white/20 px-2 py-0.5 text-[10px] uppercase tracking-wide text-white\">\n                        Current\n                      </span>\n                    ) : null}\n                  </Link>\n                </m.div>\n              );\n            })}\n          </AnimatePresence>\n        </div>\n      </LazyMotion>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\nconst STORAGE_KEY = \"rn_preview_banner_dismissed\";\n\nfunction getSessionDismissed() {\n  try {\n    return window.sessionStorage.getItem(STORAGE_KEY) === \"1\";\n  } catch {\n    return false;\n  }\n}\n\nfunction setSessionDismissed() {\n  try {\n    window.sessionStorage.setItem(STORAGE_KEY, \"1\");\n  } catch {\n    // ignore storage errors\n  }\n}\n\nexport default function PreviewBanner() {\n  const pathname = usePathname();\n  const [dismissed, setDismissed] = useState(true);\n\n  useEffect(() => {\n    setDismissed(getSessionDismissed());\n  }, []);\n\n  const feedbackHref = useMemo(() => {\n    if (pathname === \"/feedback\") return \"#feedback-form\";\n    return \"/feedback#feedback-form\";\n  }, [pathname]);\n\n  if (dismissed) return null;\n\n  return (\n    <div className=\"border-b border-slate-200 bg-slate-50/70\">\n      <div className=\"mx-auto flex max-w-[1200px] items-start justify-between gap-3 px-4 py-2\">\n        <p\n          className=\"m-0 min-w-0 text-sm text-slate-700\"\n          style={{\n            display: \"-webkit-box\",\n            WebkitLineClamp: 2,\n            WebkitBoxOrient: \"vertical\",\n            overflow: \"hidden\",\n          }}\n        >\n          This site is an open access preview of Ransfords Notes. Content and tools are still evolving based on feedback. CPD accreditation\n          is planned but not yet submitted.\n        </p>\n\n        <div className=\"flex shrink-0 items-center gap-2\">\n          <Link\n            href={feedbackHref}\n            className=\"rounded-full border border-slate-200 bg-white px-3 py-1 text-xs font-semibold text-slate-800 shadow-sm hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            onClick={(e) => {\n              if (pathname !== \"/feedback\") return;\n              // Smooth scroll when already on the feedback page.\n              e.preventDefault();\n              const el = document.getElementById(\"feedback-form\");\n              if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n              else window.location.hash = \"feedback-form\";\n            }}\n          >\n            Leave feedback\n          </Link>\n\n          <button\n            type=\"button\"\n            className=\"rounded-full border border-transparent px-2 py-1 text-xs font-semibold text-slate-600 hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            onClick={() => {\n              setSessionDismissed();\n              setDismissed(true);\n            }}\n            aria-label=\"Dismiss preview banner\"\n          >\n            Dismiss\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\nconst OPTIONS = [\"Family\", \"Friend\", \"Work colleague\", \"Other\"] as const;\n\nfunction sanitizeText(input: unknown, maxLen: number) {\n  const raw = typeof input === \"string\" ? input : \"\";\n  return raw.replace(/[\\u0000-\\u0008\\u000B\\u000C\\u000E-\\u001F\\u007F]/g, \"\").trim().slice(0, maxLen);\n}\n\nfunction cryptoRandomId() {\n  try {\n    const bytes = new Uint8Array(12);\n    window.crypto.getRandomValues(bytes);\n    return Array.from(bytes)\n      .map((b) => b.toString(16).padStart(2, \"0\"))\n      .join(\"\");\n  } catch {\n    return `${Date.now().toString(16)}${Math.random().toString(16).slice(2, 10)}`;\n  }\n}\n\nfunction getSessionId() {\n  try {\n    const key = \"rn_feedback_session_v1\";\n    const existing = window.sessionStorage.getItem(key);\n    if (existing) return existing;\n    const id = cryptoRandomId();\n    window.sessionStorage.setItem(key, id);\n    return id;\n  } catch {\n    return cryptoRandomId();\n  }\n}\n\nexport default function FeedbackPanel() {\n  const pathname = usePathname() || \"/\";\n  const [name, setName] = useState(\"\");\n  const [heardFrom, setHeardFrom] = useState<(typeof OPTIONS)[number]>(OPTIONS[0]);\n  const [message, setMessage] = useState(\"\");\n  const [status, setStatus] = useState<\"idle\" | \"loading\" | \"success\" | \"error\">(\"idle\");\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  const canSubmit = useMemo(() => sanitizeText(message, 1500).length > 0, [message]);\n\n  const submit = async () => {\n    const cleanMessage = sanitizeText(message, 1500);\n    if (!cleanMessage) return;\n\n    setStatus(\"loading\");\n    setErrorMessage(null);\n    try {\n      const payload = {\n        name: sanitizeText(name, 80) || \"\",\n        heardFrom,\n        message: cleanMessage,\n        pageUrl: pathname,\n        sessionId: getSessionId(),\n      };\n\n      const res = await fetch(\"/api/feedback\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok) {\n        setStatus(\"error\");\n        setErrorMessage(typeof data?.message === \"string\" ? data.message : \"Could not send feedback.\");\n        return;\n      }\n      setStatus(\"success\");\n      setMessage(\"\");\n    } catch {\n      setStatus(\"error\");\n      setErrorMessage(\"Could not send feedback.\");\n    }\n  };\n\n  return (\n    <section className=\"mt-6 rounded-3xl border border-slate-200 bg-white/90 p-5 shadow-sm\" aria-label=\"Feedback\">\n      <div className=\"space-y-2\">\n        <h2 className=\"text-lg font-semibold text-slate-900\">Quick feedback</h2>\n        <p className=\"text-sm text-slate-700\">\n          Optional. This helps improve accuracy and usefulness. No accounts required.\n        </p>\n      </div>\n\n      {status === \"success\" ? (\n        <p className=\"mt-3 text-sm font-semibold text-emerald-800\">Thank you. Your feedback has been received.</p>\n      ) : (\n        <div className=\"mt-4 grid gap-3\">\n          <label className=\"space-y-1\" htmlFor=\"panel-feedback-name\">\n            <span className=\"text-sm font-semibold text-slate-800\">Name (optional)</span>\n            <input\n              id=\"panel-feedback-name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"w-full rounded-xl border border-slate-200 p-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-400\"\n              placeholder=\"Your name\"\n            />\n          </label>\n\n          <label className=\"space-y-1\" htmlFor=\"panel-feedback-heard\">\n            <span className=\"text-sm font-semibold text-slate-800\">How did you hear about this site?</span>\n            <select\n              id=\"panel-feedback-heard\"\n              value={heardFrom}\n              onChange={(e) => setHeardFrom(e.target.value as any)}\n              className=\"w-full rounded-xl border border-slate-200 p-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-400\"\n            >\n              {OPTIONS.map((opt) => (\n                <option key={opt} value={opt}>\n                  {opt}\n                </option>\n              ))}\n            </select>\n          </label>\n\n          <label className=\"space-y-1\" htmlFor=\"panel-feedback-message\">\n            <span className=\"text-sm font-semibold text-slate-800\">Feedback</span>\n            <textarea\n              id=\"panel-feedback-message\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              rows={5}\n              maxLength={1500}\n              className=\"w-full rounded-xl border border-slate-200 p-3 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-400\"\n              placeholder=\"What worked well, what was confusing, or what is missing\"\n              required\n            />\n            <span className=\"text-xs text-slate-600\">Required.</span>\n          </label>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <button type=\"button\" className=\"button\" onClick={submit} disabled={!canSubmit || status === \"loading\"}>\n              {status === \"loading\" ? \"Sending...\" : \"Send feedback\"}\n            </button>\n            {status === \"error\" ? <span className=\"text-sm text-rose-700\">{errorMessage || \"Could not send feedback.\"}</span> : null}\n          </div>\n        </div>\n      )}\n    </section>\n  );\n}\n\n\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","export function highlightAnchorFromLocation() {\n  if (typeof window === \"undefined\") return;\n  const hash = window.location.hash || \"\";\n  if (!hash || hash.length < 2) return;\n  const id = decodeURIComponent(hash.slice(1));\n  if (!id) return;\n  const el = document.getElementById(id);\n  if (!el) return;\n\n  try {\n    el.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n  } catch {\n    // ignore\n  }\n\n  const prevOutline = (el as HTMLElement).style.outline;\n  const prevOutlineOffset = (el as HTMLElement).style.outlineOffset;\n  const prevBorderRadius = (el as HTMLElement).style.borderRadius;\n\n  (el as HTMLElement).style.outline = \"2px solid rgba(15, 23, 42, 0.35)\";\n  (el as HTMLElement).style.outlineOffset = \"6px\";\n  (el as HTMLElement).style.borderRadius = \"12px\";\n\n  window.setTimeout(() => {\n    try {\n      (el as HTMLElement).style.outline = prevOutline;\n      (el as HTMLElement).style.outlineOffset = prevOutlineOffset;\n      (el as HTMLElement).style.borderRadius = prevBorderRadius;\n    } catch {\n      // ignore\n    }\n  }, 1200);\n}\n\n","export const motionTransition = {\n  duration: 0.22,\n  ease: \"easeInOut\",\n};\n\nexport const motionPresets = {\n  fadeIn: {\n    initial: { opacity: 0 },\n    animate: { opacity: 1 },\n    exit: { opacity: 0 },\n  },\n  slideUp: {\n    initial: { opacity: 0, y: 10 },\n    animate: { opacity: 1, y: 0 },\n    exit: { opacity: 0, y: 8 },\n  },\n  scaleIn: {\n    initial: { opacity: 0, scale: 0.98 },\n    animate: { opacity: 1, scale: 1 },\n    exit: { opacity: 0, scale: 0.98 },\n  },\n  softPulse: {\n    // single breath only (no loop)\n    initial: { opacity: 0.7 },\n    animate: { opacity: 1 },\n    exit: { opacity: 0 },\n  },\n};\n\nexport function reducedMotionProps(reduce, preset) {\n  if (reduce) {\n    return { initial: false, animate: false, exit: undefined, transition: { duration: 0 } };\n  }\n  return {\n    ...preset,\n    transition: motionTransition,\n  };\n}\n\n\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n}\n\nexport { isNone };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete, custom } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent, { custom: custom !== null && custom !== void 0 ? custom : this.node.getProps().custom });\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { getTestingOverrideDecision } from \"@/lib/testingMode\";\n\nexport default function TestingModeBanner() {\n  const { allowed } = getTestingOverrideDecision();\n  if (!allowed) return null;\n\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      className=\"border-b border-amber-200 bg-amber-50 text-amber-900\"\n    >\n      <div className=\"mx-auto flex max-w-6xl items-center justify-between gap-3 px-4 py-2\">\n        <p className=\"m-0 text-sm font-semibold\">Testing mode is enabled. All pages are temporarily unlocked.</p>\n        <span className=\"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-900 ring-1 ring-amber-200\">\n          NEXT_PUBLIC_TESTING_MODE=true\n        </span>\n      </div>\n    </div>\n  );\n}\n\n\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { mix } from '../mix.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"prepare\",\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => {\n        steps[stepId].process(state);\n    };\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { animateValue } from './js/index.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nfunction createInstantAnimation({ keyframes, delay, onUpdate, onComplete, }) {\n    const setValue = () => {\n        onUpdate && onUpdate(keyframes[keyframes.length - 1]);\n        onComplete && onComplete();\n        /**\n         * TODO: As this API grows it could make sense to always return\n         * animateValue. This will be a bigger project as animateValue\n         * is frame-locked whereas this function resolves instantly.\n         * This is a behavioural change and also has ramifications regarding\n         * assumptions within tests.\n         */\n        return {\n            time: 0,\n            speed: 1,\n            duration: 0,\n            play: (noop),\n            pause: (noop),\n            stop: (noop),\n            then: (resolve) => {\n                resolve();\n                return Promise.resolve();\n            },\n            cancel: (noop),\n            complete: (noop),\n        };\n    };\n    return delay\n        ? animateValue({\n            keyframes: [0, 1],\n            duration: 0,\n            delay,\n            onComplete: setValue,\n        })\n        : setValue();\n}\n\nexport { createInstantAnimation };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.custom);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nconst parseDomVariant = (visualElement, target, origin, transitionEnd) => {\n    const resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","import * as React from 'react';\nimport { useId, useRef, useInsertionEffect } from 'react';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\n\n/**\n * @public\n */\nconst m = createMotionProxy(createDomMotionConfig);\n\nexport { m };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { mix } from '../../utils/mix.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t > timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { isNone } from './is-none.mjs';\n\nfunction getKeyframes(value, valueName, target, transition) {\n    const isTargetAnimatable = isAnimatable(valueName, target);\n    let keyframes;\n    if (Array.isArray(target)) {\n        keyframes = [...target];\n    }\n    else {\n        keyframes = [null, target];\n    }\n    const defaultOrigin = transition.from !== undefined ? transition.from : value.get();\n    let animatableTemplateValue = undefined;\n    const noneKeyframeIndexes = [];\n    for (let i = 0; i < keyframes.length; i++) {\n        /**\n         * Fill null/wildcard keyframes\n         */\n        if (keyframes[i] === null) {\n            keyframes[i] = i === 0 ? defaultOrigin : keyframes[i - 1];\n        }\n        if (isNone(keyframes[i])) {\n            noneKeyframeIndexes.push(i);\n        }\n        // TODO: Clean this conditional, it works for now\n        if (typeof keyframes[i] === \"string\" &&\n            keyframes[i] !== \"none\" &&\n            keyframes[i] !== \"0\") {\n            animatableTemplateValue = keyframes[i];\n        }\n    }\n    if (isTargetAnimatable &&\n        noneKeyframeIndexes.length &&\n        animatableTemplateValue) {\n        for (let i = 0; i < noneKeyframeIndexes.length; i++) {\n            const index = noneKeyframeIndexes[i];\n            keyframes[index] = getAnimatableNone(valueName, animatableTemplateValue);\n        }\n    }\n    return keyframes;\n}\n\nexport { getKeyframes };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { parseDomVariant } from './utils/parse-dom-variant.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    makeTargetAnimatableFromInstance({ transition, transitionEnd, ...target }, isMounted) {\n        const origin = getOrigin(target, transition || {}, this);\n        if (isMounted) {\n            checkTargetForNewValues(this, target, origin);\n            const parsed = parseDomVariant(this, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return {\n            transition,\n            transitionEnd,\n            ...target,\n        };\n    }\n}\n\nexport { DOMVisualElement };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => visualElement.notify(\"AnimationComplete\", definition));\n}\n\nexport { animateVisualElement };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { animations } from '../../motion/features/animations.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\n\n/**\n * @public\n */\nconst domAnimation = {\n    renderer: createDomVisualElement,\n    ...animations,\n    ...gestureAnimations,\n};\n\nexport { domAnimation };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token, fallback] = match;\n    return [token, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    else if (isCSSVariableToken(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, { ...target }, transitionEnd) {\n    const element = visualElement.current;\n    if (!(element instanceof Element))\n        return { target, transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = { ...transitionEnd };\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.values.forEach((value) => {\n        const current = value.get();\n        if (!isCSSVariableToken(current))\n            return;\n        const resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (const key in target) {\n        const current = target[key];\n        if (!isCSSVariableToken(current))\n            continue;\n        const resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        if (!transitionEnd)\n            transitionEnd = {};\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd[key] === undefined) {\n            transitionEnd[key] = current;\n        }\n    }\n    return { target, transitionEnd };\n}\n\nexport { parseCSSVariable, resolveCSSVariables };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","import * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { loadFeatures } from '../../motion/features/load-features.mjs';\n\n/**\n * Used in conjunction with the `m` component to reduce bundle size.\n *\n * `m` is a version of the `motion` component that only loads functionality\n * critical for the initial render.\n *\n * `LazyMotion` can then be used to either synchronously or asynchronously\n * load animation and gesture support.\n *\n * ```jsx\n * // Synchronous loading\n * import { LazyMotion, m, domAnimation } from \"framer-motion\"\n *\n * function App() {\n *   return (\n *     <LazyMotion features={domAnimation}>\n *       <m.div animate={{ scale: 2 }} />\n *     </LazyMotion>\n *   )\n * }\n *\n * // Asynchronous loading\n * import { LazyMotion, m } from \"framer-motion\"\n *\n * function App() {\n *   return (\n *     <LazyMotion features={() => import('./path/to/domAnimation')}>\n *       <m.div animate={{ scale: 2 }} />\n *     </LazyMotion>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction LazyMotion({ children, features, strict = false }) {\n    const [, setIsLoaded] = useState(!isLazyBundle(features));\n    const loadedRenderer = useRef(undefined);\n    /**\n     * If this is a synchronous load, load features immediately\n     */\n    if (!isLazyBundle(features)) {\n        const { renderer, ...loadedFeatures } = features;\n        loadedRenderer.current = renderer;\n        loadFeatures(loadedFeatures);\n    }\n    useEffect(() => {\n        if (isLazyBundle(features)) {\n            features().then(({ renderer, ...loadedFeatures }) => {\n                loadFeatures(loadedFeatures);\n                loadedRenderer.current = renderer;\n                setIsLoaded(true);\n            });\n        }\n    }, []);\n    return (React.createElement(LazyContext.Provider, { value: { renderer: loadedRenderer.current, strict } }, children));\n}\nfunction isLazyBundle(features) {\n    return typeof features === \"function\";\n}\n\nexport { LazyMotion };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"11.0.3\", `Attempting to mix Framer Motion versions ${nextValue.version} with 11.0.3 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","import { useState } from 'react';\nimport { initPrefersReducedMotion } from './index.mjs';\nimport { warnOnce } from '../warn-once.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\n/**\n * A hook that returns `true` if we should be using reduced motion based on the current device's Reduced Motion setting.\n *\n * This can be used to implement changes to your UI based on Reduced Motion. For instance, replacing motion-sickness inducing\n * `x`/`y` animations with `opacity`, disabling the autoplay of background videos, or turning off parallax motion.\n *\n * It will actively respond to changes and re-render your components with the latest setting.\n *\n * ```jsx\n * export function Sidebar({ isOpen }) {\n *   const shouldReduceMotion = useReducedMotion()\n *   const closedX = shouldReduceMotion ? 0 : \"-100%\"\n *\n *   return (\n *     <motion.div animate={{\n *       opacity: isOpen ? 1 : 0,\n *       x: isOpen ? 0 : closedX\n *     }} />\n *   )\n * }\n * ```\n *\n * @return boolean\n *\n * @public\n */\nfunction useReducedMotion() {\n    /**\n     * Lazy initialisation of prefersReducedMotion\n     */\n    !hasReducedMotionListener.current && initPrefersReducedMotion();\n    const [shouldReduceMotion] = useState(prefersReducedMotion.current);\n    if (process.env.NODE_ENV !== \"production\") {\n        warnOnce(shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n    }\n    /**\n     * TODO See if people miss automatically updating shouldReduceMotion setting\n     */\n    return shouldReduceMotion;\n}\n\nexport { useReducedMotion };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","import { cssVariableRegex } from '../../../render/dom/utils/is-css-variable.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { colorRegex, floatRegex, isString, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst cssVarTokeniser = {\n    regex: cssVariableRegex,\n    countKey: \"Vars\",\n    token: \"${v}\",\n    parse: noop,\n};\nconst colorTokeniser = {\n    regex: colorRegex,\n    countKey: \"Colors\",\n    token: \"${c}\",\n    parse: color.parse,\n};\nconst numberTokeniser = {\n    regex: floatRegex,\n    countKey: \"Numbers\",\n    token: \"${n}\",\n    parse: number.parse,\n};\nfunction tokenise(info, { regex, countKey, token, parse }) {\n    const matches = info.tokenised.match(regex);\n    if (!matches)\n        return;\n    info[\"num\" + countKey] = matches.length;\n    info.tokenised = info.tokenised.replace(regex, token);\n    info.values.push(...matches.map(parse));\n}\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const info = {\n        value: originalValue,\n        tokenised: originalValue,\n        values: [],\n        numVars: 0,\n        numColors: 0,\n        numNumbers: 0,\n    };\n    if (info.value.includes(\"var(--\"))\n        tokenise(info, cssVarTokeniser);\n    tokenise(info, colorTokeniser);\n    tokenise(info, numberTokeniser);\n    return info;\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { values, numColors, numVars, tokenised } = analyseComplexValue(source);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            if (i < numVars) {\n                output = output.replace(cssVarTokeniser.token, v[i]);\n            }\n            else if (i < numVars + numColors) {\n                output = output.replace(colorTokeniser.token, color.transform(v[i]));\n            }\n            else {\n                output = output.replace(numberTokeniser.token, sanitize(v[i]));\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"11.0.3\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            frame.update(() => props[callbackName](event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","import { mix } from './mix.mjs';\nimport { invariant } from './errors.mjs';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\nimport { hex } from '../value/types/color/hex.mjs';\nimport { rgba } from '../value/types/color/rgba.mjs';\nimport { hsla } from '../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    return Math.sqrt(Math.max(0, v * (to * to - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mix(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../value/types/complex/index.mjs';\n\nconst mixImmediate = (origin, target) => (p) => `${p > 0 ? target : origin}`;\nfunction getMixer(origin, target) {\n    if (typeof origin === \"number\") {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return origin.startsWith(\"var(\")\n            ? mixImmediate(origin, target)\n            : mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = { ...origin, ...target };\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.numVars === targetStats.numVars &&\n        originStats.numColors === targetStats.numColors &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.values, targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","import { useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = {\n            ...filteredProps,\n            ...visualProps,\n            ref,\n        };\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             */\n            if (shouldAnimateType && (!isInherited || handledRemovedValues)) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type, ...options },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(options, type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { getValueTransition } from '../utils/transitions.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction hasKeyframesChanged(value, target) {\n    const current = value.get();\n    if (Array.isArray(target)) {\n        for (let i = 0; i < target.length; i++) {\n            if (target[i] !== current)\n                return true;\n        }\n    }\n    else {\n        return current !== target;\n    }\n}\nfunction animateTarget(visualElement, definition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = visualElement.makeTargetAnimatable(definition);\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key);\n        const valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            elapsed: 0,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        if (window.HandoffAppearAnimations) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                const elapsed = window.HandoffAppearAnimations(appearId, key, value, frame);\n                if (elapsed !== null) {\n                    valueTransition.elapsed = elapsed;\n                    valueTransition.isHandoff = true;\n                }\n            }\n        }\n        let canSkip = !valueTransition.isHandoff &&\n            !hasKeyframesChanged(value, valueTarget);\n        if (valueTransition.type === \"spring\" &&\n            (value.getVelocity() || valueTransition.velocity)) {\n            canSkip = false;\n        }\n        /**\n         * Temporarily disable skipping animations if there's an animation in\n         * progress. Better would be to track the current target of a value\n         * and compare that against valueTarget.\n         */\n        if (value.animation) {\n            canSkip = false;\n        }\n        if (canSkip)\n            continue;\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition));\n        const animation = value.animation;\n        if (isWillChangeMotionValue(willChange)) {\n            willChange.add(key);\n            animation.then(() => willChange.remove(key));\n        }\n        animations.push(animation);\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            transitionEnd && setTarget(visualElement, transitionEnd);\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nimport { isBrowser } from '../../../utils/is-browser.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isPositionalKey = (key) => positionalKeys.has(key);\nconst hasPositionalKey = (target) => {\n    return Object.keys(target).some(isPositionalKey);\n};\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.render();\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nconst convertChangedValueTypes = (target, visualElement, changedKeys) => {\n    const originBbox = visualElement.measureViewportBox();\n    const element = visualElement.current;\n    const elementComputedStyle = getComputedStyle(element);\n    const { display } = elementComputedStyle;\n    const origin = {};\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    /**\n     * Record origins before we render and update styles\n     */\n    changedKeys.forEach((key) => {\n        origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n    });\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.render();\n    const targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach((key) => {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        const value = visualElement.getValue(key);\n        value && value.jump(origin[key]);\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nconst checkAndConvertChangedValueTypes = (visualElement, target, origin = {}, transitionEnd = {}) => {\n    target = { ...target };\n    transitionEnd = { ...transitionEnd };\n    const targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    let removedTransformValues = [];\n    let hasAttemptedToRemoveTransformValues = false;\n    const changedValueTypeKeys = [];\n    targetPositionalKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        let from = origin[key];\n        let fromType = findDimensionValueType(from);\n        const to = target[key];\n        let toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            const numKeyframes = to.length;\n            const fromIndex = to[0] === null ? 1 : 0;\n            from = to[fromIndex];\n            fromType = findDimensionValueType(from);\n            for (let i = fromIndex; i < numKeyframes; i++) {\n                /**\n                 * Don't allow wildcard keyframes to be used to detect\n                 * a difference in value types.\n                 */\n                if (to[i] === null)\n                    break;\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                const current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues =\n                        removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                value.jump(to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        const scrollY = changedValueTypeKeys.indexOf(\"height\") >= 0\n            ? window.pageYOffset\n            : null;\n        const convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(([key, value]) => {\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.render();\n        // Restore scroll position\n        if (isBrowser && scrollY !== null) {\n            window.scrollTo({ top: scrollY });\n        }\n        return { target: convertedTarget, transitionEnd };\n    }\n    else {\n        return { target, transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target, transitionEnd };\n}\n\nexport { positionalValues, unitConversion };\n","/**\n * Temporary testing override.\n *\n * When enabled, access checks should treat everything as \"allowed\" so the site can be QA tested\n * on preview/prod environments without deleting or weakening the underlying access model.\n *\n * Turn off by removing the env var or setting it to \"false\".\n */\nexport const TESTING_MODE_ENABLED =\n  process.env.NEXT_PUBLIC_TESTING_MODE === \"true\";\n\nexport type TestingOverrideDecision =\n  | { allowed: true; reason: \"testing-mode\" }\n  | { allowed: false; reason: \"disabled\" };\n\n/**\n * Single source of truth for the temporary QA/testing override.\n * Do not fake roles or delete access logic  just return early when enabled.\n */\nexport function getTestingOverrideDecision(): TestingOverrideDecision {\n  if (process.env.NEXT_PUBLIC_TESTING_MODE === \"true\") {\n    return { allowed: true, reason: \"testing-mode\" };\n  }\n  return { allowed: false, reason: \"disabled\" };\n}\n\n\n\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { animateStyle } from './index.mjs';\nimport { isWaapiSupportedEasing } from './easing.mjs';\nimport { getFinalKeyframe } from './utils/get-final-keyframe.mjs';\nimport { animateValue } from '../js/index.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { memo } from '../../../utils/memo.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    \"backgroundColor\",\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\nconst requiresPregeneratedKeyframes = (valueName, options) => options.type === \"spring\" ||\n    valueName === \"backgroundColor\" ||\n    !isWaapiSupportedEasing(options.ease);\nfunction createAcceleratedAnimation(value, valueName, { onUpdate, onComplete, ...options }) {\n    const canAccelerateAnimation = supportsWaapi() &&\n        acceleratedValues.has(valueName) &&\n        !options.repeatDelay &&\n        options.repeatType !== \"mirror\" &&\n        options.damping !== 0 &&\n        options.type !== \"inertia\";\n    if (!canAccelerateAnimation)\n        return false;\n    /**\n     * TODO: Unify with js/index\n     */\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Cancelling an animation will write to the DOM. For safety we want to defer\n     * this until the next `update` frame lifecycle. This flag tracks whether we\n     * have a pending cancel, if so we shouldn't allow animations to finish.\n     */\n    let pendingCancel = false;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let { keyframes, duration = 300, ease, times } = options;\n    /**\n     * If this animation needs pre-generated keyframes then generate.\n     */\n    if (requiresPregeneratedKeyframes(valueName, options)) {\n        const sampleAnimation = animateValue({\n            ...options,\n            repeat: 0,\n            delay: 0,\n        });\n        let state = { done: false, value: keyframes[0] };\n        const pregeneratedKeyframes = [];\n        /**\n         * Bail after 20 seconds of pre-generated keyframes as it's likely\n         * we're heading for an infinite loop.\n         */\n        let t = 0;\n        while (!state.done && t < maxDuration) {\n            state = sampleAnimation.sample(t);\n            pregeneratedKeyframes.push(state.value);\n            t += sampleDelta;\n        }\n        times = undefined;\n        keyframes = pregeneratedKeyframes;\n        duration = t - sampleDelta;\n        ease = \"linear\";\n    }\n    const animation = animateStyle(value.owner.current, valueName, keyframes, {\n        ...options,\n        duration,\n        /**\n         * This function is currently not called if ease is provided\n         * as a function so the cast is safe.\n         *\n         * However it would be possible for a future refinement to port\n         * in easing pregeneration from Motion One for browsers that\n         * support the upcoming `linear()` easing function.\n         */\n        ease: ease,\n        times,\n    });\n    const cancelAnimation = () => {\n        pendingCancel = false;\n        animation.cancel();\n    };\n    const safeCancel = () => {\n        pendingCancel = true;\n        frame.update(cancelAnimation);\n        resolveFinishedPromise();\n        updateFinishedPromise();\n    };\n    /**\n     * Prefer the `onfinish` prop as it's more widely supported than\n     * the `finished` promise.\n     *\n     * Here, we synchronously set the provided MotionValue to the end\n     * keyframe. If we didn't, when the WAAPI animation is finished it would\n     * be removed from the element which would then revert to its old styles.\n     */\n    animation.onfinish = () => {\n        if (pendingCancel)\n            return;\n        value.set(getFinalKeyframe(keyframes, options));\n        onComplete && onComplete();\n        safeCancel();\n    };\n    /**\n     * Animation interrupt callback.\n     */\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        attachTimeline(timeline) {\n            animation.timeline = timeline;\n            animation.onfinish = null;\n            return noop;\n        },\n        get time() {\n            return millisecondsToSeconds(animation.currentTime || 0);\n        },\n        set time(newTime) {\n            animation.currentTime = secondsToMilliseconds(newTime);\n        },\n        get speed() {\n            return animation.playbackRate;\n        },\n        set speed(newSpeed) {\n            animation.playbackRate = newSpeed;\n        },\n        get duration() {\n            return millisecondsToSeconds(duration);\n        },\n        play: () => {\n            if (hasStopped)\n                return;\n            animation.play();\n            /**\n             * Cancel any pending cancel tasks\n             */\n            cancelFrame(cancelAnimation);\n        },\n        pause: () => animation.pause(),\n        stop: () => {\n            hasStopped = true;\n            if (animation.playState === \"idle\")\n                return;\n            /**\n             * WAAPI doesn't natively have any interruption capabilities.\n             *\n             * Rather than read commited styles back out of the DOM, we can\n             * create a renderless JS animation and sample it twice to calculate\n             * its current value, \"previous\" value, and therefore allow\n             * Motion to calculate velocity for any subsequent animation.\n             */\n            const { currentTime } = animation;\n            if (currentTime) {\n                const sampleAnimation = animateValue({\n                    ...options,\n                    autoplay: false,\n                });\n                value.setWithVelocity(sampleAnimation.sample(currentTime - sampleDelta).value, sampleAnimation.sample(currentTime).value, sampleDelta);\n            }\n            safeCancel();\n        },\n        complete: () => {\n            if (pendingCancel)\n                return;\n            animation.finish();\n        },\n        cancel: safeCancel,\n    };\n    return controls;\n}\n\nexport { createAcceleratedAnimation };\n","import { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b;\n    const newValueKeys = Object.keys(target).filter((key) => !visualElement.hasValue(key));\n    const numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (let i = 0; i < numNewValues; i++) {\n        const key = newValueKeys[i];\n        const targetValue = target[key];\n        let value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" &&\n            (isNumericalString(value) || isZeroValueString(value))) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value, { owner: visualElement }));\n        if (origin[key] === undefined) {\n            origin[key] = value;\n        }\n        if (value !== null)\n            visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    const valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    const origin = {};\n    for (const key in target) {\n        const transitionOrigin = getOriginFromTransition(key, transition);\n        if (transitionOrigin !== undefined) {\n            origin[key] = transitionOrigin;\n        }\n        else {\n            const value = visualElement.getValue(key);\n            if (value) {\n                origin[key] = value.get();\n            }\n        }\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const wantsHandoff = useRef(Boolean(props[optimizedAppearDataAttribute] && !window.HandoffComplete));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        microtask.postRender(visualElement.render);\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            wantsHandoff.current = false;\n            // This ensures all future calls to animateChanges() will run in useEffect\n            window.HandoffComplete = true;\n        }\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Square\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Square = createLucideIcon('Square', [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n]);\n\nexport default Square;\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                // clean up the exiting children map\n                exitingChildren.delete(key);\n                // compute the keys of children that were rendered once but are no longer present\n                // this could happen in case of too many fast consequent renderings\n                // @link https://github.com/framer/motion/issues/2023\n                const leftOverKeys = Array.from(allChildren.keys()).filter((childKey) => !targetKeys.includes(childKey));\n                // clean up the all children map\n                leftOverKeys.forEach((leftOverKey) => allChildren.delete(leftOverKey));\n                // make sure to render only the children that are actually visible\n                presentChildren.current = filteredChildren.filter((presentChild) => {\n                    const presentChildKey = getChildKey(presentChild);\n                    return (\n                    // filter out the node exiting\n                    presentChildKey === key ||\n                        // filter out the leftover children\n                        leftOverKeys.includes(presentChildKey));\n                });\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            if (this.isPressing)\n                return;\n            this.removeEndListeners();\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel, globalTapTarget } = this.node.getProps();\n                frame.update(() => {\n                    /**\n                     * We only count this as a tap gesture if the event.target is the same\n                     * as, or a child of, this component's element\n                     */\n                    !globalTapTarget &&\n                        !isNodeOrChild(this.node.current, endEvent.target)\n                        ? onTapCancel && onTapCancel(endEvent, endInfo)\n                        : onTap && onTap(endEvent, endInfo);\n                });\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.update(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.update(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.update(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(props.globalTapTarget ? window : this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","import { invariant } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof v === \"string\") {\n        return color.test(v) ? mixColor : mixComplex;\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === \"object\") {\n        return mixObject;\n    }\n    return mixNumber;\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { keyframes } from '../../generators/keyframes.mjs';\nimport { spring } from '../../generators/spring/index.mjs';\nimport { inertia } from '../../generators/inertia.mjs';\nimport { frameloopDriver } from './driver-frameloop.mjs';\nimport { interpolate } from '../../../utils/interpolate.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../generators/utils/calc-duration.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\n\nconst types = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\n/**\n * Animate a single value on the main thread.\n *\n * This function is written, where functionality overlaps,\n * to be largely spec-compliant with WAAPI to allow fungibility\n * between the two.\n */\nfunction animateValue({ autoplay = true, delay = 0, driver = frameloopDriver, keyframes: keyframes$1, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", onPlay, onStop, onComplete, onUpdate, ...options }) {\n    let speed = 1;\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let animationDriver;\n    const generatorFactory = types[type] || keyframes;\n    /**\n     * If this isn't the keyframes generator and we've been provided\n     * strings as keyframes, we need to interpolate these.\n     */\n    let mapNumbersToKeyframes;\n    if (generatorFactory !== keyframes &&\n        typeof keyframes$1[0] !== \"number\") {\n        if (process.env.NODE_ENV !== \"production\") {\n            invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n        }\n        mapNumbersToKeyframes = interpolate([0, 100], keyframes$1, {\n            clamp: false,\n        });\n        keyframes$1 = [0, 100];\n    }\n    const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n    let mirroredGenerator;\n    if (repeatType === \"mirror\") {\n        mirroredGenerator = generatorFactory({\n            ...options,\n            keyframes: [...keyframes$1].reverse(),\n            velocity: -(options.velocity || 0),\n        });\n    }\n    let playState = \"idle\";\n    let holdTime = null;\n    let startTime = null;\n    let cancelTime = null;\n    /**\n     * If duration is undefined and we have repeat options,\n     * we need to calculate a duration from the generator.\n     *\n     * We set it to the generator itself to cache the duration.\n     * Any timeline resolver will need to have already precalculated\n     * the duration by this step.\n     */\n    if (generator.calculatedDuration === null && repeat) {\n        generator.calculatedDuration = calcGeneratorDuration(generator);\n    }\n    const { calculatedDuration } = generator;\n    let resolvedDuration = Infinity;\n    let totalDuration = Infinity;\n    if (calculatedDuration !== null) {\n        resolvedDuration = calculatedDuration + repeatDelay;\n        totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n    }\n    let currentTime = 0;\n    const tick = (timestamp) => {\n        if (startTime === null)\n            return;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (speed > 0)\n            startTime = Math.min(startTime, timestamp);\n        if (speed < 0)\n            startTime = Math.min(timestamp - totalDuration / speed, startTime);\n        if (holdTime !== null) {\n            currentTime = holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            currentTime = Math.round(timestamp - startTime) * speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = currentTime - delay * (speed >= 0 ? 1 : -1);\n        const isInDelayPhase = speed >= 0 ? timeWithoutDelay < 0 : timeWithoutDelay > totalDuration;\n        currentTime = Math.max(timeWithoutDelay, 0);\n        /**\n         * If this animation has finished, set the current time\n         * to the total duration.\n         */\n        if (playState === \"finished\" && holdTime === null) {\n            currentTime = totalDuration;\n        }\n        let elapsed = currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes$1[0] }\n            : frameGenerator.next(elapsed);\n        if (mapNumbersToKeyframes) {\n            state.value = mapNumbersToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done = speed >= 0 ? currentTime >= totalDuration : currentTime <= 0;\n        }\n        const isAnimationFinished = holdTime === null &&\n            (playState === \"finished\" || (playState === \"running\" && done));\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            finish();\n        }\n        return state;\n    };\n    const stopAnimationDriver = () => {\n        animationDriver && animationDriver.stop();\n        animationDriver = undefined;\n    };\n    const cancel = () => {\n        playState = \"idle\";\n        stopAnimationDriver();\n        resolveFinishedPromise();\n        updateFinishedPromise();\n        startTime = cancelTime = null;\n    };\n    const finish = () => {\n        playState = \"finished\";\n        onComplete && onComplete();\n        stopAnimationDriver();\n        resolveFinishedPromise();\n    };\n    const play = () => {\n        if (hasStopped)\n            return;\n        if (!animationDriver)\n            animationDriver = driver(tick);\n        const now = animationDriver.now();\n        onPlay && onPlay();\n        if (holdTime !== null) {\n            startTime = now - holdTime;\n        }\n        else if (!startTime || playState === \"finished\") {\n            startTime = now;\n        }\n        if (playState === \"finished\") {\n            updateFinishedPromise();\n        }\n        cancelTime = startTime;\n        holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        playState = \"running\";\n        animationDriver.start();\n    };\n    if (autoplay) {\n        play();\n    }\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        get time() {\n            return millisecondsToSeconds(currentTime);\n        },\n        set time(newTime) {\n            newTime = secondsToMilliseconds(newTime);\n            currentTime = newTime;\n            if (holdTime !== null || !animationDriver || speed === 0) {\n                holdTime = newTime;\n            }\n            else {\n                startTime = animationDriver.now() - newTime / speed;\n            }\n        },\n        get duration() {\n            const duration = generator.calculatedDuration === null\n                ? calcGeneratorDuration(generator)\n                : generator.calculatedDuration;\n            return millisecondsToSeconds(duration);\n        },\n        get speed() {\n            return speed;\n        },\n        set speed(newSpeed) {\n            if (newSpeed === speed || !animationDriver)\n                return;\n            speed = newSpeed;\n            controls.time = millisecondsToSeconds(currentTime);\n        },\n        get state() {\n            return playState;\n        },\n        play,\n        pause: () => {\n            playState = \"paused\";\n            holdTime = currentTime;\n        },\n        stop: () => {\n            hasStopped = true;\n            if (playState === \"idle\")\n                return;\n            playState = \"idle\";\n            onStop && onStop();\n            cancel();\n        },\n        cancel: () => {\n            if (cancelTime !== null)\n                tick(cancelTime);\n            cancel();\n        },\n        complete: () => {\n            playState = \"finished\";\n        },\n        sample: (elapsed) => {\n            startTime = 0;\n            return tick(elapsed);\n        },\n    };\n    return controls;\n}\n\nexport { animateValue };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { warning } from '../../utils/errors.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { createAcceleratedAnimation } from '../animators/waapi/create-accelerated-animation.mjs';\nimport { createInstantAnimation } from '../animators/instant.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isAnimatable } from '../utils/is-animatable.mjs';\nimport { getKeyframes } from '../utils/keyframes.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { animateValue } from '../animators/js/index.mjs';\nimport { MotionGlobalConfig } from '../../utils/GlobalConfig.mjs';\n\nconst animateMotionValue = (valueName, value, target, transition = {}) => {\n    return (onComplete) => {\n        const valueTransition = getValueTransition(transition, valueName) || {};\n        /**\n         * Most transition values are currently completely overwritten by value-specific\n         * transitions. In the future it'd be nicer to blend these transitions. But for now\n         * delay actually does inherit from the root transition if not value-specific.\n         */\n        const delay = valueTransition.delay || transition.delay || 0;\n        /**\n         * Elapsed isn't a public transition option but can be passed through from\n         * optimized appear effects in milliseconds.\n         */\n        let { elapsed = 0 } = transition;\n        elapsed = elapsed - secondsToMilliseconds(delay);\n        const keyframes = getKeyframes(value, valueName, target, valueTransition);\n        /**\n         * Check if we're able to animate between the start and end keyframes,\n         * and throw a warning if we're attempting to animate between one that's\n         * animatable and another that isn't.\n         */\n        const originKeyframe = keyframes[0];\n        const targetKeyframe = keyframes[keyframes.length - 1];\n        const isOriginAnimatable = isAnimatable(valueName, originKeyframe);\n        const isTargetAnimatable = isAnimatable(valueName, targetKeyframe);\n        warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${valueName} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n        let options = {\n            keyframes,\n            velocity: value.getVelocity(),\n            ease: \"easeOut\",\n            ...valueTransition,\n            delay: -elapsed,\n            onUpdate: (v) => {\n                value.set(v);\n                valueTransition.onUpdate && valueTransition.onUpdate(v);\n            },\n            onComplete: () => {\n                onComplete();\n                valueTransition.onComplete && valueTransition.onComplete();\n            },\n        };\n        /**\n         * If there's no transition defined for this value, we can generate\n         * unqiue transition settings for this value.\n         */\n        if (!isTransitionDefined(valueTransition)) {\n            options = {\n                ...options,\n                ...getDefaultTransition(valueName, options),\n            };\n        }\n        /**\n         * Both WAAPI and our internal animation functions use durations\n         * as defined by milliseconds, while our external API defines them\n         * as seconds.\n         */\n        if (options.duration) {\n            options.duration = secondsToMilliseconds(options.duration);\n        }\n        if (options.repeatDelay) {\n            options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n        }\n        if (!isOriginAnimatable ||\n            !isTargetAnimatable ||\n            instantAnimationState.current ||\n            valueTransition.type === false ||\n            MotionGlobalConfig.skipAnimations) {\n            /**\n             * If we can't animate this value, or the global instant animation flag is set,\n             * or this is simply defined as an instant transition, return an instant transition.\n             */\n            return createInstantAnimation(instantAnimationState.current\n                ? { ...options, delay: 0 }\n                : options);\n        }\n        /**\n         * Animate via WAAPI if possible.\n         */\n        if (\n        /**\n         * If this is a handoff animation, the optimised animation will be running via\n         * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n         * optimised animation.\n         */\n        !transition.isHandoff &&\n            value.owner &&\n            value.owner.current instanceof HTMLElement &&\n            /**\n             * If we're outputting values to onUpdate then we can't use WAAPI as there's\n             * no way to read the value from WAAPI every frame.\n             */\n            !value.owner.getProps().onUpdate) {\n            const acceleratedAnimation = createAcceleratedAnimation(value, valueName, options);\n            if (acceleratedAnimation)\n                return acceleratedAnimation;\n        }\n        /**\n         * If we didn't create an accelerated animation, create a JS animation\n         */\n        return animateValue(options);\n    };\n};\n\nexport { animateMotionValue };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate &&\n                frame.update(this.notifyUpdate, false, true);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if ((this.type === \"html\" || this.type === \"svg\") &&\n            !this.projection &&\n            ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Make a target animatable by Popmotion. For instance, if we're\n     * trying to animate width from 100px to 100vw we need to measure 100vw\n     * in pixels to determine what we really need to animate to. This is also\n     * pluggable to support Framer's custom value types like Color,\n     * and CSS variables.\n     */\n    makeTargetAnimatable(target, canMutate = true) {\n        return this.makeTargetAnimatableFromInstance(target, canMutate);\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key) {\n        var _a;\n        return this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_a = resolveVariantFromProps(this.props, initial)) === null || _a === void 0 ? void 0 : _a[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n"],"names":["NoopHead"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,48,49,50,51,52,53,54,55,56,57,58,59,61,62,63,69,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,187,188,189,190,191,192,193,194,195,196,197,198,199,200]}}]
}