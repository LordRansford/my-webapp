;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="dc2c1e2c-d8ca-7fd3-2b43-aeaf88108238")}catch(e){}}();
module.exports=[152346,a=>{"use strict";var b=a.i(218282),c=a.i(731626),d=a.i(572131),e=a.i(292e3),f=a.i(167453),g=a.i(641710),h=a.i(883706);let i=(0,h.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var j=a.i(942211);let k=(0,h.default)("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var l=a.i(669520),m=a.i(73570),n=a.i(156757);let o=n.z.enum(["OGL","CC0","public-domain-like","unknown","restrictive"]),p=n.z.enum(["dataset","advisory","rss","atom"]),q=n.z.object({exec_brief:n.z.string().min(1).max(500),engineer_detail:n.z.string().min(1).max(2e3),learner_explain:n.z.string().min(1).max(1e3)}),r=n.z.object({cve_id:n.z.string().regex(/^CVE-\d{4}-\d{4,}$/),cvss:n.z.object({v2:n.z.number().min(0).max(10).optional(),v3:n.z.number().min(0).max(10).optional(),v31:n.z.number().min(0).max(10).optional()}).optional(),cwe:n.z.array(n.z.string()).optional(),affected_products:n.z.array(n.z.string()).optional(),kev:n.z.boolean(),references:n.z.array(n.z.string().url())}),s=n.z.object({id:n.z.string().min(1),title:n.z.string().min(1).max(500),url:n.z.string().url(),publisher:n.z.string().min(1).max(200),published_at:n.z.string().datetime(),fetched_at:n.z.string().datetime(),source_id:n.z.string().min(1),source_type:p,licence_posture:o,content_hash:n.z.string().length(64),topic_tags:n.z.array(n.z.string()),audience_notes:q,raw:n.z.record(n.z.string(),n.z.unknown()),cve:r.optional()}),t=n.z.object({generated_at:n.z.string().datetime(),version:n.z.string(),source_count:n.z.number().int().min(0),item_count:n.z.number().int().min(0),per_source_counts:n.z.record(n.z.string(),n.z.number().int().min(0)),validation_passed:n.z.boolean(),errors:n.z.array(n.z.string()).optional()}),u=n.z.object({metadata:t,items:n.z.array(s)});async function v(){try{let a=await fetch("/api/updates/latest");if(!a.ok)throw Error(`Failed to load latest snapshot: ${a.status}`);let b=await a.json(),c=u.safeParse(b);if(c.success)return{success:!0,snapshot:c.data,isFallback:!1};console.warn("Latest snapshot validation failed, trying last-good snapshot");let d=await fetch("/api/updates/last-good");if(!d.ok)throw Error(`Failed to load last-good snapshot: ${d.status}`);let e=await d.json(),f=u.safeParse(e);if(f.success)return{success:!0,snapshot:f.data,isFallback:!0};return{success:!1,isFallback:!1,error:"Both latest and last-good snapshots failed validation"}}catch(a){return{success:!1,isFallback:!1,error:a instanceof Error?a.message:"Unknown error"}}}n.z.object({per_source_cursors:n.z.record(n.z.string(),n.z.object({last_fetched:n.z.string().datetime().optional(),last_etag:n.z.string().optional(),last_modified:n.z.string().datetime().optional(),last_item_id:n.z.string().optional()})),last_successful_run:n.z.string().datetime().optional()}),n.z.object({run_at:n.z.string().datetime(),duration_ms:n.z.number().int().min(0),sources_processed:n.z.number().int().min(0),sources_succeeded:n.z.number().int().min(0),sources_failed:n.z.number().int().min(0),items_added:n.z.number().int().min(0),items_updated:n.z.number().int().min(0),items_removed:n.z.number().int().min(0),validation_passed:n.z.boolean(),snapshot_written:n.z.boolean(),per_source_results:n.z.record(n.z.string(),n.z.object({success:n.z.boolean(),items_fetched:n.z.number().int().min(0),items_normalised:n.z.number().int().min(0),error:n.z.string().optional()})),errors:n.z.array(n.z.string())});var w=a.i(238246);let x=(0,h.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var y=a.i(941675);let z=(0,h.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),A=(0,d.memo)(function({licencePosture:a,sourceName:c,fetchedAt:d,className:e=""}){let f={OGL:"OGL",CC0:"CC0","public-domain-like":"Public Domain",unknown:"Unknown Licence",restrictive:"Restricted"};return(0,b.jsxs)("div",{className:`flex items-center gap-2 text-xs ${e}`,children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded border font-medium ${{OGL:"bg-blue-100 text-blue-800 border-blue-200",CC0:"bg-green-100 text-green-800 border-green-200","public-domain-like":"bg-emerald-100 text-emerald-800 border-emerald-200",unknown:"bg-amber-100 text-amber-800 border-amber-200",restrictive:"bg-rose-100 text-rose-800 border-rose-200"}[a]}`,"aria-label":`Licence: ${f[a]}`,children:f[a]}),(0,b.jsx)("span",{className:"text-slate-600","aria-label":`Source: ${c}`,children:c}),(0,b.jsx)("time",{dateTime:d,className:"text-slate-500","aria-label":`Fetched at: ${new Date(d).toLocaleString()}`,children:new Date(d).toLocaleDateString()})]})});var B=a.i(821374);let C="news-updates-bookmarks",D=(0,d.memo)(function({itemId:a,className:c=""}){let{isBookmarked:e,toggleBookmark:f}=function(){let[a,b]=(0,d.useState)(new Set);(0,d.useEffect)(()=>{try{let a=localStorage.getItem(C);a&&b(new Set(JSON.parse(a)))}catch(a){console.warn("Failed to load bookmarks:",a)}},[]);let c=(0,d.useCallback)(a=>{b(b=>{let c=new Set(b);c.has(a)?c.delete(a):c.add(a);try{localStorage.setItem(C,JSON.stringify(Array.from(c)))}catch(a){console.warn("Failed to save bookmarks:",a)}return c})},[]),e=(0,d.useCallback)(b=>a.has(b),[a]),f=(0,d.useCallback)(()=>{b(new Set);try{localStorage.removeItem(C)}catch(a){console.warn("Failed to clear bookmarks:",a)}},[]);return{bookmarks:Array.from(a),toggleBookmark:c,isBookmarked:e,clearBookmarks:f}}(),g=e(a);return(0,b.jsx)("button",{onClick:()=>f(a),className:`p-2 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${g?"text-yellow-500 hover:text-yellow-600":"text-slate-400 hover:text-slate-600"} ${c}`,"aria-label":g?"Remove bookmark":"Add bookmark","aria-pressed":g,type:"button",children:(0,b.jsx)(B.Star,{className:`w-5 h-5 ${g?"fill-current":""}`,"aria-hidden":"true"})})});var E=a.i(53569),F=a.i(533441);async function G(a){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(a),!0;{let b=document.createElement("textarea");b.value=a,b.style.position="fixed",b.style.opacity="0",document.body.appendChild(b),b.select();let c=document.execCommand("copy");return document.body.removeChild(b),c}}catch(a){return console.warn("Failed to copy to clipboard:",a),!1}}let H=(0,d.memo)(function({item:a,className:c=""}){let[e,f]=(0,d.useState)(!1),g=async()=>{var b;if(navigator.share)try{await navigator.share({title:a.title,text:a.title,url:a.url});return}catch(a){}let c=(b=a.id,`/updates?item=${b}`);await G(c)&&(f(!0),setTimeout(()=>f(!1),2e3))};return(0,b.jsx)("div",{className:`relative ${c}`,children:(0,b.jsx)("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-slate-900 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":"Share item",type:"button",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F.Check,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Copied!"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.Share2,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Share"})]})})})});function I(a){if(!a?.cvss)return 0;let b=a.cvss.v31,c=a.cvss.v3,d=a.cvss.v2;if("number"==typeof b)return b;if("number"==typeof c)return c;if("number"==typeof d)return d;if("string"==typeof b){let a=parseFloat(b);if(!isNaN(a))return a}if("string"==typeof c){let a=parseFloat(c);if(!isNaN(a))return a}if("string"==typeof d){let a=parseFloat(d);if(!isNaN(a))return a}return 0}function J(a){return a>=9?"critical":a>=7?"high":a>=4?"medium":a>0?"low":"none"}let K=(0,d.memo)(function({item:a,audienceMode:c,className:d=""}){return(0,b.jsxs)("article",{className:`rounded-2xl bg-white border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow ${d}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(z,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{children:a.publisher})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(y.Calendar,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("time",{dateTime:a.published_at,children:new Date(a.published_at).toLocaleDateString()})]})]})]}),(()=>{if(!a.cve)return null;let c=J(I(a.cve));return({critical:(0,b.jsx)("span",{className:"px-2 py-1 bg-rose-100 text-rose-800 rounded text-xs font-medium",children:"Critical"}),high:(0,b.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:"High"}),medium:(0,b.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded text-xs font-medium",children:"Medium"}),low:(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:"Low"}),none:null})[c]})()]}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none mb-4",children:(0,b.jsx)("p",{className:"text-slate-700",children:(()=>{switch(c){case"exec":return a.audience_notes.exec_brief;case"engineer":return a.audience_notes.engineer_detail;case"learner":return a.audience_notes.learner_explain}})()})}),a.topic_tags&&a.topic_tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.topic_tags.slice(0,5).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-100 text-slate-700 rounded text-xs",children:a},a))}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[(0,b.jsx)(A,{licencePosture:a.licence_posture,sourceName:a.source_id,fetchedAt:a.fetched_at}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(D,{itemId:a.id}),(0,b.jsx)(H,{item:a}),(0,b.jsxs)(w.default,{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":`View original source: ${a.title}`,children:["View Source",(0,b.jsx)(x,{className:"w-4 h-4","aria-hidden":"true"})]})]})]})]})});var L=a.i(581464),M=a.i(633508);let N=(0,d.memo)(function({items:a,onFilterChange:c,className:e=""}){let[f,g]=d.default.useState([]),[h,i]=d.default.useState([]),[j,k]=d.default.useState("all"),[l,m]=d.default.useState("all"),n=(0,d.useMemo)(()=>{let b=new Set;return a.forEach(a=>{a.topic_tags?.forEach(a=>b.add(a))}),Array.from(b).sort()},[a]),o=(0,d.useMemo)(()=>{let b=new Set;return a.forEach(a=>b.add(a.source_id)),Array.from(b).sort()},[a]);d.default.useEffect(()=>{let b=[...a];if(f.length>0&&(b=b.filter(a=>f.some(b=>a.topic_tags?.includes(b)))),h.length>0&&(b=b.filter(a=>h.includes(a.source_id))),"all"!==j){let a=Date.now()-24*parseInt(j)*36e5;b=b.filter(b=>new Date(b.published_at).getTime()>=a)}"all"!==l&&"none"!==l?b=b.filter(a=>!!a.cve&&J(I(a.cve))===l):"none"===l&&(b=b.filter(a=>!a.cve)),c(b)},[f,h,j,l,a,c]);let p=f.length>0||h.length>0||"all"!==j||"all"!==l;return(0,b.jsxs)("div",{className:`bg-white rounded-2xl border border-slate-200 p-4 ${e}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(L.Filter,{className:"w-5 h-5 text-slate-600","aria-hidden":"true"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:"Filters"})]}),p&&(0,b.jsxs)("button",{onClick:()=>{g([]),i([]),k("all"),m("all")},className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-900","aria-label":"Clear all filters",type:"button",children:[(0,b.jsx)(M.X,{className:"w-4 h-4","aria-hidden":"true"}),"Clear"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Time Window"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"All Time"}),(0,b.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,b.jsx)("option",{value:"7",children:"Last 7 days"}),(0,b.jsx)("option",{value:"30",children:"Last 30 days"}),(0,b.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Severity (CVEs)"}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"none",children:"Non-CVE"}),(0,b.jsx)("option",{value:"critical",children:"Critical (9.0+)"}),(0,b.jsx)("option",{value:"high",children:"High (7.0-8.9)"}),(0,b.jsx)("option",{value:"medium",children:"Medium (4.0-6.9)"}),(0,b.jsx)("option",{value:"low",children:"Low (<4.0)"})]})]}),o.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Sources"}),(0,b.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:o.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-700 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes(a),onChange:()=>{i(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{children:a})]},a))})]}),n.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Topics"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:n.slice(0,20).map(a=>(0,b.jsx)("button",{onClick:()=>{g(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-2 py-1 rounded text-xs font-medium transition-colors ${f.includes(a)?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,type:"button","aria-pressed":f.includes(a),children:a},a))})]})]})]})});var O=a.i(587532);let P=(0,d.memo)(function({items:a,onSearchChange:c,className:e="",inputRef:f}){let[g,h]=(0,d.useState)(""),i=(0,d.useMemo)(()=>{if(!g.trim())return a;let b=g.toLowerCase();return a.filter(a=>[a.title,a.publisher,...a.topic_tags||[],a.audience_notes.exec_brief,a.audience_notes.engineer_detail,a.audience_notes.learner_explain,a.cve?.cve_id].filter(Boolean).join(" ").toLowerCase().includes(b))},[g,a]);return d.default.useEffect(()=>{c(i)},[i,c]),(0,b.jsxs)("div",{className:`relative ${e}`,children:[(0,b.jsx)(O.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400","aria-hidden":"true"}),(0,b.jsx)("input",{ref:f,type:"search",value:g,onChange:a=>h(a.target.value),placeholder:"Search updates... (Press / to focus)",className:"w-full pl-10 pr-10 py-3 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search updates"}),g&&(0,b.jsx)("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600","aria-label":"Clear search",type:"button",children:(0,b.jsx)(M.X,{className:"w-5 h-5","aria-hidden":"true"})})]})}),Q=(0,h.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),R=(0,h.default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),S=(0,h.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),T=(0,d.memo)(function({mode:a,onChange:c,className:d=""}){let e=[{id:"exec",label:"Executive",icon:(0,b.jsx)(Q,{className:"w-4 h-4"})},{id:"engineer",label:"Engineer",icon:(0,b.jsx)(R,{className:"w-4 h-4"})},{id:"learner",label:"Learner",icon:(0,b.jsx)(S,{className:"w-4 h-4"})}];return(0,b.jsxs)("div",{className:`flex items-center gap-2 ${d}`,children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"View as:"}),(0,b.jsx)("div",{className:"flex items-center gap-1 bg-slate-100 rounded-lg p-1",children:e.map(d=>(0,b.jsxs)("button",{onClick:()=>c(d.id),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${a===d.id?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,"aria-pressed":a===d.id,"aria-label":`Switch to ${d.label} mode`,type:"button",children:[d.icon,(0,b.jsx)("span",{className:"hidden sm:inline",children:d.label})]},d.id))})]})});var U=a.i(3708);let V=(0,d.memo)(function({variant:a="card",count:c=1,className:e="",ariaLabel:f="Loading content"}){let g=(0,d.useMemo)(()=>Array.from({length:c},(a,b)=>b),[c]);return"text"===a?(0,b.jsxs)("div",{className:`space-y-2 ${e}`,role:"status","aria-label":f,"aria-live":"polite",children:[g.map(a=>(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse",style:{width:a%2==0?"100%":"80%",animationDelay:`${100*a}ms`}},a)),(0,b.jsx)("span",{className:"sr-only",children:f})]}):"list"===a?(0,b.jsxs)("div",{className:`space-y-3 ${e}`,role:"status","aria-label":f,"aria-live":"polite",children:[g.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white border border-slate-200 rounded-lg",style:{animationDelay:`${100*a}ms`},children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-slate-200 rounded-full animate-pulse"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse w-1/2"})]})]},a)),(0,b.jsx)("span",{className:"sr-only",children:f})]}):"grid"===a?(0,b.jsxs)("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 ${e}`,role:"status","aria-label":f,"aria-live":"polite",children:[g.map(a=>(0,b.jsxs)("div",{className:"p-6 bg-white border border-slate-200 rounded-2xl space-y-3",style:{animationDelay:`${100*a}ms`},children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-slate-200 rounded-xl animate-pulse"}),(0,b.jsx)("div",{className:"h-5 bg-slate-200 rounded animate-pulse w-3/4"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-3 bg-slate-200 rounded animate-pulse w-5/6"})]})]},a)),(0,b.jsx)("span",{className:"sr-only",children:f})]}):(0,b.jsxs)("div",{className:`space-y-4 ${e}`,role:"status","aria-label":f,"aria-live":"polite",children:[g.map(a=>(0,b.jsxs)("div",{className:"p-6 bg-white border border-slate-200 rounded-2xl shadow-sm space-y-4",style:{animationDelay:`${100*a}ms`},children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-slate-200 rounded-xl animate-pulse"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-5 bg-slate-200 rounded animate-pulse w-2/3"}),(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-1/2"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-5/6"})]})]},a)),(0,b.jsx)("span",{className:"sr-only",children:f})]})}),W=(0,d.memo)(function({message:a,priority:c="polite",className:e=""}){let f=(0,d.useRef)(null);return(0,d.useEffect)(()=>{a&&f.current&&(f.current.textContent="",setTimeout(()=>{f.current&&(f.current.textContent=a)},100))},[a]),(0,b.jsx)("div",{ref:f,role:"status","aria-live":c,"aria-atomic":"true",className:`sr-only ${e}`,children:a})}),X=(0,d.memo)(function(){return(0,b.jsx)(w.default,{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Skip to main content"})}),Y=(0,h.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Z=(0,h.default)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),$=(0,h.default)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);function _(a,b,c){let d=new Blob([a],{type:c}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=b,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e)}let aa=(0,d.memo)(function({items:a,className:c=""}){let[e,f]=(0,d.useState)(!1),g=(0,d.useRef)(null);return(0,d.useEffect)(()=>{let a=a=>{g.current&&!g.current.contains(a.target)&&f(!1)};if(e)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[e]),(0,b.jsxs)("div",{className:`relative ${c}`,ref:g,children:[(0,b.jsxs)("button",{onClick:()=>f(!e),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","aria-label":"Export options","aria-haspopup":"true","aria-expanded":e,type:"button",children:[(0,b.jsx)(Y,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Export"})]}),e&&(0,b.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 z-50",children:(0,b.jsxs)("div",{className:"py-1",children:[(0,b.jsxs)("button",{onClick:()=>{_(JSON.stringify(a,null,2),`news-updates-${new Date().toISOString().split("T")[0]}.json`,"application/json"),f(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",type:"button",children:[(0,b.jsx)(Z,{className:"w-4 h-4","aria-hidden":"true"}),"Export as JSON"]}),(0,b.jsxs)("button",{onClick:()=>{var b;_(0===(b=a).length?"":["Title,Publisher,Published Date,Source,URL,Tags,CVE ID,Severity,KEV",...b.map(a=>{let b=J(I(a.cve)),c="none"===b?"":b.charAt(0).toUpperCase()+b.slice(1);return[`"${a.title.replace(/"/g,'""')}"`,`"${a.publisher.replace(/"/g,'""')}"`,a.published_at,a.source_id,a.url,`"${(a.topic_tags||[]).join(", ").replace(/"/g,'""')}"`,a.cve?.cve_id||"",c,a.cve?.kev?"Yes":"No"]}).map(a=>a.join(","))].join("\n"),`news-updates-${new Date().toISOString().split("T")[0]}.csv`,"text/csv"),f(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 transition-colors",type:"button",children:[(0,b.jsx)($,{className:"w-4 h-4","aria-hidden":"true"}),"Export as CSV"]})]})})]})}),ab="news-updates-saved-filters";function ac(){let[a,h]=(0,d.useState)(null),[n,o]=(0,d.useState)(!0),[p,q]=(0,d.useState)(null),[r,s]=(0,d.useState)(!1),[t,u]=(0,d.useState)("highlights"),[w,x]=(0,d.useState)("engineer"),[y,z]=(0,d.useState)([]),[A,B]=(0,d.useState)([]),[C,D]=(0,d.useState)(1),[E,F]=(0,d.useState)(!1),[G,H]=(0,d.useState)(""),[J,L]=(0,d.useState)(!1),[M,O]=(0,d.useState)(null),[Q,R]=(0,d.useState)(null),S=(0,d.useRef)(null),Y=(0,d.useRef)(null),Z=(0,d.useRef)(null),$=(0,d.useRef)(0),{savedFilters:_,saveFilter:ac,loadFilter:ad}=function(){let[a,b]=(0,d.useState)([]);(0,d.useEffect)(()=>{try{let a=localStorage.getItem(ab);a&&b(JSON.parse(a))}catch(a){console.warn("Failed to load saved filters:",a)}},[]);let c=(0,d.useCallback)(c=>{let d={...c,id:`filter-${Date.now()}`,createdAt:new Date().toISOString()},e=[...a,d];b(e);try{localStorage.setItem(ab,JSON.stringify(e))}catch(a){console.warn("Failed to save filter:",a)}return d.id},[a]),e=(0,d.useCallback)(c=>{let d=a.filter(a=>a.id!==c);b(d);try{localStorage.setItem(ab,JSON.stringify(d))}catch(a){console.warn("Failed to delete filter:",a)}},[a]),f=(0,d.useCallback)(b=>a.find(a=>a.id===b),[a]);return{savedFilters:a,saveFilter:c,deleteFilter:e,loadFilter:f}}(),ae=(0,d.useCallback)(async(a=!1)=>{a&&(L(!0),O(null));try{let a=await v();a.success&&a.snapshot?(h(a.snapshot),s(a.isFallback),q(null),R(new Date),H(`Loaded ${a.snapshot.items.length} updates from ${a.snapshot.metadata.source_count} sources`)):(q(a.error||"Failed to load updates"),O(a.error||"Failed to load updates"),H("Failed to load updates"))}catch(b){let a=b instanceof Error?b.message:"Unknown error";q(a),O(a),H("Error loading updates")}finally{o(!1),L(!1)}},[]);(0,d.useEffect)(()=>{ae()},[ae]);let af=(0,d.useCallback)(()=>{ae(!0)},[ae]),ag=(0,d.useMemo)(()=>{if(!a)return[];let b=a.items;switch(t){case"highlights":return b.filter(a=>{let b=a.cve?.kev||!1,c=I(a.cve),d=Date.now()-new Date(a.published_at).getTime()<6048e5;return b||c>=7||d||a.topic_tags?.includes("highlight")}).sort((a,b)=>{let c=+!!a.cve?.kev,d=+!!b.cve?.kev;if(c!==d)return d-c;let e=I(a.cve),f=I(b.cve);return e!==f?f-e:new Date(b.published_at).getTime()-new Date(a.published_at).getTime()});case"vulnerabilities":return b.filter(a=>a.cve).sort((a,b)=>{let c=I(a.cve);return I(b.cve)-c});case"ai-regulation":return b.filter(a=>a.topic_tags?.some(a=>a.includes("ai")||a.includes("regulation")||a.includes("government"))).sort((a,b)=>new Date(b.published_at).getTime()-new Date(a.published_at).getTime());case"standards":return b.filter(a=>a.topic_tags?.some(a=>a.includes("standard")||a.includes("interoperability"))).sort((a,b)=>new Date(b.published_at).getTime()-new Date(a.published_at).getTime());default:return b.sort((a,b)=>new Date(b.published_at).getTime()-new Date(a.published_at).getTime())}},[a,t]),ah=(0,d.useMemo)(()=>A.length>0?A:y.length>0?y:ag,[A,y,ag]),ai=Math.ceil(ah.length/20),aj=(0,d.useMemo)(()=>{let a=(C-1)*20;return ah.slice(a,a+20)},[ah,C]);(0,d.useEffect)(()=>{D(1),$.current=0},[ah.length,t]),function(a){let{onFocusSearch:b,onFocusFilters:c,onExport:e,onShowHelp:f,onNavigateNext:g,onNavigatePrev:h,onRefresh:i,enabled:j=!0}=a,k=(0,d.useRef)(!1);(0,d.useEffect)(()=>{if(!j)return;let a=a=>{if(!(k.current||a.target instanceof HTMLElement&&("INPUT"===a.target.tagName||"TEXTAREA"===a.target.tagName||a.target.isContentEditable))&&!a.ctrlKey&&!a.metaKey&&!a.altKey)switch(a.key){case"/":a.preventDefault(),b?.();break;case"f":a.preventDefault(),c?.();break;case"e":a.preventDefault(),e?.();break;case"?":a.preventDefault(),f?.();break;case"j":a.preventDefault(),g?.();break;case"k":a.preventDefault(),h?.();break;case"r":k.current||(a.preventDefault(),i?.())}},d=a=>{let b=a.target;k.current="INPUT"===b.tagName||"TEXTAREA"===b.tagName||b.isContentEditable};return document.addEventListener("keydown",a),document.addEventListener("focusin",d),()=>{document.removeEventListener("keydown",a),document.removeEventListener("focusin",d)}},[j,b,c,e,f,g,h,i])}({onFocusSearch:()=>{S.current?.focus(),H("Search focused")},onFocusFilters:()=>{Y.current?.focus(),H("Filters focused")},onExport:()=>{let a=document.querySelector('[aria-label="Export options"]');a?.click()},onShowHelp:()=>{F(a=>!a)},onRefresh:()=>{af()},onNavigateNext:()=>{if($.current<aj.length-1){$.current++;let a=document.querySelector(`[data-item-index="${$.current}"]`);a?.focus(),a?.scrollIntoView({behavior:"smooth",block:"center"}),H(`Item ${$.current+1} of ${aj.length}`)}},onNavigatePrev:()=>{if($.current>0){$.current--;let a=document.querySelector(`[data-item-index="${$.current}"]`);a?.focus(),a?.scrollIntoView({behavior:"smooth",block:"center"}),H(`Item ${$.current+1} of ${aj.length}`)}},enabled:!n&&!p});let ak=(0,d.useCallback)(a=>{D(a),Z.current?.scrollIntoView({behavior:"smooth"}),H(`Page ${a} of ${ai}`)},[ai]);return n?(0,b.jsxs)(U.default,{studio:"updates",children:[(0,b.jsx)(X,{}),(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 py-12",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsx)(V,{variant:"card",count:5})})})]}):p||!a?(0,b.jsxs)(U.default,{studio:"updates",children:[(0,b.jsx)(X,{}),(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 py-12",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-rose-200 p-8 text-center",children:[(0,b.jsx)(e.AlertCircle,{className:"w-12 h-12 text-rose-600 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Failed to Load Updates"}),(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:p||"Unknown error"}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})})]}):(0,b.jsxs)(U.default,{studio:"updates",children:[(0,b.jsx)(X,{}),(0,b.jsx)(W,{message:G}),(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 min-h-screen bg-slate-50 py-12 print:bg-white print:py-0",children:(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("header",{className:"jsx-d605bee02c2e73f3 mb-8 print:hidden",children:(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 rounded-3xl bg-gradient-to-br from-white to-slate-50/50 border border-slate-200 p-8 shadow-lg",children:[(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("h1",{className:"jsx-d605bee02c2e73f3 text-4xl font-bold text-slate-900 mb-2",children:"News and Updates"}),(0,b.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-lg text-slate-600",children:"Curated index of authoritative sources for energy system digitalisation, cybersecurity, AI governance, and standards"})]}),(()=>{if(!a)return null;let c=new Date(a.metadata.generated_at),d=(Date.now()-c.getTime())/36e5;return r?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,b.jsx)(e.AlertCircle,{className:"w-5 h-5 text-amber-600","aria-hidden":"true"}),(0,b.jsxs)("span",{className:"text-sm text-amber-800",children:["Showing last verified snapshot from ",c.toLocaleString()]})]}):d>12?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,b.jsx)(g.Clock,{className:"w-5 h-5 text-amber-600","aria-hidden":"true"}),(0,b.jsxs)("span",{className:"text-sm text-amber-800",children:["Stale (last updated ",d.toFixed(1),"h ago)"]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,b.jsx)(f.CheckCircle2,{className:"w-5 h-5 text-green-600","aria-hidden":"true"}),(0,b.jsx)("span",{className:"text-sm text-green-800",children:"Live"})]})})()]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-4",children:[(0,b.jsx)(T,{mode:w,onChange:x}),(0,b.jsx)(aa,{items:ah}),(0,b.jsxs)("button",{onClick:af,disabled:J,"aria-label":"Refresh updates",type:"button",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[(0,b.jsx)(l.RefreshCw,{className:`w-4 h-4 ${J?"animate-spin":""}`,"aria-hidden":"true"}),(0,b.jsx)("span",{className:"jsx-d605bee02c2e73f3 hidden sm:inline",children:J?"Refreshing...":"Refresh"})]}),(0,b.jsxs)("a",{href:"/api/updates/rss","aria-label":"RSS feed",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:[(0,b.jsx)(k,{className:"w-4 h-4","aria-hidden":"true"}),(0,b.jsx)("span",{className:"jsx-d605bee02c2e73f3 hidden sm:inline",children:"RSS"})]}),(0,b.jsx)("button",{onClick:()=>F(!E),"aria-label":"Keyboard shortcuts help",type:"button",className:"jsx-d605bee02c2e73f3 p-2 text-slate-600 hover:text-slate-900 rounded-lg transition-colors",children:(0,b.jsx)(j.HelpCircle,{className:"w-5 h-5","aria-hidden":"true"})})]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-4 text-sm text-slate-600",children:[(0,b.jsxs)("span",{className:"jsx-d605bee02c2e73f3",children:[a.metadata.item_count," items from ",a.metadata.source_count," sources"]}),Q&&(0,b.jsxs)("span",{className:"jsx-d605bee02c2e73f3 text-xs text-slate-500",children:["Last refreshed: ",Q.toLocaleTimeString()]})]})]})]})}),E&&(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 mb-6 rounded-2xl bg-blue-50 border border-blue-200 p-6 print:hidden",children:[(0,b.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-slate-900 mb-3",children:"Keyboard Shortcuts"}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"/"})," Focus search"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"f"})," Focus filters"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"e"})," Export"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"r"})," Refresh updates"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"?"})," Show/hide help"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"j"})," Next item"]}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3",children:[(0,b.jsx)("kbd",{className:"jsx-d605bee02c2e73f3 px-2 py-1 bg-white rounded border",children:"k"})," Previous item"]})]})]}),M&&(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 rounded-2xl bg-rose-50 border border-rose-200 p-4 print:hidden",children:(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-start gap-3",children:[(0,b.jsx)(m.AlertTriangle,{className:"w-5 h-5 text-rose-600 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex-1",children:[(0,b.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-rose-900 mb-1",children:"Refresh Failed"}),(0,b.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-rose-700 mb-2",children:M}),(0,b.jsx)("button",{onClick:af,type:"button",className:"jsx-d605bee02c2e73f3 text-sm text-rose-700 hover:text-rose-900 underline font-medium",children:"Try again"})]}),(0,b.jsx)("button",{onClick:()=>O(null),"aria-label":"Dismiss error",type:"button",className:"jsx-d605bee02c2e73f3 text-rose-600 hover:text-rose-800",children:"×"})]})}),(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-8 rounded-2xl bg-blue-50 border border-blue-200 p-6 print:hidden",children:(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-start gap-3",children:[(0,b.jsx)(i,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex-1",children:[(0,b.jsx)("h3",{className:"jsx-d605bee02c2e73f3 font-semibold text-slate-900 mb-2",children:"About this feed"}),(0,b.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-slate-700 mb-2",children:"We index authoritative sources and preserve provenance. We do not republish restricted content—we link out for full details. Every item shows its source, licence posture, and when it was fetched."}),(0,b.jsxs)("p",{className:"jsx-d605bee02c2e73f3 text-xs text-slate-600",children:["Last updated: ",new Date(a.metadata.generated_at).toLocaleString()]})]})]})}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("aside",{ref:Y,tabIndex:-1,className:"jsx-d605bee02c2e73f3 lg:col-span-1 space-y-6 print:hidden",children:(0,b.jsx)(N,{items:ag,onFilterChange:z})}),(0,b.jsxs)("main",{id:"main-content",ref:Z,className:"jsx-d605bee02c2e73f3 lg:col-span-3",children:[(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 print:hidden",children:(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 flex items-center gap-2 border-b border-slate-200",children:[{id:"highlights",label:"Highlights"},{id:"vulnerabilities",label:"Vulnerabilities"},{id:"ai-regulation",label:"AI & Regulation"},{id:"standards",label:"Standards"},{id:"all",label:"All Updates"}].map(a=>(0,b.jsx)("button",{onClick:()=>u(a.id),"aria-pressed":t===a.id,type:"button",className:`jsx-d605bee02c2e73f3 px-4 py-2 text-sm font-medium border-b-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 ${t===a.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:a.label},a.id))})}),(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 mb-6 print:hidden",children:(0,b.jsx)(P,{items:ag,onSearchChange:B,inputRef:S})}),(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 space-y-4",children:0===aj.length?(0,b.jsx)("div",{className:"jsx-d605bee02c2e73f3 rounded-2xl bg-white border border-slate-200 p-8 text-center",children:0===a.metadata.item_count?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"jsx-d605bee02c2e73f3 text-lg font-semibold text-slate-900 mb-2",children:"No Updates Available Yet"}),(0,b.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-slate-600 mb-4",children:"The news ingestion system is still initializing. Updates will appear here once the ingestion process completes."}),(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex flex-col sm:flex-row items-center justify-center gap-3 mt-4",children:[(0,b.jsxs)("button",{onClick:af,disabled:J,type:"button",className:"jsx-d605bee02c2e73f3 flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[(0,b.jsx)(l.RefreshCw,{className:`w-4 h-4 ${J?"animate-spin":""}`,"aria-hidden":"true"}),J?"Checking for updates...":"Check for updates"]}),(0,b.jsx)("a",{href:"https://github.com/LordRansford/my-webapp/actions/workflows/news-ingest.yml",target:"_blank",rel:"noopener noreferrer",className:"jsx-d605bee02c2e73f3 text-sm text-blue-600 hover:text-blue-700 underline",children:"View ingestion status"})]}),(0,b.jsxs)("p",{className:"jsx-d605bee02c2e73f3 text-sm text-slate-500 mt-4",children:["Last check: ",new Date(a.metadata.generated_at).toLocaleString()]})]}):(0,b.jsx)("p",{className:"jsx-d605bee02c2e73f3 text-slate-600",children:"No updates found matching your filters."})}):(0,b.jsxs)(b.Fragment,{children:[aj.map((a,c)=>(0,b.jsx)("div",{"data-item-index":c,tabIndex:0,className:"jsx-d605bee02c2e73f3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-2xl",children:(0,b.jsx)(K,{item:a,audienceMode:w})},a.id)),ai>1&&(0,b.jsxs)("div",{className:"jsx-d605bee02c2e73f3 flex items-center justify-center gap-2 mt-8 print:hidden",children:[(0,b.jsx)("button",{onClick:()=>ak(C-1),disabled:1===C,"aria-label":"Previous page",className:"jsx-d605bee02c2e73f3 px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Previous"}),(0,b.jsxs)("span",{className:"jsx-d605bee02c2e73f3 px-4 py-2 text-sm text-slate-600",children:["Page ",C," of ",ai]}),(0,b.jsx)("button",{onClick:()=>ak(C+1),disabled:C===ai,"aria-label":"Next page",className:"jsx-d605bee02c2e73f3 px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Next"})]})]})})]})]})]})}),(0,b.jsx)(c.default,{id:"d605bee02c2e73f3",children:"@media print{.print\\\\:hidden{display:none!important}.print\\\\:bg-white{background-color:#fff!important}.print\\\\:py-0{padding-top:0!important;padding-bottom:0!important}}"})]})}a.s(["default",()=>ac],152346)}];

//# debugId=dc2c1e2c-d8ca-7fd3-2b43-aeaf88108238
//# sourceMappingURL=src_app_updates_page_tsx_cfa267c9._.js.map