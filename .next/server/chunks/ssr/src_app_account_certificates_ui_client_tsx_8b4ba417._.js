;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="51952bca-844a-c775-5714-c9e64065ad24")}catch(e){}}();
module.exports=[581421,a=>{"use strict";var b=a.i(218282),c=a.i(572131);function d(a){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)("");return"download"===a.kind?(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("a",{className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800",href:`/api/certificates/download?certificateId=${encodeURIComponent(a.certificateId)}`,children:"Download"})}):(0,b.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,b.jsx)("button",{type:"button",disabled:d,className:"rounded-lg bg-slate-900 px-3 py-2 text-xs font-semibold text-white hover:bg-slate-800 disabled:opacity-60",onClick:async()=>{e(!0),g("");try{let b=await fetch("/api/certificates/issue",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({courseId:a.courseId})}),c=await b.json().catch(()=>null);if(!b.ok){let a=Array.isArray(c?.reasons)?c.reasons.join(" "):"";g(a||c?.message||"Unable to issue certificate.");return}c?.certificateId&&(window.location.href=`/api/certificates/download?certificateId=${encodeURIComponent(c.certificateId)}`)}catch{g("Unable to issue certificate.")}finally{e(!1)}},children:d?"Issuing...":"Issue certificate"}),f?(0,b.jsx)("div",{className:"text-xs text-rose-700",children:f}):null]})}a.s(["default",()=>d])}];

//# debugId=51952bca-844a-c775-5714-c9e64065ad24
//# sourceMappingURL=src_app_account_certificates_ui_client_tsx_8b4ba417._.js.map