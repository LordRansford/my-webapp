;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c300f0d5-a0ae-29ab-1b4c-63767714c3f9")}catch(e){}}();
module.exports=[309771,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(238246);function e({title:a,children:c}){return(0,b.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white/90 p-5 shadow-sm",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:a}),(0,b.jsx)("div",{className:"mt-3",children:c})]})}function f(){let[a,f]=(0,c.useState)(null),[g,h]=(0,c.useState)("Loadingâ€¦");(0,c.useEffect)(()=>{let a=!1;return async function(){try{let b=await fetch("/api/admin/architecture-diagrams/metrics",{method:"GET"});if(!b.ok){let a=await b.json().catch(()=>({}));throw Error(a?.error||"Could not load metrics.")}let c=await b.json();a||(f(c),h(""))}catch(b){a||h("Could not load metrics.")}}(),()=>{a=!0}},[]);let i=(0,c.useMemo)(()=>a?.variants&&[...a.variants].sort((a,b)=>(b.count||0)-(a.count||0))[0]||null,[a]);return(0,b.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-12 md:px-6 lg:px-8 space-y-6",children:[(0,b.jsxs)("header",{className:"space-y-2 rounded-3xl bg-gradient-to-br from-slate-50 via-emerald-50/40 to-slate-50 p-8 shadow-sm ring-1 ring-slate-100",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Admin"}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-slate-900",children:"Architecture Diagram Studio"}),(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"Aggregated metrics only. No user content is collected or displayed here."}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)(d.default,{href:"/admin/feedback",className:"text-sm font-semibold text-emerald-700 hover:underline",children:"Admin home"})})]}),g?(0,b.jsx)("div",{className:"rounded-3xl border border-slate-200 bg-white/90 p-6 text-sm text-slate-700 shadow-sm",children:g}):null,a?(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[(0,b.jsx)(e,{title:"Generations",children:(0,b.jsx)("p",{className:"text-3xl font-semibold text-slate-900",children:a.generations??0})}),(0,b.jsxs)(e,{title:"Most selected variant",children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:i?i.id:a.mostSelectedVariant||"minimal"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-700",children:i?`${i.count} selections`:""})]}),(0,b.jsx)(e,{title:"Exports",children:(0,b.jsxs)("ul",{className:"space-y-1 text-sm text-slate-700",children:[(0,b.jsxs)("li",{children:["SVG: ",a.exports?.svg??0]}),(0,b.jsxs)("li",{children:["PNG: ",a.exports?.png??0]}),(0,b.jsxs)("li",{children:["PDF requested: ",a.exports?.pdfRequested??0]})]})}),(0,b.jsxs)(e,{title:"PDF health",children:[(0,b.jsxs)("p",{className:"text-sm text-slate-700",children:["Success rate: ",(0,b.jsxs)("span",{className:"font-semibold text-slate-900",children:[Math.round(100*(a.pdf?.successRate||0)),"%"]})]}),(0,b.jsx)("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-600",children:"Common failures"}),(a.pdf?.commonFailures||[]).length?(0,b.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:a.pdf.commonFailures.map(a=>(0,b.jsxs)("li",{children:[a.reason,": ",a.count]},a.reason))}):(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-700",children:"No failures recorded."})]}),(0,b.jsxs)(e,{title:"Performance",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"Duration buckets (ms)"}),(0,b.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:(a.performance?.durationBuckets||[]).map(a=>(0,b.jsxs)("li",{children:[a.bucket,": ",a.count]},a.bucket))})]}),(0,b.jsx)(e,{title:"Common failures",children:(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"This view is aggregated and intentionally minimal."})})]}):null]})}a.s(["default",()=>f])}];

//# debugId=c300f0d5-a0ae-29ab-1b4c-63767714c3f9
//# sourceMappingURL=src_app_admin_architecture-diagrams_page_client_jsx_d055ab70._.js.map