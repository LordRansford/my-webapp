{
  "version": 3,
  "sources": [],
  "debugId": "891a3e76-696d-ff4b-a397-1c3be6c99f0b",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/uploads/policies.ts","../../../../src/pages/studios/docs-data-lab/index.js","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["export type UploadPolicy = {\n  toolId: string;\n  allowExtensions: string[];\n  freeMaxBytes: number;\n  paidMaxBytes: number;\n};\n\nconst MB = 1024 * 1024;\n\nexport function formatBytes(bytes: number) {\n  if (!Number.isFinite(bytes) || bytes <= 0) return \"0 B\";\n  if (bytes < 1024) return `${Math.round(bytes)} B`;\n  if (bytes < MB) return `${Math.round(bytes / 1024)} KB`;\n  return `${(bytes / MB).toFixed(1)} MB`;\n}\n\n// Central, explicit upload policies.\n// These are UX policies (pre-flight checks) and must not weaken server-side limits.\nconst POLICIES: Record<string, UploadPolicy> = {\n  \"model-forge-train\": {\n    toolId: \"model-forge-train\",\n    allowExtensions: [\".csv\", \".json\"],\n    freeMaxBytes: 2 * MB,\n    paidMaxBytes: 12 * MB,\n  },\n  \"docs-data-lab\": {\n    toolId: \"docs-data-lab\",\n    allowExtensions: [\".pdf\", \".docx\", \".txt\", \".csv\"],\n    freeMaxBytes: 4 * MB,\n    paidMaxBytes: 12 * MB,\n  },\n  \"speech-lab-audio\": {\n    toolId: \"speech-lab-audio\",\n    allowExtensions: [\".wav\", \".mp3\", \".m4a\", \".webm\"],\n    freeMaxBytes: 5 * MB,\n    paidMaxBytes: 15 * MB,\n  },\n  \"vision-lab-image\": {\n    toolId: \"vision-lab-image\",\n    allowExtensions: [\".png\", \".jpg\", \".jpeg\"],\n    freeMaxBytes: 3 * MB,\n    paidMaxBytes: 10 * MB,\n  },\n};\n\nexport function getUploadPolicy(toolId: string): UploadPolicy | null {\n  const id = String(toolId || \"\").trim();\n  return POLICIES[id] || null;\n}\n\n\n","\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport Link from \"next/link\";\nimport { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, Tooltip, CartesianGrid } from \"recharts\";\nimport { useStudiosStore } from \"@/stores/useStudiosStore\";\nimport { SecurityBanner } from \"@/components/dev-studios/SecurityBanner\";\nimport { validateUpload } from \"@/utils/validateUpload\";\nimport { formatBytes, getUploadPolicy } from \"@/lib/uploads/policies\";\nimport StudioNavigation from \"@/components/studios/StudioNavigation\";\nimport { StudioBreadcrumbs } from \"@/components/studios/StudioBreadcrumbs\";\n\nconst stopwords = new Set([\n  \"the\",\n  \"and\",\n  \"a\",\n  \"an\",\n  \"to\",\n  \"of\",\n  \"in\",\n  \"on\",\n  \"for\",\n  \"with\",\n  \"is\",\n  \"it\",\n  \"that\",\n  \"this\",\n  \"as\",\n  \"at\",\n  \"be\",\n  \"by\",\n  \"or\",\n  \"from\",\n  \"are\",\n  \"was\",\n  \"were\",\n  \"can\",\n  \"will\",\n  \"about\",\n]);\n\nconst KEYWORD_CLASS = \"bg-amber-100 text-amber-900\";\nconst ENTITY_CLASS = \"bg-emerald-100 text-emerald-900\";\n\nfunction humanSize(bytes) {\n  if (!bytes) return \"0 B\";\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.min(Math.floor(Math.log(bytes) / Math.log(1024)), sizes.length - 1);\n  return `${(bytes / 1024 ** i).toFixed(i === 0 ? 0 : 1)} ${sizes[i]}`;\n}\n\nfunction tokenize(text) {\n  return text\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, \" \")\n    .split(/\\s+/)\n    .filter((t) => t && t.length > 2 && !stopwords.has(t));\n}\n\nfunction topKeywords(text, limit = 10) {\n  const tokens = tokenize(text || \"\");\n  const counts = {};\n  tokens.forEach((t) => {\n    counts[t] = (counts[t] || 0) + 1;\n  });\n  return Object.entries(counts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, limit)\n    .map(([word, count]) => ({ word, count }));\n}\n\nfunction simpleEntities(text) {\n  const words = text.split(/\\s+/).filter(Boolean);\n  const entities = { people: [], organisations: [], locations: [] };\n  words.forEach((w) => {\n    if (w.length < 3) return;\n    const clean = w.replace(/[^A-Za-z]/g, \"\");\n    if (!clean) return;\n    if (clean[0] === clean[0]?.toUpperCase() && clean.slice(1) !== clean.slice(1).toUpperCase()) {\n      if (clean.endsWith(\"Inc\") || clean.endsWith(\"Ltd\") || clean.endsWith(\"Corp\")) {\n        entities.organisations.push(clean);\n      } else if (clean.endsWith(\"City\") || clean.endsWith(\"Town\") || clean.endsWith(\"Bay\")) {\n        entities.locations.push(clean);\n      } else {\n        entities.people.push(clean);\n      }\n    }\n  });\n  return entities;\n}\n\nfunction splitSentences(text) {\n  return text.split(/(?<=[.!?])\\s+/).filter((s) => s.trim().length > 0);\n}\n\nfunction buildChunks(doc, vocab) {\n  const sentences = splitSentences(doc.text || \"\");\n  const chunks = [];\n  const groupSize = 2;\n  for (let i = 0; i < sentences.length; i += groupSize) {\n    const text = sentences.slice(i, i + groupSize).join(\" \");\n    if (!text.trim()) continue;\n    chunks.push({\n      id: `${doc.id}-c${i}`,\n      docId: doc.id,\n      text,\n      vector: embedText(text, vocab),\n    });\n  }\n  if (chunks.length === 0 && doc.text) {\n    chunks.push({ id: `${doc.id}-c0`, docId: doc.id, text: doc.text.slice(0, 400), vector: embedText(doc.text, vocab) });\n  }\n  return chunks;\n}\n\nfunction embedText(text, vocab) {\n  const vec = Array(vocab.length).fill(0);\n  const tokens = tokenize(text);\n  tokens.forEach((t) => {\n    const idx = vocab.indexOf(t);\n    if (idx >= 0) vec[idx] += 1;\n  });\n  return vec;\n}\n\nfunction cosine(a, b) {\n  let dot = 0;\n  let na = 0;\n  let nb = 0;\n  for (let i = 0; i < a.length; i += 1) {\n    dot += a[i] * b[i];\n    na += a[i] * a[i];\n    nb += b[i] * b[i];\n  }\n  if (!na || !nb) return 0;\n  return dot / (Math.sqrt(na) * Math.sqrt(nb));\n}\n\nfunction normalizeField(f) {\n  return f.toLowerCase().replace(/[^a-z0-9]/g, \"\");\n}\n\nfunction fieldSimilarity(a, b) {\n  const na = normalizeField(a);\n  const nb = normalizeField(b);\n  if (!na || !nb) return 0;\n  if (na === nb) return 1;\n  const setA = new Set(na.split(\"\"));\n  const setB = new Set(nb.split(\"\"));\n  let inter = 0;\n  setA.forEach((c) => {\n    if (setB.has(c)) inter += 1;\n  });\n  return inter / Math.max(setA.size, setB.size);\n}\n\nexport default function DocsDataLabPage() {\n  const addJob = useStudiosStore((s) => s.addJob);\n  const updateJob = useStudiosStore((s) => s.updateJob);\n  const jobs = useStudiosStore((s) => s.jobs);\n\n  const [docs, setDocs] = useState([]);\n  const [selectedDocId, setSelectedDocId] = useState(\"\");\n  const [indexSelection, setIndexSelection] = useState({});\n  const [chunks, setChunks] = useState([]);\n  const [vocab, setVocab] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const indexSectionRef = useRef(null);\n\n  const [srcSchema, setSrcSchema] = useState(\"\");\n  const [tgtSchema, setTgtSchema] = useState(\"\");\n\n  const uploadPolicy = useMemo(() => getUploadPolicy(\"docs-data-lab\"), []);\n\n  const selectedDoc = useMemo(() => docs.find((d) => d.id === selectedDocId) || null, [docs, selectedDocId]);\n\n  const selectedStats = useMemo(() => {\n    if (!selectedDoc?.text) return null;\n    const text = selectedDoc.text;\n    const words = text.trim().split(/\\s+/);\n    const sentences = splitSentences(text);\n    return {\n      words: words.length,\n      chars: text.length,\n      sentences: sentences.length,\n      keywords: topKeywords(text),\n      entities: simpleEntities(text),\n    };\n  }, [selectedDoc]);\n\n  const parsedFields = useMemo(() => {\n    const parse = (text) =>\n      text\n        .split(/[\\n,]/)\n        .map((f) => f.trim())\n        .filter(Boolean);\n    return { src: parse(srcSchema), tgt: parse(tgtSchema) };\n  }, [srcSchema, tgtSchema]);\n\n  const fieldMappings = useMemo(() => {\n    const mappings = [];\n    parsedFields.src.forEach((src) => {\n      let best = null;\n      let bestScore = 0;\n      parsedFields.tgt.forEach((tgt) => {\n        const score = fieldSimilarity(src, tgt);\n        if (score > bestScore) {\n          bestScore = score;\n          best = tgt;\n        }\n      });\n      mappings.push({ source: src, target: bestScore >= 0.35 ? best : null, score: bestScore });\n    });\n    return mappings;\n  }, [parsedFields]);\n\n  const parseDoc = async (file) => {\n    const ext = (file.name.split(\".\").pop() || \"\").toLowerCase();\n    const id = `${file.name}-${file.lastModified}`;\n    const base = {\n      id,\n      name: file.name,\n      sizeBytes: file.size,\n    };\n    let type = \"txt\";\n    if (ext === \"pdf\") type = \"pdf\";\n    else if (ext === \"docx\") type = \"docx\";\n    else if (ext === \"csv\") type = \"csv\";\n    let text = \"\";\n    let pages;\n    let rows;\n    let columns;\n\n    const raw = await file.text();\n    if (type === \"csv\") {\n      const lines = raw.split(/\\r?\\n/).filter(Boolean);\n      columns = lines[0]?.split(\",\").map((c) => c.trim()) || [];\n      rows = Math.max(0, lines.length - 1);\n      text = lines.slice(0, 6).join(\"\\n\");\n    } else {\n      text = raw;\n      pages = Math.max(1, Math.round(text.length / 1200));\n    }\n\n    return { ...base, type, pages, rows, columns, text };\n  };\n\n  const handleFiles = async (fileList) => {\n    const maxBytes = uploadPolicy?.freeMaxBytes || 8 * 1024 * 1024;\n    const allowedExtensions = uploadPolicy?.allowExtensions || [\".pdf\", \".docx\", \".txt\", \".csv\"];\n    const { safeFiles, errors } = validateUpload(fileList, { maxBytes, allowedExtensions });\n    if (errors.length) alert(errors.join(\"\\n\"));\n    if (!safeFiles.length) return;\n    const parsed = await Promise.all(safeFiles.map(parseDoc));\n    setDocs((prev) => {\n      const merged = [...prev, ...parsed];\n      if (!selectedDocId && merged.length > 0) setSelectedDocId(merged[0].id);\n      return merged;\n    });\n  };\n\n  const buildIndex = () => {\n    const selected = docs.filter((d) => indexSelection[d.id]);\n    if (!selected.length) return;\n    const allText = selected.map((d) => d.text || \"\").join(\" \");\n    const vocabList = topKeywords(allText, 80).map((k) => k.word);\n    const chunkList = selected.flatMap((d) => buildChunks(d, vocabList));\n    setVocab(vocabList);\n    setChunks(chunkList);\n    setResults([]);\n    const jobId = `docs-index-${Date.now()}`;\n    addJob({ id: jobId, name: \"Docs and Data Lab index build\", studio: \"docs-data-lab\", status: \"running\" });\n    updateJob(jobId, {\n      status: \"completed\",\n      finishedAt: new Date().toISOString(),\n      metrics: {\n        documentCount: selected.length,\n        chunkCount: chunkList.length,\n      },\n    });\n  };\n\n  const runQuery = () => {\n    if (!query.trim() || !chunks.length) return;\n    const qVec = embedText(query, vocab);\n    const scored = chunks\n      .map((c) => ({ ...c, score: cosine(qVec, c.vector) }))\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 3);\n    setResults(scored);\n  };\n\n  useEffect(() => {\n    if (docs.length > 0 && !selectedDocId) {\n      setSelectedDocId(docs[0].id);\n    }\n  }, [docs, selectedDocId]);\n\n  const highlightExcerpt = useMemo(() => {\n    if (!selectedDoc?.text) return null;\n    const text = selectedDoc.text.slice(0, 1200);\n    const keywords = new Set((selectedStats?.keywords || []).map((k) => k.word));\n    const tokens = text.split(/(\\s+)/);\n    return tokens.map((t, idx) => {\n      const clean = t.toLowerCase().replace(/[^a-z0-9]/g, \"\");\n      const isKeyword = keywords.has(clean);\n      const isEntity = selectedStats?.entities && Object.values(selectedStats.entities).some((arr) => arr.includes(t.replace(/[^A-Za-z]/g, \"\")));\n      if (isKeyword || isEntity) {\n        const cls = isKeyword ? KEYWORD_CLASS : ENTITY_CLASS;\n        return (\n          <span key={idx} className={`rounded px-1 ${cls}`}>\n            {t}\n          </span>\n        );\n      }\n      return <span key={idx}>{t}</span>;\n    });\n  }, [selectedDoc, selectedStats]);\n\n  const docsJobs = useMemo(() => jobs.filter((j) => j.studio === \"docs-data-lab\").slice(-5).reverse(), [jobs]);\n\n  const focusBuildCard = () => {\n    indexSectionRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n  };\n\n  return (\n    <div className=\"mx-auto w-full max-w-5xl px-4 py-6 space-y-6 sm:px-6 sm:py-8 md:space-y-8\">\n      {/* Navigation */}\n      <div className=\"space-y-3\">\n        <StudioBreadcrumbs\n          items={[\n            { label: \"Studios Hub\", href: \"/studios/hub\" },\n            { label: \"Docs & Data Lab\" }\n          ]}\n        />\n        <StudioNavigation\n          studioType=\"lab\"\n          showHome={true}\n          showHub={true}\n          currentStudio=\"Docs & Data Lab\"\n          currentStudioHref=\"/studios/docs-data-lab\"\n        />\n      </div>\n\n      <div className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-8 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-3\">\n        <div className=\"inline-flex items-center gap-2 rounded-2xl bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-800 ring-1 ring-purple-100\">\n          Docs &amp; Data Lab\n        </div>\n        <h1 className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-slate-900\">Docs &amp; Data Lab</h1>\n        <p className=\"text-sm text-slate-700 max-w-3xl\">\n          This is the reading room. Feed it PDFs, Word files and tables, see what structure the machine finds and build a tiny search\n          index so you can question your own documents.\n        </p>\n      </div>\n\n      <SecurityBanner />\n\n      {/* 1. Upload and inspect documents */}\n      <section\n        id=\"upload-inspect\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">1. Upload and inspect documents</h2>\n          <label className=\"cursor-pointer rounded-2xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:border-sky-300 hover:text-sky-700\">\n            <input\n              type=\"file\"\n              className=\"hidden\"\n              accept=\".pdf,.docx,.txt,.csv\"\n              multiple\n              onChange={(e) => {\n                const files = e.target.files;\n                e.target.value = \"\";\n                handleFiles(files);\n              }}\n            />\n            Upload files\n          </label>\n        </div>\n        <p className=\"text-xs text-slate-600\">\n          Free tier limit: {formatBytes(uploadPolicy?.freeMaxBytes || 0)} per file. With credits: {formatBytes(uploadPolicy?.paidMaxBytes || 0)}.\n          Allowed: pdf, docx, txt, csv. Do not upload real customer data or secrets; use synthetic or anonymised samples.\n        </p>\n        <div className=\"rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700\">\n          <p className=\"m-0 font-semibold text-slate-900\">Templates and spec</p>\n          <p className=\"mt-1\">\n            Download small examples you can upload immediately, plus a simple spec of what the lab accepts.\n          </p>\n          <div className=\"mt-3 flex flex-wrap gap-2\">\n            <a className=\"rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-900 hover:bg-slate-50\" href=\"/api/templates/docs-data-example-small.csv\">\n              Download example CSV (small)\n            </a>\n            <a className=\"rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-900 hover:bg-slate-50\" href=\"/api/templates/docs-data-spec.json\">\n              Download spec (JSON)\n            </a>\n            <a className=\"rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-900 hover:bg-slate-50\" href=\"/api/templates/data-prep-mini-classification.csv\">\n              Data prep mini dataset (CSV)\n            </a>\n          </div>\n          <ul className=\"mt-3 list-disc space-y-1 pl-5 text-xs text-slate-700\">\n            <li>Keep uploads under the per-file size limit shown above.</li>\n            <li>CSV should include a header row.</li>\n            <li>Use synthetic or anonymised data only.</li>\n          </ul>\n        </div>\n        {docs.length === 0 && (\n          <div className=\"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 px-4 py-3 text-sm text-slate-700\">\n            No documents yet. Upload a PDF, DOCX, TXT or small CSV.\n          </div>\n        )}\n        {docs.length > 0 && (\n          <div className=\"grid gap-4 lg:grid-cols-5\">\n            <div className=\"lg:col-span-2 rounded-2xl border border-slate-100 bg-white\">\n              <table className=\"min-w-full text-sm text-slate-800\">\n                <thead className=\"bg-slate-50 text-xs text-slate-600\">\n                  <tr>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Name</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Type</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Pages/Rows</th>\n                    <th className=\"px-3 py-2 text-left font-semibold\">Size</th>\n                    <th className=\"px-3 py-2\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {docs.map((doc) => (\n                    <tr key={doc.id} className=\"border-t border-slate-100\">\n                      <td className=\"px-3 py-2\">{doc.name}</td>\n                      <td className=\"px-3 py-2 text-xs text-slate-600\">{doc.type}</td>\n                      <td className=\"px-3 py-2 text-xs text-slate-600\">{doc.type === \"csv\" ? doc.rows ?? \"-\" : doc.pages ?? \"-\"}</td>\n                      <td className=\"px-3 py-2 text-xs text-slate-600\">{humanSize(doc.sizeBytes)}</td>\n                      <td className=\"px-3 py-2 text-right\">\n                        <button\n                          className=\"text-xs font-semibold text-sky-700 hover:underline\"\n                          onClick={() => setSelectedDocId(doc.id)}\n                          aria-label={`Preview ${doc.name}`}\n                        >\n                          Preview\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            <div className=\"lg:col-span-3 space-y-3\">\n              {selectedDoc ? (\n                <>\n                  <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-3 text-sm text-slate-700\">\n                    <div className=\"flex flex-wrap gap-3 text-xs text-slate-600\">\n                      <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Type: {selectedDoc.type}</span>\n                      {selectedDoc.pages && <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Pages: {selectedDoc.pages}</span>}\n                      {selectedDoc.rows && <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Rows: {selectedDoc.rows}</span>}\n                      {selectedDoc.columns && selectedDoc.columns.length > 0 && (\n                        <span className=\"rounded-full bg-white px-2 py-1 ring-1 ring-slate-200\">Columns: {selectedDoc.columns.join(\", \")}</span>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"grid gap-3 lg:grid-cols-2\">\n                    <div className=\"rounded-2xl border border-slate-100 bg-white p-3\">\n                      <p className=\"text-xs font-semibold text-slate-900 mb-2\">Preview</p>\n                      <div className=\"h-52 overflow-auto whitespace-pre-wrap text-xs text-slate-700\">\n                        {selectedDoc.type === \"csv\" ? selectedDoc.text : selectedDoc.text?.slice(0, 800) || \"No preview\"}\n                      </div>\n                    </div>\n                    <div className=\"rounded-2xl border border-slate-100 bg-white p-3\">\n                      <p className=\"text-xs font-semibold text-slate-900 mb-2\">Extracted text</p>\n                      <div className=\"h-52 overflow-auto whitespace-pre-wrap text-xs text-slate-700\">{selectedDoc.text || \"No text extracted\"}</div>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <p className=\"text-sm text-slate-600\">Select a document to preview.</p>\n              )}\n            </div>\n          </div>\n        )}\n      </section>\n\n      {/* 2. Text and entity explorer */}\n      <section\n        id=\"text-entities\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">2. Text and entity explorer</h2>\n        {!selectedDoc && <p className=\"text-sm text-slate-600\">Upload and select a document first.</p>}\n        {selectedDoc && selectedStats && (\n          <div className=\"space-y-4\">\n            <div className=\"flex flex-wrap gap-3 text-xs text-slate-700\">\n              <span className=\"rounded-full bg-slate-50 px-2 py-1 ring-1 ring-slate-200\">Words: {selectedStats.words}</span>\n              <span className=\"rounded-full bg-slate-50 px-2 py-1 ring-1 ring-slate-200\">Chars: {selectedStats.chars}</span>\n              <span className=\"rounded-full bg-slate-50 px-2 py-1 ring-1 ring-slate-200\">Sentences: {selectedStats.sentences}</span>\n            </div>\n            <div className=\"grid gap-4 lg:grid-cols-3\">\n              <div className=\"lg:col-span-2 rounded-2xl border border-slate-100 bg-white p-3\">\n                <p className=\"text-xs font-semibold text-slate-900 mb-2\">Highlighted excerpt</p>\n                <div className=\"h-56 overflow-auto whitespace-pre-wrap text-sm leading-relaxed text-slate-800\">{highlightExcerpt}</div>\n                <div className=\"mt-2 flex flex-wrap gap-2 text-xs text-slate-700\">\n                  <span className={`rounded-full px-2 py-1 ring-1 ring-slate-200 ${KEYWORD_CLASS}`}>Keywords</span>\n                  <span className={`rounded-full px-2 py-1 ring-1 ring-slate-200 ${ENTITY_CLASS}`}>Entities</span>\n                </div>\n              </div>\n              <div className=\"rounded-2xl border border-slate-100 bg-white p-3 space-y-3\">\n                <div>\n                  <p className=\"text-xs font-semibold text-slate-900 mb-2\">Top keywords</p>\n                  <ul className=\"space-y-1 text-sm text-slate-800\">\n                    {selectedStats.keywords.map((k) => (\n                      <li key={k.word} className=\"flex items-center justify-between\">\n                        <span>{k.word}</span>\n                        <span className=\"text-xs text-slate-600\">{k.count}</span>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n                <div className=\"border-t border-slate-100 pt-2\">\n                  <p className=\"text-xs font-semibold text-slate-900 mb-1\">Entities (heuristic)</p>\n                  {[\"people\", \"organisations\", \"locations\"].map((type) => (\n                    <div key={type} className=\"text-xs text-slate-700\">\n                      <span className=\"font-semibold capitalize\">{type}:</span>{\" \"}\n                      {selectedStats.entities[type].length ? selectedStats.entities[type].join(\", \") : \"-\"}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </section>\n\n      {/* 3. Build a retrieval index */}\n      <section\n        id=\"retrieval\"\n        ref={indexSectionRef}\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">3. Build a retrieval index</h2>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Select documents, build a tiny index, then ask questions against your own content.</p>\n          </div>\n          <button\n            onClick={buildIndex}\n            className=\"inline-flex items-center rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300\"\n            disabled={!docs.length}\n          >\n            Build index\n          </button>\n        </div>\n        {docs.length === 0 && <p className=\"text-sm text-slate-600\">Upload at least one document first.</p>}\n        {docs.length > 0 && (\n          <div className=\"space-y-3\">\n            <div className=\"grid gap-3 lg:grid-cols-2\">\n              <div className=\"rounded-2xl border border-slate-100 bg-white p-3\">\n                <p className=\"text-xs font-semibold text-slate-900 mb-2\">Include documents</p>\n                <div className=\"space-y-2 text-sm text-slate-800\">\n                  {docs.map((doc) => (\n                    <label key={doc.id} className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-200\"\n                        checked={!!indexSelection[doc.id]}\n                        onChange={(e) => setIndexSelection((prev) => ({ ...prev, [doc.id]: e.target.checked }))}\n                      />\n                      <span>{doc.name}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n              <div className=\"rounded-2xl border border-slate-100 bg-white p-3 space-y-3\">\n                <p className=\"text-xs font-semibold text-slate-900\">Ask a question about your documents</p>\n                <div className=\"flex flex-col gap-2\">\n                  <input\n                    type=\"text\"\n                    value={query}\n                    onChange={(e) => setQuery(e.target.value)}\n                    placeholder=\"e.g., What is the main objective?\"\n                    className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n                  />\n                  <button\n                    onClick={runQuery}\n                    className=\"self-start rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300\"\n                    disabled={!chunks.length}\n                  >\n                    Search\n                  </button>\n                  {!chunks.length && <p className=\"text-xs text-slate-600\">Build the index first to enable search.</p>}\n                </div>\n              </div>\n            </div>\n            {results.length > 0 && (\n              <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-3 space-y-3\">\n                <p className=\"text-xs font-semibold text-slate-900\">Top matches</p>\n                {results.map((res) => {\n                  const doc = docs.find((d) => d.id === res.docId);\n                  return (\n                    <div key={res.id} className=\"rounded-xl border border-slate-100 bg-white p-3\">\n                      <div className=\"flex items-center justify-between text-xs text-slate-600\">\n                        <span>{doc?.name || res.docId}</span>\n                        <span className=\"rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-800 ring-1 ring-emerald-100\">\n                          Score {(res.score || 0).toFixed(2)}\n                        </span>\n                      </div>\n                      <p className=\"mt-2 text-sm text-slate-800\">\n                        {res.text.slice(0, 220)}\n                        {res.text.length > 220 ? \"…\" : \"\"}\n                      </p>\n                    </div>\n                  );\n                })}\n                <p className=\"text-xs text-slate-700\">\n                  This is a tiny retrieval demo to build intuition, not a production index.\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n      </section>\n\n      {/* 4. Schema and field mapper */}\n      <section\n        id=\"schema-mapper\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">4. Schema and field mapper</h2>\n        <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n          Paste two sets of headers or keys. We will suggest simple matches to show how schema alignment feels in integration work.\n        </p>\n        <div className=\"grid gap-4 lg:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-800\">Source schema</p>\n            <textarea\n              value={srcSchema}\n              onChange={(e) => setSrcSchema(e.target.value)}\n              rows={5}\n              className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              placeholder=\"customer_id, name, address_line1, city, postcode\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <p className=\"text-xs font-semibold text-slate-800\">Target schema</p>\n            <textarea\n              value={tgtSchema}\n              onChange={(e) => setTgtSchema(e.target.value)}\n              rows={5}\n              className=\"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200\"\n              placeholder=\"custId, full_name, address1, city_name, postal_code\"\n            />\n          </div>\n        </div>\n        <div className=\"grid gap-4 lg:grid-cols-2\">\n          <div className=\"rounded-2xl border border-slate-100 bg-white p-3\">\n            <p className=\"text-xs font-semibold text-slate-900 mb-2\">Suggested mappings</p>\n            {fieldMappings.length === 0 && <p className=\"text-sm text-slate-600\">Add both schemas to see suggestions.</p>}\n            <ul className=\"space-y-2 text-sm text-slate-800\">\n              {fieldMappings.map((m) => (\n                <li key={m.source} className=\"flex items-center gap-2\">\n                  <span className=\"rounded-lg bg-slate-50 px-2 py-1 ring-1 ring-slate-200\">{m.source}</span>\n                  <span className=\"text-xs text-slate-500\">→</span>\n                  {m.target ? (\n                    <span className=\"rounded-lg bg-emerald-50 px-2 py-1 text-emerald-800 ring-1 ring-emerald-100\">{m.target}</span>\n                  ) : (\n                    <span className=\"rounded-lg bg-amber-50 px-2 py-1 text-amber-800 ring-1 ring-amber-100\">Unmapped</span>\n                  )}\n                  <span className=\"text-xs text-slate-600\">({(m.score * 100).toFixed(0)}%)</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"rounded-2xl border border-slate-100 bg-slate-50/60 p-3 text-sm text-slate-800\">\n            <p className=\"text-xs font-semibold text-slate-900 mb-1\">How to use this</p>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">\n              This is a sketch of schema alignment. Adjust field names and confirm mappings manually. Unmapped fields highlight gaps to\n              address before integration.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* 5. Recent docs runs */}\n      <section\n        id=\"docs-runs\"\n        className=\"rounded-3xl bg-white p-4 sm:p-6 md:p-7 shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100/80 space-y-4\"\n      >\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h2 className=\"text-base sm:text-lg font-semibold text-slate-900\">5. Recent docs runs</h2>\n            <p className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\">Latest index builds and document actions. Open Control Room for the full view.</p>\n          </div>\n          <Link href=\"/studios\" className=\"text-xs font-semibold text-emerald-700 hover:underline\">\n            Open Control Room\n          </Link>\n        </div>\n        {docsJobs.length === 0 && (\n          <div className=\"flex items-center justify-between rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 px-4 py-3 text-sm text-slate-700\">\n            <span>No runs yet. Build your first index to see it here.</span>\n            <button\n              onClick={focusBuildCard}\n              className=\"rounded-2xl bg-slate-900 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-slate-800\"\n            >\n              Build your first index\n            </button>\n          </div>\n        )}\n        {docsJobs.length > 0 && (\n          <div className=\"overflow-hidden rounded-2xl border border-slate-100 bg-white\">\n            <table className=\"min-w-full text-sm text-slate-800\">\n              <thead className=\"bg-slate-50 text-xs text-slate-600\">\n                <tr>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Job</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Documents</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Chunks</th>\n                  <th className=\"px-3 py-2 text-left font-semibold\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {docsJobs.map((job) => (\n                  <tr key={job.id} className=\"border-t border-slate-100\">\n                    <td className=\"px-3 py-2\">{job.name}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.metrics?.documentCount ?? \"-\"}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.metrics?.chunkCount ?? job.metrics?.indexSize ?? \"-\"}</td>\n                    <td className=\"px-3 py-2 text-xs text-slate-600\">{job.status}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[2]}}]
}