{
  "version": 3,
  "sources": [],
  "debugId": "6a101772-c258-a429-b712-0630405f50bc",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/app/admin/users/%5Bid%5D/ui.client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport Link from \"next/link\";\n\ntype AdminUser = {\n  userId: string;\n  email: string;\n  role: string;\n  accountStatus: string;\n  createdAt: string;\n  lastActiveAt: string;\n};\n\ntype SupportSnapshot = {\n  learnerProfile?: { certificateName: string; lockedAt: string } | null;\n  credits?: { balance: number; expiresAt: string | null } | null;\n  creditLots?: Array<{ id: string; amountCredits: number; remainingCredits: number; source: string; createdAt: string; expiresAt: string | null }>;\n  purchases?: Array<{ id: string; productId: string; stripeSessionId: string; status: string; createdAt: string }>;\n  certificateEntitlements?: Array<{ id: string; courseId: string; status: string; stripeSessionId: string | null; updatedAt: string }>;\n  certificates?: Array<{ id: string; courseId: string; courseVersion: string; issuedAt: string; certificateHash: string; status: string }>;\n  assessmentAttempts?: Array<{ id: string; assessmentId: string; score: number; passed: boolean; timeSpent: number; completedAt: string; courseVersion: string }>;\n};\n\nfunction toHuman(iso: string) {\n  try {\n    return new Date(iso).toLocaleString();\n  } catch {\n    return iso;\n  }\n}\n\nasync function postJson(url: string, body: any) {\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: { \"content-type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) throw new Error(data?.error || data?.message || \"Request failed\");\n  return data;\n}\n\nexport default function AdminUserClient({ user }: { user: AdminUser }) {\n  const [busy, setBusy] = useState<null | \"role\" | \"status\">(null);\n  const [error, setError] = useState<string | null>(null);\n  const [ok, setOk] = useState<string | null>(null);\n  const [role, setRole] = useState<string>(user.role);\n  const [status, setStatus] = useState<string>(user.accountStatus);\n  const [reasonRole, setReasonRole] = useState(\"\");\n  const [reasonStatus, setReasonStatus] = useState(\"\");\n  const [snapshot, setSnapshot] = useState<SupportSnapshot | null>(null);\n  const [busySupport, setBusySupport] = useState<null | \"snapshot\" | \"grant\">(null);\n  const [creditAmount, setCreditAmount] = useState<number>(0);\n  const [creditReason, setCreditReason] = useState(\"\");\n\n  const roleOptions = useMemo(() => [\"NONE\", \"READ_ONLY\", \"SUPPORT\", \"ADMIN\", \"OWNER\"], []);\n  const statusOptions = useMemo(() => [\"active\", \"pending\", \"suspended\"], []);\n\n  const loadSnapshot = async () => {\n    setBusySupport(\"snapshot\");\n    setError(null);\n    try {\n      const res = await fetch(`/api/admin/users/${encodeURIComponent(user.userId)}/support-snapshot`);\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok) throw new Error(data?.error || \"Failed to load support snapshot\");\n      setSnapshot({\n        learnerProfile: data?.learnerProfile || null,\n        credits: data?.credits ? { balance: Number(data.credits.balance || 0), expiresAt: data.credits.expiresAt || null } : null,\n        creditLots: Array.isArray(data?.creditLots) ? data.creditLots : [],\n        purchases: Array.isArray(data?.purchases) ? data.purchases : [],\n        certificateEntitlements: Array.isArray(data?.certificateEntitlements) ? data.certificateEntitlements : [],\n        certificates: Array.isArray(data?.certificates) ? data.certificates : [],\n        assessmentAttempts: Array.isArray(data?.assessmentAttempts) ? data.assessmentAttempts : [],\n      });\n    } catch (e: any) {\n      setError(e.message || \"Failed to load support snapshot\");\n    } finally {\n      setBusySupport(null);\n    }\n  };\n\n  const grantUserCredits = async () => {\n    setError(null);\n    setOk(null);\n    const reason = creditReason.trim();\n    const credits = Math.max(0, Math.round(creditAmount || 0));\n    if (!reason) return setError(\"Reason is required.\");\n    if (!credits) return setError(\"Credits must be greater than zero.\");\n    if (!confirm(\"Confirm credit grant\")) return;\n    setBusySupport(\"grant\");\n    try {\n      const res = await postJson(`/api/admin/users/${encodeURIComponent(user.userId)}/credits/grant`, { credits, reason });\n      setOk(`Credits granted. New balance ${res?.balance ?? \"updated\"}.`);\n      setCreditAmount(0);\n      setCreditReason(\"\");\n      await loadSnapshot();\n    } catch (e: any) {\n      setError(e.message || \"Failed to grant credits.\");\n    } finally {\n      setBusySupport(null);\n    }\n  };\n\n  const changeRole = async () => {\n    setError(null);\n    setOk(null);\n    const reason = reasonRole.trim();\n    if (!reason) return setError(\"Reason is required.\");\n    if (!confirm(\"Confirm role change\")) return;\n    setBusy(\"role\");\n    try {\n      await postJson(`/api/admin/users/${encodeURIComponent(user.userId)}/role`, { role, reason });\n      setOk(\"Role updated.\");\n      setReasonRole(\"\");\n    } catch (e: any) {\n      setError(e.message || \"Failed to update role.\");\n    } finally {\n      setBusy(null);\n    }\n  };\n\n  const changeStatus = async () => {\n    setError(null);\n    setOk(null);\n    const reason = reasonStatus.trim();\n    if (!reason) return setError(\"Reason is required.\");\n    if (!confirm(\"Confirm status change\")) return;\n    setBusy(\"status\");\n    try {\n      await postJson(`/api/admin/users/${encodeURIComponent(user.userId)}/status`, { status, reason });\n      setOk(\"Status updated.\");\n      setReasonStatus(\"\");\n    } catch (e: any) {\n      setError(e.message || \"Failed to update status.\");\n    } finally {\n      setBusy(null);\n    }\n  };\n\n  return (\n    <main className=\"mx-auto max-w-4xl px-4 py-10 md:px-6 lg:px-8 space-y-6\">\n      <div className=\"flex flex-wrap items-baseline justify-between gap-2\">\n        <div className=\"space-y-1\">\n          <p className=\"text-xs font-semibold text-slate-600\">Users</p>\n          <h1 className=\"text-2xl font-semibold text-slate-900\">{user.email}</h1>\n          <p className=\"text-xs text-slate-600 font-mono\">User ID: {user.userId}</p>\n        </div>\n        <Link href=\"/admin/users\" className=\"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-900 hover:border-slate-400\">\n          Back to users\n        </Link>\n      </div>\n\n      {error ? <div className=\"rounded-2xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-900\">{error}</div> : null}\n      {ok ? <div className=\"rounded-2xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-900\">{ok}</div> : null}\n\n      <section className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-3\">\n        <h2 className=\"text-lg font-semibold text-slate-900\">Profile summary</h2>\n        <div className=\"grid gap-3 sm:grid-cols-2\">\n          <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-4\">\n            <p className=\"text-xs font-semibold text-slate-700\">Created</p>\n            <p className=\"mt-1 text-sm text-slate-900\">{toHuman(user.createdAt)}</p>\n          </div>\n          <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-4\">\n            <p className=\"text-xs font-semibold text-slate-700\">Last active</p>\n            <p className=\"mt-1 text-sm text-slate-900\">{toHuman(user.lastActiveAt)}</p>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <h2 className=\"text-lg font-semibold text-slate-900\">Support snapshot</h2>\n          <button\n            type=\"button\"\n            className=\"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-50 disabled:opacity-60\"\n            disabled={busySupport !== null}\n            onClick={loadSnapshot}\n          >\n            {busySupport === \"snapshot\" ? \"Loading...\" : snapshot ? \"Refresh\" : \"Load\"}\n          </button>\n        </div>\n\n        {snapshot ? (\n          <div className=\"space-y-4\">\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-4\">\n                <p className=\"text-xs font-semibold text-slate-700\">Certificate name</p>\n                <p className=\"mt-1 text-sm text-slate-900\">{snapshot.learnerProfile?.certificateName || \"Not set\"}</p>\n                <p className=\"mt-1 text-xs text-slate-600\">{snapshot.learnerProfile?.lockedAt ? `Locked ${toHuman(snapshot.learnerProfile.lockedAt)}` : \"\"}</p>\n              </div>\n              <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-4\">\n                <p className=\"text-xs font-semibold text-slate-700\">Credits</p>\n                <p className=\"mt-1 text-sm text-slate-900\">{snapshot.credits ? snapshot.credits.balance : 0}</p>\n                <p className=\"mt-1 text-xs text-slate-600\">{snapshot.credits?.expiresAt ? `Expires ${toHuman(snapshot.credits.expiresAt)}` : \"\"}</p>\n              </div>\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-4 space-y-3\">\n              <p className=\"text-sm font-semibold text-slate-900\">Grant credits</p>\n              <div className=\"grid gap-3 md:grid-cols-3\">\n                <label className=\"space-y-1\">\n                  <span className=\"text-xs font-semibold text-slate-700\">Credits</span>\n                  <input\n                    type=\"number\"\n                    min={0}\n                    value={creditAmount}\n                    onChange={(e) => setCreditAmount(Number(e.target.value) || 0)}\n                    className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n                  />\n                </label>\n                <label className=\"space-y-1 md:col-span-2\">\n                  <span className=\"text-xs font-semibold text-slate-700\">Reason</span>\n                  <input\n                    value={creditReason}\n                    onChange={(e) => setCreditReason(e.target.value)}\n                    placeholder=\"Required\"\n                    className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n                  />\n                </label>\n              </div>\n              <button\n                type=\"button\"\n                className=\"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:bg-slate-300\"\n                disabled={busySupport !== null}\n                onClick={grantUserCredits}\n              >\n                {busySupport === \"grant\" ? \"Granting...\" : \"Grant credits\"}\n              </button>\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-4 space-y-2\">\n              <p className=\"text-sm font-semibold text-slate-900\">Recent assessment attempts</p>\n              {(snapshot.assessmentAttempts || []).length ? (\n                <div className=\"space-y-2\">\n                  {(snapshot.assessmentAttempts || []).slice(0, 6).map((a) => (\n                    <div key={a.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 flex flex-wrap items-center justify-between gap-2\">\n                      <div className=\"text-xs font-semibold text-slate-700\">{a.passed ? \"Pass\" : \"Not passed\"}</div>\n                      <div className=\"text-xs text-slate-700\">Score {a.score} percent</div>\n                      <div className=\"text-xs text-slate-600\">{a.courseVersion}</div>\n                      <div className=\"text-xs text-slate-600\">{toHuman(a.completedAt)}</div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-slate-600\">No attempts recorded.</p>\n              )}\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-4 space-y-2\">\n              <p className=\"text-sm font-semibold text-slate-900\">Certificate entitlements</p>\n              {(snapshot.certificateEntitlements || []).length ? (\n                <div className=\"space-y-2\">\n                  {(snapshot.certificateEntitlements || []).slice(0, 6).map((e) => (\n                    <div key={e.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 flex flex-wrap items-center justify-between gap-2\">\n                      <div className=\"text-xs font-semibold text-slate-700\">{e.courseId}</div>\n                      <div className=\"text-xs text-slate-700\">{e.status}</div>\n                      <div className=\"text-xs text-slate-600\">{toHuman(e.updatedAt)}</div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-slate-600\">No entitlements.</p>\n              )}\n            </div>\n\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-4 space-y-2\">\n              <p className=\"text-sm font-semibold text-slate-900\">Certificates</p>\n              {(snapshot.certificates || []).length ? (\n                <div className=\"space-y-2\">\n                  {(snapshot.certificates || []).slice(0, 6).map((c) => (\n                    <div key={c.id} className=\"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 flex flex-wrap items-center justify-between gap-2\">\n                      <div className=\"text-xs font-semibold text-slate-700\">{c.courseId}</div>\n                      <div className=\"text-xs text-slate-700\">{c.status}</div>\n                      <div className=\"text-xs text-slate-600\">{c.courseVersion}</div>\n                      <div className=\"text-xs text-slate-600\">{toHuman(c.issuedAt)}</div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-slate-600\">No certificates issued.</p>\n              )}\n            </div>\n          </div>\n        ) : (\n          <p className=\"text-sm text-slate-700\">Load a single view of credits, purchases, attempts, and certificate state for support work.</p>\n        )}\n      </section>\n\n      <section className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4\">\n        <h2 className=\"text-lg font-semibold text-slate-900\">Roles and permissions</h2>\n        <p className=\"text-sm text-slate-700\">Role changes require a reason and are audited.</p>\n        <div className=\"grid gap-3 md:grid-cols-3\">\n          <label className=\"space-y-1\">\n            <span className=\"text-xs font-semibold text-slate-700\">Role</span>\n            <select\n              value={role}\n              onChange={(e) => setRole(e.target.value)}\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            >\n              {roleOptions.map((r) => (\n                <option key={r} value={r}>\n                  {r}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"space-y-1 md:col-span-2\">\n            <span className=\"text-xs font-semibold text-slate-700\">Reason</span>\n            <input\n              value={reasonRole}\n              onChange={(e) => setReasonRole(e.target.value)}\n              placeholder=\"Required\"\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            />\n          </label>\n        </div>\n        <button type=\"button\" className=\"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:bg-slate-300\" disabled={busy !== null} onClick={changeRole}>\n          {busy === \"role\" ? \"Updating...\" : \"Change role\"}\n        </button>\n      </section>\n\n      <section className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm space-y-4\">\n        <h2 className=\"text-lg font-semibold text-slate-900\">Account status</h2>\n        <p className=\"text-sm text-slate-700\">Status changes require a reason and are audited.</p>\n        <div className=\"grid gap-3 md:grid-cols-3\">\n          <label className=\"space-y-1\">\n            <span className=\"text-xs font-semibold text-slate-700\">Status</span>\n            <select\n              value={status}\n              onChange={(e) => setStatus(e.target.value)}\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            >\n              {statusOptions.map((s) => (\n                <option key={s} value={s}>\n                  {s}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"space-y-1 md:col-span-2\">\n            <span className=\"text-xs font-semibold text-slate-700\">Reason</span>\n            <input\n              value={reasonStatus}\n              onChange={(e) => setReasonStatus(e.target.value)}\n              placeholder=\"Required\"\n              className=\"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2\"\n            />\n          </label>\n        </div>\n        <button type=\"button\" className=\"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:bg-slate-300\" disabled={busy !== null} onClick={changeStatus}>\n          {busy === \"status\" ? \"Updating...\" : \"Change status\"}\n        </button>\n      </section>\n    </main>\n  );\n}\n\n\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAqBA,SAAS,EAAQ,CAAW,EAC1B,GAAI,CACF,OAAO,IAAI,KAAK,GAAK,cAAc,EACrC,CAAE,KAAM,CACN,OAAO,CACT,CACF,CAEA,eAAe,EAAS,CAAW,CAAE,CAAS,EAC5C,IAAM,EAAM,MAAM,MAAM,EAAK,CAC3B,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,EACvB,GACM,EAAO,MAAM,EAAI,IAAI,GAAG,KAAK,CAAC,IAAM,AAAC,GAAC,CAAC,EAC7C,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,GAAM,OAAS,GAAM,SAAW,kBAC7D,OAAO,CACT,CAEe,SAAS,EAAgB,MAAE,CAAI,CAAuB,EACnE,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,MACrD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAI,EAAM,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MACtC,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAK,IAAI,EAC5C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAK,aAAa,EACzD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,MAC3D,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA8B,MACtE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GACnD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAE3C,EAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAAC,OAAQ,YAAa,UAAW,QAAS,QAAQ,CAAE,EAAE,EAClF,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAAC,SAAU,UAAW,YAAY,CAAE,EAAE,EAEpE,EAAe,UACnB,EAAe,YACf,EAAS,MACT,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,CAAC,iBAAiB,EAAE,mBAAmB,EAAK,MAAM,EAAE,iBAAiB,CAAC,EACxF,EAAO,MAAM,EAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,EAC7C,GAAI,CAAC,EAAI,EAAE,CAAE,MAAU,AAAJ,MAAU,GAAM,OAAS,mCAC5C,EAAY,CACV,eAAgB,GAAM,gBAAkB,KACxC,QAAS,GAAM,QAAU,CAAE,QAAS,OAAO,EAAK,OAAO,CAAC,OAAO,EAAI,GAAI,UAAW,EAAK,OAAO,CAAC,SAAS,EAAI,IAAK,EAAI,KACrH,WAAY,MAAM,OAAO,CAAC,GAAM,YAAc,EAAK,UAAU,CAAG,EAAE,CAClE,UAAW,MAAM,OAAO,CAAC,GAAM,WAAa,EAAK,SAAS,CAAG,EAAE,CAC/D,wBAAyB,MAAM,OAAO,CAAC,GAAM,yBAA2B,EAAK,uBAAuB,CAAG,EAAE,CACzG,aAAc,MAAM,OAAO,CAAC,GAAM,cAAgB,EAAK,YAAY,CAAG,EAAE,CACxE,mBAAoB,MAAM,OAAO,CAAC,GAAM,oBAAsB,EAAK,kBAAkB,CAAG,EAAE,AAC5F,EACF,CAAE,MAAO,EAAQ,CACf,EAAS,EAAE,OAAO,EAAI,kCACxB,QAAU,CACR,EAAe,KACjB,CACF,EAEM,EAAmB,UACvB,EAAS,MACT,EAAM,MACN,IAAM,EAAS,EAAa,IAAI,GAC1B,EAAU,KAAK,GAAG,CAAC,EAAG,KAAK,KAAK,CAAC,GAAgB,IACvD,GAAI,CAAC,EAAQ,OAAO,EAAS,uBAC7B,GAAI,CAAC,EAAS,OAAO,EAAS,sCAC9B,GAAK,CAAD,OAAS,yBAAyB,AACtC,EAAe,SACf,GAAI,CACF,IAAM,EAAM,MAAM,EAAS,CAAC,iBAAiB,EAAE,mBAAmB,EAAK,MAAM,EAAE,cAAc,CAAC,CAAE,SAAE,SAAS,CAAO,GAClH,EAAM,CAAC,6BAA6B,EAAE,GAAK,SAAW,UAAU,CAAC,CAAC,EAClE,EAAgB,GAChB,EAAgB,IAChB,MAAM,GACR,CAAE,MAAO,EAAQ,CACf,EAAS,EAAE,OAAO,EAAI,2BACxB,QAAU,CACR,EAAe,KACjB,EACF,EAEM,EAAa,UACjB,EAAS,MACT,EAAM,MACN,IAAM,EAAS,EAAW,IAAI,GAC9B,GAAI,CAAC,EAAQ,OAAO,EAAS,uBAC7B,GAAK,CAAD,OAAS,wBAAwB,AACrC,EAAQ,QACR,GAAI,CACF,MAAM,EAAS,CAAC,iBAAiB,EAAE,mBAAmB,EAAK,MAAM,EAAE,KAAK,CAAC,CAAE,MAAE,SAAM,CAAO,GAC1F,EAAM,iBACN,EAAc,GAChB,CAAE,MAAO,EAAQ,CACf,EAAS,EAAE,OAAO,EAAI,yBACxB,QAAU,CACR,EAAQ,KACV,EACF,EAEM,EAAe,UACnB,EAAS,MACT,EAAM,MACN,IAAM,EAAS,EAAa,IAAI,GAChC,GAAI,CAAC,EAAQ,OAAO,EAAS,uBAC7B,GAAK,CAAD,OAAS,0BAA0B,AACvC,EAAQ,UACR,GAAI,CACF,MAAM,EAAS,CAAC,iBAAiB,EAAE,mBAAmB,EAAK,MAAM,EAAE,OAAO,CAAC,CAAE,QAAE,SAAQ,CAAO,GAC9F,EAAM,mBACN,EAAgB,GAClB,CAAE,MAAO,EAAQ,CACf,EAAS,EAAE,OAAO,EAAI,2BACxB,QAAU,CACR,EAAQ,KACV,EACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mEACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,UACpD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAyC,EAAK,KAAK,GACjE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,6CAAmC,YAAU,EAAK,MAAM,OAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,eAAe,UAAU,sHAA6G,qBAKlJ,EAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mFAA2E,IAAe,KACjH,EAAK,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FAAoF,IAAY,KAErH,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,iFACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,oBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,YACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAQ,EAAK,SAAS,OAEpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,gBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAQ,EAAK,YAAY,aAK3E,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,iFACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,qBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,qIACV,SAA0B,OAAhB,EACV,QAAS,WAEQ,aAAhB,EAA6B,aAAe,EAAW,UAAY,YAIvE,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,qBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAS,cAAc,EAAE,iBAAmB,YACxF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAS,cAAc,EAAE,SAAW,CAAC,OAAO,EAAE,EAAQ,EAAS,cAAc,CAAC,QAAQ,EAAA,CAAG,CAAG,QAE1I,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,YACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAS,OAAO,CAAG,EAAS,OAAO,CAAC,OAAO,CAAG,IAC1F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAS,OAAO,EAAE,UAAY,CAAC,QAAQ,EAAE,EAAQ,EAAS,OAAO,CAAC,SAAS,EAAA,CAAG,CAAG,WAIjI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,kBACpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,sBACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,YACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,IAAK,EACL,MAAO,EACP,SAAW,AAAD,GAAO,EAAgB,OAAO,EAAE,MAAM,CAAC,KAAK,GAAK,GAC3D,UAAU,oMAGd,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,oCACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,WACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,YAAY,WACZ,UAAU,uMAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,gHACV,SAA0B,OAAhB,EACV,QAAS,WAEQ,UAAhB,EAA0B,cAAgB,qBAI/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,+BACnD,CAAC,EAAS,kBAAkB,EAAI,EAAA,AAAE,EAAE,MAAM,CACzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,AAAC,GAAS,kBAAkB,EAAI,EAAE,AAAF,EAAI,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GACpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,uHACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAwC,EAAE,MAAM,CAAG,OAAS,eAC3E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAAyB,SAAO,EAAE,KAAK,CAAC,cACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAE,aAAa,GACxD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAQ,EAAE,WAAW,MAJtD,EAAE,EAAE,KASlB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,6BAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,6BACnD,CAAC,EAAS,uBAAuB,EAAI,EAAA,AAAE,EAAE,MAAM,CAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,CAAC,EAAS,uBAAuB,EAAI,EAAE,AAAF,EAAI,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GACzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,uHACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAwC,EAAE,QAAQ,GACjE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAE,MAAM,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAQ,EAAE,SAAS,MAHpD,EAAE,EAAE,KAQlB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,wBAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAuC,iBACnD,CAAC,EAAS,YAAY,EAAI,EAAA,AAAE,EAAE,MAAM,CACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,CAAC,EAAS,YAAY,EAAI,EAAA,AAAE,EAAE,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,uHACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDAAwC,EAAE,QAAQ,GACjE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAE,MAAM,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAE,aAAa,GACxD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAA0B,EAAQ,EAAE,QAAQ,MAJnD,EAAE,EAAE,KASlB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,kCAK5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,mGAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,iFACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,0BACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,mDACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,sBACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,SACvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,EACvC,UAAU,wMAET,EAAY,GAAG,CAAE,AAAD,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WACpB,GADU,SAMnB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,oCACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,WACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,YAAY,WACZ,UAAU,uMAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,gHAAgH,SAAmB,OAAT,EAAe,QAAS,WACtK,SAAT,EAAkB,cAAgB,mBAIvC,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,iFACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gDAAuC,mBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,qDACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,sBACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,WACvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAU,EAAE,MAAM,CAAC,KAAK,EACzC,UAAU,wMAET,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WACpB,GADU,SAMnB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,oCACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,WACvD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,YAAY,WACZ,UAAU,uMAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,gHAAgH,SAAmB,OAAT,EAAe,QAAS,WACtK,WAAT,EAAoB,cAAgB,uBAK/C"}}]
}