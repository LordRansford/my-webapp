{
  "version": 3,
  "sources": [],
  "debugId": "37642dac-3070-5eec-597a-9cb3f359e18e",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/config/computeLimits.ts","../../../../src/hooks/useToolRunner.ts","../../../../src/lib/compute/estimateCost.ts","../../../../src/components/compute/ComputeEstimatePanel.tsx","../../../../src/lib/compute/computeModel.ts","../../../../src/components/compute/ComputeSummaryPanel.tsx"],"sourcesContent":["export type ComputeClass = \"A\" | \"B\" | \"C\";\n\nexport type ComputeTier = {\n  freeUnitsPerRun: number;\n  freeUnitsPerSession: number;\n  creditUnitsPerCredit: number;\n};\n\n/**\n * Job Runner compute limits (server-side execution).\n *\n * This is separate from UI-oriented compute profiles above. The Job Runner needs\n * hard caps and free-tier accounting in milliseconds, plus per-tool allowlists.\n */\nexport type JobRunnerToolLimits = {\n  toolId: string;\n  maxInputBytesFreeAnon: number;\n  maxInputBytesFreeAuthed: number;\n  maxRunMsHardCap: number;\n  freeMsPerDayAuthed: number;\n  freeMsPerDayAnon: number;\n  creditsPerMsPaid: number;\n  allowAnonymous: boolean;\n  allowAuthed: boolean;\n};\n\nconst SECOND_MS = 1000;\n\nexport const JOB_RUNNER_TOOL_LIMITS: Record<string, JobRunnerToolLimits> = {\n  \"mentor-query\": {\n    toolId: \"mentor-query\",\n    maxInputBytesFreeAnon: 1_000,\n    maxInputBytesFreeAuthed: 6_000,\n    maxRunMsHardCap: 60 * SECOND_MS,\n    freeMsPerDayAuthed: 30 * SECOND_MS,\n    freeMsPerDayAnon: 8 * SECOND_MS,\n    creditsPerMsPaid: 1 / (10 * SECOND_MS), // 1 credit per 10s paid\n    allowAnonymous: true,\n    allowAuthed: true,\n  },\n  \"whois-summary\": {\n    toolId: \"whois-summary\",\n    maxInputBytesFreeAnon: 300,\n    maxInputBytesFreeAuthed: 2_000,\n    maxRunMsHardCap: 20 * SECOND_MS,\n    freeMsPerDayAuthed: 60 * SECOND_MS,\n    freeMsPerDayAnon: 15 * SECOND_MS,\n    creditsPerMsPaid: 1 / (20 * SECOND_MS), // 1 credit per 20s paid\n    allowAnonymous: true,\n    allowAuthed: true,\n  },\n  \"templates-request-download\": {\n    toolId: \"templates-request-download\",\n    maxInputBytesFreeAnon: 600,\n    maxInputBytesFreeAuthed: 2_000,\n    maxRunMsHardCap: 30 * SECOND_MS,\n    freeMsPerDayAuthed: 20 * SECOND_MS,\n    freeMsPerDayAnon: 0,\n    creditsPerMsPaid: 1 / (10 * SECOND_MS),\n    allowAnonymous: false,\n    allowAuthed: true,\n  },\n  \"sandbox-echo\": {\n    toolId: \"sandbox-echo\",\n    maxInputBytesFreeAnon: 2_000,\n    maxInputBytesFreeAuthed: 10_000,\n    maxRunMsHardCap: 15 * SECOND_MS,\n    freeMsPerDayAuthed: 20 * SECOND_MS,\n    freeMsPerDayAnon: 10 * SECOND_MS,\n    creditsPerMsPaid: 1 / (10 * SECOND_MS),\n    allowAnonymous: true,\n    allowAuthed: true,\n  },\n  \"code-runner\": {\n    toolId: \"code-runner\",\n    maxInputBytesFreeAnon: 6_500,\n    maxInputBytesFreeAuthed: 6_500,\n    maxRunMsHardCap: 8 * SECOND_MS,\n    freeMsPerDayAuthed: 20 * SECOND_MS,\n    freeMsPerDayAnon: 10 * SECOND_MS,\n    creditsPerMsPaid: 1 / (10 * SECOND_MS),\n    allowAnonymous: true,\n    allowAuthed: true,\n  },\n};\n\nexport function getJobRunnerToolLimits(toolId: string): JobRunnerToolLimits | null {\n  return JOB_RUNNER_TOOL_LIMITS[toolId] || null;\n}\n\nexport type ToolFileLimits = {\n  freeMaxBytes: number;\n  paidMaxBytes: number;\n  absoluteMaxBytes: number;\n};\n\nexport type ToolComputeProfile = {\n  toolId: string;\n  label: string;\n  computeClass: ComputeClass;\n  typicalInputBytes: number;\n  typicalSteps: number;\n  fileLimits?: ToolFileLimits;\n  guidance: string[];\n  scenarios?: Array<{\n    title: string;\n    estimateNote: string;\n    mediumRunsPerTenCredits?: number;\n    largeRunCredits?: number;\n    browserOnlyCostsZero?: boolean;\n  }>;\n};\n\n// These are \"compute units\", not money. The UI should describe them as an estimate.\n// We keep the free tier slightly below typical browser tolerance to avoid freezes on weaker devices.\nexport const COMPUTE_TIER: ComputeTier = {\n  freeUnitsPerRun: 7_500,\n  freeUnitsPerSession: 30_000,\n  creditUnitsPerCredit: 25_000,\n};\n\nconst MB = 1024 * 1024;\n\nexport const TOOL_COMPUTE_PROFILES: Record<string, ToolComputeProfile> = {\n  // Security dashboards (server-assisted, bounded).\n  \"dns-email-security-dashboard\": {\n    toolId: \"dns-email-security-dashboard\",\n    label: \"DNS email security\",\n    computeClass: \"B\",\n    typicalInputBytes: 120,\n    typicalSteps: 1,\n    guidance: [\"Shorter inputs reduce retries.\", \"Repeated checks of the same domain usually add little value. Try a different domain or a different tool.\"],\n    scenarios: [{ title: \"Typical runs\", estimateNote: \"Most runs are small and fit in the free tier.\", mediumRunsPerTenCredits: 120, browserOnlyCostsZero: false }],\n  },\n  \"https-redirect-checker\": {\n    toolId: \"https-redirect-checker\",\n    label: \"HTTPS redirect checker\",\n    computeClass: \"B\",\n    typicalInputBytes: 200,\n    typicalSteps: 6,\n    guidance: [\"Short redirect chains cost less.\", \"If you only need the final destination, do one check per key entry page.\"],\n    scenarios: [{ title: \"Redirect chains\", estimateNote: \"Costs rise with chain length.\", mediumRunsPerTenCredits: 80 }],\n  },\n  \"website-security-lab\": {\n    toolId: \"website-security-lab\",\n    label: \"Website security lab\",\n    computeClass: \"B\",\n    typicalInputBytes: 240,\n    typicalSteps: 6,\n    guidance: [\"Test one representative URL per site, then expand.\", \"Avoid long redirect chains or many subpaths unless needed.\"],\n  },\n  \"email-header-phishing-lab\": {\n    toolId: \"email-header-phishing-lab\",\n    label: \"Email header lab\",\n    computeClass: \"B\",\n    typicalInputBytes: 6_000,\n    typicalSteps: 1,\n    guidance: [\"Paste headers only, not the message body.\", \"Trim the header block to the relevant hops if it is extremely long.\"],\n  },\n  \"phishing-link-explainer\": {\n    toolId: \"phishing-link-explainer\",\n    label: \"Phishing link explainer\",\n    computeClass: \"B\",\n    typicalInputBytes: 300,\n    typicalSteps: 2,\n    guidance: [\"Short URLs and fewer redirects reduce work.\", \"Run a second check only if the context changed.\"],\n  },\n  \"third-party-script-viewer\": {\n    toolId: \"third-party-script-viewer\",\n    label: \"Third party script viewer\",\n    computeClass: \"B\",\n    typicalInputBytes: 200,\n    typicalSteps: 4,\n    guidance: [\"Use one representative page per application area.\", \"Focus on scripts that run on authenticated pages first.\"],\n  },\n\n  // API tools (server assisted).\n  \"dns-lookup\": { toolId: \"dns-lookup\", label: \"DNS lookup\", computeClass: \"B\", typicalInputBytes: 120, typicalSteps: 1, guidance: [\"Use one hostname at a time.\"] },\n  \"tls-inspect\": { toolId: \"tls-inspect\", label: \"TLS inspect\", computeClass: \"B\", typicalInputBytes: 120, typicalSteps: 1, guidance: [\"Use a hostname rather than an IP.\", \"Retry only after you confirm the service is up.\"] },\n  \"whois-summary\": { toolId: \"whois-summary\", label: \"WHOIS summary\", computeClass: \"B\", typicalInputBytes: 120, typicalSteps: 1, guidance: [\"Compare results with context and expected registrant.\"] },\n  \"ip-reputation\": { toolId: \"ip-reputation\", label: \"IP reputation\", computeClass: \"B\", typicalInputBytes: 60, typicalSteps: 1, guidance: [\"Combine with logs and behavioural indicators.\"] },\n\n  // Mentor (server assisted, bounded).\n  \"mentor-query\": {\n    toolId: \"mentor-query\",\n    label: \"Mentor\",\n    computeClass: \"B\",\n    typicalInputBytes: 2_000,\n    typicalSteps: 6,\n    guidance: [\"Ask one focused question at a time.\", \"Include the page link so the match is tighter.\", \"Shorter questions usually respond faster.\"],\n  },\n\n  // Template access evaluation (server assisted, bounded).\n  \"templates-request-download\": {\n    toolId: \"templates-request-download\",\n    label: \"Template download request\",\n    computeClass: \"B\",\n    typicalInputBytes: 800,\n    typicalSteps: 3,\n    guidance: [\"Choose one template at a time.\", \"Keep the requested use clear and short.\"],\n  },\n\n  // AI Studio (Model Forge): local training but metered for predictable limits and future paid tiers.\n  \"model-forge-train\": {\n    toolId: \"model-forge-train\",\n    label: \"Model Forge training\",\n    computeClass: \"B\",\n    typicalInputBytes: 250_000,\n    typicalSteps: 200,\n    fileLimits: { freeMaxBytes: 350 * 1024, paidMaxBytes: 2 * MB, absoluteMaxBytes: 4 * MB },\n    guidance: [\"Start with fewer rows and fewer epochs.\", \"Try one target column at a time.\", \"Avoid high-cardinality text columns in a tabular demo.\"],\n    scenarios: [\n      { title: \"Small CSV\", estimateNote: \"A small CSV with light training usually fits in the free tier.\", mediumRunsPerTenCredits: 40 },\n      { title: \"Bigger dataset\", estimateNote: \"Larger datasets and more iterations can exceed the free tier.\", largeRunCredits: 2 },\n    ],\n  },\n\n  // Software Development Studio: trade-off simulator is local-first and low compute by default.\n  \"software-tradeoff-sim\": {\n    toolId: \"software-tradeoff-sim\",\n    label: \"Engineering trade-off simulator\",\n    computeClass: \"A\",\n    typicalInputBytes: 400,\n    typicalSteps: 50,\n    guidance: [\"Keep constraints realistic.\", \"Change one variable at a time so you can explain causality.\", \"Write down the decision rule you are using.\"],\n  },\n\n  // Data and Digitalisation Studio: lightweight governance-led simulators (local only).\n  \"data-roadmap-sim\": {\n    toolId: \"data-roadmap-sim\",\n    label: \"Data and digitalisation roadmap simulator\",\n    computeClass: \"A\",\n    typicalInputBytes: 600,\n    typicalSteps: 60,\n    guidance: [\"Keep the first pass simple: purpose, owners, and controls.\", \"Improve quality at source before building bigger dashboards.\", \"Write down your decision rule.\"],\n  },\n\n  // Cybersecurity Studio: lightweight risk/control mapping simulator (local).\n  \"cyber-risk-sim\": {\n    toolId: \"cyber-risk-sim\",\n    label: \"Cyber risk mapping simulator\",\n    computeClass: \"A\",\n    typicalInputBytes: 700,\n    typicalSteps: 70,\n    guidance: [\"Start with one asset and one realistic threat.\", \"Pick controls you can operate and measure.\", \"Write the acceptance criteria for residual risk.\"],\n  },\n\n  // Responsible AI Studio: lightweight, illustrative tools (local only).\n  \"ai-prompt-compare\": {\n    toolId: \"ai-prompt-compare\",\n    label: \"Prompt comparison playground\",\n    computeClass: \"A\",\n    typicalInputBytes: 2_000,\n    typicalSteps: 40,\n    guidance: [\"Compare small prompt changes only.\", \"Write what success looks like before you run.\", \"Treat results as illustrative, not definitive.\"],\n  },\n  \"ai-consistency-test\": {\n    toolId: \"ai-consistency-test\",\n    label: \"Output consistency tester\",\n    computeClass: \"A\",\n    typicalInputBytes: 2_500,\n    typicalSteps: 80,\n    guidance: [\"Run a few samples first, then increase.\", \"Separate prompt quality from model randomness.\", \"Log both the prompt and the settings.\"],\n  },\n  \"ai-bias-sim\": {\n    toolId: \"ai-bias-sim\",\n    label: \"Bias scenario explorer\",\n    computeClass: \"A\",\n    typicalInputBytes: 1_500,\n    typicalSteps: 90,\n    guidance: [\"Bias often comes from data and labels, not intent.\", \"Check base rates before blaming the model.\", \"Always define who is harmed by errors.\"],\n  },\n  \"ai-behaviour-compare\": {\n    toolId: \"ai-behaviour-compare\",\n    label: \"Model behaviour comparison (simulated)\",\n    computeClass: \"A\",\n    typicalInputBytes: 2_200,\n    typicalSteps: 70,\n    guidance: [\"Compare behaviours, not vibes.\", \"Look for quiet failures and edge cases.\", \"Decide when not to use AI.\"],\n  },\n\n  // AI Studio project compute demos (server metered, deterministic).\n  \"ai-story-generator\": {\n    toolId: \"ai-story-generator\",\n    label: \"Story generator (safe demo)\",\n    computeClass: \"A\",\n    typicalInputBytes: 160,\n    typicalSteps: 40,\n    guidance: [\"Keep prompts short for cheaper runs.\", \"Add detail gradually.\", \"Use child-friendly language for child projects.\"],\n  },\n  \"ai-homework-helper\": {\n    toolId: \"ai-homework-helper\",\n    label: \"Homework helper (safe demo)\",\n    computeClass: \"A\",\n    typicalInputBytes: 220,\n    typicalSteps: 55,\n    guidance: [\"Write the exact equation if possible.\", \"Ask for steps, not just answers.\", \"Check the final answer by substitution.\"],\n  },\n  \"ai-support-bot\": {\n    toolId: \"ai-support-bot\",\n    label: \"Support bot (safe demo)\",\n    computeClass: \"A\",\n    typicalInputBytes: 220,\n    typicalSteps: 55,\n    guidance: [\"Keep one intent per message (return/refund/delivery).\", \"Avoid sensitive personal data in demos.\", \"Save strong replies as templates.\"],\n  },\n\n  \"studio-help-assistant\": {\n    toolId: \"studio-help-assistant\",\n    label: \"Studios help assistant\",\n    computeClass: \"A\",\n    typicalInputBytes: 420,\n    typicalSteps: 70,\n    guidance: [\"Ask one clear question at a time.\", \"Paste your requirements to tailor examples.\", \"Use the light preset for cheaper runs.\"],\n  },\n};\n\nexport function getToolComputeProfile(toolId?: string | null): ToolComputeProfile | null {\n  if (!toolId) return null;\n  return TOOL_COMPUTE_PROFILES[toolId] || null;\n}\n\nexport function getToolFileLimits(toolId?: string | null): ToolFileLimits | null {\n  const p = getToolComputeProfile(toolId);\n  return p?.fileLimits || null;\n}\n\nexport function formatBytes(bytes: number) {\n  if (!Number.isFinite(bytes) || bytes <= 0) return \"0 B\";\n  if (bytes < 1024) return `${Math.round(bytes)} B`;\n  if (bytes < MB) return `${Math.round(bytes / 1024)} KB`;\n  return `${(bytes / MB).toFixed(1)} MB`;\n}\n\n\n","\"use client\";\n\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { emitInternalToolEvent } from \"@/lib/analytics/internalClient\";\nimport { estimatePostRunCost, estimatePreRunCost, type ComputeCostBreakdown } from \"@/lib/compute/estimateCost\";\nimport { getToolComputeProfile } from \"@/config/computeLimits\";\n\ntype RunnerOptions = {\n  minIntervalMs?: number;\n  timeoutMs?: number;\n  toolId?: string;\n};\n\ntype RunnerState = {\n  loading: boolean;\n  errorMessage: string;\n};\n\ntype ComputeMeta = {\n  inputBytes?: number;\n  steps?: number;\n  expectedWallMs?: number;\n};\n\ntype RunnerComputeState = {\n  pre: ComputeCostBreakdown | null;\n  post: ComputeCostBreakdown | null;\n  live: ComputeCostBreakdown | null;\n  sessionFreeUsedUnits: number;\n  creditsBalance: number | null;\n  creditsVisible: boolean;\n  creditsExpiresAt: string | null;\n  usageHistory: any[];\n  lastInputBytes?: number | null;\n  lastConsumedCredits?: number | null;\n  hadPreview: boolean;\n};\n\nconst COMPUTE_SESSION_KEY = \"rn_compute_session_units_v1\";\nconst COMPUTE_SIM_CREDITS_KEY = \"rn_compute_sim_credits_v1\";\n\nfunction readNumber(key: string): number {\n  try {\n    const raw = window.sessionStorage.getItem(key);\n    const n = raw ? Number(raw) : 0;\n    if (!Number.isFinite(n) || n < 0) return 0;\n    return Math.floor(n);\n  } catch {\n    return 0;\n  }\n}\n\nfunction writeNumber(key: string, value: number) {\n  try {\n    window.sessionStorage.setItem(key, String(Math.max(0, Math.floor(value))));\n  } catch {\n    // ignore\n  }\n}\n\nexport function useToolRunner(options: RunnerOptions = {}) {\n  const minIntervalMs = options.minIntervalMs ?? 600;\n  const timeoutMs = options.timeoutMs ?? 15_000;\n  const toolId = options.toolId;\n  const [state, setState] = useState<RunnerState>({ loading: false, errorMessage: \"\" });\n  const lastRunAtRef = useRef<number>(0);\n  const inFlightRef = useRef<boolean>(false);\n  const abortRef = useRef<AbortController | null>(null);\n\n  const [compute, setCompute] = useState<RunnerComputeState>({\n    pre: null,\n    post: null,\n    live: null,\n    sessionFreeUsedUnits: 0,\n    creditsBalance: null,\n    creditsVisible: false,\n    creditsExpiresAt: null,\n    usageHistory: [],\n    lastInputBytes: null,\n    lastConsumedCredits: null,\n    hadPreview: false,\n  });\n\n  const profile = useMemo(() => (toolId ? getToolComputeProfile(toolId) : null), [toolId]);\n\n  useEffect(() => {\n    const used = readNumber(COMPUTE_SESSION_KEY);\n    const simulated = readNumber(COMPUTE_SIM_CREDITS_KEY);\n    // Fetch credits if signed in, else keep unknown.\n    setCompute((c) => ({ ...c, sessionFreeUsedUnits: used, creditsBalance: simulated, creditsVisible: false }));\n\n    fetch(\"/api/credits/status\")\n      .then(async (r) => {\n        if (!r.ok) throw new Error(\"No credits\");\n        const d = await r.json().catch(() => ({}));\n        const bal = typeof d?.balance === \"number\" ? d.balance : 0;\n        const expiresAt = typeof d?.expiresAt === \"string\" ? d.expiresAt : d?.expiresAt ? String(d.expiresAt) : null;\n        const usage = Array.isArray(d?.usage) ? d.usage : [];\n        setCompute((c) => ({ ...c, creditsBalance: bal, creditsVisible: true, creditsExpiresAt: expiresAt, usageHistory: usage }));\n      })\n      .catch(() => {\n        // Not signed in or endpoint not available; keep credits hidden.\n      });\n  }, []);\n\n  const resetError = useCallback(() => {\n    setState((s) => ({ ...s, errorMessage: \"\" }));\n  }, []);\n\n  const clearCompute = useCallback(() => {\n    setCompute((c) => ({ ...c, pre: null, post: null, live: null, lastConsumedCredits: null, hadPreview: false }));\n  }, []);\n\n  const prepare = useCallback(\n    (meta: ComputeMeta = {}) => {\n      const inputBytes = typeof meta.inputBytes === \"number\" ? meta.inputBytes : profile?.typicalInputBytes ?? 0;\n      const steps = typeof meta.steps === \"number\" ? meta.steps : profile?.typicalSteps ?? 1;\n      const expectedWallMs = typeof meta.expectedWallMs === \"number\" ? meta.expectedWallMs : 900;\n\n      const pre = estimatePreRunCost({\n        toolId: toolId || undefined,\n        computeClass: profile?.computeClass,\n        inputBytes,\n        steps,\n        expectedWallMs,\n        sessionFreeUsedUnits: compute.sessionFreeUsedUnits,\n        creditsBalance: compute.creditsVisible ? compute.creditsBalance : null,\n      });\n      setCompute((c) => ({ ...c, pre, post: null, live: null, lastInputBytes: inputBytes, hadPreview: true }));\n      return pre;\n    },\n    [toolId, profile, compute.sessionFreeUsedUnits, compute.creditsBalance, compute.creditsVisible]\n  );\n\n  const run = useCallback(\n    async <T,>(fn: (signal: AbortSignal) => Promise<T>, meta: ComputeMeta = {}): Promise<T | null> => {\n      const now = Date.now();\n      if (inFlightRef.current) return null;\n      if (now - lastRunAtRef.current < minIntervalMs) return null;\n\n      inFlightRef.current = true;\n      lastRunAtRef.current = now;\n      abortRef.current?.abort();\n      abortRef.current = new AbortController();\n      const signal = abortRef.current.signal;\n\n      const inputBytes = typeof meta.inputBytes === \"number\" ? meta.inputBytes : compute.lastInputBytes ?? profile?.typicalInputBytes ?? 0;\n      const steps = typeof meta.steps === \"number\" ? meta.steps : profile?.typicalSteps ?? 1;\n      if (!compute.pre) {\n        prepare({ inputBytes, steps, expectedWallMs: meta.expectedWallMs });\n      }\n\n      // Enforce: if this run exceeds free tier, guest users cannot proceed unless they confirm a downgrade attempt.\n      // Downgrade here means \"try a light run\" by enforcing a strict client-side timeout (partial results possible).\n      const preForGate = compute.pre || prepare({ inputBytes, steps, expectedWallMs: meta.expectedWallMs });\n      const exceedsFree = preForGate.estimate.paidUnitsUsed > 0;\n      let downgradeFreeTierOnly = false;\n      if (exceedsFree && !compute.creditsVisible) {\n        const ok = window.confirm(\n          \"This run may exceed the free tier. Guests cannot spend credits. Continue with a light run that may return partial results?\"\n        );\n        if (!ok) return null;\n        downgradeFreeTierOnly = true;\n      }\n      if (exceedsFree && compute.creditsVisible && preForGate.estimate.creditShortfall) {\n        const ok = window.confirm(\n          \"This run may exceed the free tier and you may not have enough credits for the paid portion. Continue with a light run that may return partial results?\"\n        );\n        if (!ok) return null;\n        downgradeFreeTierOnly = true;\n      }\n\n      setState({ loading: true, errorMessage: \"\" });\n      const start = Date.now();\n\n      // Live meter: update a running estimate from elapsed time.\n      const liveInterval = window.setInterval(() => {\n        const elapsed = Date.now() - start;\n        const live = estimatePostRunCost({\n          toolId: toolId || undefined,\n          computeClass: profile?.computeClass,\n          inputBytes,\n          steps,\n          actualWallMs: elapsed,\n          sessionFreeUsedUnits: compute.sessionFreeUsedUnits,\n          creditsBalance: compute.creditsVisible ? compute.creditsBalance : null,\n        });\n        setCompute((c) => ({ ...c, live }));\n      }, 250);\n\n      const timeout =\n        timeoutMs > 0\n          ? setTimeout(() => {\n              abortRef.current?.abort();\n              if (toolId) {\n                emitInternalToolEvent({ type: \"tool_timeout\", toolId, durationMs: Date.now() - start, success: false });\n              }\n            }, timeoutMs)\n          : null;\n\n      // Free-tier-only attempt: enforce a tighter timeout to avoid surprise usage.\n      // This is approximate and is meant to keep runs safely bounded on weak devices.\n      const freeTierTimeout =\n        downgradeFreeTierOnly && profile?.computeClass !== \"A\"\n          ? setTimeout(() => {\n              abortRef.current?.abort();\n            }, 2500)\n          : null;\n\n      try {\n        const out = await fn(signal);\n        if (toolId) emitInternalToolEvent({ type: \"tool_executed\", toolId, durationMs: Date.now() - start, success: true });\n\n        const actualMs = Date.now() - start;\n        const post = estimatePostRunCost({\n          toolId: toolId || undefined,\n          computeClass: profile?.computeClass,\n          inputBytes,\n          steps,\n          actualWallMs: actualMs,\n          sessionFreeUsedUnits: compute.sessionFreeUsedUnits,\n          creditsBalance: compute.creditsVisible ? compute.creditsBalance : null,\n        });\n\n        const newSessionUsed = compute.sessionFreeUsedUnits + post.estimate.freeUnitsUsed;\n        writeNumber(COMPUTE_SESSION_KEY, newSessionUsed);\n\n        // Deduct credits for paid portion (signed in only), but never for the free portion.\n        let consumedCredits = 0;\n        let remainingCredits: number | null = compute.creditsVisible ? (compute.creditsBalance ?? 0) : null;\n        if (toolId && compute.creditsVisible && post.estimate.estimatedCredits > 0 && !downgradeFreeTierOnly) {\n          const hadPreview = Boolean(compute.hadPreview || compute.pre);\n          const r = await fetch(\"/api/credits/consume\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              toolId,\n              inputBytes,\n              durationMs: actualMs,\n              featureFlags: {},\n              hadPreview,\n            }),\n          });\n          if (r.ok) {\n            const d = await r.json().catch(() => ({}));\n            consumedCredits = typeof d?.consumed === \"number\" ? d.consumed : 0;\n            remainingCredits = typeof d?.remaining === \"number\" ? d.remaining : remainingCredits;\n          } else if (r.status === 402) {\n            // Paid portion denied by server. Keep the run result but inform the user.\n            setState((s) => ({ ...s, errorMessage: \"Your run finished, but the paid portion could not be applied due to insufficient credits.\" }));\n          }\n        }\n\n        setCompute((c) => ({\n          ...c,\n          post,\n          live: null,\n          sessionFreeUsedUnits: newSessionUsed,\n          lastConsumedCredits: consumedCredits,\n          creditsBalance: remainingCredits ?? c.creditsBalance,\n        }));\n        setState({ loading: false, errorMessage: \"\" });\n        return out;\n      } catch (e) {\n        if ((e as any)?.name === \"AbortError\") {\n          setState({ loading: false, errorMessage: \"\" });\n          return null;\n        }\n        if (toolId) emitInternalToolEvent({ type: \"tool_error\", toolId, durationMs: Date.now() - start, success: false });\n        setState({\n          loading: false,\n          errorMessage: \"This did not work as expected. Please adjust your input and try again.\",\n        });\n        return null;\n      } finally {\n        if (timeout) clearTimeout(timeout);\n        if (liveInterval) clearInterval(liveInterval);\n        if (freeTierTimeout) clearTimeout(freeTierTimeout);\n        inFlightRef.current = false;\n      }\n    },\n    [minIntervalMs, timeoutMs, toolId, profile, compute.pre, compute.lastInputBytes, compute.sessionFreeUsedUnits, compute.creditsBalance, compute.creditsVisible, compute.hadPreview, prepare]\n  );\n\n  const cancel = useCallback(() => {\n    abortRef.current?.abort();\n    abortRef.current = null;\n    inFlightRef.current = false;\n    setState((s) => ({ ...s, loading: false }));\n  }, []);\n\n  return {\n    loading: state.loading,\n    errorMessage: state.errorMessage,\n    run,\n    cancel,\n    resetError,\n    prepare,\n    clearCompute,\n    compute,\n  };\n}\n\n\n","import { COMPUTE_TIER, type ComputeClass, getToolComputeProfile } from \"@/config/computeLimits\";\n\nexport type ComputeCostInput = {\n  toolId?: string;\n  computeClass?: ComputeClass;\n  // Rough inputs for estimation.\n  inputBytes?: number;\n  steps?: number;\n  expectedWallMs?: number;\n  // Available balances.\n  sessionFreeUsedUnits?: number;\n  creditsBalance?: number | null;\n};\n\nexport type ComputeCostBreakdown = {\n  toolId?: string;\n  computeClass: ComputeClass;\n  estimate: {\n    units: number;\n    freeUnitsAvailable: number;\n    freeUnitsUsed: number;\n    paidUnitsUsed: number;\n    estimatedCredits: number;\n    creditsBalanceKnown: boolean;\n    creditShortfall: boolean;\n  };\n  explanation: string[];\n  warnings: string[];\n};\n\nfunction clampInt(n: unknown, min: number, max: number) {\n  const v = typeof n === \"number\" ? n : Number(n);\n  if (!Number.isFinite(v)) return min;\n  return Math.max(min, Math.min(max, Math.round(v)));\n}\n\nfunction estimateUnits(input: ComputeCostInput): { units: number; computeClass: ComputeClass; label?: string } {\n  const profile = input.toolId ? getToolComputeProfile(input.toolId) : null;\n  const computeClass: ComputeClass = input.computeClass || profile?.computeClass || \"A\";\n\n  const inputBytes = clampInt(input.inputBytes ?? profile?.typicalInputBytes ?? 0, 0, 10_000_000);\n  const steps = clampInt(input.steps ?? profile?.typicalSteps ?? 1, 1, 50_000);\n  const expectedWallMs = clampInt(input.expectedWallMs ?? 900, 0, 120_000);\n\n  // Simple, deterministic estimation model:\n  // - Class A is local and should not consume credits.\n  // - Class B uses a mix of network + bounded server compute.\n  // - Class C is server-bound, heavy, and always paid above free tier.\n  if (computeClass === \"A\") {\n    const units = Math.max(200, Math.round(inputBytes / 4) + Math.round(steps * 3));\n    return { units, computeClass, label: profile?.label };\n  }\n\n  if (computeClass === \"B\") {\n    const units = Math.max(500, Math.round(expectedWallMs * 2) + Math.round(inputBytes / 2) + Math.round(steps * 25));\n    return { units, computeClass, label: profile?.label };\n  }\n\n  const units = Math.max(1500, Math.round(expectedWallMs * 6) + Math.round(inputBytes / 2) + Math.round(steps * 60));\n  return { units, computeClass, label: profile?.label };\n}\n\nexport function estimatePreRunCost(input: ComputeCostInput): ComputeCostBreakdown {\n  const { units, computeClass, label } = estimateUnits(input);\n  const sessionUsed = clampInt(input.sessionFreeUsedUnits ?? 0, 0, COMPUTE_TIER.freeUnitsPerSession);\n  const freeRemainingSession = Math.max(0, COMPUTE_TIER.freeUnitsPerSession - sessionUsed);\n  const freeAvailable = Math.min(COMPUTE_TIER.freeUnitsPerRun, freeRemainingSession);\n\n  const freeUnitsUsed = Math.min(units, freeAvailable);\n  const paidUnitsUsed = Math.max(0, units - freeUnitsUsed);\n\n  const estimatedCredits = paidUnitsUsed > 0 ? Math.ceil(paidUnitsUsed / COMPUTE_TIER.creditUnitsPerCredit) : 0;\n  const creditsBalanceKnown = typeof input.creditsBalance === \"number\";\n  const creditShortfall = creditsBalanceKnown ? (input.creditsBalance as number) < estimatedCredits : false;\n\n  const explanation: string[] = [];\n  const warnings: string[] = [];\n\n  explanation.push(`${label || \"This tool\"} uses an estimated ${units} compute units for this run.`);\n  explanation.push(`Free tier covers up to ${freeAvailable} units right now.`);\n  if (paidUnitsUsed > 0) {\n    explanation.push(`Above the free tier, this run would use about ${estimatedCredits} credits as an estimate.`);\n  } else {\n    explanation.push(\"This run should fit within the free tier.\");\n  }\n\n  if (computeClass === \"A\") {\n    explanation.push(\"Browser-only work does not consume credits.\");\n  }\n\n  if (paidUnitsUsed > 0 && !creditsBalanceKnown) {\n    warnings.push(\"Credits are only visible when signed in.\");\n  }\n  if (paidUnitsUsed > 0 && creditShortfall) {\n    warnings.push(\"You may not have enough credits for the paid portion. You can still run it, but results may be partial.\");\n  }\n\n  return {\n    toolId: input.toolId,\n    computeClass,\n    estimate: {\n      units,\n      freeUnitsAvailable: freeAvailable,\n      freeUnitsUsed,\n      paidUnitsUsed,\n      estimatedCredits,\n      creditsBalanceKnown,\n      creditShortfall,\n    },\n    explanation,\n    warnings,\n  };\n}\n\nexport type ComputeActualInput = ComputeCostInput & { actualWallMs: number };\n\nexport function estimatePostRunCost(input: ComputeActualInput): ComputeCostBreakdown {\n  const pre = estimatePreRunCost({ ...input, expectedWallMs: input.actualWallMs });\n\n  const explanation = [...pre.explanation];\n  explanation.push(`Actual run time was about ${Math.round(input.actualWallMs)} ms.`);\n\n  return { ...pre, explanation };\n}\n\n\n","\"use client\";\n\nimport Link from \"next/link\";\nimport type { ComputeCostBreakdown } from \"@/lib/compute/estimateCost\";\nimport { computeIntensityFromUnits, freeTierCoverageFromUnits } from \"@/lib/compute/computeModel\";\n\nfunction labelIntensity(v: \"low\" | \"medium\" | \"high\") {\n  if (v === \"low\") return \"Low\";\n  if (v === \"medium\") return \"Medium\";\n  return \"High\";\n}\n\nfunction labelCoverage(v: \"yes\" | \"likely\" | \"no\") {\n  if (v === \"yes\") return \"Yes\";\n  if (v === \"likely\") return \"Likely\";\n  return \"No\";\n}\n\nexport default function ComputeEstimatePanel({ estimate }: { estimate: ComputeCostBreakdown | null }) {\n  if (!estimate) return null;\n\n  const intensity = computeIntensityFromUnits(estimate.estimate.units);\n  const coverage = freeTierCoverageFromUnits(estimate.estimate.units);\n  const exceedsFree = coverage !== \"yes\";\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white/80 p-4\">\n      <div className=\"flex flex-wrap items-start justify-between gap-3\">\n        <div>\n          <div className=\"flex items-center gap-2\">\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-700\">Compute estimate</p>\n            <span className=\"text-xs font-semibold text-amber-700 bg-amber-50 px-2 py-0.5 rounded\">ESTIMATE</span>\n          </div>\n          <p className=\"mt-1 text-sm font-semibold text-slate-900\">Before you run</p>\n          <p className=\"mt-1 text-xs text-slate-700\">\n            Compute is an estimate of work. It depends on input size, run time, and how the tool executes.\n          </p>\n          <p className=\"mt-2 text-xs font-medium text-amber-800 bg-amber-50 border border-amber-200 rounded px-2 py-1\">\n            ⚠️ This is an estimate. Actual compute usage may be higher or lower than estimated.\n          </p>\n        </div>\n        <Link href=\"/compute\" className=\"text-xs font-semibold text-slate-900 underline decoration-slate-300 underline-offset-4 hover:decoration-slate-600\">\n          How compute works\n        </Link>\n      </div>\n\n      <div className=\"mt-3 grid gap-2 sm:grid-cols-2\">\n        <div className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3\">\n          <p className=\"text-xs font-semibold text-slate-800\">Estimated compute usage</p>\n          <p className=\"mt-1 text-sm font-semibold text-slate-900\">{labelIntensity(intensity)}</p>\n        </div>\n        <div className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3\">\n          <p className=\"text-xs font-semibold text-slate-800\">Free tier covers this</p>\n          <p className=\"mt-1 text-sm font-semibold text-slate-900\">{labelCoverage(coverage)}</p>\n        </div>\n      </div>\n\n      {exceedsFree ? (\n        <div className=\"mt-3 rounded-2xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800\">\n          <p className=\"m-0 font-semibold\">Heads up</p>\n          <p className=\"mt-1 m-0\">\n            This may exceed the free tier. If you do not have credits available, you will be prompted to run a lighter version.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","export type ComputeIntensity = \"low\" | \"medium\" | \"high\";\nexport type FreeTierCoverage = \"yes\" | \"likely\" | \"no\";\n\nexport type CostDriver = {\n  id: \"input_size\" | \"file_size\" | \"iterations\" | \"model_complexity\" | \"execution_class\";\n  label: string;\n  explanation: string;\n};\n\nexport const COMPUTE_MODEL = {\n  // Conceptual only for Prompt 12: this is not enforcement.\n  // Set slightly below typical browser safe limits so future limits can be enabled without surprises.\n  freeTierLimitUnits: 7_500,\n  computeUnitsAreMoney: false,\n  computeUnitsLabel: \"compute units\",\n  costDrivers: [\n    {\n      id: \"input_size\",\n      label: \"Input size\",\n      explanation: \"Longer inputs and larger payloads usually take more work to validate, transform, and process.\",\n    },\n    {\n      id: \"file_size\",\n      label: \"File size\",\n      explanation: \"Larger files take longer to parse and can require more memory during processing.\",\n    },\n    {\n      id: \"iterations\",\n      label: \"Iterations\",\n      explanation: \"More steps, retries, or runs usually increase compute usage.\",\n    },\n    {\n      id: \"model_complexity\",\n      label: \"Model complexity\",\n      explanation: \"Heavier models or extra analysis paths can increase compute usage significantly.\",\n    },\n    {\n      id: \"execution_class\",\n      label: \"Browser vs server\",\n      explanation: \"Browser-powered tools use your device. Server-assisted tools use a small, bounded server helper.\",\n    },\n  ] satisfies CostDriver[],\n} as const;\n\nexport function computeIntensityFromUnits(units: number): ComputeIntensity {\n  const u = Math.max(0, Math.round(units));\n  if (u < COMPUTE_MODEL.freeTierLimitUnits * 0.4) return \"low\";\n  if (u < COMPUTE_MODEL.freeTierLimitUnits * 0.9) return \"medium\";\n  return \"high\";\n}\n\nexport function freeTierCoverageFromUnits(units: number): FreeTierCoverage {\n  const u = Math.max(0, Math.round(units));\n  if (u <= COMPUTE_MODEL.freeTierLimitUnits) return \"yes\";\n  if (u <= COMPUTE_MODEL.freeTierLimitUnits * 1.25) return \"likely\";\n  return \"no\";\n}\n\n\n\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { useMemo } from \"react\";\nimport type { ComputeCostBreakdown } from \"@/lib/compute/estimateCost\";\nimport { getToolComputeProfile } from \"@/config/computeLimits\";\n\nexport default function ComputeSummaryPanel({ toolId, summary }: { toolId: string; summary: ComputeCostBreakdown | null }) {\n  const profile = useMemo(() => getToolComputeProfile(toolId), [toolId]);\n  if (!summary) return null;\n\n  return (\n    <details className=\"rounded-2xl border border-slate-200 bg-white/80 p-4\">\n      <summary className=\"cursor-pointer list-none\">\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-700\">Compute summary</p>\n            <p className=\"mt-1 text-sm font-semibold text-slate-900\">After the run</p>\n          </div>\n          <span className=\"text-xs font-semibold text-slate-700\">Toggle</span>\n        </div>\n      </summary>\n\n      <div className=\"mt-3 space-y-3\">\n        <div className=\"grid gap-2 sm:grid-cols-3\">\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3 text-xs text-slate-700\">\n            <p className=\"font-semibold text-slate-800\">Estimated units</p>\n            <p className=\"mt-1 text-sm font-semibold text-slate-900\">{summary.estimate.units}</p>\n          </div>\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3 text-xs text-slate-700\">\n            <p className=\"font-semibold text-slate-800\">Free portion</p>\n            <p className=\"mt-1 text-sm font-semibold text-slate-900\">{summary.estimate.freeUnitsUsed}</p>\n          </div>\n          <div className=\"rounded-xl border border-slate-200 bg-slate-50/70 p-3 text-xs text-slate-700\">\n            <p className=\"font-semibold text-slate-800\">Above free tier</p>\n            <p className=\"mt-1 text-sm font-semibold text-slate-900\">{summary.estimate.paidUnitsUsed}</p>\n          </div>\n        </div>\n\n        {summary.explanation?.length ? (\n          <div className=\"rounded-2xl border border-slate-200 bg-slate-50/70 p-3\">\n            <p className=\"text-xs font-semibold text-slate-800\">Why it cost this much</p>\n            <ul className=\"mt-2 list-disc space-y-1 pl-4 text-xs text-slate-700\">\n              {summary.explanation.slice(0, 4).map((e) => (\n                <li key={e}>{e}</li>\n              ))}\n            </ul>\n          </div>\n        ) : null}\n\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-3\">\n          <p className=\"text-xs font-semibold text-slate-800\">How to reduce this next time</p>\n          <ul className=\"mt-2 list-disc space-y-1 pl-4 text-xs text-slate-700\">\n            {(profile?.guidance || [\"Try smaller inputs first.\", \"Avoid rerunning unchanged inputs.\", \"Sample before scaling up.\"]).slice(0, 4).map((t) => (\n              <li key={t}>{t}</li>\n            ))}\n          </ul>\n          <p className=\"mt-2 text-xs text-slate-600\">\n            More detail:{\" \"}\n            <Link href=\"/compute\" className=\"font-semibold underline decoration-slate-300 underline-offset-4 hover:decoration-slate-600\">\n              How compute works\n            </Link>\n          </p>\n        </div>\n      </div>\n    </details>\n  );\n}\n\n\n\n"],"names":[],"mappings":"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"}}]
}