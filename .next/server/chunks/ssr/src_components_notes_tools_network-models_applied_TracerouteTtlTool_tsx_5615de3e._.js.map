{
  "version": 3,
  "sources": [],
  "debugId": "e8e84537-8bd6-16eb-b8f7-bf7c4a645115",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/notes/tools/network-models/applied/TracerouteTtlTool.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\ntype Hop = {\n  hop: number;\n  ttl: number;\n  result: \"time-exceeded\" | \"destination\" | \"no-reply\";\n  note: string;\n};\n\nexport default function TracerouteTtlTool() {\n  const [hopsRaw, setHopsRaw] = useState(\"8\");\n  const [lossHopRaw, setLossHopRaw] = useState(\"\");\n  const [method, setMethod] = useState<\"icmp\" | \"udp\">(\"icmp\");\n\n  const hops = useMemo(() => {\n    const n = Math.max(2, Math.min(30, Math.floor(Number(hopsRaw) || 8)));\n    const lossHop = Number(lossHopRaw);\n    const loss = Number.isFinite(lossHop) ? Math.floor(lossHop) : null;\n\n    const rows: Hop[] = [];\n    for (let i = 1; i <= n; i++) {\n      const isLoss = loss != null && i === loss;\n      const isDest = i === n;\n      rows.push({\n        hop: i,\n        ttl: i,\n        result: isLoss ? \"no-reply\" : isDest ? \"destination\" : \"time-exceeded\",\n        note: isLoss\n          ? \"No reply. A router may drop, rate limit, or filter the probe.\"\n          : isDest\n            ? method === \"icmp\"\n              ? \"Echo reply from destination.\"\n              : \"Port unreachable from destination.\"\n            : \"ICMP Time Exceeded from the hop.\",\n      });\n    }\n    return { n, loss, rows };\n  }, [hopsRaw, lossHopRaw, method]);\n\n  return (\n    <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60\">\n      <div className=\"grid gap-3 sm:grid-cols-3\">\n        <div>\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Hops to destination</label>\n          <input\n            value={hopsRaw}\n            onChange={(e) => setHopsRaw(e.target.value)}\n            inputMode=\"numeric\"\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n            aria-label=\"Hops to destination\"\n          />\n          <div className=\"mt-1 text-xs text-slate-600 dark:text-slate-300\">Parsed as {hops.n}</div>\n        </div>\n        <div>\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Simulate no reply at hop</label>\n          <input\n            value={lossHopRaw}\n            onChange={(e) => setLossHopRaw(e.target.value)}\n            inputMode=\"numeric\"\n            placeholder=\"leave empty\"\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n            aria-label=\"Loss hop\"\n          />\n          <div className=\"mt-1 text-xs text-slate-600 dark:text-slate-300\">\n            {hops.loss ? `No reply at hop ${hops.loss}` : \"No simulated loss\"}\n          </div>\n        </div>\n        <div>\n          <label className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">Probe style</label>\n          <select\n            value={method}\n            onChange={(e) => setMethod(e.target.value as any)}\n            className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100\"\n          >\n            <option value=\"icmp\">ICMP (ping style)</option>\n            <option value=\"udp\">UDP (classic traceroute)</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"mt-4 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden\">\n        <table className=\"w-full text-left text-sm\">\n          <thead className=\"bg-slate-50 text-xs uppercase tracking-wide text-slate-600 dark:bg-slate-950/40 dark:text-slate-300\">\n            <tr>\n              <th className=\"px-3 py-2\">Hop</th>\n              <th className=\"px-3 py-2\">TTL</th>\n              <th className=\"px-3 py-2\">Response</th>\n              <th className=\"px-3 py-2\">Meaning</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-slate-200 dark:divide-slate-800\">\n            {hops.rows.map((r) => (\n              <tr key={r.hop} className=\"bg-white dark:bg-transparent\">\n                <td className=\"px-3 py-2 font-mono text-slate-900 dark:text-slate-100\">{r.hop}</td>\n                <td className=\"px-3 py-2 font-mono text-slate-900 dark:text-slate-100\">{r.ttl}</td>\n                <td className=\"px-3 py-2 font-semibold text-slate-900 dark:text-slate-100\">\n                  {r.result === \"time-exceeded\" ? \"Time exceeded\" : r.result === \"destination\" ? \"Destination reached\" : \"No reply\"}\n                </td>\n                <td className=\"px-3 py-2 text-slate-700 dark:text-slate-200\">{r.note}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"mt-4 text-sm text-slate-700 dark:text-slate-200\">\n        <p className=\"m-0\">\n          Traceroute works because routers decrement TTL. When TTL hits zero, the router returns an ICMP Time Exceeded\n          message. Different traceroute variants use different probes.\n        </p>\n        <p className=\"mt-2 m-0 text-slate-600 dark:text-slate-300\">\n          A missing hop does not always mean the hop is down. Many devices rate limit or filter traceroute traffic.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}