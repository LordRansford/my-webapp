{
  "version": 3,
  "sources": [],
  "debugId": "97183113-7149-caf5-8a3c-b042b5ace84c",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/spotify/MusicProvider.tsx","../../../../src/lib/spotify/urlConverter.ts","../../../../src/components/Header.tsx","../../../../src/components/BrandLogo.tsx","../../../../src/components/studios/CreditBalanceWidget.tsx","../../../../src/components/Footer.tsx","../../../../src/components/navigation/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useMemo, useState, useEffect, ReactNode } from \"react\";\nimport { parseSpotifyUrl, SpotifyEmbedInfo } from \"@/lib/spotify/urlConverter\";\n\ninterface MusicContextValue {\n  currentEmbed: SpotifyEmbedInfo | null;\n  setEmbedFromUrl: (url: string) => boolean;\n  clearEmbed: () => void;\n  isVisible: boolean;\n  setIsVisible: (visible: boolean) => void;\n}\n\nconst MusicContext = createContext<MusicContextValue | null>(null);\n\nconst STORAGE_KEY_EMBED = \"rn_music_embed_v1\";\nconst STORAGE_KEY_VISIBLE = \"rn_music_visible_v1\";\n\nexport function MusicProvider({ children }: { children: ReactNode }) {\n  const [currentEmbed, setCurrentEmbed] = useState<SpotifyEmbedInfo | null>(null);\n  const [isVisible, setIsVisibleState] = useState(false);\n\n  // Load persisted state on mount\n  useEffect(() => {\n    try {\n      const savedEmbed = window.localStorage.getItem(STORAGE_KEY_EMBED);\n      if (savedEmbed) {\n        const parsed = JSON.parse(savedEmbed);\n        setCurrentEmbed(parsed);\n      }\n\n      const savedVisible = window.localStorage.getItem(STORAGE_KEY_VISIBLE);\n      if (savedVisible === \"1\") {\n        setIsVisibleState(true);\n      }\n    } catch {\n      // Ignore storage errors\n    }\n  }, []);\n\n  // Persist embed when it changes\n  useEffect(() => {\n    try {\n      if (currentEmbed) {\n        window.localStorage.setItem(STORAGE_KEY_EMBED, JSON.stringify(currentEmbed));\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY_EMBED);\n      }\n    } catch {\n      // Ignore storage errors\n    }\n  }, [currentEmbed]);\n\n  // Persist visibility when it changes\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(STORAGE_KEY_VISIBLE, isVisible ? \"1\" : \"0\");\n    } catch {\n      // Ignore storage errors\n    }\n  }, [isVisible]);\n\n  const setIsVisible = (visible: boolean) => {\n    setIsVisibleState(visible);\n  };\n\n  const setEmbedFromUrl = (url: string): boolean => {\n    const parsed = parseSpotifyUrl(url);\n    if (parsed) {\n      setCurrentEmbed(parsed);\n      setIsVisible(true);\n      return true;\n    }\n    return false;\n  };\n\n  const clearEmbed = () => {\n    setCurrentEmbed(null);\n    setIsVisible(false);\n  };\n\n  const value = useMemo(\n    () => ({\n      currentEmbed,\n      setEmbedFromUrl,\n      clearEmbed,\n      isVisible,\n      setIsVisible,\n    }),\n    [currentEmbed, isVisible]\n  );\n\n  return <MusicContext.Provider value={value}>{children}</MusicContext.Provider>;\n}\n\nexport function useMusic() {\n  const context = useContext(MusicContext);\n  if (!context) {\n    throw new Error(\"useMusic must be used within MusicProvider\");\n  }\n  return context;\n}\n\n","/**\n * Converts Spotify URLs (track, album, playlist) to official embed URLs.\n * Only handles official Spotify URLs. Never scrapes or proxies.\n */\n\nexport type SpotifyResourceType = 'track' | 'album' | 'playlist';\n\nexport interface SpotifyEmbedInfo {\n  embedUrl: string;\n  resourceType: SpotifyResourceType;\n  resourceId: string;\n}\n\n/**\n * Extracts Spotify resource ID and type from various URL formats:\n * - https://open.spotify.com/track/4iV5W9uYEdYUVa79Axb7Rh\n * - https://open.spotify.com/album/1ATL5GLyefJaxhQzSPVrLX\n * - https://open.spotify.com/playlist/37i9dQZF1DXcBWIGoYBM5M\n * - spotify:track:4iV5W9uYEdYUVa79Axb7Rh\n */\nexport function parseSpotifyUrl(url: string): SpotifyEmbedInfo | null {\n  if (!url || typeof url !== 'string') return null;\n\n  // Trim whitespace\n  url = url.trim();\n\n  // Handle spotify: URI format\n  const uriMatch = url.match(/^spotify:(track|album|playlist):([a-zA-Z0-9]+)$/);\n  if (uriMatch) {\n    const [, resourceType, resourceId] = uriMatch;\n    return {\n      embedUrl: `https://open.spotify.com/embed/${resourceType}/${resourceId}?utm_source=generator`,\n      resourceType: resourceType as SpotifyResourceType,\n      resourceId,\n    };\n  }\n\n  // Handle open.spotify.com URLs\n  const openMatch = url.match(/^https?:\\/\\/(?:open\\.)?spotify\\.com\\/(track|album|playlist)\\/([a-zA-Z0-9]+)/);\n  if (openMatch) {\n    const [, resourceType, resourceId] = openMatch;\n    return {\n      embedUrl: `https://open.spotify.com/embed/${resourceType}/${resourceId}?utm_source=generator`,\n      resourceType: resourceType as SpotifyResourceType,\n      resourceId,\n    };\n  }\n\n  // Handle shortened spoti.fi URLs - these need to be resolved, but we can't do that client-side\n  // For now, reject them and ask user to use full URL\n  if (url.includes('spoti.fi') || url.includes('spotify.link')) {\n    return null;\n  }\n\n  return null;\n}\n\n/**\n * Validates if a string looks like a Spotify URL\n */\nexport function isValidSpotifyUrl(url: string): boolean {\n  return parseSpotifyUrl(url) !== null;\n}\n\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useState, useRef, useEffect } from \"react\";\nimport BrandLogo from \"@/components/BrandLogo\";\nimport { signIn, useSession } from \"next-auth/react\";\nimport CreditBalanceWidget from \"@/components/studios/CreditBalanceWidget\";\n\ntype NavItem = { \n  label: string; \n  href: string;\n  submenu?: { label: string; href: string }[];\n};\n\nconst navItems: NavItem[] = [\n  { label: \"Courses\", href: \"/courses\" },\n  { \n    label: \"Studios\", \n    href: \"/studios/hub\",\n    submenu: [\n      { label: \"Unified Hub\", href: \"/studios/hub\" },\n      { label: \"AI Studio\", href: \"/studios/ai-hub\" },\n      { label: \"Dev Studio\", href: \"/dev-studio\" },\n      { label: \"Cyber Studio\", href: \"/cyber-studio\" },\n      { label: \"Data Studio\", href: \"/data-studio\" },\n      { label: \"Architecture Studio\", href: \"/studios/architecture-diagram-studio\" },\n    ]\n  },\n  { label: \"Tools\", href: \"/tools\" },\n  { \n    label: \"Games hub\", \n    href: \"/games/hub\",\n    submenu: [\n      { label: \"Games Hub\", href: \"/games/hub\" },\n      { label: \"All Games\", href: \"/games\" },\n      { label: \"Practice Games\", href: \"/practice\" },\n      { label: \"Thinking Gym\", href: \"/thinking-gym\" },\n    ]\n  },\n  { label: \"Updates\", href: \"/updates\" },\n  { label: \"About\", href: \"/about\" },\n];\n\nfunction NavItemWithDropdown({ \n  item, \n  active, \n  vertical, \n  onLinkClick \n}: { \n  item: NavItem; \n  active: boolean; \n  vertical: boolean; \n  onLinkClick: () => void;\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const navRef = useRef<HTMLDivElement>(null);\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (navRef.current && !navRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }\n  }, [isOpen]);\n\n  if (vertical) {\n    // Mobile: render as nested list\n    return (\n      <div className=\"space-y-2\">\n        <Link\n          href={item.href}\n          aria-current={active ? \"page\" : undefined}\n          data-active={active}\n          className={`rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base font-semibold transition ${\n            active \n              ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n              : \"text-slate-900 hover:bg-slate-100\"\n          } ${focusStyle}`}\n          onClick={onLinkClick}\n        >\n          {item.label}\n        </Link>\n        {item.submenu && (\n          <ul className=\"ml-4 space-y-1 border-l border-slate-200 pl-4\">\n            {item.submenu.map((subItem) => (\n              <li key={subItem.href}>\n                <Link\n                  href={subItem.href}\n                  className=\"block rounded-lg px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900 transition-colors\"\n                  onClick={onLinkClick}\n                >\n                  {subItem.label}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    );\n  }\n\n  // Desktop: render as dropdown (using existing nav-links styles for consistency)\n  return (\n    <div ref={navRef} className=\"relative\">\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n        aria-label={`${item.label} menu`}\n        className={`nav-links__trigger ${focusStyle} ${\n          active \n            ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n            : \"text-slate-900 bg-transparent hover:bg-slate-100 hover:text-slate-900\"\n        }`}\n      >\n        {item.label}\n        <span className=\"nav-links__chevron\" aria-hidden=\"true\">\n          {isOpen ? \"▲\" : \"▼\"}\n        </span>\n      </button>\n      {isOpen && item.submenu && (\n        <nav\n          className=\"nav-links__dropdown\"\n          role=\"menu\"\n          aria-label={`${item.label} submenu`}\n        >\n          {item.submenu.map((subItem) => (\n            <Link\n              key={subItem.href}\n              href={subItem.href}\n              className=\"nav-links__dropdown-item\"\n              role=\"menuitem\"\n              onClick={() => {\n                setIsOpen(false);\n                onLinkClick();\n              }}\n            >\n              {subItem.label}\n            </Link>\n          ))}\n        </nav>\n      )}\n    </div>\n  );\n}\n\nfunction NavLinks({ vertical = false, pathname, onLinkClick }: { vertical?: boolean; pathname: string | null; onLinkClick: () => void }) {\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  const isActive = (href: string) => {\n    if (!pathname) return false;\n    if (href === \"/\") return pathname === \"/\";\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <nav\n      aria-label={vertical ? \"Primary navigation (mobile)\" : \"Primary navigation\"}\n      className={vertical ? \"flex flex-col gap-2\" : \"nav-links hidden items-center gap-2 xl:flex\"}\n    >\n      {navItems.map((item) => {\n        const active = isActive(item.href);\n        if (item.submenu) {\n          return (\n            <NavItemWithDropdown\n              key={item.href}\n              item={item}\n              active={active}\n              vertical={vertical}\n              onLinkClick={onLinkClick}\n            />\n          );\n        }\n        return (\n          <Link\n            key={item.href}\n            href={item.href}\n            aria-current={active ? \"page\" : undefined}\n            data-active={active}\n            className={`${vertical ? \"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base\" : \"rounded-full px-3 py-2 text-sm\"} font-semibold transition ${\n              active \n                ? \"bg-slate-900 text-white shadow-sm hover:bg-slate-800\" \n                : \"text-slate-900 bg-transparent hover:bg-slate-100 hover:text-slate-900\"\n            } ${focusStyle}`}\n            onClick={onLinkClick}\n          >\n            {item.label}\n          </Link>\n        );\n      })}\n    </nav>\n  );\n}\n\nfunction AccountAction({ variant, isSignedIn, onActionClick }: { variant: \"desktop\" | \"mobile\"; isSignedIn: boolean; onActionClick: () => void }) {\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n  const base =\n    variant === \"mobile\"\n      ? \"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-base font-semibold text-slate-900 shadow-sm\"\n      : `rounded-full px-4 py-2 text-sm font-semibold shadow-sm ${focusStyle}`;\n\n  if (isSignedIn) {\n    return (\n      <Link\n        href=\"/account\"\n        className={`${base} ${variant === \"desktop\" ? \"bg-slate-900 text-white hover:bg-slate-800\" : \"\"}`}\n        onClick={onActionClick}\n      >\n        Account\n      </Link>\n    );\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        onActionClick();\n        signIn();\n      }}\n      className={`${base} ${variant === \"desktop\" ? \"bg-slate-900 text-white hover:bg-slate-800\" : \"\"}`}\n    >\n      Sign in\n    </button>\n  );\n}\n\nexport default function Header() {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [hidden, setHidden] = useState(false);\n  const { data: session } = useSession();\n  const pathname = usePathname();\n  const isSignedIn = Boolean(session?.user);\n  const focusStyle =\n    \"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\";\n\n  useEffect(() => {\n    let lastY = typeof window !== \"undefined\" ? window.scrollY : 0;\n    let lastActivityAt = Date.now();\n    let hideTimeout: any = null;\n\n    const show = () => setHidden(false);\n    const scheduleHide = () => {\n      if (hideTimeout) window.clearTimeout(hideTimeout);\n      hideTimeout = window.setTimeout(() => {\n        // Do not hide if the mobile menu is open.\n        if (mobileOpen) return;\n        setHidden(true);\n      }, 1600);\n    };\n\n    const onActivity = () => {\n      lastActivityAt = Date.now();\n      show();\n      scheduleHide();\n    };\n\n    const onScroll = () => {\n      const y = window.scrollY || 0;\n      const delta = y - lastY;\n      lastY = y;\n      if (y < 10) {\n        setHidden(false);\n        return;\n      }\n      // If user scrolls up, reveal. If scrolling down, hide.\n      if (delta < -6) {\n        setHidden(false);\n        return;\n      }\n      if (delta > 10 && Date.now() - lastActivityAt > 250) {\n        setHidden(true);\n      }\n    };\n\n    window.addEventListener(\"mousemove\", onActivity, { passive: true });\n    window.addEventListener(\"touchstart\", onActivity, { passive: true });\n    window.addEventListener(\"keydown\", onActivity);\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    scheduleHide();\n\n    return () => {\n      if (hideTimeout) window.clearTimeout(hideTimeout);\n      window.removeEventListener(\"mousemove\", onActivity as any);\n      window.removeEventListener(\"touchstart\", onActivity as any);\n      window.removeEventListener(\"keydown\", onActivity as any);\n      window.removeEventListener(\"scroll\", onScroll as any);\n    };\n  }, [mobileOpen]);\n\n  return (\n    <header className={`site-header ${hidden ? \"site-header--hidden\" : \"\"}`} role=\"banner\">\n      <div className=\"site-header__inner\">\n        <div className=\"flex items-center gap-3\">\n          <button\n            type=\"button\"\n            className={`flex h-10 w-10 items-center justify-center rounded-lg border border-slate-200 xl:hidden ${focusStyle}`}\n            aria-label={mobileOpen ? \"Close navigation menu\" : \"Open navigation menu\"}\n            aria-expanded={mobileOpen}\n            onClick={() => setMobileOpen((prev) => !prev)}\n          >\n            <span className=\"sr-only\">Toggle navigation</span>\n            <div className=\"space-y-1\">\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n              <span className=\"block h-0.5 w-6 bg-slate-900\" />\n            </div>\n          </button>\n          <Link href=\"/\" className=\"brand rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600\" onClick={() => setMobileOpen(false)}>\n            <span className=\"sr-only\">Ransford&apos;s Notes home</span>\n            <BrandLogo className=\"h-10 w-auto text-slate-900\" />\n          </Link>\n        </div>\n\n        <NavLinks pathname={pathname} onLinkClick={() => setMobileOpen(false)} />\n\n        <div className=\"hidden items-center gap-3 xl:flex\">\n          {isSignedIn && <CreditBalanceWidget compact />}\n          <AccountAction variant=\"desktop\" isSignedIn={isSignedIn} onActionClick={() => setMobileOpen(false)} />\n        </div>\n      </div>\n\n      {mobileOpen ? (\n        <div className=\"border-t border-[color:var(--line)] bg-[var(--surface)] px-4 py-4 xl:hidden\">\n          <NavLinks vertical pathname={pathname} onLinkClick={() => setMobileOpen(false)} />\n          <div className=\"mt-3 flex flex-col gap-2\">\n            <AccountAction variant=\"mobile\" isSignedIn={isSignedIn} onActionClick={() => setMobileOpen(false)} />\n          </div>\n        </div>\n      ) : null}\n    </header>\n  );\n}\n","export default function BrandLogo({\n  className = \"h-10 w-auto\",\n  title = \"Ransford’s Notes\",\n}: {\n  className?: string;\n  title?: string;\n}) {\n  return (\n    <svg\n      viewBox=\"0 0 1200 300\"\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      role=\"img\"\n      aria-label={title}\n      preserveAspectRatio=\"xMinYMid meet\"\n    >\n      <title>{title}</title>\n\n      {/* Laptop icon */}\n      <g transform=\"translate(40, 70)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"14\" strokeLinejoin=\"round\">\n        <rect x=\"0\" y=\"0\" width=\"260\" height=\"170\" rx=\"18\" />\n        <path d=\"M-10 190 H270\" strokeLinecap=\"round\" />\n        <rect x=\"18\" y=\"18\" width=\"224\" height=\"134\" rx=\"10\" strokeWidth=\"10\" opacity=\"0.85\" />\n      </g>\n\n      {/* Globe inside screen */}\n      <g transform=\"translate(170, 155)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"10\" opacity=\"0.95\">\n        <circle r=\"44\" />\n        <path d=\"M-44 0 H44\" />\n        <path d=\"M0 -44 V44\" />\n        <path d=\"M-28 -34 C-10 -10 -10 10 -28 34\" />\n        <path d=\"M28 -34 C10 -10 10 10 28 34\" />\n        <path d=\"M-44 -18 C-18 -10 18 -10 44 -18\" />\n        <path d=\"M-44 18 C-18 10 18 10 44 18\" />\n      </g>\n\n      {/* Wordmark */}\n      <g transform=\"translate(360, 105)\">\n        <text\n          x=\"0\"\n          y=\"0\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"72\"\n          fontWeight=\"800\"\n          fill=\"currentColor\"\n          letterSpacing=\"1\"\n        >\n          RANSFORD’S\n        </text>\n        <text\n          x=\"0\"\n          y=\"92\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"70\"\n          fontWeight=\"700\"\n          fill=\"currentColor\"\n        >\n          Notes\n        </text>\n      </g>\n\n      {/* Tagline */}\n      <g transform=\"translate(360, 250)\">\n        <text\n          x=\"0\"\n          y=\"0\"\n          fontFamily=\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\"\n          fontSize=\"44\"\n          fontStyle=\"italic\"\n          fontWeight=\"600\"\n        >\n          <tspan fill=\"#1d4ed8\">DemystifyTech</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#16a34a\">|</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#dc2626\">Experiment</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#16a34a\">|</tspan>\n          <tspan fill=\"#0f172a\"> </tspan>\n          <tspan fill=\"#6d28d9\">Innovate</tspan>\n        </text>\n      </g>\n    </svg>\n  );\n}\n\n\n","/**\n * Credit Balance Widget\n * \n * Displays current credit balance in navigation/header.\n * Shows balance, usage progress, and quick link to purchase.\n */\n\n\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport { CreditCard, Zap, TrendingUp, AlertCircle } from \"lucide-react\";\n\ninterface CreditBalance {\n  balance: number;\n  usage: {\n    daily: { used: number; cap: number; remaining: number; percentage: number };\n    monthly: { used: number; cap: number; remaining: number; percentage: number };\n  };\n  alerts: {\n    daily: boolean;\n    monthly: boolean;\n  };\n}\n\ninterface CreditBalanceWidgetProps {\n  compact?: boolean; // Compact mode for header\n  showDetails?: boolean; // Show usage details\n}\n\nexport default function CreditBalanceWidget({\n  compact = false,\n  showDetails = false,\n}: CreditBalanceWidgetProps) {\n  const { data: session, status } = useSession();\n  const [balance, setBalance] = useState<CreditBalance | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (status === \"authenticated\" && session?.user) {\n      fetchBalance();\n      // Refresh every 30 seconds\n      const interval = setInterval(fetchBalance, 30000);\n      return () => clearInterval(interval);\n    } else {\n      setLoading(false);\n    }\n  }, [status, session]);\n\n  async function fetchBalance() {\n    try {\n      const response = await fetch(\"/api/credits/balance\");\n      if (!response.ok) {\n        throw new Error(\"Failed to load balance\");\n      }\n      const data = await response.json();\n      setBalance(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : null);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Don't show for unauthenticated users\n  if (status !== \"authenticated\" || !session?.user) {\n    return null;\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center gap-2 text-sm text-slate-600\">\n        <Zap className=\"w-4 h-4 animate-pulse\" />\n        <span className=\"hidden sm:inline\">Loading...</span>\n      </div>\n    );\n  }\n\n  if (error || !balance) {\n    return (\n      <Link\n        href=\"/account/credits\"\n        className=\"flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900 transition-colors\"\n      >\n        <CreditCard className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Credits</span>\n      </Link>\n    );\n  }\n\n  const hasAlert = balance.alerts.daily || balance.alerts.monthly;\n\n  if (compact) {\n    return (\n      <Link\n        href=\"/account/credits\"\n        className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white border border-slate-200 hover:border-sky-300 transition-colors group\"\n      >\n        <Zap className={`w-4 h-4 ${hasAlert ? \"text-amber-500\" : \"text-sky-600\"}`} />\n        <span className=\"font-semibold text-slate-900\">\n          {balance.balance.toLocaleString()}\n        </span>\n        {hasAlert && (\n          <AlertCircle className=\"w-4 h-4 text-amber-500\" aria-label=\"Usage alert\" />\n        )}\n      </Link>\n    );\n  }\n\n  return (\n    <div className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <CreditCard className=\"w-5 h-5 text-sky-600\" />\n          <h3 className=\"font-semibold text-slate-900\">Credits</h3>\n        </div>\n        <Link\n          href=\"/account/credits\"\n          className=\"text-xs text-sky-600 hover:text-sky-700 font-medium\"\n        >\n          Manage →\n        </Link>\n      </div>\n\n      <div className=\"mb-4\">\n        <div className=\"flex items-baseline gap-2\">\n          <span className=\"text-3xl font-bold text-slate-900\">\n            {balance.balance.toLocaleString()}\n          </span>\n          <span className=\"text-sm text-slate-600\">credits</span>\n        </div>\n      </div>\n\n      {showDetails && (\n        <div className=\"space-y-3 mb-4\">\n          {/* Daily Usage */}\n          <div>\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className=\"text-xs font-medium text-slate-700\">Daily</span>\n              <span className=\"text-xs text-slate-600\">\n                {balance.usage.daily.used} / {balance.usage.daily.cap}\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-1.5\">\n              <div\n                className={`h-1.5 rounded-full transition-all ${\n                  balance.alerts.daily ? \"bg-amber-500\" : \"bg-sky-500\"\n                }`}\n                style={{ width: `${Math.min(100, balance.usage.daily.percentage)}%` }}\n              />\n            </div>\n          </div>\n\n          {/* Monthly Usage */}\n          <div>\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className=\"text-xs font-medium text-slate-700\">Monthly</span>\n              <span className=\"text-xs text-slate-600\">\n                {balance.usage.monthly.used} / {balance.usage.monthly.cap}\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-200 rounded-full h-1.5\">\n              <div\n                className={`h-1.5 rounded-full transition-all ${\n                  balance.alerts.monthly ? \"bg-amber-500\" : \"bg-sky-500\"\n                }`}\n                style={{ width: `${Math.min(100, balance.usage.monthly.percentage)}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {hasAlert && (\n        <div className=\"rounded-lg bg-amber-50 border border-amber-200 p-2 mb-3\">\n          <div className=\"flex items-start gap-2\">\n            <AlertCircle className=\"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0\" />\n            <p className=\"text-xs text-amber-800\">\n              {balance.alerts.daily && balance.alerts.monthly\n                ? \"Daily and monthly limits approaching\"\n                : balance.alerts.daily\n                ? \"Daily limit approaching\"\n                : \"Monthly limit approaching\"}\n            </p>\n          </div>\n        </div>\n      )}\n\n      <Link\n        href=\"/account/credits\"\n        className=\"block w-full text-center px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg font-semibold text-sm transition-colors\"\n      >\n        Purchase Credits\n      </Link>\n    </div>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport DonateButton from \"@/components/donations/DonateButton\";\nimport BrandLogo from \"@/components/BrandLogo\";\nimport { useEffect, useRef, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { PersistStore } from \"@/games/engine/persist\";\nimport { createGamesProgressStore } from \"@/games/progress\";\n\nexport default function Footer() {\n  const router = useRouter();\n  const storeRef = useRef<PersistStore | null>(null);\n  const holdTimer = useRef<number | null>(null);\n  const seq = useRef<string[]>([]);\n\n  useEffect(() => {\n    if (storeRef.current == null) {\n      storeRef.current = new PersistStore({ prefix: \"rn_games\", version: \"v1\" });\n    }\n  }, []);\n\n  const tryEnterDevRoom = useCallback(() => {\n    if (!storeRef.current) return;\n    const progress = createGamesProgressStore(storeRef.current);\n    if (!progress.tryUnlockDevRoom()) return;\n    router.push(\"/games/dev-room\");\n  }, [router]);\n\n  useEffect(() => {\n    // Konami-style sequence (documented in code comments only):\n    // ArrowUp, ArrowUp, ArrowDown, ArrowDown, ArrowLeft, ArrowRight, ArrowLeft, ArrowRight, b, a\n    const target = [\"ArrowUp\", \"ArrowUp\", \"ArrowDown\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\", \"ArrowLeft\", \"ArrowRight\", \"b\", \"a\"];\n    const onKeyDown = (e: KeyboardEvent) => {\n      seq.current.push(e.key);\n      if (seq.current.length > target.length) seq.current.shift();\n      const match = target.every((k, i) => seq.current[i] === k);\n      if (match) tryEnterDevRoom();\n    };\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [tryEnterDevRoom]);\n\n  const onHoldStart = () => {\n    if (holdTimer.current) window.clearTimeout(holdTimer.current);\n    holdTimer.current = window.setTimeout(() => {\n      tryEnterDevRoom();\n    }, 1200);\n  };\n  const onHoldEnd = () => {\n    if (holdTimer.current) window.clearTimeout(holdTimer.current);\n    holdTimer.current = null;\n  };\n\n  const footerNav = [\n    {\n      title: \"Learn\",\n      links: [\n        { label: \"All Courses\", href: \"/courses\" },\n        { label: \"Cybersecurity\", href: \"/cybersecurity\" },\n        { label: \"AI\", href: \"/ai\" },\n        { label: \"Software Architecture\", href: \"/software-architecture\" },\n        { label: \"Data\", href: \"/data\" },\n        { label: \"Digitalisation\", href: \"/digitalisation\" },\n        { label: \"CPD Tracking\", href: \"/cpd\" },\n        { label: \"My CPD\", href: \"/my-cpd\" },\n        { label: \"Blog Posts\", href: \"/posts\" },\n      ],\n    },\n    {\n      title: \"Build\",\n      links: [\n        { label: \"Studios Hub\", href: \"/studios/hub\" },\n        { label: \"All Tools\", href: \"/tools\" },\n        { label: \"Dashboards\", href: \"/dashboards\" },\n        { label: \"Templates\", href: \"/templates\" },\n      ],\n    },\n    {\n      title: \"Play\",\n      links: [\n        { label: \"All Games\", href: \"/games\" },\n        { label: \"Practice Games\", href: \"/practice\" },\n        { label: \"Play Hub\", href: \"/play\" },\n        { label: \"Thinking Gym\", href: \"/thinking-gym\" },\n      ],\n    },\n    {\n      title: \"Resources\",\n      links: [\n        { label: \"News & Updates\", href: \"/updates\" },\n        { label: \"About\", href: \"/about\" },\n        { label: \"Contact\", href: \"/contact\" },\n        { label: \"Accessibility\", href: \"/accessibility\" },\n        { label: \"Site Map\", href: \"/sitemap\" },\n        { label: \"Feedback\", href: \"/feedback\" },\n      ],\n    },\n  ];\n\n  const policyLinks = [\n    { label: \"Legal\", href: \"/trust-and-about\" },\n    { label: \"Privacy\", href: \"/privacy\" },\n    { label: \"Terms\", href: \"/terms\" },\n  ];\n\n  return (\n    <footer className=\"site-footer\" aria-label=\"Footer\">\n      <div className=\"site-footer__inner flex flex-col gap-6\">\n        <div className=\"flex flex-wrap items-start justify-between gap-6\">\n          <div className=\"max-w-md space-y-2\">\n            <button\n              type=\"button\"\n              onPointerDown={onHoldStart}\n              onPointerUp={onHoldEnd}\n              onPointerCancel={onHoldEnd}\n              onPointerLeave={onHoldEnd}\n              className=\"inline-flex items-center rounded-md\"\n              aria-label=\"Ransford's Notes logo\"\n            >\n              <BrandLogo className=\"h-10 w-auto text-slate-900\" />\n            </button>\n            <p className=\"muted text-xs leading-relaxed\">\n              Browser-native courses, tools, labs, and games built to stay readable, calm, and offline-capable. Clear inputs, clear\n              outputs, and no hidden mechanics.\n            </p>\n            <p className=\"muted text-xs leading-relaxed\">\n              CPD: structured objectives with conservative hour estimates and evidence-friendly outputs.\n            </p>\n          </div>\n\n          <div className=\"grid w-full max-w-3xl gap-4 sm:grid-cols-2 md:grid-cols-4\" role=\"navigation\" aria-label=\"Footer sitemap\">\n            {footerNav.map((section) => (\n              <div key={section.title} className=\"space-y-1.5\">\n                <p className=\"text-xs font-semibold text-slate-900 uppercase tracking-wide\">{section.title}</p>\n                <ul className=\"space-y-1 text-sm text-slate-700\">\n                  {section.links.map((link) => (\n                    <li key={link.href}>\n                      <Link className=\"hover:underline transition-colors\" href={link.href}>\n                        {link.label}\n                      </Link>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex flex-wrap items-center justify-between gap-3 border-t border-[color:var(--line)] pt-3 text-xs\">\n          <div className=\"flex flex-wrap items-center gap-3 font-semibold text-slate-800\">\n            <span>© {new Date().getFullYear()} RansfordsNotes</span>\n            {policyLinks.map((item) => (\n              <Link key={item.href} className=\"hover:underline transition-colors\" href={item.href}>\n                {item.label}\n              </Link>\n            ))}\n          </div>\n          <div className=\"flex flex-wrap items-center gap-3 text-slate-700\">\n            <Link className=\"hover:underline transition-colors\" href=\"/contact\">\n              Contact\n            </Link>\n            <Link className=\"hover:underline transition-colors\" href=\"/accessibility\">\n              Accessibility\n            </Link>\n            <Link className=\"hover:underline transition-colors\" href=\"/sitemap\">\n              Site Map\n            </Link>\n            <DonateButton />\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\n\n","\"use client\";\n\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport Breadcrumbs from \"@/components/navigation/Breadcrumbs\";\nimport type { BreadcrumbItem } from \"@/components/navigation/Breadcrumbs\";\nimport { BreadcrumbsProvider, useBreadcrumbsRegistry } from \"@/components/navigation/BreadcrumbsRegistry\";\nimport { ReactNode, useMemo } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\ntype AppShellProps = {\n  children: ReactNode;\n};\n\nexport function PageContainer({ children }: { children: ReactNode }) {\n  return (\n    <main id=\"main-content\" className=\"page-shell\" role=\"main\">\n      {children}\n    </main>\n  );\n}\n\nfunction buildBreadcrumbs(pathname: string): BreadcrumbItem[] {\n  const segments = pathname.split(\"/\").filter(Boolean);\n  const items: BreadcrumbItem[] = [{ label: \"Home\", href: \"/\" }];\n  let current = \"\";\n  segments.forEach((seg, idx) => {\n    current += `/${seg}`;\n    const label = seg.replace(/-/g, \" \");\n    items.push({ label: label.charAt(0).toUpperCase() + label.slice(1), href: idx === segments.length - 1 ? undefined : current });\n  });\n  return items;\n}\n\nfunction BreadcrumbsFallback() {\n  const { hasBreadcrumbs, items } = useBreadcrumbsRegistry();\n  const pathname = usePathname() || \"/\";\n  const auto = useMemo(() => buildBreadcrumbs(pathname), [pathname]);\n  if (pathname === \"/\" || hasBreadcrumbs) return null;\n  return <Breadcrumbs items={items && items.length ? items : auto} />;\n}\n\nexport default function AppShell({ children }: AppShellProps) {\n  return (\n    <BreadcrumbsProvider>\n      <div className=\"app-shell\">\n        <Header />\n        <div className=\"page-shell\">\n          <BreadcrumbsFallback />\n          <PageContainer>{children}</PageContainer>\n        </div>\n        <Footer />\n      </div>\n    </BreadcrumbsProvider>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}