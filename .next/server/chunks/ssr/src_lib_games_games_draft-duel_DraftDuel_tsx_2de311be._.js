;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a4140134-b228-63a0-7148-d63382ccd51d")}catch(e){}}();
module.exports=[486500,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(469124),e=a.i(233367),f=a.i(230133),g=a.i(621272),h=a.i(337525);let i={id:"draft-duel",title:"Draft Duel Card Battler",description:"Strategic card game with drafting mechanics. Build your deck and battle opponents.",category:"card",modes:["solo","multiplayer"],supportsMultiplayer:!0,minPlayers:2,maxPlayers:2,estimatedMinutes:20,tutorialAvailable:!0},j=[{id:"1",name:"Warrior",cost:2,attack:3,defense:2},{id:"2",name:"Mage",cost:3,attack:4,defense:1},{id:"3",name:"Guardian",cost:2,attack:1,defense:4},{id:"4",name:"Assassin",cost:4,attack:5,defense:1},{id:"5",name:"Paladin",cost:5,attack:3,defense:4}];function k(){let[a,k]=(0,c.useState)("idle"),[l,m]=(0,c.useState)("solo"),[n,o]=(0,c.useState)({cards:[]}),[p,q]=(0,c.useState)({cards:[]}),[r,s]=(0,c.useState)(20),[t,u]=(0,c.useState)(20),[v,w]=(0,c.useState)(1),[x,y]=(0,c.useState)(1),[z,A]=(0,c.useState)(1),[B,C]=(0,c.useState)(null),D=(0,c.useMemo)(()=>Math.floor(1e6*Math.random()),[]),E=(0,c.useMemo)(()=>new e.StateManager({status:"idle"},D),[D]),F=(0,c.useMemo)(()=>new f.DifficultyEngine({initial:.3,target:.7,rampTime:12e5,adaptive:!0}),[]),G=(0,c.useMemo)(()=>new g.ExplainabilityEngine,[]);(0,h.useGameAnalytics)(i.id,a,E.getState()),(0,c.useCallback)(a=>{n.cards.length<5&&(o(b=>({cards:[...b.cards,a]})),E.recordMove("draft",{cardId:a.id}))},[n,E]);let H=(0,c.useCallback)(b=>{if("playing"!==a)return;let c=n.cards[b];c&&!(c.cost>v)&&(w(a=>a-c.cost),u(a=>Math.max(0,a-c.attack)),o(a=>({cards:a.cards.filter((a,c)=>c!==b)})),E.recordMove("play-card",{cardId:c.id,damage:c.attack}),"solo"===l&&setTimeout(()=>{let a=p.cards[0];a&&a.cost<=x&&(y(b=>b-a.cost),s(b=>Math.max(0,b-a.attack)),q(a=>({cards:a.cards.slice(1)})),E.recordMove("opponent-play",{cardId:a.id})),A(a=>a+1),w(a=>Math.min(10,a+1)),y(a=>Math.min(10,a+1))},1e3),t<=0?(k("finished"),E.updateState({status:"finished",score:100}),C(G.analyzeGame(E.getState(),{id:i.id,type:"card"}))):r<=0&&(k("finished"),E.updateState({status:"finished",score:0}),C(G.analyzeGame(E.getState(),{id:i.id,type:"card"}))))},[a,n,v,t,p,x,l,E,G]),I=(0,c.useCallback)(()=>{k("playing"),s(20),u(20),w(1),y(1),A(1);let a=[...j],b=[],c=[],d=()=>E.random();for(let e=0;e<5;e++){let e=Math.floor(d()*a.length);b.push(a[e]),a.splice(e,1);let f=Math.floor(d()*a.length);c.push(a[f]),a.splice(f,1)}o({cards:b}),q({cards:c}),E.updateState({status:"playing",timestamp:Date.now()}),E.recordMove("start",{})},[E]),J=(0,c.useCallback)(()=>{k("idle"),o({cards:[]}),q({cards:[]}),s(20),u(20),w(1),y(1),A(1),C(null),E.updateState({status:"idle",moves:[],score:0}),F.reset()},[E,F]);return(0,b.jsxs)(d.default,{config:i,status:a,onStart:"idle"===a?I:void 0,onReset:J,rightPanel:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Player"}),(0,b.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:["Health: ",r]}),(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Mana: ",v,"/10"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Opponent"}),(0,b.jsxs)("div",{className:"text-lg font-bold text-slate-900",children:["Health: ",t]}),(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Mana: ",x,"/10"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Turn"}),(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:["Turn ",z]})]})]}),children:["idle"===a&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:"Ready to start drafting?"}),(0,b.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,b.jsx)("button",{onClick:()=>m("solo"),className:`px-4 py-2 rounded-lg ${"solo"===l?"bg-blue-600 text-white":"bg-slate-100 text-slate-700"}`,type:"button",children:"Solo vs AI"}),(0,b.jsx)("button",{onClick:()=>m("multiplayer"),className:`px-4 py-2 rounded-lg ${"multiplayer"===l?"bg-blue-600 text-white":"bg-slate-100 text-slate-700"}`,type:"button",children:"Multiplayer (Coming Soon)"})]})]}),"playing"===a&&(0,b.jsx)("div",{className:"space-y-6",role:"region","aria-label":"Game play area",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Your Hand"}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",role:"group","aria-label":"Your hand cards",children:n.cards.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>H(c),disabled:a.cost>v,className:`rounded-lg border-2 p-4 text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 ${a.cost>v?"bg-slate-100 border-slate-200 text-slate-400 cursor-not-allowed opacity-60":"bg-white border-blue-300 hover:bg-blue-50 cursor-pointer"}`,type:"button","aria-label":`Play ${a.name}, cost ${a.cost} mana, attack ${a.attack}, defense ${a.defense}${a.cost>v?". Not enough mana":""}`,"aria-disabled":a.cost>v,children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-slate-600 mt-1",children:["Cost: ",a.cost," | Attack: ",a.attack," | Defense: ",a.defense]})]},a.id))})]})}),"finished"===a&&B&&(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:r>0?"Victory!":"Defeat"})}),(0,b.jsx)("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:(0,b.jsx)("p",{className:"text-sm text-blue-900",children:B.summary})})]})]})}a.s(["default",()=>k])}];

//# debugId=a4140134-b228-63a0-7148-d63382ccd51d
//# sourceMappingURL=src_lib_games_games_draft-duel_DraftDuel_tsx_2de311be._.js.map