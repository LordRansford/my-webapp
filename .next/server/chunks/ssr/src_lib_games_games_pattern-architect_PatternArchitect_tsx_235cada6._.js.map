{
  "version": 3,
  "sources": [],
  "debugId": "f7591dcd-6af5-99a4-44ee-ee6f37654e09",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/lib/games/games/pattern-architect/PatternArchitect.tsx","../../../../src/lib/games/games/pattern-architect/patternGenerator.ts","../../../../src/lib/games/games/pattern-architect/patternValidator.ts","../../../../src/lib/games/games/pattern-architect/beautyCalculator.ts","../../../../src/lib/games/games/pattern-architect/persistence.ts"],"sourcesContent":["/**\n * Pattern Architect - Main Game Component\n */\n\n\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport GameShell from \"@/lib/games/framework/GameShell\";\nimport type { GameConfig, GameStatus } from \"@/lib/games/framework/types\";\nimport type { PatternChallenge, Pattern, PatternElementType } from \"./types\";\nimport { generateChallenge } from \"./patternGenerator\";\nimport { validatePattern } from \"./patternValidator\";\nimport { calculateBeautyScore } from \"./beautyCalculator\";\nimport { loadProgress, saveProgress, savePattern } from \"./persistence\";\nimport {\n  getOrGenerateTodayChallenge,\n  completeTodayChallenge,\n} from \"@/lib/games/shared/dailyChallenges\";\nimport {\n  generateTodayChallengeCode,\n  storeChallengeCode,\n} from \"@/lib/games/shared/challengeCodes\";\nimport {\n  updateStreakForGame,\n  getStreakDataForGame,\n} from \"@/lib/games/shared/streakTracking\";\nimport {\n  checkAndUnlockAchievements,\n} from \"@/lib/games/shared/achievements\";\nimport {\n  submitScore,\n  getScoreComparison,\n} from \"@/lib/games/shared/scoreComparison\";\nimport {\n  ChallengeCodeShare,\n  ScoreComparisonDisplay,\n  AchievementDisplay,\n  LeaderboardView,\n} from \"@/lib/games/shared/components\";\nimport type { ChallengeCode } from \"@/lib/games/shared/challengeCodes/types\";\n\nconst GAME_CONFIG: GameConfig = {\n  id: \"pattern-architect\",\n  title: \"Pattern Architect\",\n  description: \"Create beautiful symmetric patterns\",\n  category: \"puzzle\",\n  modes: [\"solo\", \"daily\"],\n  supportsMultiplayer: false,\n  minPlayers: 1,\n  maxPlayers: 1,\n  estimatedMinutes: 10,\n  tutorialAvailable: true,\n};\n\nconst GAME_ID = \"pattern-architect\";\n\nexport default function PatternArchitect() {\n  const [status, setStatus] = useState<GameStatus>(\"idle\");\n  const [challenge, setChallenge] = useState<PatternChallenge | null>(null);\n  const [pattern, setPattern] = useState<Pattern | null>(null);\n  const [finalScore, setFinalScore] = useState<number | null>(null);\n  const [startTime, setStartTime] = useState<number | null>(null);\n  const [challengeCodeData, setChallengeCodeData] = useState<ChallengeCode | null>(null);\n  const [scoreComparison, setScoreComparison] = useState<any>(null);\n  const [playerScoreData, setPlayerScoreData] = useState<any>(null);\n  const [achievementIds, setAchievementIds] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (status === \"idle\" && !challenge) {\n      initializeChallenge();\n    }\n  }, [status, challenge]);\n\n  const initializeChallenge = useCallback(() => {\n    try {\n      const dailyChallenge = getOrGenerateTodayChallenge(GAME_ID);\n      const generated = generateChallenge({\n        seed: dailyChallenge.seed,\n        difficulty: \"designer\",\n      });\n      setChallenge(generated);\n      \n      // Initialize empty pattern grid\n      const grid: PatternElementType[][] = [];\n      for (let i = 0; i < generated.gridSize; i++) {\n        grid[i] = [];\n        for (let j = 0; j < generated.gridSize; j++) {\n          grid[i][j] = 'dot';\n        }\n      }\n      \n      setPattern({\n        grid,\n        elements: [],\n      });\n      setFinalScore(null);\n    } catch (error) {\n      console.error(\"Error initializing challenge:\", error);\n    }\n  }, []);\n\n  const handleCellClick = useCallback((row: number, col: number) => {\n    if (status !== \"playing\" || !pattern || !challenge) return;\n    \n    setPattern(prev => {\n      if (!prev) return prev;\n      \n      const newGrid = prev.grid.map(r => [...r]);\n      const newElements = [...prev.elements];\n      \n      // Toggle cell\n      const currentType = newGrid[row][col];\n      if (currentType === 'dot') {\n        newGrid[row][col] = 'shape';\n        newElements.push({ row, col, type: 'shape' });\n      } else {\n        newGrid[row][col] = 'dot';\n        const index = newElements.findIndex(e => e.row === row && e.col === col);\n        if (index >= 0) {\n          newElements.splice(index, 1);\n        }\n      }\n      \n      return {\n        grid: newGrid,\n        elements: newElements,\n      };\n    });\n  }, [status, pattern, challenge]);\n\n  const handleSubmit = useCallback(() => {\n    if (!challenge || !pattern || !startTime) return;\n\n    const beautyScore = calculateBeautyScore(pattern, challenge);\n    setFinalScore(beautyScore.total);\n    setStatus(\"finished\");\n\n    const codeData = generateTodayChallengeCode(GAME_ID, challenge.seed);\n    storeChallengeCode(codeData);\n    setChallengeCodeData(codeData);\n\n    const timeUsed = Date.now() - startTime;\n    const scoreData = {\n      score: beautyScore.total,\n      time: timeUsed,\n      scoreValue: beautyScore.total,\n      timestamp: Date.now(),\n    };\n    \n    setPlayerScoreData(scoreData);\n    submitScore(codeData.code, scoreData);\n    const comparison = getScoreComparison(codeData.code, scoreData);\n    setScoreComparison(comparison);\n\n    completeTodayChallenge(GAME_ID, {\n      score: beautyScore.total,\n      time: timeUsed,\n      scoreValue: beautyScore.total,\n    });\n\n    updateStreakForGame(GAME_ID, true);\n\n    const streakData = getStreakDataForGame(GAME_ID);\n    const achievementResult = checkAndUnlockAchievements({\n      gameId: GAME_ID,\n      currentStreak: streakData.currentStreak,\n      gamesCompleted: 1,\n    });\n    setAchievementIds(achievementResult.newlyUnlocked);\n\n    savePattern(challenge.id, pattern);\n    const progress = loadProgress();\n    progress.challengesCompleted += 1;\n    saveProgress(progress);\n  }, [challenge, pattern, startTime]);\n\n  const handleStart = useCallback(() => {\n    if (!challenge) {\n      initializeChallenge();\n      return;\n    }\n    setStatus(\"playing\");\n    setFinalScore(null);\n    setStartTime(Date.now());\n  }, [challenge, initializeChallenge]);\n\n  const handleReset = useCallback(() => {\n    setStatus(\"idle\");\n    setFinalScore(null);\n    setStartTime(null);\n    setChallenge(null);\n    setPattern(null);\n    setChallengeCodeData(null);\n    setScoreComparison(null);\n    setAchievementIds([]);\n    setPlayerScoreData(null);\n  }, []);\n\n  const validation = pattern && challenge\n    ? validatePattern(pattern, challenge)\n    : null;\n\n  const rightPanel = challenge ? (\n    <div className=\"space-y-4\">\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Rules</h3>\n        <div className=\"space-y-2\">\n          {challenge.rules.map(rule => (\n            <div key={rule.id} className=\"text-sm text-slate-600\">\n              {rule.description}\n            </div>\n          ))}\n        </div>\n      </div>\n      <div>\n        <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Required Symmetry</h3>\n        <div className=\"text-sm text-slate-600\">\n          {challenge.requiredSymmetry.join(\", \")}\n        </div>\n      </div>\n      {pattern && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Elements</h3>\n          <div className=\"text-lg font-bold\">\n            {pattern.elements.length} placed\n          </div>\n        </div>\n      )}\n      {validation && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Status</h3>\n          <div className={`text-sm font-medium ${\n            validation.valid ? \"text-green-600\" : \"text-red-600\"\n          }`}>\n            {validation.valid ? \"✓ Valid\" : `✗ ${validation.violations.length} issues`}\n          </div>\n        </div>\n      )}\n      {finalScore !== null && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-slate-900 mb-2\">Beauty Score</h3>\n          <div className=\"text-2xl font-bold text-green-600\">\n            {finalScore.toFixed(1)}\n          </div>\n        </div>\n      )}\n    </div>\n  ) : null;\n\n  return (\n    <GameShell\n      config={GAME_CONFIG}\n      status={status}\n      onStart={handleStart}\n      onReset={handleReset}\n      rightPanel={rightPanel}\n    >\n      <div className=\"p-4\">\n        {!challenge || !pattern ? (\n          <div className=\"text-center text-slate-600\">Loading challenge...</div>\n        ) : status === \"idle\" ? (\n          <div className=\"max-w-2xl mx-auto space-y-4\">\n            <h2 className=\"text-2xl font-bold text-slate-900\">{challenge.name}</h2>\n            <p className=\"text-slate-600\">{challenge.description}</p>\n            <button\n              onClick={handleStart}\n              className=\"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\"\n            >\n              Start Challenge\n            </button>\n          </div>\n        ) : status === \"playing\" || status === \"finished\" ? (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* Pattern Grid */}\n            <div>\n              <h3 className=\"text-lg font-semibold text-slate-900 mb-3\">Pattern Grid</h3>\n              <div className=\"inline-grid gap-1 p-4 bg-slate-100 rounded-lg\">\n                {pattern.grid.map((row, rowIdx) => (\n                  <div key={rowIdx} className=\"flex gap-1\">\n                    {row.map((cell, colIdx) => (\n                      <button\n                        key={`${rowIdx}-${colIdx}`}\n                        onClick={() => handleCellClick(rowIdx, colIdx)}\n                        disabled={status === \"finished\"}\n                        className={`w-10 h-10 rounded border-2 transition-colors ${\n                          cell === 'shape'\n                            ? \"bg-purple-600 border-purple-700\"\n                            : \"bg-white border-slate-300 hover:border-purple-400\"\n                        }`}\n                        aria-label={`Cell ${rowIdx},${colIdx}`}\n                      />\n                    ))}\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            {status === \"playing\" && (\n              <button\n                onClick={handleSubmit}\n                className=\"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700\"\n              >\n                Submit Pattern\n              </button>\n            )}\n\n            {/* Results */}\n            {status === \"finished\" && finalScore !== null && (\n              <div className=\"text-center space-y-4\">\n                <div className=\"text-3xl font-bold text-purple-600\">\n                  Beauty Score: {finalScore.toFixed(1)}\n                </div>\n                <button\n                  onClick={handleReset}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\"\n                >\n                  New Challenge\n                </button>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </GameShell>\n  );\n}","/**\n * Pattern Generator\n */\n\nimport { SeededRNG } from \"@/lib/games/framework/SeededRNG\";\nimport type { PatternChallenge, PatternRule, SymmetryType } from \"./types\";\n\nexport function generateChallenge(params: {\n  seed: number;\n  difficulty: PatternChallenge['difficulty'];\n}): PatternChallenge {\n  const rng = new SeededRNG(params.seed);\n  const config = getDifficultyConfig(params.difficulty);\n  \n  const rules = generateRules(config, rng);\n  const requiredSymmetry = generateSymmetryRequirements(config, rng);\n  \n  return {\n    id: `pattern-${params.seed}`,\n    seed: params.seed,\n    name: `Pattern Challenge ${params.seed}`,\n    description: `Create a ${config.gridSize}x${config.gridSize} pattern following the rules with ${requiredSymmetry.length} symmetry type(s).`,\n    gridSize: config.gridSize,\n    rules,\n    requiredSymmetry,\n    difficulty: params.difficulty,\n    tier: getTierForDifficulty(params.difficulty),\n  };\n}\n\ninterface DifficultyConfig {\n  gridSize: number;\n  ruleCount: number;\n  symmetryCount: number;\n}\n\nfunction getDifficultyConfig(difficulty: PatternChallenge['difficulty']): DifficultyConfig {\n  switch (difficulty) {\n    case 'novice':\n      return { gridSize: 4, ruleCount: 2, symmetryCount: 1 };\n    case 'designer':\n      return { gridSize: 5, ruleCount: 3, symmetryCount: 1 };\n    case 'architect':\n      return { gridSize: 6, ruleCount: 4, symmetryCount: 2 };\n    case 'master-architect':\n      return { gridSize: 7, ruleCount: 5, symmetryCount: 2 };\n    case 'pattern-master':\n      return { gridSize: 8, ruleCount: 6, symmetryCount: 3 };\n  }\n}\n\nfunction generateRules(config: DifficultyConfig, rng: SeededRNG): PatternRule[] {\n  const rules: PatternRule[] = [];\n  const symmetryTypes: SymmetryType[] = ['horizontal', 'vertical', 'rotational'];\n  \n  for (let i = 0; i < config.ruleCount; i++) {\n    if (i === 0) {\n      // First rule is always symmetry\n      rules.push({\n        id: `rule-${i}`,\n        type: 'symmetry',\n        description: `Must have ${symmetryTypes[i % symmetryTypes.length]} symmetry`,\n        symmetryType: symmetryTypes[i % symmetryTypes.length],\n      });\n    } else {\n      rules.push({\n        id: `rule-${i}`,\n        type: 'count',\n        description: `Must have at least ${3 + i} elements`,\n        requiredCount: 3 + i,\n      });\n    }\n  }\n  \n  return rules;\n}\n\nfunction generateSymmetryRequirements(\n  config: DifficultyConfig,\n  rng: SeededRNG\n): SymmetryType[] {\n  const types: SymmetryType[] = ['horizontal', 'vertical', 'rotational'];\n  return rng.sample(types, Math.min(config.symmetryCount, types.length));\n}\n\nfunction getTierForDifficulty(difficulty: PatternChallenge['difficulty']): number {\n  switch (difficulty) {\n    case 'novice': return 0;\n    case 'designer': return 100;\n    case 'architect': return 300;\n    case 'master-architect': return 600;\n    case 'pattern-master': return 1000;\n  }\n}","/**\n * Pattern Validator\n */\n\nimport type { PatternChallenge, Pattern, PatternValidation, SymmetryType } from \"./types\";\n\nexport function validatePattern(\n  pattern: Pattern,\n  challenge: PatternChallenge\n): PatternValidation {\n  const violations: string[] = [];\n  let symmetryScore = 0;\n  \n  // Check symmetry\n  const symmetryTypes: SymmetryType[] = ['horizontal', 'vertical', 'rotational'];\n  for (const requiredSym of challenge.requiredSymmetry) {\n    if (checkSymmetry(pattern, requiredSym)) {\n      symmetryScore += 1;\n    } else {\n      violations.push(`Missing ${requiredSym} symmetry`);\n    }\n  }\n  \n  // Check rules\n  for (const rule of challenge.rules) {\n    if (rule.type === 'count' && rule.requiredCount) {\n      if (pattern.elements.length < rule.requiredCount) {\n        violations.push(rule.description);\n      }\n    }\n  }\n  \n  return {\n    valid: violations.length === 0,\n    violations,\n    symmetryScore: symmetryScore / challenge.requiredSymmetry.length,\n  };\n}\n\nfunction checkSymmetry(pattern: Pattern, type: SymmetryType): boolean {\n  const grid = pattern.grid;\n  const size = grid.length;\n  \n  switch (type) {\n    case 'horizontal':\n      for (let row = 0; row < Math.floor(size / 2); row++) {\n        for (let col = 0; col < size; col++) {\n          if (grid[row][col] !== grid[size - 1 - row][col]) {\n            return false;\n          }\n        }\n      }\n      return true;\n      \n    case 'vertical':\n      for (let row = 0; row < size; row++) {\n        for (let col = 0; col < Math.floor(size / 2); col++) {\n          if (grid[row][col] !== grid[row][size - 1 - col]) {\n            return false;\n          }\n        }\n      }\n      return true;\n      \n    case 'rotational':\n      for (let row = 0; row < size; row++) {\n        for (let col = 0; col < size; col++) {\n          if (grid[row][col] !== grid[size - 1 - row][size - 1 - col]) {\n            return false;\n          }\n        }\n      }\n      return true;\n      \n    default:\n      return false;\n  }\n}","/**\n * Beauty Calculator\n */\n\nimport type { Pattern, PatternChallenge, BeautyScore } from \"./types\";\nimport { validatePattern } from \"./patternValidator\";\n\nexport function calculateBeautyScore(\n  pattern: Pattern,\n  challenge: PatternChallenge\n): BeautyScore {\n  const validation = validatePattern(pattern, challenge);\n  \n  // Symmetry score (0-1)\n  const symmetry = validation.symmetryScore;\n  \n  // Balance score (how evenly distributed)\n  const balance = calculateBalance(pattern);\n  \n  // Complexity score (moderate complexity is beautiful)\n  const complexity = calculateComplexity(pattern, challenge);\n  \n  // Total beauty score (0-100)\n  const total = (symmetry * 0.4 + balance * 0.3 + complexity * 0.3) * 100;\n  \n  return {\n    symmetry: symmetry * 100,\n    balance: balance * 100,\n    complexity: complexity * 100,\n    total: Math.round(total * 100) / 100,\n  };\n}\n\nfunction calculateBalance(pattern: Pattern): number {\n  if (pattern.elements.length === 0) return 0;\n  \n  const grid = pattern.grid;\n  const size = grid.length;\n  const centerRow = size / 2;\n  const centerCol = size / 2;\n  \n  // Calculate distance from center for all elements\n  let totalDistance = 0;\n  for (const element of pattern.elements) {\n    const rowDist = Math.abs(element.row - centerRow);\n    const colDist = Math.abs(element.col - centerCol);\n    totalDistance += Math.sqrt(rowDist * rowDist + colDist * colDist);\n  }\n  \n  const avgDistance = totalDistance / pattern.elements.length;\n  const maxDistance = Math.sqrt(centerRow * centerRow + centerCol * centerCol);\n  \n  // Balanced if elements are moderately distributed (not all center, not all edges)\n  const normalized = avgDistance / maxDistance;\n  return Math.max(0, Math.min(1, 1 - Math.abs(normalized - 0.5) * 2));\n}\n\nfunction calculateComplexity(pattern: Pattern, challenge: PatternChallenge): number {\n  const elementCount = pattern.elements.length;\n  const maxElements = challenge.gridSize * challenge.gridSize;\n  \n  // Optimal complexity is around 30-50% of grid\n  const optimalMin = maxElements * 0.3;\n  const optimalMax = maxElements * 0.5;\n  \n  if (elementCount < optimalMin) {\n    return elementCount / optimalMin;\n  } else if (elementCount > optimalMax) {\n    return 1 - (elementCount - optimalMax) / (maxElements - optimalMax);\n  } else {\n    return 1;\n  }\n}","/**\n * Pattern Architect Persistence\n */\n\nimport type { PlayerProgress, Pattern } from \"./types\";\n\nconst STORAGE_KEY = 'pattern-architect-profile';\n\nexport function loadProgress(): PlayerProgress {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored) as PlayerProgress;\n    }\n  } catch (error) {\n    console.error('Error loading progress:', error);\n  }\n  \n  return {\n    xp: 0,\n    tier: 'novice',\n    challengesCompleted: 0,\n    personalBests: {},\n    achievements: [],\n  };\n}\n\nexport function saveProgress(progress: PlayerProgress): void {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));\n  } catch (error) {\n    console.error('Error saving progress:', error);\n  }\n}\n\nexport function savePattern(challengeId: string, pattern: Pattern): void {\n  try {\n    const key = `pattern-architect-pattern-${challengeId}`;\n    localStorage.setItem(key, JSON.stringify(pattern));\n  } catch (error) {\n    console.error('Error saving pattern:', error);\n  }\n}\n\nexport function loadPattern(challengeId: string): Pattern | null {\n  try {\n    const key = `pattern-architect-pattern-${challengeId}`;\n    const stored = localStorage.getItem(key);\n    if (stored) {\n      return JSON.parse(stored) as Pattern;\n    }\n  } catch (error) {\n    console.error('Error loading pattern:', error);\n  }\n  return null;\n}"],"names":[],"mappings":"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"}}]
}