;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ba85a92c-a832-89f3-ef20-f996779e573e")}catch(e){}}();
module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},569264,a=>{a.n(a.i(354832))},881967,a=>{a.n(a.i(429735))},900827,a=>{a.n(a.i(995845))},918554,a=>{a.n(a.i(316801))},517537,a=>{a.n(a.i(903363))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},444067,a=>{a.n(a.i(436102))},19026,a=>{"use strict";var b=a.i(907997),c=a.i(905246),d=a.i(737947);let e=process.env.TEMPLATE_STORE_PATH||"data/templates-store.json",f={permissionTokens:[],downloads:[],donations:[]},g=process.env.ADMIN_DASHBOARD_TOKEN;async function h(){return!!g&&(await (0,c.cookies)()).get?.("admin_token")?.value===g}async function i(){if(!g)return(0,b.jsxs)("main",{className:"mx-auto max-w-4xl p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Admin not configured"}),(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"Set ADMIN_DASHBOARD_TOKEN and admin_token cookie to view this page."})]});if(!await h())return(0,b.jsxs)("main",{className:"mx-auto max-w-4xl p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Access denied"}),(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"Provide the admin_token cookie that matches ADMIN_DASHBOARD_TOKEN."})]});let a=function(a={},b=200){return[...(0,d.readJsonFile)(e,f).downloads].filter(b=>!a.templateId||b.templateId===a.templateId).filter(b=>!a.requestedUse||b.requestedUse===a.requestedUse).sort((a,b)=>(b.issuedAt||"").localeCompare(a.issuedAt||"")).slice(0,b)}({},200);return(0,b.jsxs)("main",{className:"mx-auto max-w-5xl p-6 space-y-4",children:[(0,b.jsxs)("header",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-600",children:"Admin"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Template downloads"}),(0,b.jsx)("p",{className:"text-sm text-slate-700",children:"Latest download attempts for templates."})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-2xl border border-slate-200 bg-white shadow-sm",children:(0,b.jsxs)("table",{className:"min-w-full text-sm text-left text-slate-800",children:[(0,b.jsx)("thead",{className:"bg-slate-50 text-sm font-semibold uppercase tracking-wide text-slate-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-2",children:"When"}),(0,b.jsx)("th",{className:"px-4 py-2",children:"Template"}),(0,b.jsx)("th",{className:"px-4 py-2",children:"Use"}),(0,b.jsx)("th",{className:"px-4 py-2",children:"Support"}),(0,b.jsx)("th",{className:"px-4 py-2",children:"Signature"}),(0,b.jsx)("th",{className:"px-4 py-2",children:"User"})]})}),(0,b.jsxs)("tbody",{children:[a.map(a=>(0,b.jsxs)("tr",{className:"border-t border-slate-100",children:[(0,b.jsx)("td",{className:"px-4 py-2 text-slate-700",children:new Date(a.issuedAt).toLocaleString()}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.templateId}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.requestedUse}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.supportMethod}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.signaturePolicyApplied}),(0,b.jsx)("td",{className:"px-4 py-2 text-sm text-slate-600",children:a.userId||a.anonymousUserId||"anon"})]},a.downloadId)),!a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-600",colSpan:6,children:"No downloads recorded yet."})})]})]})})]})}a.s(["default",()=>i,"dynamic",0,"force-dynamic"],19026)}];

//# debugId=ba85a92c-a832-89f3-ef20-f996779e573e
//# sourceMappingURL=%5Broot-of-the-server%5D__4fdd3210._.js.map