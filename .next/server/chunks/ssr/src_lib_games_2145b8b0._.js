;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f9d9ea12-93db-5af6-2c44-3cd36dde3baf")}catch(e){}}();
module.exports=[726402,161366,a=>{"use strict";class b{handlers=new Map;isEnabled=!0;touchStartPos=null;SWIPE_THRESHOLD=50;keyboardHandler=null;touchStartHandler=null;touchEndHandler=null;constructor(){}on(a,b){return this.handlers.has(a)||this.handlers.set(a,[]),this.handlers.get(a).push(b),()=>{let c=this.handlers.get(a);if(c){let a=c.indexOf(b);a>-1&&c.splice(a,1)}}}setEnabled(a){this.isEnabled=a}setupKeyboardListeners(){return()=>{}}setupTouchListeners(){return()=>{}}mapKeyToAction(a,b){return({ArrowUp:"move-up",ArrowDown:"move-down",ArrowLeft:"move-left",ArrowRight:"move-right"," ":"action",Enter:"confirm",Escape:"pause",p:"pause",P:"pause",q:"quit",Q:"quit"})[a]||null}detectSwipe(a,b){return Math.abs(a)>Math.abs(b)?a>0?"swipe-right":"swipe-left":b>0?"swipe-down":"swipe-up"}getModifiers(a){return{shift:a.shiftKey,ctrl:a.ctrlKey,alt:a.altKey,meta:a.metaKey}}emit(a,b){let c=this.handlers.get(a);c&&c.forEach(a=>a(b))}setupAllListeners(){let a=this.setupKeyboardListeners(),b=this.setupTouchListeners();return()=>{a(),b()}}destroy(){this.keyboardHandler&&(window.removeEventListener("keydown",this.keyboardHandler),this.keyboardHandler=null),this.touchStartHandler&&(window.removeEventListener("touchstart",this.touchStartHandler),this.touchStartHandler=null),this.touchEndHandler&&(window.removeEventListener("touchend",this.touchEndHandler),this.touchEndHandler=null),this.handlers.clear()}}a.s(["InputLayer",()=>b],726402);var c=a.i(572131);function d(){let[a,b]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{},[]),a}a.s(["useReducedMotion",()=>d],161366)},37964,a=>{"use strict";var b=a.i(218282),c=a.i(572131),d=a.i(469124),e=a.i(233367),f=a.i(230133),g=a.i(621272),h=a.i(726402),i=a.i(337525),j=a.i(161366);let k={id:"grid-racer",title:"Grid Racer Time Trial",description:"Time trial racing with customizable loadouts. Navigate through obstacles and beat your best time.",category:"arcade",modes:["solo"],supportsMultiplayer:!1,minPlayers:1,maxPlayers:1,estimatedMinutes:10,tutorialAvailable:!0};function l(){let[a,l]=(0,c.useState)("idle"),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)({x:400,y:500,speed:3,direction:"none"}),[u,v]=(0,c.useState)([]),w=(0,c.useMemo)(()=>Math.floor(1e6*Math.random()),[]),x=(0,c.useMemo)(()=>new e.StateManager({status:"idle"},w),[w]),y=(0,c.useMemo)(()=>new f.DifficultyEngine({initial:.2,target:.9,rampTime:6e4,adaptive:!0}),[]),z=(0,c.useMemo)(()=>new g.ExplainabilityEngine,[]),A=(0,c.useMemo)(()=>new h.InputLayer,[]),B=(0,j.useReducedMotion)();(0,i.useGameAnalytics)(k.id,a,x.getState());let C=(0,c.useCallback)(a=>{let b=Math.floor(5+10*a),c=[],d=()=>x.random();for(let a=0;a<b;a++)c.push({x:700*d()+50,y:-(2e3*d()),width:40+60*d(),height:40+60*d(),type:d()>.7?"moving":"static"});return c},[x]),D=function({width:a,height:b,pixelRatio:d=1,onRender:e,enabled:f=!0}){let g=(0,c.useRef)(null),h=(0,c.useRef)(void 0),i=(0,c.useRef)(0),j=(0,c.useCallback)(c=>{if(!g.current||!f)return;let k=g.current.getContext("2d");if(!k)return;let l=c-i.current;i.current=c,k.clearRect(0,0,a*d,b*d),k.save(),k.scale(d,d),e(k,l),k.restore(),h.current=requestAnimationFrame(j)},[a,b,d,e,f]);return(0,c.useEffect)(()=>{if(!g.current)return;let c=g.current;return c.width=a*d,c.height=b*d,c.style.width=`${a}px`,c.style.height=`${b}px`,f&&(i.current=performance.now(),h.current=requestAnimationFrame(j)),()=>{h.current&&cancelAnimationFrame(h.current)}},[a,b,d,f,j]),g}({width:800,height:600,onRender:(0,c.useCallback)((b,c)=>{if("playing"!==a)return;b.fillStyle="#f8fafc",b.fillRect(0,0,800,600),b.strokeStyle="#e2e8f0",b.lineWidth=1;for(let a=0;a<800;a+=40)b.beginPath(),b.moveTo(a,0),b.lineTo(a,600),b.stroke();for(let a=0;a<600;a+=40)b.beginPath(),b.moveTo(0,a),b.lineTo(800,a),b.stroke();b.fillStyle="#3b82f6",b.beginPath(),b.arc(s.x,s.y,15,0,2*Math.PI),b.fill(),u.forEach(a=>{b.fillStyle="moving"===a.type?"#ef4444":"#64748b",b.fillRect(a.x,a.y,a.width,a.height)});let d=y.getCurrentDifficulty();v(a=>{let b=a.map(a=>({...a,y:a.y+(2+5*d),x:"moving"===a.type?a.x+2*Math.sin(.01*a.y):a.x})).filter(a=>a.y<650);return b.length<10?[...b,...C(d)]:b}),u.forEach(a=>{s.x+15>a.x&&s.x-15<a.x+a.width&&s.y+15>a.y&&s.y-15<a.y+a.height&&(x.recordMove("collision",{obstacleId:a.x}),y.recordPerformance(0),n(a=>Math.max(0,a-10)))}),n(a=>a+1)},[a,s,u,x,y,C,B]),enabled:"playing"===a});(0,c.useEffect)(()=>{if("playing"!==a)return void A.setEnabled(!1);A.setEnabled(!0);let b=A.setupAllListeners(),c=A.on("move-left",()=>{t(a=>({...a,x:Math.max(15,a.x-a.speed),direction:"left"})),x.recordMove("move",{direction:"left"})}),d=A.on("move-right",()=>{t(a=>({...a,x:Math.min(785,a.x+a.speed),direction:"right"})),x.recordMove("move",{direction:"right"})}),e=A.on("move-up",()=>{t(a=>({...a,y:Math.max(15,a.y-a.speed),direction:"up"})),x.recordMove("move",{direction:"up"})}),f=A.on("move-down",()=>{t(a=>({...a,y:Math.min(585,a.y+a.speed),direction:"down"})),x.recordMove("move",{direction:"down"})}),g=A.on("pause",()=>{l("paused")});return()=>{b(),c(),d(),e(),f(),g(),A.setEnabled(!1)}},[a,A,x]),(0,c.useEffect)(()=>{if("playing"!==a)return;let b=setInterval(()=>{p(a=>a+.1)},100);return()=>clearInterval(b)},[a]);let E=(0,c.useCallback)(()=>{l("playing"),n(0),p(0),t({x:400,y:500,speed:3,direction:"none"}),v(C(.2)),x.updateState({status:"playing",timestamp:Date.now()}),x.recordMove("start",{}),y.reset()},[x,y,C]),F=(0,c.useCallback)(()=>{l("idle"),n(0),p(0),t({x:400,y:500,speed:3,direction:"none"}),v([]),r(null),x.updateState({status:"idle",moves:[],score:0}),y.reset()},[x,y]),G=(0,c.useCallback)(()=>{("playing"===a||"paused"===a)&&(l("finished"),x.updateState({status:"finished",score:m}),r(z.analyzeGame(x.getState(),{id:k.id,type:"arcade"})))},[a,x,m,z]),H=y.getCurrentDifficulty();return(0,b.jsxs)(d.default,{config:k,status:a,onStart:"idle"===a?E:void 0,onReset:F,onQuit:G,rightPanel:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Stats"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:Math.floor(m)}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Score"}),(0,b.jsxs)("div",{className:"mt-2 text-lg font-semibold text-slate-900",children:[o.toFixed(1),"s"]}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Time"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Difficulty"}),(0,b.jsx)("div",{className:"text-sm text-slate-700",children:y.getDifficultyLabel(H)})]}),q&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:q.summary})]})]}),children:[(0,b.jsx)("div",{className:"flex items-center justify-center",role:"application","aria-label":"Grid Racer game canvas",children:(0,b.jsx)("canvas",{ref:D,className:"rounded-lg border-2 border-slate-300 bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",style:{maxWidth:"100%",height:"auto"},"aria-label":"Grid Racer game canvas. Use arrow keys to navigate and avoid obstacles.",tabIndex:0})}),"idle"===a&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-slate-600 mb-4",children:"Use arrow keys or swipe to navigate"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Avoid obstacles and survive as long as possible"})]}),"finished"===a&&q&&(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Game Over"}),(0,b.jsxs)("p",{className:"text-lg text-slate-600",children:["Final Score: ",Math.floor(m)]}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Time: ",o.toFixed(1),"s"]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:(0,b.jsx)("p",{className:"text-sm text-blue-900",children:q.summary})})]})]})}a.s(["default",()=>l],37964)}];

//# debugId=f9d9ea12-93db-5af6-2c44-3cd36dde3baf
//# sourceMappingURL=src_lib_games_2145b8b0._.js.map