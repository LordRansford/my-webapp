{
  "version": 3,
  "sources": [],
  "debugId": "8c6a2e26-b162-94f2-97a8-8b842caa7b34",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/components/notes/hooks/use_tool_state.jsx","../../../../src/components/notes/ToolStateActions.jsx","../../../../src/components/notes/tools/cybersecurity/foundations/SocialEngineeringSimulator.jsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useMemo, useRef, useState } from 'react'\n\nfunction safe_json_parse(value, fallback) {\n  try {\n    return JSON.parse(value)\n  } catch {\n    return fallback\n  }\n}\n\nfunction encode_state(obj) {\n  const json = JSON.stringify(obj)\n  const bytes = new TextEncoder().encode(json)\n  let binary = ''\n  bytes.forEach((b) => {\n    binary += String.fromCharCode(b)\n  })\n  return btoa(binary)\n}\n\nfunction decode_state(b64) {\n  const binary = atob(b64)\n  const bytes = Uint8Array.from(binary, (c) => c.charCodeAt(0))\n  const json = new TextDecoder().decode(bytes)\n  return safe_json_parse(json, null)\n}\n\nexport function useToolState({ tool_id, initial_state }) {\n  const [state, set_state] = useState(initial_state)\n  const [is_ready, set_is_ready] = useState(false)\n  const initial_ref = useRef(initial_state)\n\n  const url_key = useMemo(() => {\n    if (typeof window === 'undefined') return null\n    const params = new URLSearchParams(window.location.search)\n    return params.get(`s_${tool_id}`)\n  }, [tool_id])\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return\n    const from_url = url_key ? decode_state(url_key) : null\n    if (from_url) {\n      set_state(from_url)\n      set_is_ready(true)\n      return\n    }\n    const saved = window.localStorage.getItem(`rn_tool_${tool_id}`)\n    if (saved) {\n      set_state(safe_json_parse(saved, initial_ref.current))\n      set_is_ready(true)\n      return\n    }\n    set_is_ready(true)\n  }, [tool_id, url_key])\n\n  useEffect(() => {\n    if (!is_ready) return\n    if (typeof window === 'undefined') return\n    window.localStorage.setItem(`rn_tool_${tool_id}`, JSON.stringify(state))\n  }, [state, tool_id, is_ready])\n\n  function reset() {\n    set_state(initial_ref.current)\n    if (typeof window !== 'undefined') {\n      window.localStorage.removeItem(`rn_tool_${tool_id}`)\n    }\n  }\n\n  function copy_share_link() {\n    if (typeof window === 'undefined') return\n    const params = new URLSearchParams(window.location.search)\n    params.set(`s_${tool_id}`, encode_state(state))\n    const url = `${window.location.pathname}?${params.toString()}`\n    navigator.clipboard.writeText(`${window.location.origin}${url}`)\n  }\n\n  function export_json() {\n    const blob = new Blob([JSON.stringify(state, null, 2)], { type: 'application_json' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${tool_id}_state.json`\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  async function import_json(file) {\n    const text = await file.text()\n    const parsed = safe_json_parse(text, null)\n    if (parsed) set_state(parsed)\n  }\n\n  return {\n    state,\n    set_state,\n    reset,\n    copy_share_link,\n    export_json,\n    import_json,\n    is_ready,\n  }\n}\n\n// Temporary alias to avoid breaking existing imports while keeping hook naming compliant.\nexport const use_tool_state = useToolState\n","'use client'\n\nexport function ToolStateActions({ onReset, onCopy, onExport, onImport }) {\n  return (\n    <div className=\"mt-3 flex flex-wrap gap-2 text-xs\">\n      {onReset ? (\n        <button\n          onClick={onReset}\n          className=\"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200\"\n        >\n          Reset\n        </button>\n      ) : null}\n      {onCopy ? (\n        <button\n          onClick={onCopy}\n          className=\"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200\"\n        >\n          Copy link\n        </button>\n      ) : null}\n      {onExport ? (\n        <button\n          onClick={onExport}\n          className=\"rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-200\"\n        >\n          Export\n        </button>\n      ) : null}\n      {onImport ? (\n        <label className=\"inline-flex cursor-pointer items-center gap-1 rounded-full border px-3 py-1 text-gray-700 hover:bg-gray-100 focus-within:ring focus-within:ring-blue-200\">\n          <span>Import</span>\n          <input\n            type=\"file\"\n            accept=\"application/json\"\n            onChange={(e) => {\n              const file = e.target.files?.[0]\n              if (file) onImport(file)\n              e.target.value = ''\n            }}\n            className=\"hidden\"\n          />\n        </label>\n      ) : null}\n    </div>\n  )\n}\n\nexport default ToolStateActions\n","\"use client\";\n\nimport { use_tool_state } from \"@/components/notes/hooks/use_tool_state\";\nimport ToolStateActions from \"@/components/notes/ToolStateActions\";\n\nexport default function SocialEngineeringSimulator() {\n  const { state, set_state, reset, copy_share_link, export_json, import_json, is_ready } = use_tool_state({\n    tool_id: \"social-engineering-simulator\",\n    initial_state: { currentScenario: 0, choices: {} },\n  });\n\n  if (!is_ready) return <p className=\"text-sm text-gray-600\">Loading...</p>;\n\n  const scenarios = [\n    {\n      id: 1,\n      type: \"Pretexting\",\n      situation: \"You receive a call from someone claiming to be from IT support. They say they detected suspicious activity on your account and need your password to secure it.\",\n      choices: [\n        { text: \"Give them your password to fix the issue\", safe: false, feedback: \"‚ùå Never give passwords over the phone. IT never needs your password.\" },\n        { text: \"Hang up and call IT using the official number\", safe: true, feedback: \"‚úÖ Correct! Always verify through official channels.\" },\n        { text: \"Ask them to send an email request\", safe: false, feedback: \"‚ö†Ô∏è Better than giving the password, but they could fake an email too. Always verify directly.\" },\n      ]\n    },\n    {\n      id: 2,\n      type: \"Tailgating\",\n      situation: \"You're entering your secure office building. Someone in delivery uniform carrying packages is behind you. They ask you to hold the door as their hands are full.\",\n      choices: [\n        { text: \"Hold the door open for them\", safe: false, feedback: \"‚ùå This is tailgating. Even if polite, they should use their own badge.\" },\n        { text: \"Politely decline and ask them to badge in\", safe: true, feedback: \"‚úÖ Correct! Security over politeness. They should have proper access.\" },\n        { text: \"Let them in but escort them to reception\", safe: false, feedback: \"‚ö†Ô∏è Better than just letting them in, but they still bypassed badge control.\" },\n      ]\n    },\n    {\n      id: 3,\n      type: \"Quid Pro Quo\",\n      situation: \"You get an email offering a free $100 Amazon gift card for completing a quick 5-minute survey about your company's IT infrastructure and security practices.\",\n      choices: [\n        { text: \"Complete the survey to get the gift card\", safe: false, feedback: \"‚ùå This is information gathering. Attackers use free offers to extract valuable data.\" },\n        { text: \"Ignore and delete the email\", safe: true, feedback: \"‚úÖ Correct! Free offers requesting company information are red flags.\" },\n        { text: \"Forward to colleagues so they can get gift cards too\", safe: false, feedback: \"‚ùå Definitely not! This spreads the attack and puts more people at risk.\" },\n      ]\n    },\n  ];\n\n  const currentScenario = scenarios[state.currentScenario] || scenarios[0];\n  const userChoice = state.choices[currentScenario.id];\n\n  function makeChoice(choiceIndex) {\n    const choice = currentScenario.choices[choiceIndex];\n    set_state({\n      ...state,\n      choices: {\n        ...state.choices,\n        [currentScenario.id]: { choiceIndex, ...choice }\n      }\n    });\n  }\n\n  function nextScenario() {\n    if (state.currentScenario < scenarios.length - 1) {\n      set_state({ ...state, currentScenario: state.currentScenario + 1 });\n    }\n  }\n\n  function previousScenario() {\n    if (state.currentScenario > 0) {\n      set_state({ ...state, currentScenario: state.currentScenario - 1 });\n    }\n  }\n\n  const safeChoices = Object.values(state.choices).filter(c => c.safe).length;\n  const totalChoices = Object.keys(state.choices).length;\n\n  return (\n    <div className=\"space-y-4 text-sm\">\n      <div className=\"p-3 bg-slate-100 rounded-lg flex justify-between items-center\">\n        <div>\n          <div className=\"font-semibold\">Scenario {state.currentScenario + 1} of {scenarios.length}</div>\n          <div className=\"text-xs text-slate-600\">Type: {currentScenario.type}</div>\n        </div>\n        {totalChoices > 0 && (\n          <div className=\"text-right\">\n            <div className=\"text-xs text-slate-600\">Safe Choices</div>\n            <div className=\"font-bold text-lg\">{safeChoices}/{totalChoices}</div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"p-4 bg-white rounded-lg border border-slate-200\">\n        <div className=\"font-semibold mb-3\">Situation:</div>\n        <p className=\"text-sm text-slate-700\">{currentScenario.situation}</p>\n      </div>\n\n      {!userChoice ? (\n        <div className=\"space-y-2\">\n          <div className=\"font-semibold\">What do you do?</div>\n          {currentScenario.choices.map((choice, index) => (\n            <button\n              key={index}\n              onClick={() => makeChoice(index)}\n              className=\"w-full p-3 text-left bg-white border border-slate-200 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition\"\n            >\n              {choice.text}\n            </button>\n          ))}\n        </div>\n      ) : (\n        <div className={`p-4 rounded-lg border ${userChoice.safe ? 'bg-green-50 border-green-300' : 'bg-red-50 border-red-300'}`}>\n          <div className={`font-semibold mb-2 ${userChoice.safe ? 'text-green-900' : 'text-red-900'}`}>\n            Your Choice: {userChoice.text}\n          </div>\n          <p className={`text-sm ${userChoice.safe ? 'text-green-800' : 'text-red-800'}`}>\n            {userChoice.feedback}\n          </p>\n        </div>\n      )}\n\n      <div className=\"flex justify-between\">\n        <button\n          onClick={previousScenario}\n          disabled={state.currentScenario === 0}\n          className=\"px-4 py-2 bg-slate-200 rounded-md disabled:opacity-50\"\n        >\n          ‚Üê Previous\n        </button>\n        <button\n          onClick={nextScenario}\n          disabled={state.currentScenario === scenarios.length - 1}\n          className=\"px-4 py-2 bg-slate-200 rounded-md disabled:opacity-50\"\n        >\n          Next ‚Üí\n        </button>\n      </div>\n\n      {safeChoices === scenarios.length && (\n        <div className=\"p-4 bg-green-50 border border-green-300 rounded-lg\">\n          <div className=\"font-semibold text-green-900 mb-1\">üéâ Perfect Score!</div>\n          <p className=\"text-xs text-green-800\">\n            You made safe choices in all scenarios. Remember: verify identity, never bypass security controls, and question requests that seem unusual.\n          </p>\n        </div>\n      )}\n\n      <ToolStateActions\n        onReset={reset}\n        onCopy={copy_share_link}\n        onExport={export_json}\n        onImport={import_json}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}